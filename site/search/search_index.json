{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Firecast SDK 3","text":""},{"location":"#table-of-contents","title":"Table of contents","text":"<ul> <li>Introdu\u00e7\u00e3o</li> <li>Primeiros passos</li> <li>Hist\u00f3rico de Vers\u00f5es</li> <li>Tutoriais</li> <li>Criar um modelo de ficha \u00e0 partir de um PDF</li> <li>Criar campos calculados em fichas</li> <li>Criar abas para a ficha</li> <li>Permitir o usu\u00e1rio escolher uma imagem dentro da ficha</li> <li>Criar uma lista din\u00e2mica na ficha</li> <li>Fazer uma ficha enviar rolagens para a mesa</li> <li>Criar uma lista din\u00e2mica + painel de detalhes</li> <li>Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica</li> <li>Criar uma janela acopl\u00e1vel de mesa</li> <li>Criando um plug-in para v\u00e1rios idiomas</li> <li>Refer\u00eancias</li> <li>Projetos de Plug-in<ul> <li>Criando um novo projeto de plug-in</li> <li>Testando o projeto de plug-in</li> <li>Disponibilizando um plug-in</li> </ul> </li> <li>Arquivos em um projeto de plug-in<ul> <li>O arquivo \"module.xml\"</li> </ul> </li> <li>Ferramentas do SDK 3<ul> <li>Ferramenta rdk</li> <li>comando \"rdk p\"</li> <li>comando \"rdk c\"</li> <li>comando \"rdk i\"</li> <li>comando \"rdk pdf\"</li> <li>comando \"rdk lfm\"</li> </ul> </li> <li>Sandboxes de Plug-ins</li> <li>Modelos de Fichas</li> <li>HD Virtual</li> <li>NodeDatabase</li> <li>Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop</li> <li>Interfaces Visuais (Lua Forms)<ul> <li>Guias</li> <li>Posi\u00e7\u00e3o e Tamanho dos Controles</li> <li>Ponto L\u00f3gico vs Pixel</li> <li>Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</li> <li>Tratando eventos do Lua Form</li> <li>String de cores no Lua Form</li> <li>Lua Form e NodeDatabase</li> <li>Lua Form e Inst\u00e2ncias</li> <li>Estilos em Cascata</li> <li>Dividindo o arquivo Lua Form em documentos menores</li> <li>Tags suportadas pelo Lua Form</li> <li>Caracter\u00edsticas de todas as tags visuais</li> <li>Caracter\u00edsticas de todas as tags de textos</li> <li>Caracter\u00edsticas de tags shapes</li> <li>Tag activityIndicator</li> <li>Tag button</li> <li>Tag colorComboBox</li> <li>Tag comboBox</li> <li>Tag checkBox</li> <li>Tag dataLink</li> <li>Tag dataScopeBox</li> <li>Tag edit</li> <li>Tag event</li> <li>Tag flowLayout</li> <li>Tag flowLineBreak</li> <li>Tag flowPart</li> <li>Tag form</li> <li>Tag group</li> <li>Tag horzLine</li> <li>Tag image</li> <li>Tag imageCheckBox</li> <li>Tag import</li> <li>Tag label</li> <li>Tag layout</li> <li>Tag path</li> <li>Tag popup</li> <li>Tag popupForm</li> <li>Tag progressBar</li> <li>Tag radioButton</li> <li>Tag recordList</li> <li>Tag rectangle</li> <li>Tag richEdit</li> <li>Tag script</li> <li>Tag scrollBox</li> <li>Tag style</li> <li>Tag tab</li> <li>Tag tabControl</li> <li>Tag template</li> <li>Tag textEditor</li> <li>Tag timer</li> <li>Frames</li> <li>Arquivo de Defini\u00e7\u00e3o de Frame</li> <li>Frames e Regi\u00f5es</li> <li>Exemplos de frames<ul> <li>1 - Background que estica para o novo tamanho</li> <li>2 - Background que se repete para preencher o tamanho</li> <li>3 - Frame com 2 partes fixas e 1 parte que se estica</li> <li>4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens</li> <li>5 - Frame com regi\u00f5es</li> </ul> </li> </ul> </li> <li>Bibliotecas LUA<ul> <li>Async.Promise library</li> <li>Promise object</li> <li>Biblioteca Dialogs</li> <li>Biblioteca FireDrive</li> <li>Biblioteca GUI</li> <li>Objeto InertialMovement</li> <li>Objeto Drag</li> <li>Objeto Drop</li> <li>Biblioteca Locale</li> <li>Biblioteca Internet</li> <li>Objeto HTTPRequest</li> <li>Biblioteca NDB</li> <li>Objeto Nodo</li> <li>Objeto NodeObserver</li> <li>Objeto NodeTransaction</li> <li>Objeto NodeUndoData</li> <li>Biblioteca Firecast</li> <li>Objeto Mesa</li> <li>Objeto Jogador</li> <li>Objeto Rolagem</li> <li>Objeto BibliotecaItem</li> <li>Objeto Personagem</li> <li>Objeto SceneUnitClass</li> <li>Objeto Chat</li> <li>Objeto WrappedObject</li> <li>Biblioteca Firecast.Messaging</li> <li>Lista de Mensagens-Eventos do RRPG<ul> <li>Mensagens de Conex\u00e3o</li> <li>Mensagens do Gerenciador de Plugins</li> <li>Mensagens de Chat</li> <li>Mensagens de Estado das Mesas</li> </ul> </li> <li>Biblioteca Firecast.Plugins</li> <li>Biblioteca Firecast.Requests</li> <li>Biblioteca SceneLib</li> <li>Vis\u00e3o geral da SceneLib</li> <li>M\u00e9trica do Mundo vs M\u00e9trica da Tela</li> <li>As camadas do tabuleiro</li> <li>Objeto Scene</li> <li>Objeto SceneBaseObject</li> <li>Objeto SceneCanvas</li> <li>Objeto SceneDrawingOp</li> <li>Objeto SceneDrawingOpBitmap</li> <li>Objeto SceneDawingOpPath</li> <li>Objeto SceneDrawingOpText</li> <li>Objeto SceneEffectArea</li> <li>Objeto SceneFogOfWar</li> <li>Objeto SceneGraphicItem</li> <li>Objeto SceneGraphicItemList</li> <li>Objeto SceneGridLayer</li> <li>Objeto ScenePluginAttachment</li> <li>Objeto SceneUserDrawing</li> <li>Objeto SceneToken</li> <li>Objeto SceneViewport</li> <li>Estrutura SceneRect</li> <li>Biblioteca System</li> <li>Biblioteca Utils</li> <li>Objeto Stream</li> <li>Biblioteca VHD</li> <li>Log library</li> </ul> </li> <li>Macros</li> <li>Biblioteca para Macros em Lua</li> <li>Ap\u00eandice</li> <li>A linguagem de programa\u00e7\u00e3o LUA</li> <li>Documentos XML</li> <li>FAQ -  Perguntas Frequentes</li> </ul>"},{"location":"1Backgroundqueesticaparaonovotam/","title":"1 - Background que estica para o novo tamanho","text":""},{"location":"1Backgroundqueesticaparaonovotam/#frame-background-que-se-estica-conforme-o-novo-tamanho","title":"Frame - Background que se estica conforme o novo tamanho.","text":"<p>Arquivo de imagem: background1.png (tamanho 256x223)</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;frame\u00a0width=\"256\"\u00a0height=\"223\"&gt; \\&lt;draw&gt; \\&lt;!-- Imagem de fundo --&gt; \\&lt;image\u00a0left=\"0\"\u00a0top=\"0\"\u00a0right=\"256\"\u00a0bottom=\"223\"\u00a0overflowX=\"stretch\"\u00a0overflowY=\"stretch\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"true\"\u00a0bottom=\"true\"\u00a0right=\"true\"/&gt; \\&lt;source\u00a0url=\"background1.png\"\u00a0left=\"0\"\u00a0right=\"256\"\u00a0top=\"0\"\u00a0bottom=\"223\"/&gt; \\&lt;/image&gt; \\&lt;/draw&gt; \\&lt;/frame&gt; <p> </p> <p> </p> <p></p> <p>\\ \\ \u00a0</p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework</p>"},{"location":"2Backgroundqueserepeteparapreenc/","title":"2 - Background que se repete para preencher o tamanho","text":""},{"location":"2Backgroundqueserepeteparapreenc/#frame-background-que-se-repete-para-preencher-o-novo-tamanho","title":"Frame - Background que se repete para preencher o novo tamanho.","text":"<p>Arquivo de imagem: background1.png (tamanho 256x223)</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;frame\u00a0width=\"256\"\u00a0height=\"223\"&gt; \\&lt;draw&gt; \\&lt;!-- Imagem de fundo --&gt; \\&lt;image\u00a0left=\"0\"\u00a0top=\"0\"\u00a0right=\"256\"\u00a0bottom=\"223\"\u00a0overflowX=\"tile\"\u00a0overflowY=\"tile\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"true\"\u00a0bottom=\"true\"\u00a0right=\"true\"/&gt; \\&lt;source\u00a0url=\"background1.png\"\u00a0left=\"0\"\u00a0right=\"256\"\u00a0top=\"0\"\u00a0bottom=\"223\"/&gt; \\&lt;/image&gt; \\&lt;/draw&gt; \\&lt;/frame&gt; <p> </p> <p> </p> <p> </p> <p> \\ \u00a0</p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant</p>"},{"location":"3Framecom2partesfixase1parteques/","title":"3 - Frame com 2 partes fixas e 1 parte que se estica","text":""},{"location":"3Framecom2partesfixase1parteques/#frame-background-com-2-partes-fixas-e-uma-parte-que-se-estica","title":"Frame - Background com 2 partes fixas e uma parte que se estica","text":"<p>Dada a seguinte imagem (header0_smaller.png) de tamanho 468x100:</p> <p></p> <p> </p> <p>Criamos um frame que se escala na vertical (autoScaleY = true) e que possui 3 partes:</p> <ul> <li>A parte da esquerda, \u00e2ncora \u00e0 esquerda, desenha uma por\u00e7\u00e3o da imagem (um ret\u00e2ngulo de 84x100)</li> <li>A parte da direita, \u00e2ncora \u00e0 direita, desenha uma outra por\u00e7\u00e3o da imagem (um ret\u00e2ngulo 40x100)</li> <li>A parte central, \u00e2ncora \u00e0 esquerda e \u00e0 direita, desenha uma outra por\u00e7\u00e3o da imagem (um ret\u00e2ngulo 341x100) de forma esticada.</li> </ul> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;frame\u00a0width=\"468\"\u00a0height=\"100\"\u00a0autoScaleY=\"true\"&gt; \\&lt;borders\u00a0left=\"12\"\u00a0top=\"24\"\u00a0bottom=\"24\"\u00a0right=\"20\"\u00a0/&gt; \\&lt;draw&gt; \\&lt;!-- Parte Esquerda (FIXA) --&gt; \\&lt;image\u00a0left=\"0\"\u00a0top=\"0\"\u00a0right=\"84\"\u00a0bottom=\"100\"zOrder=\"0\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"true\"\u00a0bottom=\"true\"/&gt; \\&lt;source\u00a0url=\"header0_smaller.png\"\u00a0left=\"0\"\u00a0right=\"84\"\u00a0top=\"0\"\u00a0bottom=\"100\"/&gt; \\&lt;/image&gt; \\&lt;!-- Parte Direita (FIXA) --&gt; \\&lt;image\u00a0left=\"425\"\u00a0top=\"0\"\u00a0right=\"468\"\u00a0bottom=\"100\"\u00a0zOrder=\"0\"&gt; \\&lt;anchors\u00a0left=\"false\"\u00a0top=\"true\"\u00a0bottom=\"true\"\u00a0right=\"true\"/&gt; \\&lt;source\u00a0url=\"header0_smaller.png\"\u00a0left=\"425\"\u00a0right=\"468\"\u00a0top=\"0\"\u00a0bottom=\"100\"/&gt; \\&lt;/image&gt; \\&lt;!-- Parte Central (ESTICA) --&gt; \\&lt;image\u00a0left=\"84\"\u00a0top=\"0\"\u00a0right=\"425\"\u00a0bottom=\"100\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 overflowX=\"stretch\"\u00a0overflowY=\"stretch\"\u00a0zOrder=\"-1\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"true\"\u00a0bottom=\"true\"\u00a0right=\"true\"/&gt; \\&lt;source\u00a0url=\"header0_smaller.png\"\u00a0left=\"84\"\u00a0right=\"425\"\u00a0top=\"0\"\u00a0bottom=\"100\"/&gt; \\&lt;/image&gt; \\&lt;/draw&gt; \\&lt;/frame&gt; <p> </p> <p>\\ \u00a0</p> <p> \\ \u00a0</p> <p></p> <p>Created with the Personal Edition of HelpNDoc: Transform Your CHM Help File Creation Process with HelpNDoc</p>"},{"location":"4Frameretangulardinamicousandova/","title":"4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens","text":""},{"location":"4Frameretangulardinamicousandova/#frame-retangular-dinamico-usando-varios-arquivos-de-imagens","title":"Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens","text":"<p>Deseja-se formar um frame com a seguinte apar\u00eancia:</p> <p></p> <p> </p> <p>Para isso, dividimos a figura em 8 partes</p> <p> </p> leftLine.png (12x66) rightLine.png (12x66) lowerDir.png (29x32) lowerEsq.png (29x32) upperDir.png (29x32) upperEsq.png (29x32) lowerLine.png (80x5) upperLine.png (80x5) <p> </p> <p>e usamos o seguinte arquivo de defini\u00e7\u00e3o de frame:</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;frame\u00a0width=\"138\"\u00a0height=\"130\"&gt; \\&lt;borders\u00a0left=\"12\"\u00a0top=\"10\"\u00a0bottom=\"10\"\u00a0right=\"12\"/&gt; \\&lt;draw&gt; \\&lt;!-- QUINAS --&gt; \\&lt;!-- quina superior esquerda --&gt; \\&lt;image\u00a0left=\"0\"\u00a0top=\"0\"\u00a0right=\"29\"\u00a0bottom=\"32\"\u00a0overflowX=\"stretch\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"true\"/&gt; \\&lt;source\u00a0url=\"upperEsq.png\"\u00a0left=\"0\"\u00a0right=\"29\"\u00a0top=\"0\"\u00a0bottom=\"32\"/&gt; \\&lt;/image&gt; \\&lt;!-- quina superior direita --&gt; \\&lt;image\u00a0left=\"109\"\u00a0top=\"0\"\u00a0right=\"138\"\u00a0bottom=\"32\"\u00a0overflowX=\"stretch\"\u00a0overflowY=\"stretch\"&gt; \\&lt;anchors\u00a0left=\"false\"\u00a0right=\"true\"\u00a0top=\"true\"/&gt; \\&lt;source\u00a0url=\"upperDir.png\"\u00a0left=\"0\"\u00a0right=\"29\"\u00a0top=\"0\"\u00a0bottom=\"32\"/&gt; \\&lt;/image&gt; \\&lt;!-- quina inferior esquerda --&gt; \\&lt;image\u00a0left=\"0\"\u00a0top=\"98\"\u00a0right=\"29\"\u00a0bottom=\"130\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"false\"\u00a0bottom=\"true\"/&gt; \\&lt;source\u00a0url=\"lowerEsq.png\"\u00a0left=\"0\"\u00a0right=\"29\"\u00a0top=\"0\"\u00a0bottom=\"32\"/&gt; \\&lt;/image&gt; \\&lt;!-- quina inferior direita --&gt; \\&lt;image\u00a0left=\"109\"\u00a0top=\"98\"\u00a0right=\"138\"\u00a0bottom=\"130\"&gt; \\&lt;anchors\u00a0left=\"false\"\u00a0right=\"true\"\u00a0top=\"false\"\u00a0bottom=\"true\"/&gt; \\&lt;source\u00a0url=\"lowerDir.png\"\u00a0left=\"0\"\u00a0right=\"29\"\u00a0top=\"0\"\u00a0bottom=\"32\"/&gt; \\&lt;/image&gt; \\&lt;!-- LINHAS --&gt; \\&lt;!-- linha horizontal superior --&gt; \\&lt;image\u00a0left=\"29\"\u00a0top=\"0\"\u00a0right=\"109\"\u00a0bottom=\"5\"\u00a0zOrder=\"-1\"\u00a0overflowX=\"stretch\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0right=\"true\"\u00a0top=\"true\"/&gt; \\&lt;source\u00a0url=\"upperLine.png\"\u00a0left=\"0\"\u00a0right=\"80\"\u00a0top=\"0\"\u00a0bottom=\"5\"/&gt; \\&lt;/image&gt; \\&lt;!-- linha horizontal inferior --&gt; \\&lt;image\u00a0left=\"29\"\u00a0top=\"125\"\u00a0right=\"109\"\u00a0bottom=\"130\"\u00a0zOrder=\"-1\"\u00a0overflowX=\"stretch\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0right=\"true\"\u00a0top=\"false\"\u00a0bottom=\"true\"/&gt; \\&lt;source\u00a0url=\"lowerLine.png\"\u00a0left=\"0\"\u00a0right=\"80\"\u00a0top=\"0\"\u00a0bottom=\"5\"/&gt; \\&lt;/image&gt; \\&lt;!-- linha vertical esquerda --&gt; \\&lt;image\u00a0left=\"0\"\u00a0top=\"32\"\u00a0right=\"12\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 bottom=\"98\"\u00a0zOrder=\"-1\"\u00a0overflowY=\"stretch\"\u00a0overflowX=\"stretch\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0right=\"false\"\u00a0bottom=\"true\"\u00a0top=\"true\"/&gt; \\&lt;source\u00a0url=\"leftLine.png\"\u00a0left=\"0\"\u00a0right=\"12\"\u00a0top=\"0\"\u00a0bottom=\"66\"/&gt; \\&lt;/image&gt; \\&lt;!-- linha vertical direita --&gt; \\&lt;image\u00a0left=\"126\"\u00a0top=\"32\"\u00a0right=\"138\"\u00a0bottom=\"98\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 zOrder=\"-1\"\u00a0overflowY=\"stretch\"\u00a0overflowX=\"stretch\"&gt; \\&lt;anchors\u00a0left=\"false\"\u00a0right=\"true\"\u00a0bottom=\"true\"\u00a0top=\"true\"/&gt; \\&lt;source\u00a0url=\"rightLine.png\"\u00a0left=\"0\"\u00a0right=\"12\"\u00a0top=\"0\"\u00a0bottom=\"66\"/&gt; \\&lt;/image&gt; \\&lt;/draw&gt; \\&lt;/frame&gt; <p> </p> <p> \\ \\  \\ \u00a0</p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Edit and Export Markdown Documents</p>"},{"location":"5Framecomregioes/","title":"5 - Frame com regi\u00f5es","text":""},{"location":"5Framecomregioes/#frame-com-regioes","title":"Frame com regi\u00f5es","text":"<p>Deseja-se montar um frame com 2 regi\u00f5es com a seguinte apar\u00eancia:</p> <p> </p> <p> </p> <p> </p> <p>O exemplo utiliza um arquivo de imagem \"pecaCobre.png\" de tamanho 228x94</p> <p> </p> <p> </p> <p>Arquivo de defini\u00e7\u00e3o de frame:</p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;frame\u00a0width=\"228\"\u00a0height=\"94\"\u00a0autoScaleY=\"true\"\u00a0autoScaleX=\"true\"&gt; \\&lt;borders\u00a0left=\"6\"\u00a0top=\"7\"\u00a0bottom=\"6\"\u00a0right=\"39\"\u00a0/&gt; \\&lt;draw&gt; \\&lt;!-- fundo --&gt; \\&lt;image\u00a0left=\"0\"\u00a0top=\"0\"\u00a0right=\"228\"\u00a0bottom=\"94\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 overflowX=\"stretch\"\u00a0overflowY=\"stretch\"\u00a0zOrder=\"-1\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"true\"\u00a0bottom=\"true\"\u00a0right=\"true\"/&gt; \\&lt;source\u00a0url=\"pecaCobreBckBlack.png\"\u00a0left=\"0\"\u00a0right=\"228\"\u00a0top=\"0\"\u00a0bottom=\"94\"/&gt; \\&lt;/image&gt; \\&lt;/draw&gt; \\&lt;regions&gt; \\&lt;region\u00a0name=\"RegiaoSmallTitulo\"\u00a0left=\"15\"\u00a0top=\"30\"\u00a0right=\"45\"\u00a0bottom=\"64\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"true\"\u00a0bottom=\"true\"\u00a0right=\"true\"/&gt; \\&lt;/region&gt; \\&lt;region\u00a0name=\"RegiaoValor\"\u00a0left=\"85\"\u00a0top=\"7\"\u00a0right=\"187\"\u00a0bottom=\"89\"&gt; \\&lt;anchors\u00a0left=\"true\"\u00a0top=\"true\"\u00a0bottom=\"true\"\u00a0right=\"true\"/&gt; \\&lt;/region&gt; \\&lt;/regions&gt; \\&lt;/frame&gt; <p> </p> <p> </p> <p>Uso no Lua Form:</p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0align=\"top\"\u00a0frameStyle=\"/frames/meuframe.xml\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=30, top=30, right=30, bottom=5}\"&gt; \\&lt;label\u00a0horzTextAlign=\"center\"\u00a0text=\"PO\"\u00a0frameRegion=\"RegiaoSmallTitulo\"/&gt; \\&lt;label\u00a0horzTextAlign=\"center\"\u00a0text=\"500\"\u00a0frameRegion=\"RegiaoValor\"/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0align=\"top\"\u00a0frameStyle=\"/frames/meuframe.xml\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=30, top=5, right=30, bottom=5}\"&gt; \\&lt;label\u00a0horzTextAlign=\"center\"\u00a0text=\"PP\"\u00a0frameRegion=\"RegiaoSmallTitulo\"/&gt; \\&lt;label\u00a0horzTextAlign=\"center\"\u00a0text=\"8\"\u00a0frameRegion=\"RegiaoValor\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p> </p> <p>\\ \\ \\ Os labels foram automaticamente alinhados \u00e0s regi\u00f5es definidas no frame.</p> <p>Created with the Personal Edition of HelpNDoc: Elevate Your CHM Help Files with HelpNDoc's Advanced Customization Options</p>"},{"location":"AlinguagemdeprogramacaoLUA/","title":"A linguagem de programa\u00e7\u00e3o LUA","text":"<p>LUA \u00e9 uma linguagem de programa\u00e7\u00e3o interpretada/script poderosa, r\u00e1pida e leve, projetada por brasileiros para estender aplica\u00e7\u00f5es e \u00e9 usada vastamente pelo mundo (inclusive em projetos famosos como o jogo World of Warcraft, por exemplo).</p> <p> </p> <p>A vers\u00e3o utilizada da linguagem LUA no SDK 3 \u00e9 a 5.3</p> <p> </p> <p>Segue abaixo uma lista de links \u00fateis para o aprendizado da linguagem LUA:</p> <ul> <li>Site oficial da linguagem LUA: http://www.lua.org/ </li> <li>Manual de refer\u00eancia da linguagem: http://www.lua.org/manual/5.3/</li> <li>LUA na Wikipedia: http://pt.wikipedia.org/wiki/Lua_%28linguagem_de_programa%C3%A7%C3%A3o%29</li> <li>Livros sobre Lua: http://www.lua.org/pil/ </li> </ul> <p> </p> <p>Observa\u00e7\u00e3o importante:</p> <p>\u00a0 \u00a0 Visando a prote\u00e7\u00e3o dos usu\u00e1rios contra plug-ins maliciosos, os c\u00f3digos LUA rodam em uma sandbox e nem todas as fun\u00e7\u00f5es nativas do LUA est\u00e3o dispon\u00edveis para o plug-in SDK 3.\u00a0</p> <p>\u00a0 \u00a0 Saiba mais sobre sandboxes e sobre as fun\u00e7\u00f5es nativas LUA dispon\u00edveis lendo o t\u00f3pico: Sandboxes de Plug-ins</p> <p> </p>"},{"location":"AlinguagemdeprogramacaoLUA/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<p>\u00a0 \u00a0 O SDK3 j\u00e1 prov\u00ea algumas bibliotecas e fun\u00e7\u00f5es LUA para voc\u00ea utilizar em seus plug-ins! Saiba mais em Bibliotecas LUA.</p>"},{"location":"Apendice/","title":"Ap\u00eandice","text":"<p>Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc</p>"},{"location":"ArquivodeDefinicaodeFrame/","title":"Arquivo de Defini\u00e7\u00e3o de Frame","text":""},{"location":"ArquivodeDefinicaodeFrame/#arquivo-de-definicao-de-frame_1","title":"Arquivo de Defini\u00e7\u00e3o de Frame","text":"<p>Todo frame \u00e9 definido por um documento XML que segue o padr\u00e3o descrito neste t\u00f3pico.</p> <p> </p> <p>Importante: N\u00e3o \u00e9 poss\u00edvel utilizar as tags do Lua Form na defini\u00e7\u00e3o de frames. O documento de defini\u00e7\u00e3o de frames possui seu pr\u00f3prio conjunto de tags e atributos.</p> <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#estrutura-do-documento-xml-de-definicao-de-frame","title":"Estrutura do documento XML de defini\u00e7\u00e3o de frame","text":"<p>Todo documento de XML de defini\u00e7\u00e3o de frame deve ter a tag frame como tag raiz.</p>"},{"location":"ArquivodeDefinicaodeFrame/#tag-frame","title":"Tag frame","text":"<p>Atributos:</p> Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o width Float \\&lt;N\u00e3o h\u00e1 valor padr\u00e3o e deve ser preenchido&gt;\u00a0 A largura em que o frame foi definido.\u00a0 Todo o restante do frame ser\u00e1 interpretado usando esta largura como base.\u00a0 height Float \\&lt;N\u00e3o h\u00e1 valor padr\u00e3o e deve ser preenchido&gt;\u00a0 A altura em que o frame foi definido.\u00a0 Todo o restante do frame ser\u00e1 interpretado usando esta altura como base.\u00a0 autoScaleX Boolean false Indica como o frame deve se comportar ao ser apresentado em um tamanho diferente do que foi definido.\u00a0 true - O conte\u00fado do frame ser\u00e1 esticado ou comprimido no eixo X para equivaler \u00e0 nova largura.\u00a0 false - O conte\u00fado do frame ser\u00e1 reposicionado no eixo X, respeitando o ancoramento de cada item do conte\u00fado do frame.\u00a0 autoScaleY Boolean false Indica como o frame deve se comportar ao ser apresentado em um tamanho diferente do que foi definido.\u00a0 true - O conte\u00fado do frame ser\u00e1 esticado ou comprimido no eixo Y para equivaler \u00e0 nova altura.\u00a0 false - O conte\u00fado do frame ser\u00e1 reposicionado no eixo Y, respeitando o ancoramento de cada item do conte\u00fado do frame.\u00a0 <p> </p> <p>Tags filhas:</p> Tag filha Quantidade Descri\u00e7\u00e3o borders 0 ou 1. (opcional) Descreve o tamanho das bordas que o frame possui.\u00a0 Leia mais em Tag borders draw 0 ou 1. (opcional) Define os itens que ser\u00e3o desenhados no frame.\u00a0 Leia mais em Tag draw.\u00a0 Estes itens s\u00e3o desenhados embaixo dos controles Lua Form de onde o frame for aplicado.\u00a0 postdraw 0 o ou 1. (opcional) Define os itens que ser\u00e3o desenhados ap\u00f3s o conte\u00fado do frame ser desenhado.\u00a0 Leia mais em Tag postdraw.\u00a0 Estes itens s\u00e3o desenhados em cima dos controles Lua Form de onde o frame for aplicado.\u00a0 regions 0 ou 1. (opcional) Define as regi\u00f5es que este frame possui. Usado para alinhar controles Lua Form no lugar correto do frame.\u00a0 Leia mais em Tag regions."},{"location":"ArquivodeDefinicaodeFrame/#_1","title":"","text":""},{"location":"ArquivodeDefinicaodeFrame/#tag-borders","title":"Tag borders","text":"<p>Atributos:</p> Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Float 0.0 Define o tamanho da borda esquerda do frame.\u00a0 top Float 0.0\u00a0 Define o tamanho da borda superior do frame.\u00a0 right Float 0.0 Define o tamanho da borda da direita do frame.\u00a0 bottom Float 0.0 Define o tamanho da borda inferior do frame.\u00a0 <p> </p> <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#tag-draw","title":"Tag draw","text":"<p>Esta tag cont\u00e9m todos os elementos que s\u00e3o desenhados no frame.</p> <p>\\ Atributos: Esta tag n\u00e3o possui atributos</p> <p> </p> <p>Tags filhas:</p> Tag filha Quantidade Descri\u00e7\u00e3o image 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma imagem que ser\u00e1 desenhada.\u00a0 Leia mais em Tag image.\u00a0 <p> </p> <p> </p> <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#tag-postdraw","title":"Tag postdraw","text":"<p>Esta tag cont\u00e9m todos os elementos que s\u00e3o desenhados no frame.</p> <p>\\ Atributos: Esta tag n\u00e3o possui atributos</p> <p> </p> <p>Tags filhas:</p> Tag filha Quantidade Descri\u00e7\u00e3o image 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma imagem que ser\u00e1 desenhada acima do controles Lua Form.\u00a0 Leia mais em Tag image.\u00a0 <p> </p> <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#tag-image","title":"Tag image","text":"<p>Atributos:</p> Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Define onde, no eixo X, a imagem ser\u00e1 desenhada. top Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Define onde, no eixo Y, a imagem ser\u00e1 desenhada. right Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Define onde, no eixo X, a borda direita da imagem ser\u00e1 desenhada.\u00a0 A largura da imagem ser\u00e1 equivalente a (\"right\" - \"left\")\u00a0 bottom Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt; Define onde, no eixo Y, a borda inferior da imagem ser\u00e1 desenhada.\u00a0 A altura da imagem ser\u00e1 equivalente a (\"bottom\" - \"top\")\u00a0 overflowX Enumerado: \"none\" \"tile\" \"stretch\" \"center\" \"tile\"\u00a0 Define como a imagem ser\u00e1 desenhada no eixo X quando a largura a desenhar for diferente da largura definida.\u00a0 \"none\": A imagem ser\u00e1 desenhada apenas uma vez, a cortando se o tamanho diminuir.\u00a0 \"tile\": A imagem ser\u00e1 desenhada v\u00e1rias vezes para que ocupe o novo tamanho.\u00a0 \"stretch\": A imagem ser\u00e1 encolhida ou espichada para o novo tamanho.\u00a0 \"center\": A imagem ser\u00e1 desenhada apenas uma vez no centro.\u00a0 overflowY BoEnumerado: \"none\" \"tile\" \"stretch\" \"center\"\u00a0 \"tile\" Idem ao atributo \"overflowX\", por\u00e9m agora analisando a altura e o eixo Y da imagem.\u00a0 zOrder Float 0.0\u00a0 Define a ordem em que esta imagem ser\u00e1 desenhada.\u00a0 A image que tiver o menor zOrder ser\u00e1 desenhada embaixo das outras, enquanto a que tiver maior zOrder ser\u00e1 desenhada acima.\u00a0 <p> </p> <p>Tags filhas:</p> Tag filha Quantidade Descri\u00e7\u00e3o source 1 vez (preenchimento obrigat\u00f3rio) A tag source cont\u00e9m informa\u00e7\u00f5es sobre qual imagem ser\u00e1 desenhada.\u00a0 Leia mais em tag source.\u00a0 Observa\u00e7\u00e3o: Enquanto a tag image possui informa\u00e7\u00f5es relacionadas ao \"onde a imagem ser\u00e1 desenhada\", a tag source possui informa\u00e7\u00f5es de qual imagem ser\u00e1 desenhada.\u00a0 \u00a0 anchors 0 ou 1 (opcional). Define como a imagem ser\u00e1 ancorada quando o frame for desenhado com um tamanho maior ou menor do que o definido.\u00a0 Leia mais em tag anchors\u00a0 A aus\u00eancia desta tag implica no ancoramento \"left e top\". \u00a0 <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#tag-source","title":"Tag source","text":"<p>Atributos:</p> Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o url String \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Caminho do arquivo da imagem que ser\u00e1 desenhada na tela.\u00a0 Cont\u00e9m um caminho relativo \u00e0 pasta em que se encontra o arquivo \".xml\" de defini\u00e7\u00e3o deste frame.\u00a0 left Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Este atributo \u00e9 usado para definir qual parte da imagem, informada pelo atributo \"url\", ser\u00e1 desenhada na tela. \u00a0 \u00c9 poss\u00edvel desenhar a imagem inteira, ou apenas um peda\u00e7o/ret\u00e2ngulo dela (o que \u00e9 bastante \u00fatil).\u00a0 Medido em pixels, informa a posi\u00e7\u00e3o esquerda do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela.\u00a0 top Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Medido em pixels, informa a posi\u00e7\u00e3o superior do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela.\u00a0 Veja a descri\u00e7\u00e3o do atributo \"left\". right Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Medido em pixels, informa a posi\u00e7\u00e3o da direita do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela.\u00a0 Veja a descri\u00e7\u00e3o do atributo \"left\".\u00a0 bottom Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt; Medido em pixels, informa a posi\u00e7\u00e3o inferior do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela.\u00a0 Veja a descri\u00e7\u00e3o do atributo \"left\".\u00a0 <p> </p> <p>Tags filhas:\u00a0</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 tags filhas.</p> <p> </p> <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#tag-anchors","title":"Tag anchors","text":"<p>Define o ancoramento do componente. \\ Quando o frame for desenhado com um tamanho diferente do desenhado, o componente mant\u00e9m sua posi\u00e7\u00e3o relativa baseada em sua \u00e2ncora.</p> <p> </p> <p> </p> <p>Atributos:</p> Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Boolean false Quando true, define um \u00e2ncora \u00e0 esquerda.\u00a0 Leia as observa\u00e7\u00f5es abaixo desta tabela.\u00a0 top Boolean false\u00a0 Quando true, define um \u00e2ncora acima.\u00a0 Leia as observa\u00e7\u00f5es abaixo desta tabela.\u00a0 right Boolean false\u00a0 Quando true, define um \u00e2ncora \u00e0 direita.\u00a0 Leia as observa\u00e7\u00f5es abaixo desta tabela.\u00a0 bottom Boolean false Quando true, define um \u00e2ncora abaixo.\u00a0 Leia as observa\u00e7\u00f5es abaixo desta tabela.\u00a0 <p> </p> <p>Comportamento de \u00e2ncora:</p> <ul> <li>\u201cleft\u201d = true, \u201dright\u201d = false: O componente manter\u00e1 sempre a mesma posi\u00e7\u00e3o left/X.</li> <li>\u201cleft\u201d = false, \u201cright\u201d = true: A posi\u00e7\u00e3o left ser\u00e1 calculada automaticamente para manter sempre a mesma dist\u00e2ncia entre sua borda direita e a borda direita do pai/frame.</li> <li>\u201cleft\u201d e \u201cright\u201d ambos = true: O controle manter\u00e1 tanto a dist\u00e2ncia entre (1) sua borda esquerda com a borda esquerda do pai/frame; (2) como sua borda direita com a borda direita do pai/frame. Para isso, a largura do componente ser\u00e1 alterada conforme o tamanho de visualiza\u00e7\u00e3o do frame.</li> <li>\u201cleft\u201d e \u201cright\u201d ambos = false: O controle n\u00e3o est\u00e1 ancorado e ocorrer\u00e1 um efeito similar ao de centraliza\u00e7\u00e3o.</li> </ul> <p> </p> <p>O comportamento das \u00e2ncoras \u201ctop\u201d e \u201cbottom\u201d \u00e9 o mesmo das \u00e2ncoras \u201cleft\u201d e \u201cright\u201d, por\u00e9m agora no eixo Y.</p> <p> </p> <p> </p> <p>Tags filhas:\u00a0</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 tags filhas.</p> <p> </p> <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#tag-regions","title":"Tag regions","text":"<p>Esta tag cont\u00e9m uma lista de tags region, que define regi\u00f5es no frame que poder\u00e3o ser usadas para alinhar tags/controles Lua Form posteriormente. Saiba mais em Frames e Regi\u00f5es.</p> <p>\\ Atributos: Esta tag n\u00e3o possui atributos</p> <p> </p> <p>Tags filhas:</p> Tag filha Quantidade Descri\u00e7\u00e3o region 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma regi\u00e3o do frame\u00a0 Leia mais em Tag region.\u00a0 <p> </p> <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#tag-region","title":"Tag region","text":"<p>Atributos:</p> Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Define um nome para esta regi\u00e3o para que possa ser usada posteriormente por um controle Lua Form. Saiba mais em Frames e Regi\u00f5es.\u00a0 left Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Define, onde no eixo X, \u00e9 a posi\u00e7\u00e3o esquerda desta regi\u00e3o no frame. top Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Define, onde no eixo Y, \u00e9 a posi\u00e7\u00e3o superior desta regi\u00e3o no frame. right Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt;\u00a0 Define, onde no eixo X, \u00e9 a posi\u00e7\u00e3o da direita desta regi\u00e3o no frame.\u00a0 A largura da regi\u00e3o ser\u00e1 equivalente a (\"right\" - \"left\")\u00a0 bottom Float \\&lt;N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio&gt; Define, onde no eixo Y, \u00e9 a posi\u00e7\u00e3o inferior desta regi\u00e3o no frame.\u00a0 A altura da regi\u00e3o ser\u00e1 equivalente a (\"bottom\" - \"top\")\u00a0 autoScaleX Boolean false\u00a0 Indica como as sub-regi\u00f5es desta regi\u00e3o devem se comportar ao ser apresentadas em um tamanho de frame diferente do que foi definido.\u00a0 true - As sub-regi\u00f5es ser\u00e3o esticadas ou comprimidas no eixo X para equivaler \u00e0 nova largura.\u00a0 false - As sub-regi\u00f5es ser\u00e3o reposicionadas no eixo X, respeitando seus ancoramentos.\u00a0 autoScaleY Boolean false Indica como as sub-regi\u00f5es desta regi\u00e3o devem se comportar ao ser apresentadas em um tamanho de frame diferente do que foi definido.\u00a0 true - As sub-regi\u00f5es ser\u00e3o esticadas ou comprimidas no eixo Y para equivaler \u00e0 nova altura.\u00a0 false - As sub-regi\u00f5es ser\u00e3o reposicionadas no eixo Y, respeitando seus ancoramentos\u00a0 <p> </p> <p>Tags filhas:</p> Tag filha Quantidade Descri\u00e7\u00e3o anchors 0 ou 1 (opcional). Define como a regi\u00e3o ser\u00e1 ancorada quando o frame for desenhado com um tamanho maior ou menor do que o definido.\u00a0 Leia mais em tag anchors\u00a0 A aus\u00eancia desta tag implica no ancoramento \"left e top\". \u00a0 regions 0 ou 1 (opcional). Define as sub-regi\u00f5es desta regi\u00e3o. \u00a0 Leia mais em Tag regions.\u00a0 <p> </p>"},{"location":"ArquivodeDefinicaodeFrame/#exemplos","title":"Exemplos","text":"<p>Veja os exemplos em Exemplos de frames.</p> <p>Created with the Personal Edition of HelpNDoc: Create cross-platform Qt Help files</p>"},{"location":"Arquivosemumprojetodeplugin/","title":"Arquivos em um projeto de plug-in","text":"<p>Created with the Personal Edition of HelpNDoc: Save time and frustration with HelpNDoc's WinHelp HLP to CHM conversion feature</p>"},{"location":"ArrastandoeSoltandoInformacoesDr/","title":"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop","text":""},{"location":"ArrastandoeSoltandoInformacoesDr/#arrastando-e-soltando-informacoes-drag-and-drop_1","title":"Arrastando e Soltando informa\u00e7\u00f5es / Drag and Drop","text":"<p>Arrastar e Soltar, do ingl\u00eas \"Drag and Drop\", \u00e9 a a\u00e7\u00e3o de clicar em um objeto virtual e \"arrast\u00e1-lo\" a uma posi\u00e7\u00e3o diferente ou sobre um outro objeto virtual. De maneira geral, ele pode ser usado para invocar diversos tipos de a\u00e7\u00f5es, ou criar v\u00e1rios tipos de associa\u00e7\u00f5es entre dois objetos abstratos.</p> <p> </p> <p>A sequ\u00eancia b\u00e1sica de a\u00e7\u00f5es relacionadas ao drag-and-drop \u00e9:</p> <ul> <li>Clicar, e manter o bot\u00e3o do mouse apertado para \"agarrar\" o objeto,</li> <li>\"Arrastar\" (drag) o objeto/cursor \u00e0 posi\u00e7\u00e3o ou localiza\u00e7\u00e3o desejada,</li> <li>\"Soltar\" (drop) o objeto, soltando o bot\u00e3o pressionado.</li> </ul> <p> </p>"},{"location":"ArrastandoeSoltandoInformacoesDr/#fluxo-de-acontecimento","title":"Fluxo de acontecimento","text":"<p>No exemplo a seguir, o usu\u00e1rio iniciou o processo drag-and-drop agarrando o objeto preto (1 na figura), arrastando o mouse at\u00e9 o objeto vermelho (3 na figura) e soltando o bot\u00e3o.</p> <p></p> <p> </p> <p>O fluxo segue na seguinte ordem:</p> <ul> <li>O Usu\u00e1rio clica e mant\u00eam o bot\u00e3o do mouse pressionado sobre o objeto 1 para iniciar um processo de drag-and-drop.</li> <li>O Firecast, atrav\u00e9s do evento onStartDrag do objeto 1, pede para que o objeto 1 informe as informa\u00e7\u00f5es que o usu\u00e1rio pode arrastar dele.</li> <li>O Plugin SDK3, dentro da chamada do evento onStartDrag, informa ao Firecast o que o usu\u00e1rio pode arrastar do objeto 1. Os dados s\u00e3o adicionados a um objeto Drag (2 na figura) que o Firecast cria automaticamente para esta opera\u00e7\u00e3o de drag-and-drop espec\u00edfica.</li> <li>O Firecast interage com o usu\u00e1rio at\u00e9 que ele passe o mouse sobre uma \u00e1rea de Drop, isto \u00e9, de um objeto que aceite que opera\u00e7\u00f5es drag-and-drop sejam \"largadas\" sobre ele. O objeto 3 possui uma \u00e1rea de drop.</li> <li>O Firecast, atrav\u00e9s do evento onStartDrop do objeto 3, pede para que o objeto 3 informe o quais informa\u00e7\u00f5es o usu\u00e1rio pode \"largar\" sobre ele.</li> <li>O Plugin SDK3, dentro da chamada do evento onStartDrop, informa ao Firecast o que o usu\u00e1rio pode largar sobre o objeto 3. Os dados s\u00e3o adicionados a um objeto Drop que o Firecast cria automaticamente para receber estas informa\u00e7\u00f5es.</li> <li>O Firecast, com base nas informa\u00e7\u00f5es do objeto Drag preenchidas pelo objeto 1 e nas informa\u00e7\u00f5es do objeto Drop preenchidas pelo objeto 3, decide se a opera\u00e7\u00e3o drag-and-drop pode acontecer. Se um n\u00e3o conseguir lidar com as informa\u00e7\u00f5es do outro, a opera\u00e7\u00e3o drag-and-drop n\u00e3o poder\u00e1 ser conclu\u00edda.</li> <li>Caso a opera\u00e7\u00e3o Drag-and-Drop puder ser finalizada, o Firecast chama a a\u00e7\u00e3o do objeto 3 ou objeto 1 que melhor puder lidar com esta opera\u00e7\u00e3o.</li> </ul> <p> </p>"},{"location":"ArrastandoeSoltandoInformacoesDr/#informacoes-e-acoes-em-uma-operacao-drag-and-drop","title":"Informa\u00e7\u00f5es e A\u00e7\u00f5es em uma opera\u00e7\u00e3o drag-and-drop","text":"<p>Para que uma opera\u00e7\u00e3o Drag-And-Drop aconte\u00e7a, \u00e9 necess\u00e1rio haver ao menos uma informa\u00e7\u00e3o e ao menos uma a\u00e7\u00e3o capaz de lidar com ela.\u00a0</p> <p> </p> <p>Informa\u00e7\u00f5es e a\u00e7\u00f5es podem existir tanto no objeto Drag quanto no objeto Drop: </p> <ul> <li>Informa\u00e7\u00f5es existentes no objeto Drag s\u00e3o combinadas com a\u00e7\u00f5es existentes no objeto Drop</li> <li>Informa\u00e7\u00f5es existentes no objeto Drop s\u00e3o combinadas com a\u00e7\u00f5es existentes no objeto Drag</li> </ul> <p> </p> <p>Informa\u00e7\u00f5es e a\u00e7\u00f5es est\u00e3o atreladas a um DataType, isto \u00e9, a uma cadeia de caracteres que define o tipo de dados que \u00e9 arrastado.</p> <p> </p>"},{"location":"ArrastandoeSoltandoInformacoesDr/#datatypes-padroes-do-firecast","title":"DataTypes padr\u00f5es do Firecast","text":"<p>O programador pode inventar qualquer DataType, por\u00e9m existem os seguintes que s\u00e3o padr\u00f5es do Firecast:</p> <p> </p> DataType padr\u00e3o Valor transportado text Uma cadeia de caracteres, um texto qualquer.\u00a0 imageURL Uma cadeia de caracteres que cont\u00e9m uma URL de uma imagem.\u00a0 player Um objeto Jogador players Array de objeto Jogador character Um objeto Personagem characters Array de objeto Personagem libraryItem Um objeto BibliotecaItem libraryItens Array de objeto BibliotecaItem sceneUnitClass Um objeto SceneUnitClass sceneUnitClasses Array de objeto SceneUnitClass imageFile A table containing the following attributes: name - String with the name of the file. mimeType - String with the MIME type of the image (examples: image/jpeg, image/png) stream - A read-only Stream object containing the image file bytes.\u00a0 imageFiles An array of tables with the same structure as the \"imageFile\". <p> </p> <p>Observa\u00e7\u00e3o: Ao utilizar os dataTypes padr\u00f5es, o RRPG valida e exige que sejam transportados valores adequados conforme a tabela acima.</p> <p> </p> <p> </p>"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplos","title":"Exemplos","text":""},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-1-arrastando-um-texto-de-um-label","title":"Exemplo 1 - Arrastando um texto de um Label","text":"<p>Experimente arrastar o label para a caixa de digita\u00e7\u00e3o de mensagens e comandos do RRPG.</p> <p> </p> \\&lt;label\u00a0text=\"Me arraste!\"\u00a0top=\"150\"\u00a0hitTest=\"true\"&gt; \\&lt;event\u00a0name=\"OnStartDrag\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 drag:addData(\"text\", \"Texto que ser\u00e1 arrastado deste label!\"); \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/label&gt; <p> </p> <p> </p>"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-2-arrastando-uma-imagem-e-um-texto-de-um-label","title":"Exemplo 2 - Arrastando uma imagem e um texto de um Label","text":"<p>Experimente arrastar o label para o log do chat do RRPG!</p> <p> </p> \\&lt;label\u00a0text=\"Me arraste!\"\u00a0top=\"150\"\u00a0hitTest=\"true\"&gt; \\&lt;event\u00a0name=\"OnStartDrag\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 drag:addData(\"text\", \"Texto que ser\u00e1 arrastado deste label!\"); \u00a0 \u00a0 \u00a0 \u00a0 drag:addData(\"imageURL\", \"http://www.rrpg.com.br/wp-content/uploads/2013/05/cropped-Untitled-2.png\"); \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/label&gt; <p> </p> <p> </p> <p> </p>"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-3-um-controle-que-captura-arraste-de-imagens","title":"Exemplo 3 - Um controle que captura arraste de imagens.","text":"<p>Arraste uma imagem do browser Chrome ou do jogador para este controle.</p> <p> </p> \\&lt;rectangle\u00a0left=\"150\"\u00a0top=\"150\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0width=\"150\"\u00a0height=\"150\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0strokeColor=\"yellow\"\u00a0strokeSize=\"1\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0color=\"none\"&gt; \\&lt;image\u00a0name=\"imgImagem\"\u00a0align=\"client\"\u00a0hitTest=\"true\"&gt; \\&lt;event\u00a0name=\"OnStartDrop\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 drop:addAction(\"imageURL\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 function(value) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.imgImagem.src = value; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end); \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/image&gt; \\&lt;/rectangle&gt; <p> </p> <p> </p>"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-4-um-controle-que-captura-arraste-de-jogadores","title":"Exemplo 4 - Um controle que captura arraste de Jogadores.","text":"<p>Arraste um jogador da mesa para este controle!</p> <p> </p> \\&lt;rectangle\u00a0left=\"150\"\u00a0top=\"150\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0width=\"150\"\u00a0height=\"150\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0strokeColor=\"yellow\"\u00a0strokeSize=\"1\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0color=\"none\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0hitTest=\"true\"&gt; \\&lt;event\u00a0name=\"OnStartDrop\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 drop:addAction(\"player\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 function(value) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O login deste jogador \u00e9: \" .. value.login); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end); \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/rectangle&gt; <p> </p>"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-5-arrastando-uma-acao-a-partir-de-um-botao","title":"Exemplo 5 - Arrastando uma a\u00e7\u00e3o \u00e0 partir de um bot\u00e3o","text":"<p>Arraste este bot\u00e3o para um jogador da mesa!</p> <p> </p> \\&lt;button\u00a0left=\"150\"\u00a0top=\"150\"\u00a0text=\"meArraste\"&gt; \\&lt;event\u00a0name=\"OnStartDrag\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 drag:addAction(\"player\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 function(destValue) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Voc\u00ea me arrastou para o jogador: \" .. destValue.login); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end); \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; <p>Created with the Personal Edition of HelpNDoc: Generate EPub eBooks with ease</p>"},{"location":"Ascamadasdotabuleiro/","title":"As camadas do tabuleiro","text":"<p>\\&lt; A escrever ...&gt;</p> <p>Created with the Personal Edition of HelpNDoc: Produce electronic books easily</p>"},{"location":"AsyncPromiselibrary/","title":"Async.Promise library","text":""},{"location":"AsyncPromiselibrary/#asyncpromise-library_1","title":"Async.Promise library","text":"<p>The Async.Promise library provides functions for handling asynchronous operations, such as loading a remote node database. All of these functions are contained in the \u201cAsync.Promise\u201d and/or \u201cPromise\u201d Lua tables found in the \u201casync.lua\u201d unit.</p> <p> </p> <p>Usage example:</p> -- First, you need to use the \u201casync.lua\u201d unit require(\"async.lua\");\u00a0\u00a0\u00a0 -- Now you can access the functions of the library. Async.Promise.LIBRARY_FUNCTION(Argument1,\u00a0Argument2,\u00a0...); or Promise.LIBRARY_FUNCTION(Argument1,\u00a0Argument2,\u00a0...); <p> </p> <p> </p>"},{"location":"AsyncPromiselibrary/#asyncpromise-library-functions","title":"Async.Promise library functions","text":"function\u00a0Async.Promise.resolved(data) function\u00a0Promise.resolved(data) <p>Creates and returns a Promise object that has already been successfully resolved with the provided \u201cdata\u201d argument</p> <p> </p> <p>Arguments:</p> <ul> <li>data - the value that was successfully resolved. This can be any information you want to pass as a successful return value</li> </ul> <p> </p> <p>Return:</p> <ul> <li> </li> <li>The new Promise object</li> </ul> <p> </p> <p> </p> function\u00a0Async.Promise.withError(errorMsg) function\u00a0Async.Promise.withException(errorMsg) function\u00a0Promise.withError(errorMsg) function\u00a0Promise.withException(errorMsg) <p> </p> <p>Creates and returns a Promise object that has already been resolved with a failure state and the provided error message</p> <p> </p> <p>Arguments:</p> <ul> <li> </li> <li>errorMsg - The error message that describes why the Promise resolved to a failed state.</li> </ul> <p> </p> <p>Return:</p> <ul> <li> </li> <li>The new Promise object</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Eliminate the Struggles of Documentation with a Help Authoring Tool</p>"},{"location":"BibliotecaDialogs/","title":"Biblioteca Dialogs","text":""},{"location":"BibliotecaDialogs/#biblioteca-dialogs_1","title":"Biblioteca Dialogs","text":"<p>A biblioteca dialogs prov\u00ea fun\u00e7\u00f5es para exibir mensagens e interagir com o usu\u00e1rio atrav\u00e9s de di\u00e1logos.</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Dialogs\" da unidade \"dialogs.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"dialogs.lua\" require(\"dialogs.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Dialogs.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaDialogs/#funcoes-da-biblioteca-dialogs","title":"Fun\u00e7\u00f5es da biblioteca Dialogs","text":"function\u00a0Dialogs.showMessage(msg\u00a0[,\u00a0callback]) ou function\u00a0showMessage(msg\u00a0[,\u00a0callback]) <p>Exibe uma mensagem de informa\u00e7\u00e3o para o usu\u00e1rio\u00a0 (um simples di\u00e1logo com o bot\u00e3o \"OK\").</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>msg \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface.</li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio clicar em OK.</li> </ul> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 N\u00e3o retorna nenhum valor.</p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso.</li> <li>Se quiser executar algo ap\u00f3s o usu\u00e1rio confirmar o di\u00e1logo, informe o par\u00e2metro \"callback\"</li> </ul> <p> </p> <p> </p> function\u00a0Dialogs.alert(msg\u00a0[,\u00a0callback]) ou function\u00a0alert(msg\u00a0[,\u00a0callback]) <p> </p> <p>Exibe uma mensagem de alerta para o usu\u00e1rio\u00a0 (um simples di\u00e1logo com \u00edcone de alerta e bot\u00e3o \"OK\").</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>msg \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface.</li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio clicar em OK.</li> </ul> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 N\u00e3o retorna nenhum valor.</p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso.</li> <li>Se quiser executar algo ap\u00f3s o usu\u00e1rio confirmar o di\u00e1logo, informe o par\u00e2metro \"callback\"</li> </ul> <p> </p> <p> </p> function\u00a0Dialogs.confirmOkCancel(question\u00a0[,\u00a0callback]) <p> </p> <p>Exibe uma informa\u00e7\u00e3o na interface com os bot\u00f5es OK e CANCEL, permitindo o usu\u00e1rio optar por continuar ou por cancelar alguma a\u00e7\u00e3o.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>question \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface.</li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro o valor true se o usu\u00e1rio tiver optado por \"OK\" ou false caso contr\u00e1rio.</li> </ul> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 N\u00e3o retorna nenhum valor.</p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso.</li> <li>Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\".</li> </ul> <p> </p> <p>Exemplo:</p> Dialogs.confirmOkCancel(\"Continuar ir\u00e1 acontecer X coisa\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(confirmado) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0confirmado\u00a0then -- usuario escolheu OK else -- usu\u00e1rio escolheu CANCEL end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); <p> </p> <p> </p> <p> </p> function\u00a0Dialogs.confirmYesNo(question\u00a0[,\u00a0callback]) <p> </p> <p>Exibe uma informa\u00e7\u00e3o na interface com os bot\u00f5es YES e NO, permitindo o usu\u00e1rio responder \"sim\" ou \"n\u00e3o\" a alguma pergunta.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>question \u2013 Uma cadeia de caracteres contendo a pergunta que dever\u00e1 ser exibida na interface.</li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro o valor true se o usu\u00e1rio tiver optado por \"SIM\" ou false caso contr\u00e1rio.</li> </ul> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 N\u00e3o retorna nenhum valor.</p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso.</li> <li>Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\".</li> </ul> <p> </p> <p>Exemplo:</p> Dialogs.confirmYesNo(\"Deseja realmente apagar este item?\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(confirmado) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0confirmado\u00a0then -- usuario escolheu SIM else -- usu\u00e1rio escolheu NAO end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); <p> </p> <p> </p> <p> </p> function\u00a0Dialogs.showMessageDlg(message, dialogType, dialogButtons\u00a0[,\u00a0callback]) <p> </p> <p>Exibe um di\u00e1logo customizado pelo programador na interface.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>message \u2013 Uma cadeia de caracteres contendo a mensagem que ser\u00e1 exibida na interface</li> <li>dialogType - O tipo de di\u00e1logo. Pode ser um dos seguintes valores:<ul> <li>dialogs.DT_INFORMATION\u00a0 - uma informa\u00e7\u00e3o</li> <li>dialogs.DT_ERROR - um erro</li> <li>dialogs.DT_WARNING - um alerta</li> <li>dialogs.DT_CONFIRMATION - uma confirma\u00e7\u00e3o</li> </ul> </li> <li>dialogButtons - Quais bot\u00f5es ser\u00e3o exibidos na interface. \u00c9 um arranjo/tabela lua contendo a combina\u00e7\u00e3o dos seguintes valores:<ul> <li>dialogs.DB_YES</li> <li>dialogs.DB_NO</li> <li>dialogs.DB_OK</li> <li>dialogs.DB_CANCEL</li> <li>dialogs.DB_ABORT</li> <li>dialogs.DB_RETRY</li> <li>dialogs.DB_IGNORE</li> <li>dialogs.DB_CLOSE</li> </ul> </li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro qual bot\u00e3o foi pressionado. (Este valor \u00e9 um daqueles informados no par\u00e2metro dialogButtons).</li> </ul> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 N\u00e3o retorna nenhum valor.</p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso.</li> <li>Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\".</li> <li>Nem toda combina\u00e7\u00e3o de bot\u00f5es s\u00e3o v\u00e1lidas. As combina\u00e7\u00f5es de bot\u00f5es v\u00e1lidas s\u00e3o:<ul> <li>{dialogs.DB_OK}</li> <li>{dialogs.DB_OK, dialogs.DB_CANCEL}</li> <li>{dialogs.DB_YES, dialogs.DB_NO}</li> <li>{dialogs.DB_YES, dialogs.DB_NO, dialogs.DB_CANCEL}</li> <li>{dialogs.DB_ABORT, dialogs.DB_IGNORE, dialogs.DB_RETRY}</li> <li>{dialogs.DB_ABORT, dialogs.DB_IGNORE}</li> </ul> </li> </ul> <p> </p> <p>Exemplo:</p> Dialogs.showMessageDlg(\"O que fazer?\",\u00a0dialogs.DT_WARNING, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0{dialogs.DB_ABORT,\u00a0dialogs.DB_IGNORE,\u00a0dialogs.DB_RETRY},\u00a0\u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(escolha) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 if\u00a0escolha\u00a0==\u00a0dialogs.DB_ABORT\u00a0then -- usuario escolheu ABORT elseif\u00a0escolha\u00a0==\u00a0dialogs.DB_IGNORE\u00a0then -- usu\u00e1rio escolheu IGNORE elseif\u00a0escolha\u00a0==\u00a0dialogs.DB_RETRY\u00a0then -- usu\u00e1rio escolheu RETRY\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end*); <p> </p> <p> </p> <p> </p> function\u00a0Dialogs.inputQuery(caption, prompt[,\u00a0initialValue [,\u00a0confirmCallback [,\u00a0cancelCallback, [,\u00a0allowEmptyString]]]]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio preencha alguma informa\u00e7\u00e3o.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>caption \u2013 Cadeia de caracteres contendo o t\u00edtulo do di\u00e1logo</li> <li>prompt - Cadeia de caracteres que cont\u00e9m uma orienta\u00e7\u00e3o para que o usu\u00e1rio saiba o que deve digitar. Exemplo: \"Informe seu nome\".</li> <li>(OPCIONAL) initialValue - Cadeia de caracteres contendo o valor que j\u00e1 vir\u00e1 preenchido no di\u00e1logo.</li> <li>(OPCIONAL) confirmCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ap\u00f3s o usu\u00e1rio confirmar o preenchimento. O valor que foi informado pelo usu\u00e1rio \u00e9 passado no primeiro par\u00e2metro desta fun\u00e7\u00e3o.</li> <li>(OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada se o usu\u00e1rio cancelar o di\u00e1logo.</li> <li>(OPCIONAL) allowEmptyString - Um booleano indicando se o usu\u00e1rio pode informar uma cadeia de caracteres vazia. Se omitido, este par\u00e2metro \u00e9 interpretado como false.</li> </ul> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 N\u00e3o retorna nenhum valor.</p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso.</li> <li>Se quiser saber qual foi a informa\u00e7\u00e3o preenchida pelo usu\u00e1rio, utilize os par\u00e2metros \"confirmCallback\" e/ou \"cancelCallback\".</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> <p> </p> Dialogs.inputQuery(\"Cadastro\",\u00a0\"Informe Seu Nome\",\u00a0\"\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(valorPreenchido) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O usuario preencheu: \"\u00a0..\u00a0valorPreenchido); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O usu\u00e1rio cancelou\"); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); <p> </p> <p> </p> <p> </p> function\u00a0Dialogs.openFile(prompt[,\u00a0accept [, multiple [,\u00a0callback [,\u00a0cancelCallback]]]]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio escolha um ou mais arquivos do seu computador/dispositivo para abrir.\u00a0</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre qual arquivo ele deve selecionar. Exemplo: \"Escolha uma imagem\".</li> <li>(OPCIONAL) accept - Uma cadeia de caracteres usada para filtrar quais arquivos o usu\u00e1rio pode selecionar. Voc\u00ea pode passar aqui:<ul> <li>\".\\&lt;EXTENS\u00c3O&gt;\" para filtrar arquivos de uma determinada extens\u00e3o. Exemplo: \".txt\", \".mp3\", \".png\", etc..</li> <li>\"\\&lt;MIME_TYPE&gt;\" para filtrar arquivos pelo Media/Mime Type. Exemplos: \"image/png\", \"application/xml\", \"text/plain\", etc..</li> <li>\"image/*\" para filtrar todos os formatos de imagens suportados pelo RRPG.</li> <li>\"*.*\" ou nil - Para aceitar qualquer tipo de arquivo.</li> <li>Uma lista das op\u00e7\u00f5es anteriores separadas por v\u00edrgula. Exemplos:</li> <li>\".png, .txt, .bmp\" - para aceitar arquivos de extens\u00f5es PNG, TXT e BMP</li> <li>\".html, text/plain, image/*\" - para aceitar arquivos HTML, arquivos de media type text/plain e tamb\u00e9m qualquer imagem.</li> </ul> </li> <li>(OPCIONAL) multiple - true para permitir o usu\u00e1rio selecionar mais de um arquivo ao mesmo tempo ou false para permitir selecionar apenas um arquivo. Se omitido este valor, o padr\u00e3o \u00e9 \"false\".</li> <li>(OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a sele\u00e7\u00e3o do(s) arquivo(s). Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um array de tabelas luas que cont\u00e9m cada uma:<ul> <li>name - Uma propriedade contendo o nome curto do arquivo selecionado. Exemplos: \"Arquivo.txt\", \"Minha imagem de f\u00e9rias.png\", etc..</li> <li>stream - Um objeto stream somente leitura contendo os dados do arquivo selecionado.</li> </ul> </li> <li>(OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a sele\u00e7\u00e3o de arquivos.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta \u00e9 a \u00fanica maneira que o plug-in tem de obter acesso a arquivos do dispositivo do usu\u00e1rio.</li> <li>Se o par\u00e2metro \"multiple\" for false, a fun\u00e7\u00e3o \"callback\" sempre receber\u00e1 um array contendo 1 tabela lua descrevendo o arquivo selecionado. Se o par\u00e2metro \"multiple\" for true, o n\u00famero de tabelas neste array varia conforme a quantidade de arquivos selecionados.</li> <li>No FirecastMobile: Esta fun\u00e7\u00e3o s\u00f3 consegue abrir imagens da galeria do celular/tablet do usu\u00e1rio. Se o conte\u00fado do par\u00e2metro \"accept\" n\u00e3o aceitar imagens, o evento \"cancelCallback\" ser\u00e1 chamado imediatamente depois.</li> </ul> <p> </p> <p> </p> <p>Exemplos:</p> <ul> <li> </li> <li>Selecionando m\u00faltiplos arquivos de extens\u00e3o .txt e .html:</li> </ul> Dialogs.openFile(\"Selecione os arquivos\",\u00a0\".txt, .html\",\u00a0true, \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(arquivos) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0for\u00a0i\u00a0=\u00a01,\u00a0#arquivos,\u00a01\u00a0do local\u00a0arq\u00a0=\u00a0arquivos[i]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- arq.name possui o nome do arquivo -- arq.stream possui o objeto stream do conte\u00fado end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); <p> </p> <ul> <li> </li> <li>Selecionando 1 arquivo de imagem:</li> </ul> Dialogs.openFile(\"Selecione o arquivo de imagem\",\u00a0\"image/*\",\u00a0false, \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(arquivos) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0arq\u00a0=\u00a0arquivos[1]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- arq.name possui o nome do arquivo -- arq.stream possui o objeto stream do conte\u00fado \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*); <p> </p> <p> </p> <p> </p> function\u00a0Dialogs.saveFile(prompt, stream, [suggestedFileName [, mimeType [,\u00a0callback [,\u00a0cancelCallback]]]]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa salvar um arquivo em seu dispositivo.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre qual arquivo ele vai salvar. Exemplo: \"Salvar imagem do personagem\".</li> <li>stream - Um Um objeto stream contendo o que ser\u00e1 salvo no dispositivo do usu\u00e1rio.</li> <li>(OPCIONAL) suggestedFileName - Uma cadeia de caracteres contendo uma sugest\u00e3o de nome de arquivo para o usu\u00e1rio. Exemplo: \"novoArquivo.txt\"</li> <li>(OPCIONAL) mimeType - Uma cadeia de caracteres usada para definir o tipo de conte\u00fado que \"stream\" poss\u00fai.<ul> <li>Exemplos:\u00a0</li> <li>\"text/plain\"</li> <li>\"image/png\"</li> <li>\"image/jpeg\"</li> <li>\"application/octet-stream\"</li> </ul> </li> <li>(OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a grava\u00e7\u00e3o do arquivo</li> <li>(OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a grava\u00e7\u00e3o do arquivo.</li> </ul> <p> </p> <p>Alerta:</p> <ul> <li> </li> <li>Ap\u00f3s chamar saveFile, n\u00e3o altere e nem feche o objeto \"stream\" antes que \"callback\" ou \"cancelCallback\" seja invocado. O SDK mant\u00e9m uma refer\u00eancia ao stream at\u00e9 que o usu\u00e1rio decida gravar o arquivo e n\u00e3o \u00e9 seguro alter\u00e1-lo neste meio tempo.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta \u00e9 a \u00fanica maneira de salvar um arquivo no dispositivo do usu\u00e1rio.</li> <li>Recomenda-se informar os par\u00e2metros \"mimeType\" e \"suggestedFileName\" quando poss\u00edvel para que o SDK possa interagir com o usu\u00e1rio da melhor forma poss\u00edvel.<ul> <li>Se voc\u00ea n\u00e3o informar mimeType, o SDK automaticamente o sugere conforme a extens\u00e3o de suggestedFileName.</li> <li>Se voc\u00ea n\u00e3o informar suggestedFileName, o SDK automaticamente sugere a extens\u00e3o do arquivo conforme mimeType.</li> </ul> </li> <li>No Android:<ul> <li>Esta fun\u00e7\u00e3o apresenta aquela cl\u00e1ssifca interface de \"compartilhar\" do sistema operacional.</li> <li>A fun\u00e7\u00e3o \"callback\" \u00e9 invocada imediatamente, n\u00e3o sendo poss\u00edvel saber se o usu\u00e1rio compartilhou ou n\u00e3o o conte\u00fado de stream.</li> </ul> </li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Dialogs.selectImageURL(defaultURL, [,\u00a0callback [,\u00a0cancelCallback]]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma URL de uma imagem.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>defaultURL - Uma cadeia de caracteres contendo uma URL que ser\u00e1 sugerida para o usu\u00e1rio. Pode ser nil ou vazia.</li> <li>(OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a sele\u00e7\u00e3o de uma imagem. O primeiro par\u00e2metro desta fun\u00e7\u00e3o cont\u00e9m a URL escolhida pelo usu\u00e1rio.</li> <li>(OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a sele\u00e7\u00e3o de imagem.</li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o abre a tradicional interface de escolha de imagens do RRPG.</li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe a imagem. A \u00fanica maneira de obter a URL escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\".</li> </ul> <p> </p> <p>Exemplo:</p> Dialogs.selectImageURL(\"http://www.google.com/imagem_sugerida.png\", \u00a0 \u00a0\u00a0function(url) \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Imagem selecionada: \"\u00a0..\u00a0url); \u00a0 \u00a0\u00a0end, \u00a0 \u00a0 \u00a0 \u00a0\u00a0function() \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O usu\u00e1rio cancelou a janela\"); \u00a0 \u00a0\u00a0end);\u00a0 <p> </p> <p> </p> <p> </p> function\u00a0Dialogs.choose(prompt, options, callback [,\u00a0defaultOptionIndex, shortCircuit]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma op\u00e7\u00e3o dentre uma lista de op\u00e7\u00f5es.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> <li>options - Um array/arranjo de cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio.</li> <li>callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio fizer a escolha ou quando ele cancelar a escolha.<ul> <li>A fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem:</li> <li>selected - Um valor booleano (true ou false) indicando se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o ou se cancelou o di\u00e1logo</li> <li>selectedIndex - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um n\u00famero representando o \u00edndice do array \"options\" que representa qual op\u00e7\u00e3o o usu\u00e1rio escolheu. Lembre-se que em Lua o \u00edndice de arrays come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0. Se o usu\u00e1rio cancelou o di\u00e1logo, este par\u00e2metro conter\u00e1 nil.</li> <li>selectedText - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe o texto da op\u00e7\u00e3o escolhida conforme o par\u00e2metro \"options\". Se o usu\u00e1rio cancelou o dialogo, este par\u00e2metro conter\u00e1 nil.</li> </ul> </li> <li>(OPCIONAL) defaultOptionIndex - Um n\u00famero contendo um \u00edndice informado qual dos itens de \"options\" deve ser apresentado como a escolha padr\u00e3o. Se n\u00e3o informado, nenhuma op\u00e7\u00e3o ser\u00e1 mostrada como padr\u00e3o.</li> <li>(OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas uma op\u00e7\u00e3o a ser mostrada ao usuario, a interface n\u00e3o \u00e9 exibida e esta op\u00e7ao \u00e9 automaticamente selecionada. Se n\u00e3o informado, este par\u00e2metro assume o valor false.</li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe. A \u00fanica maneira de obter a resposta escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\".</li> <li>Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a fun\u00e7\u00e3o callback ser\u00e1 imediatamente chamada como se o usu\u00e1rio tivesse cancelado a escolha.</li> </ul> <p> </p> <p>Exemplo:</p> Dialogs.choose(\"Selecione uma das op\u00e7\u00f5es\",\u00a0{\"Op\u00e7\u00e3o 1\",\u00a0\"Op\u00e7\u00e3o 2\",\u00a0\"Op\u00e7\u00e3o 3\"}, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0function(selected,\u00a0selectedIndex,\u00a0selectedText) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0selected\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O usu\u00e1rio selecionou \u00edndice \"\u00a0..\u00a0tostring(selectedIndex)\u00a0..\u00a0\": \"\u00a0..\u00a0selectedText); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O usu\u00e1rio cancelou\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0end)\u00a0 <p> </p> <p> </p> function\u00a0Dialogs.chooseMultiple(prompt, options, callback) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma ou mais op\u00e7\u00f5es dentre uma lista de op\u00e7\u00f5es.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> <li>options - Um array/arranjo de cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio.</li> <li>callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio fizer a escolha ou quando ele cancelar a escolha.<ul> <li>A fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem:</li> <li>selected - Um valor booleano (true ou false) indicando se o usu\u00e1rio selecionou ao menos uma op\u00e7\u00e3o ou se cancelou o di\u00e1logo</li> <li>selectedIndexes - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um array de n\u00fameros representando os \u00edndices do array \"options\" que representa quais op\u00e7\u00f5es o usu\u00e1rio escolheu. Lembre-se que em Lua o \u00edndice de arrays come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0. Se o usu\u00e1rio cancelou o di\u00e1logo, este par\u00e2metro conter\u00e1 nil.</li> <li>selectedText - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um array de textos das op\u00e7\u00f5es escolhida conforme o par\u00e2metro \"options\". Se o usu\u00e1rio cancelou o dialogo, este par\u00e2metro conter\u00e1 nil.</li> </ul> </li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe. A \u00fanica maneira de obter a resposta escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\".</li> <li>Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a fun\u00e7\u00e3o callback ser\u00e1 imediatamente chamada como se o usu\u00e1rio tivesse cancelado a escolha.</li> </ul> <p> </p> <p>Exemplo:</p> Dialogs.chooseMultiple(\"Selecione uma ou mais op\u00e7\u00f5es\",\u00a0{\"Op\u00e7\u00e3o 1\",\u00a0\"Op\u00e7\u00e3o 2\",\u00a0\"Op\u00e7\u00e3o 3\"}, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0function(selected,\u00a0selectedIndexes,\u00a0selectedTexts) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0selected\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O usu\u00e1rio selecionou os \u00edndices \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 tableToStr(selectedIndexes)\u00a0..\u00a0\": \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 tableToStr(selectedTexts)); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O usu\u00e1rio cancelou\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0end)\u00a0 <p>Created with the Personal Edition of HelpNDoc: Effortlessly create a professional-quality documentation website with HelpNDoc</p>"},{"location":"BibliotecaFireDrive/","title":"Biblioteca FireDrive","text":""},{"location":"BibliotecaFireDrive/#biblioteca-firedrive_1","title":"Biblioteca FireDrive","text":"<p>A biblioteca fireDrive prov\u00ea fun\u00e7\u00f5es para manipular e gerenciar o fireDrive do usu\u00e1rio. O FireDrive \u00e9 um recurso do Firecast que permite armazenar arquivos na nuvem, compartilhar e utilizar arquivos compartilhados por outros usu\u00e1rios.</p> <p> </p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"FireDrive\" da unidade \"fireDrive.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"fireDrive.lua\" require(\"fireDrive.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca FireDrive.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p>"},{"location":"BibliotecaFireDrive/#estrutura-firedriveitem","title":"Estrutura FireDriveItem","text":"<p>Algumas fun\u00e7\u00f5es desta biblioteca retornam um ou mais FireDriveItem(s). Um FireDriveItem \u00e9 tabela lua cont\u00e9m detalhes de um arquivo/diret\u00f3rio existente no FireDrive do usu\u00e1rio.</p> <p> </p> <p>O FireDriveItem \u00e9 uma tabela Lua que cont\u00e9m as seguintes propriedades/atributos:</p> <ul> <li>id - N\u00famero que identifica unicamente este item.</li> <li>name - Cadeia de caracteres contendo o nome do arquivo/diret\u00f3rio. Se o caminho do arquivo for \"/diretorio/subpasta/arquivo.txt\", esta propriedade conter\u00e1 \"arquivo.txt\"</li> <li>isDir - Um booleano, onde true significa que o item \u00e9 um diret\u00f3rio e false significa que o item \u00e9 um arquivo.</li> <li>kind - Uma cadeia de caracteres que identifica o tipo deste item. Pode conter um dos seguintes valores:<ul> <li>\"dir\" - Um diret\u00f3rio</li> <li>\"file\" - Um arquivo simples</li> <li>\"plugin\" - Um arquivo de plug-in</li> </ul> </li> <li>parentId - Id \u00fanico que identifica em qual diret\u00f3rio este item se encontra. Se o arquivo estiver na raiz do FireDrive (exemplo: \"/arquivo.txt\"), este atributo cont\u00e9m nil.</li> <li>size - N\u00famero identificando quantos bytes este arquivo ocupa no FireDrive do usu\u00e1rio.</li> <li>isShared - Booleano, onde true significa que este item est\u00e1 compartilhado com todos do Firecast, ou false significando que o item n\u00e3o est\u00e1 acess\u00edvel para outros.</li> <li>isMine - Booleano, onde true significa que o usu\u00e1rio criou o item, e false significa que o item foi criado por outra pessoa e foi importado.</li> <li>sharedId - N\u00famero que identifica este item unicamente e globalmente no Firecast. \u00c9 utilizado para compartilhar arquivos com outras pessoas do programa.</li> <li>keyWords - Cadeia de caracteres contendo as palavras chaves do item</li> <li>description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do item</li> <li>url - Se for um arquivo, cont\u00e9m a URL para baixar seus dados.</li> <li>mimeType - Se for um arquivo, cont\u00e9m o MIME/Content-Type do arquivo. (Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc..);</li> <li>urlThumb64 - Se preenchido, cont\u00e9m A URL de uma imagem thumbnail do item. Este thumbnail cabe em quadrado de 64x64 de forma a manter o aspecto da imagem.</li> </ul> <p> </p>"},{"location":"BibliotecaFireDrive/#funcoes-da-biblioteca-firedrive","title":"Fun\u00e7\u00f5es da biblioteca FireDrive","text":""},{"location":"BibliotecaFireDrive/#_1","title":"","text":"function\u00a0FireDrive.getFiles(directory[, callback[, failureCallback]]) <p>Obt\u00e9m a lista de arquivos e diret\u00f3rios que est\u00e3o dentro de uma pasta no FireDrive do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>directory - Uma cadeia de caracteres contendo um caminho de uma pasta que existe no FireDrive do usu\u00e1rio. O conte\u00fado desta pasta ser\u00e1 enumerada. Exemplos:<ul> <li>Se quiser enumerar o conte\u00fado da raiz do FireDrive, utilize \"/\"</li> <li>Se quiser enumerar o conte\u00fado da pasta \"imagens\", utilize \"/imagens\".</li> <li>Se quiser enumerar o conte\u00fado da subpasta \"medievais\" da pasta \"imagens\", utilize \"/imagens/medievais\"</li> </ul> </li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a lista de arquivos/diret\u00f3rios tiver sido obtida com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um arranjo de FireDriveItem</li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a lista de arquivos/diret\u00f3rios n\u00e3o puder ser obtida. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> </ul> <p> </p> <p> </p>"},{"location":"BibliotecaFireDrive/#_2","title":"","text":"function\u00a0FireDrive.refresh([, callback[, failureCallback]]) <p>Durante a execu\u00e7\u00e3o, o FireDrive mant\u00e9m algumas informa\u00e7\u00f5es em cache na mem\u00f3ria, como a lista dos arquivos de cada pasta do FireDrive. Esta fun\u00e7\u00e3o for\u00e7a a atualiza\u00e7\u00e3o destas informa\u00e7\u00f5es que est\u00e3o guardas em cache na mem\u00f3ria.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a atualiza\u00e7\u00e3o tiver sido executada com sucesso.</li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a atualiza\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0FireDrive.getFileInfo(fileName[, callback[, failureCallback]]) <p> </p> <p>Obt\u00e9m informa\u00e7\u00f5es de um arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>fileName - Uma cadeia de caracteres contendo o caminho de um arquivo/diret\u00f3rio que existe no FireDrive do usu\u00e1rio. Ser\u00e3o retornadas as informa\u00e7\u00f5es deste arquivo.</li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando as informa\u00e7\u00f5es tiverem sido obtidas com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo ou nil caso n\u00e3o exista.</li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0FireDrive.upload(destFileName, stream[, successCallback[, progressCallback[, failureCallback[, mimeType]]]]) <p> </p> <p>Efetua o upload de um conte\u00fado/arquivo para o FireDrive do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>destFileName - Uma cadeia de caracteres contendo o caminho de um arquivo no FireDrive do usu\u00e1rio onde os dados ser\u00e3o salvos.\u00a0</li> <li>stream - Um objeto Stream contendo os dados que ser\u00e3o enviados e salvos no servidor.</li> <li>(OPCIONAL) successCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o upload tiver sido feito com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo no servidor.</li> <li>(OPCIONAL) progressCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada de tempos em tempos informando o progresso do envio do arquivo. A fun\u00e7\u00e3o recebe 2 par\u00e2metros: currentBytes e maxBytes, representando, respectivamente, quantos bytes j\u00e1 foram enviados e quantos bytes ser\u00e3o enviados no final das contas.</li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> <li>(OPCIONAL) mimeType - Uma cadeia de caracteres contendo o mimeType/contentType do dados. Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc... Se n\u00e3o informado, o fireDrive automaticamente definir\u00e1 o mimeType com base na extens\u00e3o do arquivo destino.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"successCallback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> <li>Se o arquivo j\u00e1 existir no FireDrive do usu\u00e1rio, esta fun\u00e7\u00e3o sobrescreve seu conte\u00fado e n\u00e3o reporta falha.</li> </ul> <p> </p> <p> </p> function\u00a0FireDrive.quickUpload(suggestedFileName, mimeType, stream[, successCallback[, progressCallback[, failureCallback]]]) <p> </p> <p>Efetua o upload de um conte\u00fado/arquivo para o FireDrive do Firecast de forma descomplicada que ser\u00e1 armazenado temporariamente.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>suggestedFileName - Uma cadeia de caracteres contendo uma sugest\u00e3o de nome de arquivo para ser armazenado. \\ \u00a0 \u00a0 \u00a0 \u00a0 Pode ser nil: neste caso, o FireDrive criar\u00e1 um nome aleat\u00f3rio para o upload.</li> <li>mimeType - Uma cadeia de caracteres contendo o mimeType/contentType do dados. Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc... \\ \u00a0 \u00a0 \u00a0 \u00a0 Pode ser passado nil como par\u00e2metro: Neste caso, o fireDrive automaticamente definir\u00e1 o mimeType com base na extens\u00e3o de \"suggestedFileName\".</li> <li>stream - Um objeto Stream contendo os dados que ser\u00e3o enviados e salvos no servidor.</li> <li>(OPCIONAL) successCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o upload tiver sido feito com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo no servidor.</li> <li>(OPCIONAL) progressCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada de tempos em tempos informando o progresso do envio do arquivo. A fun\u00e7\u00e3o recebe 2 par\u00e2metros: currentBytes e maxBytes, representando, respectivamente, quantos bytes j\u00e1 foram enviados e quantos bytes ser\u00e3o enviados no final das contas.</li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"successCallback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> <li>O upload \u00e9 armazenado em um espa\u00e7o tempor\u00e1rio do Firecast. Ele n\u00e3o ser\u00e1 visto na pasta FireDrive do usu\u00e1rio.</li> <li>Lembre-se: Este upload tem caracter\u00edsticas tempor\u00e1rias. O Firecast poder\u00e1 excluir o upload, sem aviso pr\u00e9vio, ap\u00f3s algum tempo.</li> <li>N\u00e3o \u00e9 poss\u00edvel fazer o upload se ambos os par\u00e2metros \"suggestedFileName\" e \"mimeType\" n\u00e3o forem informados corretamente. Ao menos um deles deve ser informado corretamente.</li> </ul> <p> </p> <p> </p> function\u00a0FireDrive.createDirectory(directoryName, [, callback[, failureCallback]]) <p> </p> <p>Cria um diret\u00f3rio no FireDrive do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>directoryName - Uma cadeia de caracteres contendo o caminho do diret\u00f3rio que ser\u00e1 criado no FireDrive do usu\u00e1rio.\u00a0</li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o diret\u00f3rio tiver sido criado com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do diret\u00f3rio no servidor.</li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> <li>Se o diret\u00f3rio j\u00e1 existir no FireDrive do usu\u00e1rio, ele \u00e9 preservado no servidor sem altera\u00e7\u00f5es e a fun\u00e7\u00e3o \"callback\" \u00e9 invocada sinalizando \u00eaxito.</li> </ul> <p> </p> <p> </p> function\u00a0FireDrive.delete(destFileName, [, callback[, failureCallback]]) <p> </p> <p>Exclui um arquivo ou diret\u00f3rio do FireDrive do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>destFileName - Uma cadeia de caracteres contendo o caminho do arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio que ser\u00e1 removido;</li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a opera\u00e7\u00e3o tiver sido realizada com sucesso.</li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> <li>Se for removido um diret\u00f3rio, todo seu conte\u00fado, pastas e sub-pastas ser\u00e3o exclu\u00eddos juntos com esta opera\u00e7\u00e3o.</li> </ul> <p> </p> <p> </p> function\u00a0FireDrive.rename(existingFileName, newFileName [, callback[, failureCallback]]) <p> </p> <p>Renomeia/move um arquivo ou diret\u00f3rio do FireDrive do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>existingFileName - Uma cadeia de caracteres contendo o caminho do arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio que ser\u00e1 renomeado/movido;</li> <li>newFileName - Uma cadeia de caracteres contendo o novo caminho do arquivo/diret\u00f3rio. Este par\u00e2metro deve conter o novo caminho completo do arquivo/diret\u00f3rio.</li> <li>(OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a opera\u00e7\u00e3o tiver sido realizada com sucesso.</li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> <li>O valor \"newFileName\" deve conter o novo caminho completo do arquivo. \u00c9 poss\u00edvel mover o arquivo atrav\u00e9s deste m\u00e9todo, basta especificar uma outra pasta para o par\u00e2metro \"newFileName\", exemplo: existingFileName=\"/pasta1/x.txt\" e newFileName=\"/nova_pasta/x.txt\".</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0FireDrive.getSpaceInfo(callback[, failureCallback]); <p> </p> <p>Retorna as informa\u00e7\u00f5es de espa\u00e7o do FireDrive do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando as informa\u00e7\u00f5es de espa\u00e7o do FireDrive forem obtidas. A fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro uma tabela Lua com as seguintes propriedades:<ul> <li>used - Quantidade de bytes usados no armazenamento do FireDrive do usu\u00e1rio</li> <li>total - Quantidade total de bytes que o usu\u00e1rio pode armazenar no FireDrive.</li> </ul> </li> <li>(OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Revolutionize Your CHM Help File Output with HelpNDoc</p>"},{"location":"BibliotecaFirecast/","title":"Biblioteca Firecast","text":""},{"location":"BibliotecaFirecast/#biblioteca-firecast_1","title":"Biblioteca Firecast","text":"<p>A biblioteca firecast cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0s mesas, personagens, envio de mensagens, rolagem de dados, etc..</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Firecast\" da unidade \"firecast.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"firecast.lua\" require(\"firecast.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaFirecast/#funcoes-da-biblioteca-firecast","title":"Fun\u00e7\u00f5es da biblioteca Firecast","text":"function\u00a0Firecast.asyncOpenUserNDB(name[, options]) <p>Asynchronously open a per-user NodeDatabase that is physically stored in the Firecast server.</p> <p> </p> <p>Arguments:</p> <ul> <li>name - A string identifying which remote user NodeDatabase should be opened</li> <li>(OPTIONAL) options - A Lua table describing additional settings that may contain:<ul> <li>create - a boolean. If true, the NodeDatabase can be created if it does not exist. Default: false</li> <li>skipLoad - a boolean. If true, the returned Promise will be resolved before the load process is finished. If true, you will receive a \u201cLoading node\u201d instead of a \u201cLoaded node\u201d. Default: false</li> </ul> </li> </ul> <p> </p> <p>Return:</p> <ul> <li> </li> <li>a Promise of a Node Object. As default behavior, the Promise will be resolved after all data is downloaded and available to be used.</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>The content of NodeDatabases opened by this function is stored separately per-user. Each user will have their own copy of the NodeDatabase identified by the \u201cname\u201d argument</li> </ul> <p> </p> <p>Example:</p> <p> </p> <ol> <li>local promise = Firecast.asyncOpenUserNDB(\"exampleNodeDatabase\", {create=true});</li> <li></li> <li>promise:thenDo(</li> <li>function(node)</li> <li>*-- This function will be called when/if the *</li> <li>*-- load completes. The first argument, *</li> <li>-- \"node\", contains the root node of the opened nodedatabase</li> <li>end,</li> <li> </li> <li>function(errorMsg)</li> <li>*-- This function will be called when/if the *</li> <li>*-- load fails. The first argument, *</li> <li>-- \"errorMsg\", contains the message explaining why</li> <li>-- it was not possible to open the nodeDatabase</li> <li>end);</li> </ol> <p> </p> <p> </p> <p> </p> <p> </p> function\u00a0Firecast.getMesas() <p> </p> <p>Retorna a lista de objetos mesas representando as mesas em que o usu\u00e1rio est\u00e1 no momento.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um arranjo de objeto mesa, isto \u00e9, uma tabela lua indexada de 1 a N.</li> </ul> <p> </p> <p> </p> <p>Exemplo - Exibindo uma mensagem contendo o nome e o sistema de todas as mesas em que o usu\u00e1rio est\u00e1:\\ \u00a0</p> local\u00a0mesas\u00a0=\u00a0Firecast.getMesas(); local\u00a0msg\u00a0=\u00a0\"\";\u00a0 for\u00a0i\u00a0=\u00a01,\u00a0#mesas,\u00a01\u00a0do local\u00a0objMesa\u00a0=\u00a0mesas[i]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 msg\u00a0=\u00a0msg\u00a0..\u00a0objMesa.nome\u00a0..\u00a0\" (\"\u00a0..\u00a0objMesa.sistema\u00a0..\u00a0\")\\n\"; end;\u00a0 showMessage(msg); <p> </p> <p> </p> function\u00a0Firecast.findMesa(codigoInterno) <p> </p> <p>Dado o c\u00f3digo interno de uma mesa, localiza o objeto mesa de c\u00f3digo interno correspondente.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto mesa ou nil caso n\u00e3o encontre.</li> </ul> <p> </p> <p> </p> function\u00a0Firecast.interpretarRolagem(stringDaRolagem) <p> </p> <p>Dado uma cadeia de caracteres representando uma rolagem de dados (Exemplos: \"1d20 + 5\", \"1d20 + 1d10 - 5\", etc..), retorna um objeto rolagem que cont\u00e9m as informa\u00e7\u00f5es sobre a mesma.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>stringDaRolagem - cadeia de caracteres que deseja interpretar como um objeto rolagem.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um Objeto Rolagem contendo a interpreta\u00e7\u00e3o.</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>Se stringDaRolagem n\u00e3o possuir uma cadeia de caracteres v\u00e1lida, o novo objeto rolagem ainda ser\u00e1 retornado, por\u00e9m vazio.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Firecast.getRoomOf(object) <p> </p> <p>Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto mesa ele est\u00e1 ligado.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>object - O objeto que deseja tentar determinar \u00e0 qual objeto mesa ele pertence ou est\u00e1 ligado.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um Objeto Mesa, caso a fun\u00e7\u00e3o consiga determinar</li> <li>nil, caso a fun\u00e7\u00e3o n\u00e3o consiga determinar</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o:<ul> <li>objeto Nodo. Se o NodeDatabase for de um personagem ou estiver ligado \u00e0 uma mesa, a fun\u00e7\u00e3o retorna o objeto mesa.</li> <li>objeto BibliotecaItem. A fun\u00e7\u00e3o retorna \u00e0 qual mesa o item da biblioteca pertence.</li> <li>objeto Personagem.</li> <li>objeto Jogador.</li> <li>objeto Chat</li> <li>objeto form de formType Table's Dock</li> <li>objeto Scene</li> <li>Outros objetos que possam estar ligados \u00e0 alguma mesa.</li> </ul> </li> <li>Tamb\u00e9m \u00e9 poss\u00edvel passar um valor num\u00e9rico para esta fun\u00e7\u00e3o. Se for passado um valor num\u00e9rico, esta fun\u00e7\u00e3o se comporta como a fun\u00e7\u00e3o rrpg.findMesa.</li> </ul> <p> </p> <p> </p> function\u00a0Firecast.getBibliotecaItemDe(objeto) <p> </p> <p>Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto BibliotecaItem ele est\u00e1 ligado.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>objeto - O objeto que deseja tentar determinar \u00e0 qual objeto BibliotecaItem ele pertence ou est\u00e1 ligado.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um Objeto BibliotecaItem caso a fun\u00e7\u00e3o consiga determinar</li> <li>nil, caso a fun\u00e7\u00e3o n\u00e3o consiga determinar</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o:<ul> <li>objeto Nodo. Se o NodeDatabase for de um item na biblioteca, a fun\u00e7\u00e3o retorna o objeto biblioteca item.</li> <li>Outros objetos que possam estar ligados \u00e0 biblioteca da mesa.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0Firecast.getPersonagemDe(object) <p> </p> <p>Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto Personagem ele est\u00e1 ligado.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>object - O objeto que deseja tentar determinar \u00e0 qual objeto Personagem ele pertence ou est\u00e1 ligado.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um Objeto Personagem caso a fun\u00e7\u00e3o consiga determinar</li> <li>nil, caso a fun\u00e7\u00e3o n\u00e3o consiga determinar</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o:<ul> <li>objeto Nodo. Se o NodeDatabase for de um personagem, a fun\u00e7\u00e3o retorna o objeto personagem.</li> <li>Outros objetos que possam estar ligados aos personagens da mesa.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0Firecast.getCurrentUser() <p> </p> <p>Retorna uma tabela contendo informa\u00e7\u00f5es do usu\u00e1rio logado atualmente no Firecast.</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um tabela LUA contendo as seguintes propriedades/atributos:<ul> <li>isLogged - Boleano (true ou false) indicando se possui um usu\u00e1rio logado no momento.</li> <li>login - Se o usu\u00e1rio tiver logado, cont\u00e9m uma cadeia de caracteres contendo seu login/username.</li> <li>isGold - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Gold</li> <li>isGoldPlus - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Platinum / RRPG Gold Plus</li> <li>isRuby - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Ruby</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0Firecast.registerChatToolButton(params) <p> </p> <p>Registra um bot\u00e3o-ferramenta que ser\u00e1 apresentado nos chats do Firecast.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>params - Uma tabela Lua contendo as seguintes propriedades do bot\u00e3o:<ul> <li>\"hint\" - Um string que ser\u00e1 apresentado ao usu\u00e1rio quando ele arrastar o mouse em cima do bot\u00e3o.</li> <li>\"icon\" - Um string contendo o endere\u00e7o da imagem que ser\u00e1 apresentada como \u00edcone do bot\u00e3o.</li> <li>\"callback\" - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o usu\u00e1rio clicar no bot\u00e3o. Seu primeiro par\u00e2metro recebe um objeto Chat representado em qual chat o usu\u00e1rio clicou no bot\u00e3o.</li> <li>(OPCIONAL) \"priority\" - Se quiser sugerir a ordem dos bot\u00f5es, informe um n\u00famero em priority. Bot\u00f5es com prioridade maior aparecem antes dos com prioridade menor.</li> <li>(OPCIONAL) \"group\" - Um string. Se quiser v\u00e1rios bot\u00f5es ficarem juntos, voc\u00ea pode especificar o mesmo valor em group para eles.</li> <li>(OPCIONAL) \"groupPriority\" - Se quiser sugerir a ordem do grupo de bot\u00f5es, informe um n\u00famero nesta propriedade. Grupos de bot\u00f5es com maior prioridade aparecem antes dos grupos com menor prioridade.</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um identificador do bot\u00e3o criado. Este valor pode ser usado na fun\u00e7\u00e3o Firecast.unregisterChatToolButton se quiser remover o bot\u00e3o.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>O \u00edcone informado poder\u00e1 sofrer tratamento visual para se encaixar no tema do Firecast. Use \u00edcones com transpar\u00eancia e cuja \"sombra\" seja capaz de remeter seu significado.</li> <li>O bot\u00e3o s\u00f3 ser\u00e1 apresentado se:<ul> <li>O usu\u00e1rio for assinante Gold.</li> <li>Ou o usu\u00e1rio n\u00e3o for pagante e estiver em mesa cujo dono seja assinante Gold+/Platina.</li> </ul> </li> </ul> <p> </p> <p>Exemplo:</p> local\u00a0params\u00a0=\u00a0{}; params.hint\u00a0=\u00a0\"This button do @@localized.text.id\"; params.icon\u00a0=\u00a0\"/icons/myIcon.png\"; params.priority\u00a0=\u00a010; params.group\u00a0=\u00a0\"myButtonGroup\"; \u00a0 params.callback\u00a0= \u00a0 \u00a0\u00a0function(chat) \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- the param \"chat\" contains good information to handle =) \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"User clicked the button\"); \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 Firecast.registerChatToolButton(params);\u00a0 <p> </p> <p> </p> <p> </p> function\u00a0Firecast.unregisterChatToolButton(toolButtonId) <p> </p> <p>Desregistra um bot\u00e3o-ferramenta de chat previamente instalado pela fun\u00e7\u00e3o Firecast.registerChatToolButton.\u00a0</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>toolButtonId - O identificador retornado pela fun\u00e7\u00e3o Firecast.registerChatToolButton.\u00a0</li> </ul> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Easily create EBooks</p>"},{"location":"BibliotecaFirecastMessaging/","title":"Biblioteca Firecast.Messaging","text":""},{"location":"BibliotecaFirecastMessaging/#biblioteca-firecastmessaging_1","title":"Biblioteca Firecast.Messaging","text":"<p>A biblioteca Firecast.Messaging cont\u00e9m fun\u00e7\u00f5es que tratam as notifica\u00e7\u00f5es que o Firecast dispara para todos os plug-ins atrav\u00e9s de mensagens.</p> <p> </p> <p>Em resumo, existem 2 tipos de eventos que o SDK 3 permite o programador \"tratar\":</p> <ul> <li>Eventos de tags/controles - S\u00e3o eventos espec\u00edficos de cada controle.</li> <li>Mensagens do Firecast - S\u00e3o acontecimentos que s\u00e3o compartilhado com todos os plugins instalados, pois podem ser de interesse de todos. Exemplos: Quando a conex\u00e3o do RRPG cai, quando o usu\u00e1rio entra em uma nova mesa, etc..</li> </ul> <p> </p> <p>Esta biblioteca auxilia na manipula\u00e7\u00e3o do segundo tipo de evento descrito acima.</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"firecast.lua\" require(\"firecast.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Messaging.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaFirecastMessaging/#funcoes-da-biblioteca-firecastmessaging","title":"Fun\u00e7\u00f5es da biblioteca Firecast.Messaging","text":"function\u00a0Firecast.Messaging.newReceiver(messageName, callbackFunction [, filters]) <p>Cria e retorna um objeto que representa a \"escuta\" de mensagens eventos.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>messageName - uma cadeia de caracteres definindo qual mensagem-evento a escuta deve ouvir. Para saber quais mensagens voc\u00ea pode escutar, veja Lista de Mensagens Eventos do Firecast.</li> <li>callbackFunction - uma fun\u00e7\u00e3o que ser\u00e1 invocada sempre que a escuta captar uma mensagem. Quando invocada, a fun\u00e7\u00e3o recebe no primeiro par\u00e2metro uma tabela/objeto lua contendo as propriedades da mensagem. Cada mensagem-evento possui sua pr\u00f3pria lista de atributos e voc\u00ea deve, portanto, consultar Lista de Mensagens-Eventos do Firecast para mais detalhes..</li> <li>(OPCIONAL) filters - Uma tabela/objeto Lua contendo filtros que a escuta deve verificar para decidir se deve invocar \"callbackFunction\" ou n\u00e3o. Exemplo:<ul> <li>Filters= {from=\"Login\"}. A escuta s\u00f3 disparar\u00e1 \"callbackFunction\" se a mensagem possuir um atributo de nome \"from\" com conte\u00fado igual a \"Login\".</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto representando a escuta instalada ou nil caso falhe</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Mantenha refer\u00eancia ao objeto retornado enquanto a escuta for necess\u00e1ria. Se o objeto for liberado da mem\u00f3ria pelo coletor de lixo, a escuta ser\u00e1 desinstalada automaticamente.</li> <li>A fun\u00e7\u00e3o n\u00e3o falha se voc\u00ea informar, no par\u00e2metro \"messageName\", uma identifica\u00e7\u00e3o de mensagem n\u00e3o esteja na lista Lista de Mensagens-Eventos do Firecast, mas, provavelmente, a escuta nunca ir\u00e1 disparar\u00e1 a fun\u00e7\u00e3o \"callbackFunction\".</li> <li>\u00c9 poss\u00edvel cancelar a escuta de 3 maneiras:<ul> <li>Invocar a fun\u00e7\u00e3o receiverObj:disable() do objeto retornado, conforme exemplo abaixo</li> <li>Retornar explicitamente false na \"callbackFunction\"</li> <li>Deixar o coletor de lixo do Lua coletar o objeto, eventualmente.</li> </ul> </li> <li>A diferen\u00e7a b\u00e1sica entre Firecast.Messaging.newReceiver e Firecast.Messaging.listen \u00e9 a forma de gerenciar o ciclo de vida da escuta.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> require(\"firecast.lua\"); \u00a0 local receiverObj = Firecast.Messaging.newReceiver(\"SessionLost\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(msg) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- This function will be called when the Firecast connection is lost \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"The connect was lost!\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); \u00a0 -- To disable the receiver: receiverObj:disable(); -- disable right now receiverObj = nil; \u00a0-- let the garbage collector disable the receiver <p> </p> <p> </p> function\u00a0Firecast.listen(messageName, callbackFunction [, filters]) ou function\u00a0Firecast.Messaging.listen(messageName, callbackFunction [, filters]) <p> </p> <p>Instala uma \"escuta\" de mensagens eventos.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>messageName - uma cadeia de caracteres definindo qual mensagem-evento a escuta deve ouvir. Para saber quais mensagens voc\u00ea pode escutar, veja Lista de Mensagens Eventos do Firecast.</li> <li>callbackFunction - uma fun\u00e7\u00e3o que ser\u00e1 invocada sempre que a escuta captar uma mensagem. Quando invocada, a fun\u00e7\u00e3o recebe no primeiro par\u00e2metro uma tabela/objeto lua contendo as propriedades da mensagem. Cada mensagem-evento possui sua pr\u00f3pria lista de atributos e voc\u00ea deve, portanto, consultar Lista de Mensagens-Eventos do Firecast para mais detalhes..</li> <li>(OPCIONAL) filters - Uma tabela/objeto Lua contendo filtros que a escuta deve verificar para decidir se deve invocar \"callbackFunction\" ou n\u00e3o. Exemplo:<ul> <li>Filters= {from=\"Login\"}. A escuta s\u00f3 disparar\u00e1 \"callbackFunction\" se a mensagem possuir um atributo de nome \"from\" com conte\u00fado igual a \"Login\".</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um n\u00famero identificando a escuta instalada ou nil caso falhe. Voc\u00ea pode utilizar este valor na fun\u00e7\u00e3o Firecast.Messaging.unlisten para cancelar a escuta .</li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o falha se voc\u00ea informar, no par\u00e2metro \"messageName\", uma identifica\u00e7\u00e3o de mensagem n\u00e3o esteja na lista Lista de Mensagens-Eventos do Firecast, mas, provavelmente, a escuta nunca ir\u00e1 disparar\u00e1 a fun\u00e7\u00e3o \"callbackFunction\".</li> <li>\u00c9 poss\u00edvel cancelar a escuta de 2 maneiras:<ul> <li>Invocar a fun\u00e7\u00e3o Firecast.Messaging.unlisten passando o valor retornado por esta fun\u00e7\u00e3o (rrpg.messaging.listen) como par\u00e2metro;</li> <li>Retornar explicitamente false na \"callbackFunction\"</li> </ul> </li> <li>A diferen\u00e7a b\u00e1sica entre Firecast.Messaging.newReceiver e Firecast.Messaging.listen \u00e9 a forma de gerenciar o ciclo de vida da escuta.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> require(\"firecast.lua\");\u00a0 Firecast.Messaging.listen(\"SessionLost\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(detalhesDaMensagem) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando a conex\u00e3o do RRPG for perdida \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"A conex\u00e3o foi perdida!\"); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); <p> </p> <p> </p> function\u00a0Firecast.listenOnce(messageName, callbackFunction [, filters]) ou function\u00a0Firecast.Messaging.listenOnce(messageName, callbackFunction [, filters]) <p> </p> <p>Instala uma \"escuta\" de mensagens eventos. O funcionamento \u00e9 id\u00eantico \u00e0 da fun\u00e7\u00e3o Firecast.Messaging.listen, por\u00e9m a escuta \u00e9 automaticamente desinstalada ap\u00f3s captar 1 mensagem.</p> <p> </p> <p> </p> <p> </p> function\u00a0Firecast.unlisten(listenerId) ou function\u00a0Firecast.Messaging.unlisten(listenerId) <p> </p> <p>Desinstala uma \"escuta\" que foi previamente instalada pela fun\u00e7\u00e3o Firecast.Messaging.listen ou pela fun\u00e7\u00e3o Firecast.Messaging.listenOnce.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>listenerId - Identifica\u00e7\u00e3o da escuta a ser desinstalada. A identifica\u00e7\u00e3o da escuta \u00e9 retornada pela fun\u00e7\u00e3o que instala escutas (Firecast.Messaging.listen ou Firecast.Messaging.listenOnce)</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Firecast.groupOnceListeners(listenerId1 [, listenerId2 [, listenerId3 [, listenerIdN...]]]) ou function\u00a0Firecast.Messaging.groupOnceListeners(listenerId1 [, listenerId2 [, listenerId3 [, listenerIdN...]]]) <p> </p> <p>Agrupa \"escuta\" de mensagens-eventos do tipo once (\u00e0quela que capta somente 1 mensagem). Quando OnceListeners s\u00e3o agrupados, a caracter\u00edstica de se desinstalar automaticamente ap\u00f3s receber a primeira mensagem \u00e9 \"expandida\" para o grupo. Isto \u00e9, quando o Listener1 captar uma mensagem e se desinstalar, o Listener2, Listener3 e ListenerN s\u00e3o automaticamente desinstalados juntos.</p> <p> </p> <p>Esta fun\u00e7\u00e3o \u00e9 especialmente \u00fatil em situa\u00e7\u00f5es que possam resultar 2 ou mais mensagens-eventos distintas. Exemplo: O c\u00f3digo requisitou a cria\u00e7\u00e3o de 1 novo personagem em uma mesa... duas coisas podem acontecer: O servidor pode responder \u00e0 requisi\u00e7\u00e3o ou a conex\u00e3o com o rrpg pode cair. Nesta situa\u00e7\u00e3o, devemos instalar uma escuta \"Quando o servidor responder\", uma escuta \"Quando a conex\u00e3o cair\" e agrup\u00e1-las. Note que se o servidor responder, n\u00e3o estaremos mais interessados se a conex\u00e3o cair e vice-versa.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>listenerId1, listenerId2, listenerId3, listenerId4, listenerId5, listenerIdN... As identifica\u00e7\u00f5es de escuta que queira agrupar. Este valor \u00e9 retornado pela fun\u00e7\u00e3o Firecast.Messaging.listenOnce.\u00a0<ul> <li>Este \u00e9 um par\u00e2metro \"vararg\", isto \u00e9, voc\u00ea pode passar quantos valores quiser. Exemplo de chamadas v\u00e1lidas: Firecast.Messaging.groupOnceListeners(id1, id2) ou rrpg.messaging.groupOnceListeners(id1, id2, id3, id4, id5, id7, id8).</li> </ul> </li> </ul> <p>Created with the Personal Edition of HelpNDoc: Make your documentation accessible on any device with HelpNDoc</p>"},{"location":"BibliotecaFirecastPlugins/","title":"Biblioteca Firecast.Plugins","text":""},{"location":"BibliotecaFirecastPlugins/#biblioteca-firecastplugins_1","title":"Biblioteca Firecast.Plugins","text":"<p>A biblioteca Firecast.Plugins cont\u00e9m fun\u00e7\u00f5es relacionadas aos plug-ins instalados no Firecast.</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Firecast.Plugins\" da unidade \"plugins.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"plugins.lua\" require(\"plugins.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Plugins.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaFirecastPlugins/#funcoes-de-gerenciamento-de-plugins","title":"Fun\u00e7\u00f5es de Gerenciamento de Plugins","text":"function\u00a0Firecast.Plugins.getInstalledDataTypes() <p>Retorna a lista de DataTypes instalados no Firecast.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno:</p> <ul> <li>Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um DataType instalado e possuem, cada um, os seguintes atributos:<ul> <li>moduleId - Cadeia de caracteres identificando qual plug-in instalou o dataType.</li> <li>dataType - Cadeia de caracteres identificando o dataType</li> <li>formType - Cadeia de caracteres identificando o formType. Veja atributo formType da tag form para saber quais s\u00e3o os poss\u00edveis valores deste atributo.</li> <li>title - Cadeia de caracteres que identifica o dataType de forma intuitiva para o usu\u00e1rio.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0Firecast.Plugins.getInstalledPlugins() <p> </p> <p>Retorna a lista de plug-ins SDK 3 instalados no Firecast.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um Plug-in instalado e possuem, cada um, os seguintes atributos:<ul> <li>moduleId - Cadeia de caracteres com a identifica\u00e7\u00e3o \u00fanica do plug-in.</li> <li>name - Cadeia de caracteres contendo o nome do plug-in.</li> <li>version - Cadeia de caracteres contendo a vers\u00e3o do plug-in.</li> <li>description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do plug-in.</li> <li>author - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre o autor do plug-in.</li> <li>site - Cadeia de caracteres contendo informa\u00e7\u00f5es do website relacionado ao plug-in.</li> <li>contact - Cadeia de caracteres contendo informa\u00e7\u00f5es sober como entra em contato com o autor do plug-in.</li> <li>fileName - Cadeia de caracteres contendo o nome do arquivo \".rpk\" relacionado a este plug-in. Este atributo cont\u00e9m apenas o nome curto do arquivo e n\u00e3o descreve sua localiza\u00e7\u00e3o no HD. Exemplos: \"DnD.rpk\", \"Vampiros.rpk\", etc..</li> <li>compilationTimestamp - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado por um n\u00famero inteiro, contendo quantos segundos se passaram desde UNIX Epoch (01 de janeiro de 1970)</li> <li>compilationTimestampStr - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado em uma cadeia de caracteres de tamanho fixo no formato \"ddmmyyyyhhnnss\" (onde \"nn\" s\u00e3o os minutos)</li> <li>compilationDigest - Uma cadeia de caracteres contento o hash SHA-1 do conte\u00fado do plugin. Um plugin pode ser compilado mais de uma vez, e, por isso, compilationTimestamp pode variar sem que o conte\u00fado do plugin mude. \u00c9 seguro afirmar que se compilationDigest n\u00e3o mudar, ent\u00e3o o conte\u00fado do plugin n\u00e3o mudou. Este campo est\u00e1 presente em plugins compilados com o SDK 3.5+.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0Firecast.Plugins.getInstalledTablesDock() <p> </p> <p>Retorna a lista de \"Table's Dock\"/janelas acopl\u00e1veis instalados no Firecast.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um Table's Dock que o usu\u00e1rio pode utilizar em suas mesas, cada um, os seguintes atributos:<ul> <li>moduleId - Cadeia de caracteres identificando qual plug-in instalou o TablesDock.</li> <li>name - Cadeia de caracteres contendo o nome do formul\u00e1rio</li> <li>dataType - Cadeia de caracteres identificando o dataType do formul\u00e1rio TablesDock</li> <li>title - Cadeia de caracteres que identifica o Table's Dock de forma intuitiva para o usu\u00e1rio.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0Firecast.Plugins.getRPKDetails(stream) <p> </p> <p>Retorna algumas informa\u00e7\u00f5es sobre um stream contendo um plug-in SDK3 (arquivo de extens\u00e3o .rpk).</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>stream - Um objeto Stream que possui o conte\u00fado do arquivo \".rpk\"</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Se o par\u00e2metro \"stream\" contiver um arquivo .rpk v\u00e1lido, a fun\u00e7\u00e3o retorna uma tabela lua com os seguintes atributos:<ul> <li>moduleId - Cadeia de caracteres contendo o identificador \u00fanico do plug-in</li> <li>name - Cadeia de caracteres contendo o nome do plug-in</li> <li>version - Cadeia de caracteres contendo a vers\u00e3o do plug-in</li> <li>description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do plug-in.</li> <li>author - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do autor do plug-in.</li> <li>site - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre o website do plug-in.</li> <li>contact - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre como contatar o autor do plug-in.</li> <li>minApiVersion - N\u00famero contendo qual a vers\u00e3o de API do SDK3 m\u00ednima para este plug-in rodar.</li> <li>sdkVersion - Cadeia de caracteres contendo qual a vers\u00e3o do SDK3 o plug-in foi compilado.</li> <li>compilationTimestamp - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado por um n\u00famero inteiro, contendo quantos segundos se passaram desde UNIX Epoch (01 de janeiro de 1970)</li> <li>compilationTimestampStr - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado em uma cadeia de caracteres de tamanho fixo no formato \"ddmmyyyyhhnnss\" (onde \"nn\" s\u00e3o os minutos)</li> <li>compilationDigest - Uma cadeia de caracteres contento o hash SHA-1 do conte\u00fado do plugin. Um plugin pode ser compilado mais de uma vez, e, por isso, compilationTimestamp pode variar sem que o conte\u00fado do plugin mude. \u00c9 seguro afirmar que se compilationDigest n\u00e3o mudar, ent\u00e3o o conte\u00fado do plugin n\u00e3o mudou. Este campo est\u00e1 presente em plugins compilados com o SDK 3.5+.</li> </ul> </li> <li>Se o par\u00e2metro \"stream\" n\u00e3o contiver um arquivo rpk v\u00e1lido, a fun\u00e7\u00e3o retorna nil.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o come\u00e7a a ler o stream \u00e0 partir da posi\u00e7\u00e3o 0.</li> </ul> <p> </p> <p> </p> function\u00a0Firecast.Plugins.installPlugin(stream [,\u00a0ignoreIfOlder]) <p> </p> <p>Instala um plug-in SDK3 no Firecast.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>stream - Um objeto Stream que possui o conte\u00fado do arquivo \".rpk\" que deseja instalar.</li> <li>(OPCIONAL) ignoreIfOlder - Booleano indicando se a fun\u00e7\u00e3o deve ignorar a instala\u00e7\u00e3o caso exista uma vers\u00e3o mais nova j\u00e1 instalada deste plug-in. Se omitido, o par\u00e2metro possui valor false.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Se a instala\u00e7\u00e3o for bem sucedida, a fun\u00e7\u00e3o retorna \"true\". Se a instala\u00e7\u00e3o n\u00e3o for bem sucedida, retorna \"false\" e uma cadeia de caracteres contendo o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o come\u00e7a a ler o stream \u00e0 partir da posi\u00e7\u00e3o 0.</li> <li>Por motivo de seguran\u00e7a, apenas plug-ins autorizados conseguem gerenciar os plug-ins do Firecast.</li> <li>Se o plug-in j\u00e1 estiver instalado: o plug-in \u00e9 descarregado, a atualiza\u00e7\u00e3o \u00e9 instalada, e a nova vers\u00e3o \u00e9 carregada novamente.</li> </ul> <p> </p> <p> </p> function\u00a0Firecast.Plugins.uninstallPlugin(moduleId) <p> </p> <p>Desinstala um plug-in SDK3 que est\u00e1 atualmente instalado no Firecast.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>moduleId - Cadeia de caracteres identificando qual plug-in deseja desinstalar. Cada plug-in possui um moduleId, que \u00e9 uma identifica\u00e7\u00e3o \u00fanica do mesmo.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Se a instala\u00e7\u00e3o for bem sucedida, a fun\u00e7\u00e3o retorna \"true\". Se a instala\u00e7\u00e3o n\u00e3o for bem sucedida, retorna \"false\" e uma cadeia de caracteres contendo o motivo da falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Por motivo de seguran\u00e7a, apenas plug-ins autorizados conseguem gerenciar os plug-ins do Firecast.</li> </ul> <p> </p> <p> </p>"},{"location":"BibliotecaFirecastPlugins/#intercomunicacao-de-plug-ins","title":"Intercomunica\u00e7\u00e3o de plug-ins.","text":"<p>Os plug-ins do Firecast podem comunicar entre si afim de realizar pedidos, coordenar a\u00e7\u00f5es, informar algum ocorrido, etc..</p> <p> </p> <p>Todas as mensagens de plugins s\u00e3o compostas por:</p> <ul> <li>identifica\u00e7\u00e3o do plug-in destinat\u00e1rio.</li> <li>nome da mensagem.</li> <li>conte\u00fado da mensagem.</li> </ul> <p> </p> <p>\u00a0Antes de receber mensagens, o plug-in deve registrar uma \"escuta\" atrav\u00e9s da fun\u00e7\u00e3o Firecast.Plugins.listenPM informando o nome da mensagem que ouvir\u00e1 e uma fun\u00e7\u00e3o que ser\u00e1 chamada para trat\u00e1-la.. Durante o tratamento da mensagem recebida, o plug-in receptor pode enviar uma resposta para o plug-in emissor.</p> <p> </p> <p>Para enviar uma mensagem a outro plug-in, este deve utilizar a fun\u00e7\u00e3o Firecast.Plugins.sendPM informando a identifica\u00e7\u00e3o do plug-in destinat\u00e1rio, o nome da mensagem, conte\u00fado, uma fun\u00e7\u00e3o callback de sucesso e uma fun\u00e7\u00e3o callback de falha.</p> <p> </p> <p> </p> function\u00a0Firecast.Plugins.sendPM(moduleId, pmName, data [, callback, failureCallback]) <p> </p> <p>Envia uma mensagem a outro plug-in instalado no Firecast.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>moduleId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o \u00fanica do m\u00f3dulo/plugin que receber\u00e1 a mensagem. Este \u00e9 o mesmo valor encontrado no arquivo module.xml de cada plug-in. Tamb\u00e9m \u00e9 poss\u00edvel obter este valor atrav\u00e9s da fun\u00e7\u00e3o Firecast.Plugins.getInstalledPlugins.</li> <li>pmName - Uma cadeia de caracteres contendo o nome da mensagem.\u00a0</li> <li>data - O corpo da mensagem, uma tabela lua que ser\u00e1 transmitida ao plug-in destinat\u00e1rio.</li> <li>(OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o plug-in destinat\u00e1rio responder a esta mensagem. O primeiro par\u00e2metro da fun\u00e7\u00e3o recebe os dados enviados pelo plug-in destinat\u00e1rio.</li> <li>(OPCIONAL) failureCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando ocorrer algum erro no envio e/ou processamento da mensagem. O primeiro par\u00e2metro da fun\u00e7\u00e3o recebe os dados sobre a falha.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Para saber se o envio foi bem sucedido, utilize o par\u00e2metro \"callback\".</li> <li>Para saber se o envio n\u00e3o foi bem sucedido, utilize o par\u00e2metro \"failureCallback\". A fun\u00e7\u00e3o failureCallback \u00e9 invocada se o plugin destinat\u00e1rio n\u00e3o estiver instalado no Firecsat, se o plug-in destinat\u00e1rio n\u00e3o souber tratar mensagens de nome \"pmName\" ou se o ocorrer alguma falha de execu\u00e7\u00e3o no plug-in que recebeu a mensagem.</li> </ul> <p> </p> <p> </p> function\u00a0Firecast.Plugins.listenPM(pmName, callback) <p> </p> <p>Instala uma escuta de mensagens de plugins.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>pmName - Uma cadeia de caracteres contendo o nome da mensagem que esta escuta trata.</li> <li>callback - Uma fun\u00e7\u00e3o que ser\u00e1 disparada quando a escuta capturar uma mensagem de nome igual a \"pmName\" e recebe, no primeiro par\u00e2metro, o corpo da mensagem. Esta informa\u00e7\u00e3o \u00e9 uma tabela LUA contendo os mesmos dados que foram enviados pela fun\u00e7\u00e3o Firecast.Plugins.sendPM acrescida da propriedade \"moduleId\" (a identifica\u00e7\u00e3o de qual plug-in enviou a mensagem).</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Um plug-in s\u00f3 pode ter uma escuta para cada \"pmName\". N\u00e3o \u00e9 poss\u00edvel instalar 2 escutas para a mensagem \"TESTE\", por exemplo.</li> <li>Para enviar uma resposta a quem enviou a mensagem, a fun\u00e7\u00e3o \"callback\" deve:<ul> <li>Se j\u00e1 tiver a resposta pronta, usar \"return VALOR\"; ... Este valor ser\u00e1 transmitido para a fun\u00e7\u00e3o callback do plug-in emissor.</li> <li>Se ainda n\u00e3o tiver a resposta pronta, deve, dentro da fun\u00e7\u00e3o \"callback\", invocar o m\u00e9todo Firecast.Plugins.setLatePMReply() e, posteriormente, utilizar as fun\u00e7\u00f5es Firecast.Plugins.replyPM ou Firecast.Plugins.replyPMFailure para enviar a resposta ao plug-in emissor.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0Firecast.Plugins.setLatePMReply(message) <p> </p> <p>Ao receber uma mensagem, a escuta, instalada previamente pela fun\u00e7\u00e3o Firecast.Plugins.listenPM, pode invocar este m\u00e9todo para sinalizar que ainda n\u00e3o tem a resposta para a mensagem e que a enviar\u00e1 posteriormente.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>message - A mensagem cuja resposta deseja postergar. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM).</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Voc\u00ea deve, em algum momento, invocar Firecast.Plugins.replyPM ou Firecast.Plugins.replyPMFailure para enviar uma resposta ao plug-in remetente. Utilizar setLatePMReply e n\u00e3o invocar Firecast.Plugins.replyPM e nem Firecast.Plugins.replyPMFailure faz com que o Firecast n\u00e3o libere os recursos envolvidos na comunica\u00e7\u00e3o, tornando seu plug-in um \"devorador de mem\u00f3ria RAM\" ao longo do tempo.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Firecast.Plugins.replyPM(message, data) <p> </p> <p>Envia uma resposta ao remetente da mensagem inter-plugin.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>message - A mensagem que deseja responder. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM).</li> <li>data - O conte\u00fado da resposta. Pode ser um n\u00famero, uma cadeia de caracteres, um booleano ou uma tabela lua. Esta informa\u00e7\u00e3o ser\u00e1 repassada no primeiro par\u00e2metro da fun\u00e7\u00e3o \"callback\" de quem enviou a mensagem (ver Firecast.Plugins.sendPM)</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Firecast.Plugins.replyPMFailure(message, data) <p> </p> <p>Envia uma resposta de FALHA ao remetente da mensagem inter-plugin.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>message - A mensagem que deseja responder. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM).</li> <li>data - O conte\u00fado da resposta. Pode ser um n\u00famero, uma cadeia de caracteres, um booleano ou uma tabela lua. Esta informa\u00e7\u00e3o ser\u00e1 repassada no primeiro par\u00e2metro da fun\u00e7\u00e3o \"failureCallback\" de quem enviou a mensagem (ver Firecast.Plugins.sendPM</li> </ul> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures</p>"},{"location":"BibliotecaFirecastRequests/","title":"Biblioteca Firecast.Requests","text":""},{"location":"BibliotecaFirecastRequests/#biblioteca-firecastrequests_1","title":"Biblioteca Firecast.Requests","text":"<p>A biblioteca rrpg.requests cont\u00e9m fun\u00e7\u00f5es que solicitam determinadas a\u00e7\u00f5es ao RRPG, como, por exemplo, criar itens na biblioteca da mesa, obter informa\u00e7\u00f5es de perfil de um usu\u00e1rio, etc..</p> <p> </p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"rrpgRequests.lua\" require(\"rrpgRequests.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Requests.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaFirecastRequests/#funcoes-da-biblioteca-firecastrequests","title":"Fun\u00e7\u00f5es da biblioteca Firecast.Requests","text":"function\u00a0Firecast.Requests.criarPersonagem(itemPai, nome, dataType, visivelATodos, dono \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 [, successCallback [, failureCallback]]) <p>Requisita a cria\u00e7\u00e3o de um novo personagem na mesa.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>itemPai - Um objeto BibliotecaItem identificando onde o personagem dever\u00e1 ser criado.</li> <li>nome - Uma cadeia de caracteres identificando o nome do novo personagem.</li> <li>dataType - Uma cadeia de caracteres identificando o dataType do personagem. dataType \u00e9 uma identifica\u00e7\u00e3o \u00fanica de um template de ficha.</li> <li>visivelATodos - true se o personagem deve ser vis\u00edvel a todos ou false se for ser vis\u00edvel apenas ao mestre e ao dono da ficha.</li> <li>dono - Um objeto Jogador identificando quem ser\u00e1 o dono do personagem, ou nil se for um NPC.</li> <li>(OPCIONAL) successCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a cria\u00e7\u00e3o do personagem for bem sucedida.</li> <li>(OPCIONAL) failureCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a cria\u00e7\u00e3o do personagem n\u00e3o for bem sucedida. Uma cadeia de caracteres contendo o motivo da falha \u00e9 passada como primeiro par\u00e2metro da fun\u00e7\u00e3o.</li> </ul> <p> </p> <p> </p> <p>Retorno:</p> <p>\u00a0 \u00a0 A fun\u00e7\u00e3o n\u00e3o retorna nada. Para saber se a cria\u00e7\u00e3o do personagem foi bem sucedida, utilize os par\u00e2metros \"successCallback' e \"failureCallback\".</p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Por motivo de seguran\u00e7a, apenas plug-ins autorizados podem alterar a estrutura da biblioteca das mesas.</li> <li>A cria\u00e7\u00e3o de personagens \u00e9 um processo ass\u00edncrono. Sendo assim, a fun\u00e7\u00e3o n\u00e3o aguarda uma resposta de sucesso/falha e as fun\u00e7\u00f5es successCallback e failureCallback ser\u00e3o invocadas mais tarde com o resultado.</li> <li>N\u00e3o \u00e9 poss\u00edvel criar um personagem cujo dataType n\u00e3o est\u00e1 instalado no RRPG do usu\u00e1rio. Para obter uma lista de dataTypes que o usu\u00e1rio possui instalado, utilize a fun\u00e7\u00e3o Firecast.Plugins.getInstaledDataTypes</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's HTML5 template</p>"},{"location":"BibliotecaGUI/","title":"Biblioteca GUI","text":""},{"location":"BibliotecaGUI/#biblioteca-gui_1","title":"Biblioteca GUI","text":"<p>A biblioteca gui prov\u00ea fun\u00e7\u00f5es relacionadas \u00e0s interfaces Lua Form.</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"GUI\" da unidade \"gui.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"gui.lua\" require(\"gui.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca GUI.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaGUI/#funcoes-da-biblioteca-gui","title":"Fun\u00e7\u00f5es da biblioteca gui","text":""},{"location":"BibliotecaGUI/#_1","title":"","text":"function\u00a0GUI.findControlByName(controlName, referenceControl) <p>Procura outro controle atrav\u00e9s do nome passado pelo par\u00e2metro \u201ccontrolName\u201d em toda a hierarquia de controles onde \"referenceControl\" est\u00e1.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>controlName - uma cadeia de caracteres contendo o nome do controle que deseja procurar.</li> <li>referenceControl - um controle para servir de refer\u00eancia durante a busca. O controle ser\u00e1 procurado em toda a hierarquia de controles de \"referenceControl\", isto \u00e9, primeiro nos controles que est\u00e3o dentro dele e depois nos controles pais de \"referenceControl\".</li> </ul> <p> </p> <p>Retorno:\u00a0</p> <ul> <li> </li> <li>o controle, se encontrado</li> <li>nil caso n\u00e3o encontre.</li> </ul> <p> </p> <p> </p> function\u00a0GUI.newActivityIndicator() <p> </p> <p>Cria e retorna um novo objeto activityIndicator</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto activityIndicator</p> <p> </p> function\u00a0GUI.newButton() <p> </p> <p>Cria e retorna um novo objeto button.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto button.</p> <p> </p> <p> </p> <p> </p> function\u00a0GUI.newCheckBox() <p> </p> <p>Cria e retorna um novo objeto checkbox.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto checkbox.</p> <p> </p> <p> </p> function\u00a0GUI.newComboBox() <p> </p> <p>Cria e retorna um novo objeto comboBox</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto comboBox</p> <p> </p> function\u00a0GUI.newColorComboBox() <p> </p> <p>Cria e retorna um novo objeto colorComboBox</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto colorComboBox</p> <p> </p> <p> </p> function\u00a0GUI.newDataLink() <p> </p> <p>Cria e retorna um novo objeto dataLink</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto dataLink</p> <p> </p> <p> </p> function\u00a0GUI.newDataScopeBox() <p> </p> <p>Cria e retorna um novo objeto dataScopeBox</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto dataScopeBox</p> <p> </p> <p> </p> function\u00a0GUI.newEdit() <p> </p> <p>Cria e retorna um novo objeto edit</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto edit</p> <p> </p> <p> </p> function\u00a0GUI.newFlowLayout() <p> </p> <p>Cria e retorna um novo objeto flowLayout.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto flowLayout.</p> <p> </p> <p> </p> function\u00a0GUI.newFlowLineBreak() <p> </p> <p>Cria e retorna um novo objeto flowLineBreak.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto flowLineBreak.</p> <p> </p> <p> </p> function\u00a0GUI.newFlowPart() <p> </p> <p>Cria e retorna um novo objeto flowPart.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto flowPart.</p> <p> </p> <p> </p> function\u00a0GUI.newForm([formName]) <p> </p> <p>Cria e retorna um novo objeto form.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>(OPCIONAL) formName - Se informado, cont\u00e9m uma cadeia de caracteres identificando o \"name\" de um dos Lua Forms do plug-in, fazendo com que a fun\u00e7\u00e3o busque em todos os arquivos \".lfm\" a tag form ou tag popupForm que possuir o atributo name igual a este valor.</li> </ul> <p> </p> <p>Retorno:\u00a0</p> <ul> <li> </li> <li>Se \"formName\" n\u00e3o for informado: Retorna um novo objeto form que n\u00e3o possui nenhum outro componente/tag dentro dele.</li> <li>Se \"formName\" for informado:<ul> <li>Se a busca encontrar o LuaForm, retorna um objeto form representando a nova inst\u00e2ncia do Lua Form.</li> <li>Se a busca n\u00e3o encontrar o LuaForm, retorna nil.</li> </ul> </li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0GUI.newHorzLine() <p> </p> <p>Cria e retorna um novo objeto horzLine</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto horzLine</p> <p> </p> <p> </p> <p> </p> function\u00a0GUI.newImage() <p> </p> <p>Cria e retorna um novo objeto image</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto image.</p> <p> </p> <p> </p> function\u00a0GUI.newImageCheckBox() <p> </p> <p>Cria e retorna um novo objeto imageCheckbox.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto imageCheckbox.</p> <p> </p> <p> </p> function\u00a0GUI.newLabel() <p> </p> <p>Cria e retorna um novo objeto label.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto label.</p> <p> </p> <p> </p> function\u00a0GUI.newLayout() <p> </p> <p>Cria e retorna um novo objeto layout.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto layout.</p> <p> </p> <p> </p> function\u00a0GUI.newPath() <p> </p> <p>Cria e retorna um novo objeto path</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto path</p> <p> </p> <p> </p> function\u00a0GUI.newPopup() <p> </p> <p>Cria e retorna um novo objeto popup</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto popup</p> <p> </p> <p> </p> <p> </p> function\u00a0GUI.newPopupForm([popupFormName]) <p> </p> <p>Cria e retorna um novo objeto popupForm.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>(OPCIONAL) popupFormName - Se informado, cont\u00e9m uma cadeia de caracteres identificando o \"name\" de um dos Lua Forms do plug-in, fazendo com que a fun\u00e7\u00e3o busque em todos os arquivos \".lfm\" a tag popupForm que possuir o atributo name igual a este valor.</li> </ul> <p> </p> <p>Retorno:\u00a0</p> <ul> <li> </li> <li>Se \"popupFormName\" n\u00e3o for informado: Retorna um novo objeto popupForm que n\u00e3o possui nenhum outro componente/tag dentro dele.</li> <li>Se \"popupFormName\" for informado:<ul> <li>Se a busca encontrar o LuaForm e se for do tipo popupForm, retorna um objeto popupForm representando a nova inst\u00e2ncia do Lua Form.</li> <li>Se a busca n\u00e3o encontrar o LuaForm ou se encontrar mas tipo diferente de popupForm, retorna nil.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0GUI.newRadioButton() <p> </p> <p>Cria e retorna um novo objeto radioButton</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto radioButton</p> <p> </p> <p> </p> function\u00a0GUI.newRecordList() <p> </p> <p>Cria e retorna um novo objeto recordList</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto recordList</p> <p> </p> <p> </p> function\u00a0GUI.newRectangle() <p> </p> <p>Cria e retorna um novo objeto rectangle</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto rectangle</p> <p> </p> <p> </p> <p> </p> function\u00a0GUI.newScrollBox() <p> </p> <p>Cria e retorna um novo objeto scrollBox</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto scrollBox</p> <p> </p> function\u00a0GUI.newTab() <p> </p> <p>Cria e retorna um novo objeto tab</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto tab</p> <p> </p> <p> </p> function\u00a0GUI.newTabControl() <p> </p> <p>Cria e retorna um novo objeto tabControl</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto tabControl</p> <p> </p> <p> </p> function\u00a0GUI.newTextEditor() <p> </p> <p>Cria e retorna um novo objeto textEditor</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto textEditor</p> <p> </p> <p> </p> function\u00a0GUI.newTimer() <p> </p> <p>Cria e retorna um novo objeto timer</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto timer</p> <p> </p> <p> </p> <p> </p> function\u00a0GUI.newProgressBar() <p> </p> <p>Cria e retorna um novo objeto progressBar</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto progressBar</p> <p> </p> <p> </p> function\u00a0GUI.newInertialMovement() <p> </p> <p>Cria e retorna um novo objeto InertialMovement</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1 par\u00e2metros</p> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Retorna um objeto InertialMovement</p> <p> </p> <p> </p> function\u00a0GUI.showPopup(form [, options]) <p> </p> <p>Exibe uma janela na interface do usu\u00e1rio na forma de um Popup</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>form - O formul\u00e1rio a ser exibido na interface. Pode ser um objeto Lua Form j\u00e1 instanciado ou um string contendo o nome do form a ser exibido.<ul> <li>Caso seja passado o nome do formul\u00e1rio em uma cadeia de caracteres, a fun\u00e7\u00e3o percorre todos os \"lfm\" do plug-in \u00e0 procura da tag form que possuir name igual ao informado. Se encontrado, uma nova inst\u00e2ncia \u00e9 criada para a exibi\u00e7\u00e3o.</li> </ul> </li> <li>(OPCIONAL) options - Uma tabela/objeto LUA contendo as op\u00e7\u00f5es da exibi\u00e7\u00e3o do popup. As op\u00e7\u00f5es s\u00e3o:<ul> <li>onClose - [function, padr\u00e3o = nil] - Uma fun\u00e7\u00e3o lua que ser\u00e1 invocada quando o popup for fechado.</li> <li>placement - [string enumerado] - Onde o popup ser\u00e1 exibido.. Os poss\u00edveis valores s\u00e3o:</li> </ul> </li> <li> </li> <li> <ul> <li> </li> <li>\"center\" - no centro da tela</li> <li>\"bottom\" - na parte de baixo da tela</li> <li>\"top\" - na parte de cima da tela</li> <li>\"left\" - \u00e0 esquerda na tela</li> <li>\"right\" - \u00e0 direita na tela</li> <li>\"topLeft\" -\u00a0 no canto superior esquerdo da tela</li> <li>\"topRight - no canto superior direito da tela</li> <li>\"bottomLeft\" - no canto inferior esquerdo da tela</li> <li>\"bottomRight\" - no canto inferior direito da tela</li> <li>\"mouse\" - onde o mouse est\u00e1 atualmente</li> <li>\"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente.</li> </ul> </li> </ul> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Se conseguir exibir o form como um popup na interface, retorna true; Sen\u00e3o retorna false.</p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o espera o popup fechar para retornar. Ap\u00f3s esta chamada, o c\u00f3digo LUA continuar\u00e1 sua execu\u00e7\u00e3o normal enquanto o form \u00e9 mostrado.</li> <li>Se o par\u00e2metro form for uma tag popupForm, os seguintes par\u00e2metros em options s\u00e3o ignorados (e s\u00e3o usados os atributos correspondentes da tag no lugar):<ul> <li>options.placement</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0GUI.closePopup(form) <p> </p> <p>Fecha uma janela popup que foi previamente aberta pela da fun\u00e7\u00e3o gui.showPopup.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>form - O formul\u00e1rio a ser fechado/tirado da interface. Pode ser um objeto Lua Form j\u00e1 instanciado ou um string contendo o nome do form que foi exibido.<ul> <li>Caso seja passado o nome do formul\u00e1rio em uma cadeia de caracteres, a fun\u00e7\u00e3o percorre todos os popups abertos e fecha \u00e0queles que possu\u00edrem o nome informado.</li> </ul> </li> </ul> <p> </p> <p>Retorno: \\ \u00a0 \u00a0 Se conseguir fechar o form, retorna true; Sen\u00e3o retorna false.</p> <p> </p> <p> </p> <p> </p> function\u00a0GUI.openInBrowser(url) <p> </p> <p>Abre um determinado URL/p\u00e1gina web no browser do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>url - cadeia de caracteres contendo a URL/caminho da p\u00e1gina web que deve ser aberta. Exemplo \"http://www.rrpg.com.br\".</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Se o par\u00e2metro \"url\" n\u00e3o come\u00e7ar com \"http://\" e nem com \"https://\", automaticamente \"http://\" ser\u00e1 adicionado no inicio da URL antes da abertura da p\u00e1gina.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0GUI.toast(message) <p> </p> <p>Show a quick informative message to the user that does not require user interaction and hides automatically after a short time</p> <p> </p> <p>Parameters</p> <ul> <li> </li> <li>message - The message string to be shown</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI</p>"},{"location":"BibliotecaInternet/","title":"Biblioteca Internet","text":""},{"location":"BibliotecaInternet/#biblioteca-internet_1","title":"Biblioteca Internet","text":"<p>Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 internet/intranet, como: downloads, requisi\u00e7\u00f5es HTTP, etc..</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"internet.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"internet.lua\" require(\"internet.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Internet.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaInternet/#funcoes-da-biblioteca-internet","title":"Fun\u00e7\u00f5es da biblioteca internet","text":"function\u00a0Internet.download(url [,\u00a0finishCallback [,\u00a0errorCallback [,\u00a0progressCallback [,\u00a0cacheMode]]]]) <p>Realiza o download de um arquivo da internet.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>url\u00a0 - Cadeia de caracteres contendo a URL do arquivo (Exemplo: http://www.site.com.br/pasta/arquivo.png).\u00a0<ul> <li>URL de arquivos que est\u00e3o na internet devem come\u00e7ar com \"http://\" ou \"https://\"</li> <li>Endere\u00e7os de arquivos que est\u00e3o localizados no HD virtual do plug-in tamb\u00e9m s\u00e3o aceitos.\\ \u00a0</li> </ul> </li> <li>(OPCIONAL) finishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o download estiver terminado. Esta fun\u00e7\u00e3o recebe os seguintes 2 par\u00e2metros:\u00a0<ul> <li>stream - Um objeto Stream possuindo o conte\u00fado do arquivo baixado. Importante: O Firecast libera o conte\u00fado da stream ap\u00f3s a chamada da fun\u00e7\u00e3o finishCallback.</li> <li>contentType - Uma cadeia de caracteres identificando o MimeType/tipo do conte\u00fado.. Exemplos: \"application/octet-stream\", \"image/png\", \"text/html\", etc..\\ \u00a0</li> </ul> </li> <li>(OPCIONAL) errorCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada se ocorrer algum erro no download. A Mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o.\\ \u00a0</li> <li>(OPCIONAL) progressCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada v\u00e1rias vezes para informar o progresso do download. Esta fun\u00e7\u00e3o recebe 2 par\u00e2metros:<ul> <li>downloadedBytes - Quantos bytes j\u00e1 foram baixados.</li> <li>totalBytes - Quantos bytes o arquivo possui no total.\\ \u00a0</li> </ul> </li> <li>(OPCIONAL) cacheMode - Pode ser passado um dos seguintes valores e significados:<ul> <li>\"alwaysUseCache\" - Se o arquivo j\u00e1 existir no cache, o Firecast ir\u00e1 retornar o conte\u00fado sem mesmo se comunicar com a internet. Este \u00e9 o modo padr\u00e3o.</li> <li>\"checkForModification\" - Se o arquivo j\u00e1 existir no cache, o Firecast ir\u00e1 verificar no servidor remoto se houve altera\u00e7\u00f5es no conte\u00fado antes de decidir usar o cache local ou baixar o conte\u00fado.</li> <li>\"alwaysDownload\" - O Firecast n\u00e3o usar\u00e1 o cache local e sempre baixar\u00e1 o conte\u00fado do servidor remoto.</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o retorna um identificador de download. Este valor pode ser utilizado para invocar o m\u00e9todo Internet.stopDownload caso queira abortar o download.</li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o n\u00e3o espera o download terminar e continua a execu\u00e7\u00e3o do c\u00f3digo enquanto o download \u00e9 feito em paralelo.</li> <li>Para ter acesso ao conte\u00fado baixado, utilize o par\u00e2metro finishCallback.</li> <li>Invocar esta fun\u00e7\u00e3o faz com que a URL seja enfileirada no gerenciador de downloads do Firecast, e, portanto, o download pode passar por uma espera antes de realmente come\u00e7ar.</li> <li>Retornar explicitamente \"false\" na fun\u00e7\u00e3o progressCallback faz com que o download seja abortado.</li> <li>Este m\u00e9todo utiliza um sistema de cache de arquivos para evitar usar a internet com arquivos que j\u00e1 foram recentemente baixados.</li> <li>Se o arquivo estiver pronto no sistema de cache de arquivos, a fun\u00e7\u00e3o \"finishCallback\" poder\u00e1 ser invocada imediatamente, antes mesmo da fun\u00e7\u00e3o \"Internet.download\" retornar.</li> <li>Este m\u00e9todo, quando poss\u00edvel, faz \"resume\", isto \u00e9, ele consegue fazer download \u00e0 partir de um ponto que havia parado recentemente.</li> </ul> <p> </p> <p> </p> <p>Exemplo 1:</p> Internet.download(\"http://www.rrpg.com.br/arquivo.png\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(stream,\u00a0contentType) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- esta fun\u00e7\u00e3o ser\u00e1 chamada quando o download terminar -- o conte\u00fado do arquivo baixado est\u00e1 em stream. end,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(errorMsg) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- esta fun\u00e7\u00e3o ser\u00e1 chamada quando ocorrer algum erro no download. -- errorMsg possui a msg de erro end,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(downloaded,\u00a0total) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- esta fun\u00e7\u00e3o ser\u00e1 chamada constantemente. -- dividir \"downloaded\" por \"total\" lhe dar\u00e1 uma porcentagem do download. end); <p> </p> <p> </p> <p> </p> <p>Exemplo 2 - checkForModification\u00a0</p> Internet.download(\"http://www.rrpg.com.br/arquivo.png\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(stream,\u00a0contentType) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- esta fun\u00e7\u00e3o ser\u00e1 chamada quando o download terminar -- o conte\u00fado do arquivo baixado est\u00e1 em stream. end,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(errorMsg) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- esta fun\u00e7\u00e3o ser\u00e1 chamada quando ocorrer algum erro no download. -- errorMsg possui a msg de erro end,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(downloaded,\u00a0total) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- esta fun\u00e7\u00e3o ser\u00e1 chamada constantemente. -- dividir \"downloaded\" por \"total\" lhe dar\u00e1 uma porcentagem do download. end, \"checkForModification\"); <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> function\u00a0Internet.stopDownload(downloadId) <p> </p> <p>Aborta um download que foi iniciado pela fun\u00e7\u00e3o Internet.download</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>downloadId - a identifica\u00e7\u00e3o do download a ser abortado. Este valor \u00e9 retornado pela fun\u00e7\u00e3o Internet.download</li> </ul> <p> </p> <p> </p> function\u00a0Internet.newHTTPRequest([method [,\u00a0url]]) <p> </p> <p>Cria e retorna um objeto HTTPRequest, usado para troca de dados com um servidor atrav\u00e9s de protocolo HTTP ou HTTPS.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>(OPCIONAL) method - Uma cadeia de caracteres identificando o m\u00e9todo/verbo HTTP utilizado nesta requisi\u00e7\u00e3o. Os valores aceitos s\u00e3o:<ul> <li>\"GET\" (valor padr\u00e3o, se o par\u00e2metro for omitido)</li> <li>\"POST\"</li> <li>\"PUT\"</li> <li>\"PATCH\"</li> <li>\"TRACE\"</li> <li>\"HEAD\"</li> <li>\"OPTIONS\"</li> <li>\"DELETE\"</li> </ul> </li> <li>(OPCIONAL) url - A URL da requisi\u00e7\u00e3o HTTP. Este valor pode ser alterado posteriormente no objeto HTTPRequest.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto HTTPRequest representando a requisi\u00e7\u00e3o.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>As requisi\u00e7\u00f5es HTTP s\u00e3o permitidas apenas se o usu\u00e1rio do Firecast for um membro Gold.</li> <li>Esta fun\u00e7\u00e3o apenas cria o objeto HTTPRequest e n\u00e3o a envia. Voc\u00ea deve utilizar o m\u00e9todo \"send\" do objeto para, de fato, enviar a requisi\u00e7\u00e3o.</li> </ul> <p> </p> <p> </p> function\u00a0Internet.httpEncode(str) <p> </p> <p>Codifica um texto para que possa ser usado como URL em requisi\u00e7\u00f5es HTTP.\u00a0</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>str - A cadeia de caracteres que deseja codificar.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres contendo o texto codificado.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Internet.httpDecode(str) <p> </p> <p>Decodifica os caracteres/c\u00f3digos de URL contidas no texto passado.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>str - A cadeia de caracteres que deseja decodificar.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres contendo o texto decodificado.</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide</p>"},{"location":"BibliotecaLocale/","title":"Biblioteca Locale","text":""},{"location":"BibliotecaLocale/#biblioteca-locale_1","title":"Biblioteca Locale","text":"<p>Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com idiomas e regi\u00f5es, incluindo funcionalidade para permitir um plug-in em v\u00e1rias l\u00ednguas</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"locale.lua\" require(\"locale.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Locale.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaLocale/#funcoes-da-biblioteca-locale","title":"Fun\u00e7\u00f5es da biblioteca Locale","text":"function\u00a0lang(txtId) ou function\u00a0LANG(txtId) ou function\u00a0Locale.lang(txtId) <p>Percorre todos os arquivos \".lang\" do plug-in \u00e0 procura de um texto cuja identifica\u00e7\u00e3o seja igual \u00e0 passada como par\u00e2metro e que combine com o idioma atual do usu\u00e1rio.</p> <p>Esta fun\u00e7\u00e3o \u00e9 a principal para voc\u00ea obter strings correto para o idioma do usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>txtId - Uma cadeia de caracteres que identifica o texto que deseja obter</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres contendo o texto para o idioma do usu\u00e1rio.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A busca ocorre em todos os arquivos de extens\u00e3o .lang de forma eficiente.</li> <li>Caso a busca n\u00e3o encontre o texto para o idioma do usu\u00e1rio, a busca retornar\u00e1 uma cadeia de caracteres de outro idioma. A fun\u00e7\u00e3o emite um erro se \"txtId\" n\u00e3o for conhecido em nenhum idioma.</li> <li>Leia o tutorial de como criar um plug-in multi-l\u00ednguas para exemplo!</li> </ul> <p> </p> <p> </p> function\u00a0Locale.loadLangTexts(langTexts) <p> </p> <p>Carrega, em tempo de execu\u00e7\u00e3o, um arquivo \".lang\" para que mais textos traduzidos possam ser encontrados pelas fun\u00e7\u00f5es Locale.lang e Locale.tryLang.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>langTexts - Uma cadeia de caracteres com o conte\u00fado do arquivo .lang que ser\u00e1 carregado em tempo de execu\u00e7\u00e3o.</li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Leia o tutorial de como criar um plug-in multi-l\u00ednguas para exemplo!</li> </ul> <p> </p> <p> </p> function\u00a0tryLang(txtId) ou function\u00a0tryLANG(txtId) ou function\u00a0Locale.tryLang(txtId) <p> </p> <p>Id\u00eantico \u00e0 fun\u00e7\u00e3o lang, por\u00e9m retorna nil ao inv\u00e9s de um erro quando n\u00e3o encontra a tradu\u00e7\u00e3o.</p> <p>Created with the Personal Edition of HelpNDoc: Easily share your documentation with the world through a beautiful website</p>"},{"location":"BibliotecaNDB/","title":"Biblioteca NDB","text":""},{"location":"BibliotecaNDB/#biblioteca-ndb_1","title":"Biblioteca NDB","text":"<p>A biblioteca ndb prov\u00ea fun\u00e7\u00f5es para manipular NodeDatabases, como abrir um NodeDatabase, retornar o n\u00f3 pai de um n\u00f3, etc..</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"NDB\" da unidade \"ndb.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"ndb.lua\" require(\"ndb.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca NDB.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaNDB/#funcoes-da-biblioteca-ndb","title":"Fun\u00e7\u00f5es da biblioteca NDB","text":"function\u00a0NDB.load(fileName\u00a0[,\u00a0userName]) <p>Carrega um NodeDatabase que est\u00e1 localizado no HD Virtual do plug-in e retorna o nodo raiz.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>fileName \u2013 cadeia de caracteres identificando o nome do arquivo</li> <li>[Opcional] userName \u2013 Se voc\u00ea desejar fazer controle de permiss\u00f5es em um NodeDatabase local, passe neste par\u00e2metro uma cadeia de caracteres identificando o usu\u00e1rio que est\u00e1 abrindo o database. Normalmente n\u00e3o \u00e9 preciso se preocupar com este par\u00e2metro, e basta omitir seu valor na chamada da fun\u00e7\u00e3o.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Retorna um Objeto Nodo, representado a raiz do NodeDatabase.<ul> <li>Todas as altera\u00e7\u00f5es feitas neste nodo (e em seus nodos filhos) ser\u00e3o salvas automaticamente no arquivo passado no par\u00e2metro \u201cfileName\u201d.</li> </ul> </li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>O par\u00e2metro \u201cfileName\u201d \u00e9 expandido (atrav\u00e9s da fun\u00e7\u00e3o \u201cVHD.expandFileName\u201d) antes de procurar o arquivo.</li> <li>Caso o arquivo n\u00e3o exista, um novo \u00e9 criado automaticamente.<ul> <li>Se foi fornecido um caminho curto no par\u00e2metro \u201cfileName\u201d (n\u00e3o relativo \u00e0 raiz do HD Virtual), ent\u00e3o o nome do arquivo \u00e9 expandido em rela\u00e7\u00e3o ao diret\u00f3rio \u201c/\u201d (raiz do HD Virtual) antes da cria\u00e7\u00e3o do arquivo.</li> </ul> </li> <li>O formato do arquivo \u00e9 XML.</li> <li>Se o arquivo especificado fizer parte da pasta projeto do plug-in, o NodeDatabase ser\u00e1 aberto em modo somente leitura.</li> </ul> <p> </p> function\u00a0NDB.newMemNodeDatabase() <p> </p> <p>Cria um novo NodeDatabase tempor\u00e1rio que reside apenas na mem\u00f3ria. Quando o RRPG fecha, os dados salvos neste NodeDatabase s\u00e3o perdidos.</p> <p> </p> <p>Par\u00e2metros:</p> <p>\u00a0 \u00a0 N\u00e3o h\u00e1.</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Retorna um Objeto Nodo, representado a raiz do NodeDatabase tempor\u00e1rio.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.newObserver(node) <p> </p> <p>Cria um novo objeto NodeObserver para o nodo passado como par\u00e2metro. Um NodeObserver \u00e9 capaz de monitorar e notificar as mudan\u00e7as ocorridas em um determinado Nodo de NodeDatabase.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Objeto nodo que deseja monitorar mudan\u00e7as.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um novo objeto NodeObserver</li> </ul> <p> </p> <p> </p> function\u00a0NDB.newTransaction(node) <p>Cria uma nova transa\u00e7\u00e3o para controlar como as mudan\u00e7as s\u00e3o salvas/compartilhadas em um NodeDatabase</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - um Objeto nodo do NodeDatabase que deseja controlar as mudan\u00e7as.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto NodeTransaction</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Apenas criar um NodeTransaction n\u00e3o faz com que as mudan\u00e7as sejam controladas. \u00c9 preciso chamar o m\u00e9todo NDB.pushTransaction para ativar a captura de mudan\u00e7as para o controle.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.isNodeObject(value) <p> </p> <p>Verifica se determinado valor \u00e9 um objeto nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>value - O valor que deseja verificar se \u00e9 um objeto nodo.\u00a0</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>true se o valor passado \u00e9 um objeto nodo v\u00e1lido</li> <li>false se o valor passado n\u00e3o for um objeto nodo v\u00e1lido.</li> </ul> <p> </p> function\u00a0NDB.getRoot(node) <p> </p> <p>Retorna o nodo raiz de um nodo, isto \u00e9, o nodo mais externo do NodeDatabase.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Um objeto nodo do qual se deseja obter a raiz.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto nodo representando o nodo raiz do NodeDatabase.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.getParent(node) <p> </p> <p>Retorna o nodo pai de um nodo, isto \u00e9, o nodo que cont\u00e9m o nodo passado como par\u00e2metro.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Um objeto nodo do qual se deseja obter o nodo pai.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto nodo representando o nodo pai ou nil se o par\u00e2metro node for um nodo raiz.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.getChildNodes(node) <p> </p> <p>Retorna todos os nodos filhos de um determinado nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - O objeto nodo do qual se deseja obter os nodos filhos.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um arranjo (tabela/objeto LUA) onde cada \u00edndice, come\u00e7ando do 1, cont\u00e9m um objeto nodo filho do nodo passado como par\u00e2metro.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.getAttributes(node) <p> </p> <p>Retorna uma tabela contendo todos os atributos e\u00a0 valores de um determinado objeto nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - O objeto nodo do qual se deseja obter todos os atributos.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma tabela/objeto LUA contendo pares de nomeAtributo=valorAtributo.</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o n\u00e3o retorna os nodos filhos do objeto nodo. Retorna apenas os atributos.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.getNodeName(node) <p> </p> <p>Retorna o nome de um objeto nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - O objeto nodo de qual deseja obter o nome.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres (string) contendo o nome do nodo ou nil se o par\u00e2metro node n\u00e3o for um objeto nodo v\u00e1lido.</li> </ul> <p> </p> function\u00a0NDB.getPersistedAttributeValue(node, attributeName) <p> </p> <p>Retorna o valor que est\u00e1 persistido/salvo no servidor de um atributo de um objeto nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - O objeto nodo de qual deseja obter o valor persistido.</li> <li>attributeName - Cadeia de caracteres contendo o nome do atributo/campo que se deseja obter o valor persistido.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>O valor persistido ou nil caso n\u00e3o seja encontrado.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracteristica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso.\u00a0</li> <li>Esta fun\u00e7\u00e3o retorna o valor que foi aprovado pelo servidor e que \u00e9 conhecido pelos outros usu\u00e1rios remotos.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.createChildNode(node, childName) <p> </p> <p>Cria um nodo filho dentro de um nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - O objeto nodo que receber\u00e1 o novo nodo filho.</li> <li>childName - uma cadeia de caracteres (string) contendo o nome do novo nodo.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto nodo representando o nodo filho rec\u00e9m criado ou nil caso a opera\u00e7\u00e3o falhe.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.deleteNode(node) <p> </p> <p>Remove um nodo do Node Database.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - O objeto nodo que deseja remover.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>N\u00e3o \u00e9 poss\u00edvel remover um nodo raiz do NodeDatabase.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.clearNode(node) <p> </p> <p>Limpa um objeto nodo, isto \u00e9, remove todos os atributos e todos os nodos filhos de um determinado nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - O objeto nodo o qual deseja limpar.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Diferente da fun\u00e7\u00e3o \"ndb.deleteNode\", esta fun\u00e7\u00e3o n\u00e3o remove o nodo passado como par\u00e2metro do NodeDatabase.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.copy(destinationNode, sourceNode) <p>Copia os dados de um node de NodeDatabase para outro node de NodeDatabase.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>destinationNode - um Objeto nodo do NodeDatabase que ser\u00e1 o destino da opera\u00e7\u00e3o de c\u00f3pia.</li> <li>sourceNode - um Objeto nodo do NodeDatabase que ser\u00e1 a fonte da opera\u00e7\u00e3o de c\u00f3pia.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Os dados de destinationNode ser\u00e3o apagados antes da c\u00f3pia come\u00e7ar.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.beginUpdate(node) <p>Coloca o Node Database em estado de \"em altera\u00e7\u00f5es\". Enquanto estiver neste estado, as sincroniza\u00e7\u00f5es de dados e notifica\u00e7\u00f5es/eventos referentes a altera\u00e7\u00f5es no NodeDatabase ser\u00e3o adiadas at\u00e9 que este saia do modo \"em altera\u00e7\u00f5es\".</p> <p>Alterar o NodeDatabase para o modo de altera\u00e7\u00f5es pode melhorar a performance de procedimentos que fazem v\u00e1rias altera\u00e7\u00f5es consecutivas no mesmo.\u00a0</p> <p>Para tirar o NodeDatabase do estado \"em altera\u00e7\u00f5es\", invoque a fun\u00e7\u00e3o NDB.endUpdate.\u00a0</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Um objeto nodo cujo NodeDatabase deseja colocar no modo \"em altera\u00e7\u00f5es\".</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Voc\u00ea pode invocar beginUpdate mais de uma vez no mesmo NodeDatabase. Para cada chamada de NDB.beginUpdate, deve haver uma chamada de NDB.endUpdate para fazer com que o NodeDatabase saia do estado \"em altera\u00e7\u00f5es\".</li> <li>Apesar de ser passado um objeto nodo no par\u00e2metro, o NodeDatabase inteiro ser\u00e1 colocado no estado em altera\u00e7\u00f5es.</li> </ul> <p> </p> <p> </p> function\u00a0NDB.endUpdate(node) <p>Faz com que o NodeDatabase saia do modo \"em altera\u00e7\u00f5es\" que havia sido previamente ativado pela fun\u00e7\u00e3o NDB.beginUpdate.</p> <p>Ao sair do modo \"em altera\u00e7\u00f5es\", as mudan\u00e7as feitas ser\u00e3o sincronizadas e os devidos eventos/notifica\u00e7\u00f5es ser\u00e3o invocadas!</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Um objeto nodo cujo NodeDatabase deseja retirado do modo \"em altera\u00e7\u00f5es\".</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Para cada chamada de NDB.beginUpdate, deve haver uma chamada de NDB.endUpdate para fazer com que o NodeDatabase saia do estado \"em altera\u00e7\u00f5es\".</li> <li>Apesar de ser passado um objeto nodo no par\u00e2metro, o NodeDatabase inteiro ser\u00e1 retirado do modo \"em altera\u00e7\u00f5es\".</li> </ul> <p> </p> <p> </p> function\u00a0NDB.getState(node) <p> </p> <p>Retorna o estado de um NodeDatabase</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Um objeto nodo cujo NodeDatabase deseja verificar o estado.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres, podendo ser:<ul> <li>\"open\" - O NodeDatabase est\u00e1 aberto e funcional</li> <li>\"opening\" - O NodeDatabase est\u00e1 abrindo/carregando</li> <li>\"closed\" - O NodeDatabase est\u00e1 fechado. Algum erro de carregamento pode ter ocorrido ou a conex\u00e3o com o armazenamento foi perdida.</li> </ul> </li> </ul> <p> </p> function\u00a0NDB.onReady(node, callback[, failCallback]) <p> </p> <p>Monitora um NodeDatabase e notifica o programador quando ele estiver pronto para ser usado</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Um objeto nodo cujo NodeDatabase deseja monitorar o estado.</li> <li>callback - Um m\u00e9todo que ser\u00e1 chamado quando o objeto nodo estiver pronto para ser usado, isto \u00e9, ele foi completamente carregado e est\u00e1 pronto para ter seus dados acessados.</li> <li>(OPCIONAL) failCallback - Um m\u00e9todo que ser\u00e1 chamado se ocorrer algum erro durante o carregamento do NodeDatabase.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>\u00c0s vezes, apenas ter a refer\u00eancia ao objeto nodo n\u00e3o significa que ele j\u00e1 est\u00e1 pronto para ser usado. Algumas vezes ocorre um carregamento de dados em segundo plano pela internet e, enquanto ocorre este carregamento, o objeto nodo n\u00e3o aceita opera\u00e7\u00f5es. Esta \u00e9 uma boa maneira de saber quando o nodeDatabase est\u00e1 de fato pronto!</li> <li>Quando node j\u00e1 estiver carregado, callback ser\u00e1 chamado imediatamente ap\u00f3s um delay de 1 milisegundo.</li> <li>Quando node estiver carregando, callback ser\u00e1 chamado\u00a0 quando o processo de carregamento chegar ao fim.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0NDB.pushTransaction(node, transaction) <p>Ativa uma transa\u00e7\u00e3o em um NodeDatabase.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - um Objeto nodo do NodeDatabase que deseja controlar as mudan\u00e7as.</li> <li>transaction - um objeto NodeTransaction previamente criado pela fun\u00e7\u00e3o NDB.newTransaction que controlar\u00e1 as pr\u00f3ximas mudan\u00e7as no NodeDatabase.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Ap\u00f3s ativar uma transa\u00e7\u00e3o, todas as altera\u00e7\u00f5es que ocorrerem no NodeDatabase ser\u00e3o mantidas localmente e n\u00e3o ser\u00e3o compartilhadas automaticamente com os outros usu\u00e1rios. Voc\u00ea dever\u00e1 controlar o que acontecer\u00e1 com estas mudan\u00e7as ao invocar \"transaction:rollback()\" se quiser desfaz\u00ea-las ou \"transaction:commit()\" para confirm\u00e1-las e compartilhar-lhas com os outros usu\u00e1rios.</li> <li>Para cada chamada de NDB.pushTransaction(), deve haver uma chamada de NDB.popTransaction().</li> </ul> <p> </p> <p> </p> function\u00a0NDB.popTransaction(node) <p>Desativa a \u00faltima transa\u00e7\u00e3o ativada em um NodeDatabase pela fun\u00e7\u00e3o NDB.pushTransaction</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - um Objeto nodo do NodeDatabase que deseja para de controlar as mudan\u00e7as.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Para cada chamada de NDB.pushTransaction(), deve haver uma chamada de NDB.popTransaction().</li> <li>Se antes de chamar pushTransaction o NodeDatabase j\u00e1 estava sendo controlado por alguma transa\u00e7\u00e3o, esta transa\u00e7\u00e3o ser\u00e1 restaurada.</li> <li>Apenas invocar este m\u00e9todo n\u00e3o \u00e9 o suficiente para realizar o controle das mudan\u00e7as. Voc\u00ea o invocar o m\u00e9todo \"rollback()\" da transaction se quiser desfazer as mudan\u00e7as capturadas ou invocar o m\u00e9todo \"commit()\" da transaction para confirmar e compartilhar as mudan\u00e7as capturadas.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0NDB.getServerUTCTime(node) <p>Retorna a data e hora do servidor do NodeDatabase em UTC (Coordinated Universal Time)</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - um Objeto nodo do NodeDatabase que deseja consultar o servidor.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um n\u00famero de ponto flutuante contendo quantos dias se passaram desde 30/12/1899 00:00. Exemplo: 2.75 representa a data 01/01/1900 18:00</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o retorna imediatamente, mas o valor retornado \u00e9 um valor aproximado, podendo ser diferente do hor\u00e1rio do servidor de fato em alguns segundos.</li> </ul> <p> </p>"},{"location":"BibliotecaNDB/#funcoes-de-persistencia-de-dados-do-nodedatabase","title":"Fun\u00e7\u00f5es de persist\u00eancia de dados do NodeDatabase","text":"function\u00a0NDB.exportXML(node) <p>Salva o conte\u00fado de um node de NodeDatabase como XML</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>node - um Objeto nodo do NodeDatabase que se deseja salvar os dados.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres representando o conte\u00fado do Node e nodes filhos como um XML (codificado em UTF-8)</li> </ul> <p> </p> function\u00a0NDB.importXML(destinationNode, xmlString) <p>Carrega os dados de um XML em um node de NodeDatabase.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>destinationNode - um Objeto nodo do NodeDatabase onde os dados ser\u00e3o carregados.</li> <li>xmlString - Uma cadeia de caracteres cujo conte\u00fado \u00e9 o XML contendo os dados a serem carregados.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Os dados de destinationNode ser\u00e3o apagados antes da importa\u00e7\u00e3o.</li> </ul> <p> </p> <p> </p>"},{"location":"BibliotecaNDB/#funcoes-de-gerenciamento-de-permissoes-do-nodedatabase","title":"Fun\u00e7\u00f5es de gerenciamento de permiss\u00f5es do NodeDatabase","text":"<p>NodeDatabases permitem definir permiss\u00f5es aos usu\u00e1rios, podendo, por exemplo, selecionar quais pessoas poder\u00e3o alterar um Objeto Nodo e/ou quais pessoas n\u00e3o poder\u00e3o saber da exist\u00eancia de algum Objeto Nodo.</p> <p> </p> <p> </p> <p> </p> function\u00a0NDB.setPermission(node, selKind, selId, permission, allowance) <p> </p> <p>Define uma permiss\u00e3o a algu\u00e9m a um Objeto nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>node - Objeto nodo o qual deseja definir a permiss\u00e3o.</li> <li>selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define a quem esta permiss\u00e3o deve ser aplicada.</li> <li>selId - Selector Id, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios a quem esta permiss\u00e3o deve ser aplicada.\u00a0<ul> <li>se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG que deseja conceder/negar a permiss\u00e3o.</li> <li>se selKind for \"group\", selId pode conter um dos seguintes valores:</li> <li>\"todos\" - A permiss\u00e3o ser\u00e1 aplicada a TODOS do RRPG</li> <li>\"mestresAux\" - A permiss\u00e3o ser\u00e1 a aplicada a todos os mestres auxiliares da mesa.</li> <li>\"mestres\" - A permiss\u00e3o ser\u00e1 aplicada a todos que possu\u00edrem o modo +mestre na mesa.</li> <li>\"jogadores\" - A permiss\u00e3o ser\u00e1 aplicada a todos que possu\u00edrem o modo +jogador na mesa.</li> <li>\"espectadores\" - A permiss\u00e3o ser\u00e1 aplicada a todos que forem espectadores na mesa.</li> <li>\"criadorDaMesa\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver criado a mesa.</li> <li>\"criador\" - A permiss\u00e3o ser\u00e1 aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem)</li> <li>\"dono\" - A permiss\u00e3o ser\u00e1 aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem)</li> <li>\"cegos\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +cego na mesa.</li> <li>\"mudos\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +mudo na mesa.</li> <li>\"voices\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +voz na mesa.</li> </ul> </li> <li>permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo definida e pode conter um dos seguintes valores:<ul> <li>\"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe.</li> <li>\"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo.</li> <li>\"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro.</li> <li>\"delete\" - Permiss\u00e3o para apagar Objetos Nodos.</li> <li>\"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o).</li> <li>\"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o).</li> <li>\"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o)</li> </ul> </li> <li>allowance - Define se a permiss\u00e3o \u00e9 concedida ou negada. Pode ser um dos seguintes valores:<ul> <li>\"allow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida.</li> <li>\"deny\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 negada.</li> <li>\"strongAllow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece.</li> <li>nil - Nil significa: Remover, n\u00e3o definir, n\u00e3o conceder e nem negar esta permiss\u00e3o: A permiss\u00e3o ser\u00e1 herdada do objeto nodo Pai do objeto passado como par\u00e2metro.</li> </ul> </li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Se selKind for \"user\" e selId n\u00e3o identificar um usu\u00e1rio v\u00e1lido do RRPG, est\u00e1 fun\u00e7\u00e3o falhar\u00e1.</li> <li>As permiss\u00f5es funcionam de forma herdada: Isto \u00e9, todos os nodos filhos do \"node\" tamb\u00e9m respeitar\u00e3o esta permiss\u00e3o se ela n\u00e3o for redefinida no filho.</li> <li>Se em um mesmo nodo um usu\u00e1rio for afetado ao mesmo tempo por uma defini\u00e7\u00e3o de permiss\u00e3o deny e por uma defini\u00e7\u00e3o de permiss\u00e3o allow, \"deny\" prevalecer\u00e1 por ser mais forte que \"allow\". Se em um mesmo nodo um usu\u00e1rio for afetado ao mesmo tempo por uma defini\u00e7\u00e3o de permiss\u00e3o deny e por uma defini\u00e7\u00e3o de permiss\u00e3o strongAllow, \"strongAllow\" prevalecer\u00e1 por ser mais forte que \"deny\".<ul> <li>Exemplos de uso em que um usu\u00e1rio pode ser afetado por mais de uma defini\u00e7\u00e3o de permiss\u00e3o:</li> <li>Voc\u00ea quer que todos os jogadores consigam ver um nodo, exceto Jos\u00e9: Adiciona-se uma permiss\u00e3o \"group jogadores read allow\" e uma permiss\u00e3o \"user Jos\u00e9 read deny\". Mesmo fazendo parte do grupo Jogadores, Jos\u00e9 n\u00e3o ter\u00e1 permiss\u00e3o de leitura por deny ser mais forte que allow.</li> <li>Se voc\u00ea quer que NENHUM jogador consiga ver um nodo, exceto Jos\u00e9: Adiciona-se uma permiss\u00e3o \"group jogadores read deny\" e uma permiss\u00e3o \"user Jos\u00e9 read strongAllow\". Mesmo fazendo parte do grupo Jogadores, Jos\u00e9 ter\u00e1 permiss\u00e3o de leitura por strongAllow ser mais forte que deny.</li> </ul> </li> <li>Mesmo que voc\u00ea n\u00e3o defina permiss\u00f5es, todo NodeDatabase possui um conjunto de permiss\u00f5es b\u00e1sicos que s\u00e3o herdados em todos os Nodos caso n\u00e3o sejam redefinidos.</li> <li>Por seguran\u00e7a:<ul> <li>Esta fun\u00e7\u00e3o possui um gatilho que n\u00e3o permite o usu\u00e1rio remover sua pr\u00f3pria permiss\u00e3o de \"read\", \"readPermissions\", \"writePermissions\" e \"writeMetaPermissions\" quando for possuidor de tais permiss\u00f5es.</li> <li>Para conceder/negar permiss\u00f5es \"read\", \"write\", \"createChild\" e \"delete\", o usu\u00e1rio atual deve possuir a permiss\u00e3o \"writePermissions\". Para conceder/negar as meta-permiss\u00f5es \"readPermissions\", \"writePermissions\" e \"writeMetaPermissions\", o usu\u00e1rio deve possuir tamb\u00e9m a permiss\u00e3o \"writeMetaPermissions\". Por padr\u00e3o, apenas o criador da sala possui \"writeMetaPermissions\" e todos os mestres possuem \"writePermissions\".</li> <li>Um Super Usu\u00e1rio n\u00e3o \u00e9 afetado por nenhuma defini\u00e7\u00e3o de permiss\u00e3o de usu\u00e1rio e tem acesso total. Quando um usu\u00e1rio for o criador da mesa e estiver com o modo +mestre nesta mesma mesa, ele \u00e9 considerado um Super Usu\u00e1rio.</li> </ul> </li> </ul> <p> </p> <p>Exemplos:</p> <p> </p> -- N\u00e3o permitir nem os jogadores e nem os espectadores verem os valores de Sheet NDB.setPermission(sheet,\u00a0\"group\",\u00a0\"jogadores\",\u00a0\"read\",\u00a0\"deny\"); NDB.setPermission(sheet,\u00a0\"group\",\u00a0\"espectadores\",\u00a0\"read\",\u00a0\"deny\"); -- Desfazer as permiss\u00f5es acima, voltando para valores padr\u00f5es/herdados. NDB.setPermission(sheet,\u00a0\"group\",\u00a0\"jogadores\",\u00a0\"read\",\u00a0nil); NDB.setPermission(sheet,\u00a0\"group\",\u00a0\"espectadores\",\u00a0\"read\",\u00a0nil);\u00a0 -- Permitir que +jogadores possam alterar valores de sheet NDB.setPermission(sheet,\u00a0\"group\",\u00a0\"jogadores\",\u00a0\"write\",\u00a0\"allow\");\u00a0 -- Permitir que o usu\u00e1rio AlyssonRPG tenha permiss\u00f5es de mestre: NDB.setPermission(sheet,\u00a0\"user\",\u00a0\"AlyssonRPG\",\u00a0\"read\",\u00a0\"allow\"); NDB.setPermission(sheet,\u00a0\"user\",\u00a0\"AlyssonRPG\",\u00a0\"write\",\u00a0\"allow\"); NDB.setPermission(sheet,\u00a0\"user\",\u00a0\"AlyssonRPG\",\u00a0\"createChild\",\u00a0\"allow\"); NDB.setPermission(sheet,\u00a0\"user\",\u00a0\"AlyssonRPG\",\u00a0\"delete\",\u00a0\"allow\"); NDB.setPermission(sheet,\u00a0\"user\",\u00a0\"AlyssonRPG\",\u00a0\"readPermissions\",\u00a0\"allow\"); NDB.setPermission(sheet,\u00a0\"user\",\u00a0\"AlyssonRPG\",\u00a0\"writePermissions\",\u00a0\"allow\"); <p> </p> <p> </p> <p> </p> function\u00a0NDB.getPermission(node, selKind, selId, permission) <p> </p> <p>Retorna a defini\u00e7\u00e3o de uma permiss\u00e3o de algu\u00e9m de um Objeto nodo que foi previamente definida pelo m\u00e9todo NDB.setPermission</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Objeto nodo o qual deseja consultar a permiss\u00e3o.</li> <li>selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define de quem a permiss\u00e3o deve ser consultada.</li> <li>selId - Selector Id, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios de quem a permiss\u00e3o deve ser consultada.<ul> <li>se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG que deseja consultar a permiss\u00e3o.</li> <li>se selKind for \"group\", selId pode conter um dos seguintes valores:</li> <li>\"todos\" - Permiss\u00e3o que foi aplicada a TODOS do RRPG</li> <li>\"mestresAux\" - Permiss\u00e3o que foi aplicada a todos os mestres auxiliares da mesa.</li> <li>\"mestres\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +mestre na mesa.</li> <li>\"jogadores\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +jogador na mesa.</li> <li>\"espectadores\" - Permiss\u00e3o que foi aplicada a todos que forem espectadores na mesa.</li> <li>\"criadorDaMesa\" - Permiss\u00e3o que foi aplicada em quem tiver criado a mesa.</li> <li>\"criador\" - Permiss\u00e3o que foi aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem)</li> <li>\"dono\" - Permiss\u00e3o que foi aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem)</li> <li>\"cegos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +cego na mesa.</li> <li>\"mudos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +mudo na mesa.</li> <li>\"voices\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +voz na mesa.</li> </ul> </li> <li>permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo consultada e pode conter um dos seguintes valores:<ul> <li>\"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe.</li> <li>\"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo.</li> <li>\"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro.</li> <li>\"delete\" - Permiss\u00e3o para apagar Objetos Nodos.</li> <li>\"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o).</li> <li>\"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o).</li> <li>\"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o)</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <p>\u00a0 \u00a0 A fun\u00e7\u00e3o pode retornar um dos 4 abaixo:</p> <ul> <li> </li> <li>\"allow\"\u00a0 - Cadeia de caracteres que informa que a permiss\u00e3o foi concedida</li> <li>\"deny\" - Cadeia de caracteres que informa que a permiss\u00e3o foi negada.</li> <li>\"strongAllow\" - Cadeia de caracteres que informa que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece.</li> <li>nil - Nil significa que a permiss\u00e3o n\u00e3o foi definida, n\u00e3o foi concedida e nem negada: A permiss\u00e3o est\u00e1 sendo herdada do objeto nodo Pai do objeto passado como par\u00e2metro</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o retorna se h\u00e1 uma defini\u00e7\u00e3o de permiss\u00e3o em determinado nodo mas n\u00e3o analisa a heran\u00e7a de permiss\u00f5es. Caso queira testar se o usu\u00e1rio possui permiss\u00e3o, seja por uma defini\u00e7\u00e3o local ou herdada, utilize o m\u00e9todo NDB.testPermission</li> </ul> <p> </p> <p> </p> function\u00a0NDB.testPermission(node, permission) <p> </p> <p>Realiza um teste de permiss\u00e3o: Verifica se o usu\u00e1rio atual possui determinada permiss\u00e3o em um objeto nodo, seja permiss\u00e3o herdada ou permiss\u00e3o definida localmente.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Objeto nodo o qual deseja testar a permiss\u00e3o.</li> <li>permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo testada e pode conter um dos seguintes valores:<ul> <li>\"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe.</li> <li>\"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo.</li> <li>\"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro.</li> <li>\"delete\" - Permiss\u00e3o para apagar Objetos Nodos.</li> <li>\"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o).</li> <li>\"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o).</li> <li>\"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o)</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Booleano true se o usu\u00e1rio possui permiss\u00e3o, sen\u00e3o false.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0NDB.enumPermissions(node) <p> </p> <p>Retorna todas as permiss\u00f5es que foram definidas em um determinado objeto nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Objeto nodo o qual deseja enumerar as permiss\u00e3o.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um array (tabela Lua indexada de 1 a #retorno), onde cada item \u00e9 uma tabela contendo as seguintes propriedades:<ul> <li>selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define a quem a permiss\u00e3o \u00e9 aplicada.</li> <li>selId - Selector ID, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios a quem a permiss\u00e3o \u00e9 aplicada.</li> <li>se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG a quem a permiss\u00e3o \u00e9 aplicada.</li> <li>se selKind for \"group\", selId pode conter um dos seguintes valores:<ul> <li>\"todos\" - Permiss\u00e3o que foi aplicada a TODOS do RRPG</li> <li>\"mestresAux\" - Permiss\u00e3o que foi aplicada a todos os mestres auxiliares da mesa.</li> <li>\"mestres\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +mestre na mesa.</li> <li>\"jogadores\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +jogador na mesa.</li> <li>\"espectadores\" - Permiss\u00e3o que foi aplicada a todos que forem espectadores na mesa.</li> <li>\"criadorDaMesa\" - Permiss\u00e3o que foi aplicada em quem tiver criado a mesa.</li> <li>\"criador\" - Permiss\u00e3o que foi aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem)</li> <li>\"dono\" - Permiss\u00e3o que foi aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem)</li> <li>\"cegos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +cego na mesa.</li> <li>\"mudos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +mudo na mesa.</li> <li>\"voices\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +voz na mesa.</li> </ul> </li> <li>permission - Uma cadeia de caracteres identificando qual permiss\u00e3o foi aplicada e pode conter um dos seguintes valores:</li> <li>\"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe.</li> <li>\"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo.</li> <li>\"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro.</li> <li>\"delete\" - Permiss\u00e3o para apagar Objetos Nodos.</li> <li>\"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o).</li> <li>\"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o).</li> <li>\"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o)</li> <li>allowance - Define se a permiss\u00e3o foi concedida ou negada. Pode conter um dos seguintes valores:</li> <li>\"allow\" - Esta cadeia de caracteres define que a permiss\u00e3o foi concedida.</li> <li>\"deny\" - Esta cadeia de caracteres define que a permiss\u00e3o foi negada.</li> <li>\"strongAllow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0NDB.resetPermissions(node) <p>Exclui todas as defini\u00e7\u00f5es de permiss\u00f5es em um determinado objeto nodo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Objeto nodo que deseja limpar as defini\u00e7\u00f5es de permiss\u00f5es.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0NDB.editPermissions(node) <p>Apresenta uma interface padr\u00e3o para o usu\u00e1rio editar as permiss\u00f5es de um Node do NodeDatabase</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>node - Objeto nodo que o usu\u00e1rio editar\u00e1 as permiss\u00f5es.</li> </ul> <p> </p> <p> </p> <p> </p>"},{"location":"BibliotecaNDB/#funcoes-de-comunicacao-atraves-do-nodedatabase","title":"Fun\u00e7\u00f5es de comunica\u00e7\u00e3o atrav\u00e9s do NodeDatabase","text":"<p>NodeDatabases permitem o envio e recebimento de mensagens aos usu\u00e1rios que est\u00e3o acessando o mesmo NodeDatabase.</p> <p> </p> <p> </p> function\u00a0NDB.broadcastMessage(node, messageId, message[, loopBack]) <p>Envia uma mensagem a todos os outros usu\u00e1rios que est\u00e3o com o nodeDatabase aberto.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>node - Objeto nodo do NodeDatabase a qual deseja enviar uma mensagem</li> <li>messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem.</li> <li>message - A mensagem a ser transmitida. Aqui s\u00e3o aceitos textos, tabelas lua, n\u00fameros e booleanos.</li> <li>(OPICIONAL) loopBack - Informa se quer que esta mensagem seja retransmitida para voc\u00ea mesmo. Valor padr\u00e3o: false</li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A mensagem enviada \u00e9 entregue a todos os outros usu\u00e1rios conectados no NodeDatabase.</li> <li>Para receber as mensagens recebidas, o usu\u00e1rio destinat\u00e1rio deve ter previamente invocado a fun\u00e7\u00e3o NDB.newBroadcastListener</li> </ul> <p> </p> <p> </p> function\u00a0NDB.newBroadcastListener(node, messageId, callback) <p> </p> <p>\\ Cria uma escuta de mensagens para receber mensagens postadas pela fun\u00e7\u00e3o NDB.broadcastMessage.\u00a0</p> <p>\\ Par\u00e2metros:</p> <ul> <li> </li> <li>node - Objeto nodo do NodeDatabase do qual deseja receber mensagens.</li> <li>messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o das mensagens que deseja receber. Deve ser igual ao messageId usado na fun\u00e7\u00e3o NDB.broadcastMessage.</li> <li>callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ao receber mensagens. Esta fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem:<ul> <li>sender - Cadeia de caracteres contendo o login do usu\u00e1rio que enviou a mensagem</li> <li>messageId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem recebida</li> <li>message - A mensagem que foi postada.</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Retorna um objeto representando o Listener.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Importante: Mantenha refer\u00eancia ao objeto retornado por esta fun\u00e7\u00e3o enquanto quiser que a escuta esteja ativa. Se o coletor de lixo LUA coletar este objeto, a escuta \u00e9 destru\u00edda e a fun\u00e7\u00e3o callback n\u00e3o ser\u00e1 mais invocada.</li> <li>Se quiser destruir a escuta imediatamente, invoque a fun\u00e7\u00e3o destroy do objeto retornado.... obj:destroy();</li> <li>Nos casos das fichas e janelas acopl\u00e1veis, o RRPG mant\u00e9m nodeDatabases carregados mesmo ap\u00f3s o usu\u00e1rio fechar a janela da ficha. Por este motivo, a fun\u00e7\u00e3o callback pode ser invocada para uma ficha que n\u00e3o possui mais janela. Se fizer uso de mensagens, esteja preparado para este comportamento.</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs</p>"},{"location":"BibliotecaSceneLib/","title":"Biblioteca SceneLib","text":""},{"location":"BibliotecaSceneLib/#biblioteca-scenelib_1","title":"Biblioteca SceneLib","text":"<p>Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas ao Scene 3/Tabuleiro de combate do RRPG</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"scene.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"scene.lua\" require(\"scene.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca SceneLib.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaSceneLib/#funcoes-da-biblioteca-scenelib","title":"Fun\u00e7\u00f5es da biblioteca SceneLib","text":"function\u00a0SceneLib.getLoadedScenes() <p>Retorna um array de Scenes que est\u00e3o rodando no RRPG no momento.</p> <p> </p> <p>Retorno:</p> <ul> <li>Array (tabela lua indexada de 1 a #tabela) de objeto Scene</li> </ul> <p> </p> <p> </p> function\u00a0SceneLib.registerPlugin(attachCallback) <p> </p> <p>Registra um plug-in de scene no RRPG.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>attachCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada para cada Scene rodando ou que vier a ser carregado. Esta fun\u00e7\u00e3o recebe dois par\u00e2metros na seguinte ordem: scene (um objeto Scene) e attachment (um objeto ScenePluginAttachment) representando, respectivamente, o scene o qual o plug-in deve instalar e um objeto que identifica esta liga\u00e7\u00e3o entre o plug-in e o scene.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um identificador do plug-in registrado que poder\u00e1 ser utilizado posteriormente como par\u00e2metro para a fun\u00e7\u00e3o SceneLib.unregisterPlugin para desregistr\u00e1-lo.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Um pacote .rpk (plugin SDK 3) pode instalar mais de um Plug-in de Scene.</li> <li>Um plug-in de scene pode existir mesmo quando n\u00e3o h\u00e1 nenhum Scene rodando no RRPG, n\u00e3o tem problema.</li> <li>Um plug-in de scene pode se anexar a mais de 1 scene ao mesmo tempo! A fun\u00e7\u00e3o \"attachCallback\" ser\u00e1 chamada uma vez para cada Scene existente e uma inst\u00e2ncia do objeto ScenePluginAttachment ser\u00e1 criada para representar cada uma desta liga\u00e7\u00e3o \"plugin x scene\".</li> <li>Assim como um plug-in pode se anexar a v\u00e1rios scenes, um scene pode estar anexado a v\u00e1rios plug-ins. \u00c9 uma rela\u00e7\u00e3o N:N (leia-se: N para N).</li> </ul> <p> </p> <p> </p> <p>Exemplo de um plug-in simples que apenas exibe uma mensagem quando se anexa a um Scene:</p> require(\"scene.lua\"); require(\"dialogs.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Plugin anexado a um tabuleiro de tamanho \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.worldWidth\u00a0..\u00a0scene.worldMetricName\u00a0..\u00a0\" x \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.worldHeight\u00a0..\u00a0scene.worldMetricName\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\" de cor de fundo \"..\u00a0scene.bkgColor); \u00a0 \u00a0\u00a0end);\u00a0 <p> </p> <p> </p> function\u00a0SceneLib.unregisterPlugin(pluginID) <p> </p> <p>Desregistra um plug-in de scene do RRPG que fora previamente instalado pela fun\u00e7\u00e3o SceneLib.registerPlugin </p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>pluginID - O identificador do plugin que deseja desinstalar. Este valor \u00e9 retornado pela fun\u00e7\u00e3o SceneLib.registerPlugin .</li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Normalmente n\u00e3o \u00e9 preciso se preocupar em desregistrar plug-ins de scene pois o RRPG j\u00e1 faz este trabalho automaticamente quando o .rpk \u00e9 descarregado da mem\u00f3ria.</li> </ul> <p> </p> <p> </p> function\u00a0SceneLib.Math.newRotationMatrix(angle, pivoX, pivoY) <p> </p> <p>Cria e retorna uma Matriz de rota\u00e7\u00e3o 2D</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>angle - O \u00e2ngulo da rota\u00e7\u00e3o em graus</li> <li>pivoX - A posi\u00e7\u00e3o X do piv\u00f4 da rota\u00e7\u00e3o</li> <li>pivoY - A posi\u00e7\u00e3o Y do piv\u00f4 da rota\u00e7\u00e3o</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>A Matriz de rota\u00e7\u00e3o. (Um tipo de dados interno)</li> </ul> <p> </p> <p> </p> function\u00a0SceneLib.Math.transformPoint(x, y, matrix) <p> </p> <p>Transforma a posi\u00e7\u00e3o de um ponto ao multiplic\u00e1-lo por uma matriz.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>x - A posi\u00e7\u00e3o X do ponto</li> <li>y - A posi\u00e7\u00e3o Y do ponto</li> <li>matrix - Uma matriz de transforma\u00e7\u00e3o.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>x - A nova posi\u00e7\u00e3o X</li> <li>y - A nova posi\u00e7\u00e3o Y</li> </ul> <p> </p> <p> </p> function\u00a0SceneLib.Math.rotatePoint(x, y, angle, pivoX, pivoY) <p> </p> <p>Rotaciona um ponto.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>x - A posi\u00e7\u00e3o X do ponto</li> <li>y - A posi\u00e7\u00e3o Y do ponto</li> <li>angle - O \u00e2ngulo da rota\u00e7\u00e3o em graus</li> <li>pivoX - A posi\u00e7\u00e3o X do piv\u00f4 da rota\u00e7\u00e3o</li> <li>pivoY - A posi\u00e7\u00e3o Y do piv\u00f4 da rota\u00e7\u00e3o</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>x - A nova posi\u00e7\u00e3o X</li> <li>y - A nova posi\u00e7\u00e3o Y</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Modernize your help files with HelpNDoc's WinHelp HLP to CHM conversion tool</p>"},{"location":"BibliotecaSystem/","title":"Biblioteca System","text":""},{"location":"BibliotecaSystem/#biblioteca-system_1","title":"Biblioteca System","text":"<p>Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com o dispositivo do usu\u00e1rio e outras funcionalidades b\u00e1sicas.</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"system.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"system.lua\" require(\"system.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca System.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaSystem/#funcoes-da-biblioteca-system","title":"Fun\u00e7\u00f5es da biblioteca System","text":"function\u00a0System.setClipboardText(text) <p>Altera o conte\u00fado do Clipboard/\u00c1rea de Transfer\u00eancia do sistema operacional (ctrl+c).</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>text - Cadeia de caracteres contendo o novo conte\u00fado que ser\u00e1 colocado no Clipboard do usu\u00e1rio.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Caso consiga alterar o conte\u00fado do clipboard, retorna true, sen\u00e3o retorna false.</li> </ul> <p> </p> <p> </p> function\u00a0System.getClipboardText() <p> </p> <p>Retorna o conte\u00fado do Clibpboard/\u00c1rea de Transfer\u00eancia do sistema operacional (ctrl+c)</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres caso haja um texto no clipboard ou nil.</li> </ul> <p> </p> <p> </p> function\u00a0System.readClipboardAsDragNDrop(callback, [options]) <p> </p> <p>Read the device clipboard as a drag-and-drop operation. Helpful to read multiple clipboard formats (such as files and images).</p> <p> </p> <p>Parameters:</p> <ul> <li> </li> <li>callback - a function that will be called to handle the drag-and-drop operation. The callback will receive the following parameters:<ul> <li>drop - The Drop Object that you must fill in the information so Firecast can match the drag to the drop.</li> <li>x - The number passed in \"options.x\" or 0</li> <li>y - The number passed in \"options.y\" or 0</li> <li>drag - The Drag Object representing the clipboard data. You must not change the properties of this object.</li> </ul> </li> <li>(Optional) options - a table that may contain the following attributes:<ul> <li>(Optional) x -The \"x\" position that the callback function will receive</li> <li>(Optional) y -The \"y\" position that the callback function will receive.</li> </ul> </li> </ul> <p> </p> <p>Returns:</p> <ul> <li> </li> <li>true if the operation had a match or false instead.</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>The callback function is called immediately. The drag object is valid only inside the callback execution.</li> <li>The drag and drop operation works exactly in the same way the onStartDrop event that all visual tags have.</li> <li>Please read Dragging and Dropping Information to learn more about the drag-and-drop process.</li> </ul> <p> </p> <p> </p> function\u00a0System.getScreenSize() <p> </p> <p>Retorna as dimens\u00f5es da tela do dispositivo do usu\u00e1rio.</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Retorna dois n\u00fameros: largura e altura da tela em pontos l\u00f3gicos.</li> </ul> <p> </p> <p>Exemplo:</p> local\u00a0largura,\u00a0altura\u00a0=\u00a0system.getScreenSize(); <p> </p> <p> </p> <p> </p> function\u00a0System.isMobile() <p> </p> <p>Retorna se o plugin est\u00e1 rodando no Firecast Mobile.</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Retorna true se o plugin est\u00e1 rodando no App do FireCastMobile ou false se est\u00e1 rodando no RRPG de computador</li> </ul> <p> </p> <p> </p> function\u00a0System.getTickCount() <p> </p> <p>Retorna um n\u00famero contendo h\u00e1 quantos milisegundos o dispositivo do usu\u00e1rio est\u00e1 ligado. \u00d3timo para calcular o tempo decorrido entre opera\u00e7\u00f5es.</p> <p> </p>"},{"location":"BibliotecaSystem/#sdk3-api-version-functions","title":"SDK3 API Version Functions","text":""},{"location":"BibliotecaSystem/#version-history","title":"Version history","text":"Major Minor Description 87 0 SDK 3.6 (Firecast 8+) 87 1 SDK 3.6b (Firecast 8.5+) 87 2 SDK 3.6c (Firecast 8.6+) 87 3 SDK 3.6d (Firecast 8.8+) <p>Identical major versions possess compatibility with each other.\u00a0</p> <p>For example, you can compile a plugin using SDK3.6b (87.1), and it will still run fine on an SDK 3.6 (87.0) running API because the two have the same major version.</p> <p> </p> <p> </p> function\u00a0System.checkAPIVersion(major, [minor]) <p> </p> <p>Checks if the current running SDK3 API version is greater or equal to a specific version.</p> <p> </p> <p>Parameters:</p> <ul> <li>major - The major version integer to check.</li> <li>(Optional) minor - The minor version integer to check. When omitted, 0 is used by default</li> </ul> <p> </p> <p>Returns:</p> <ul> <li> </li> <li>true if the current running SDK3 API version is greater or equal to the specified version; false otherwise.</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>You may want to check the SDK3 API version history.</li> </ul> <p> </p> <p> </p> function\u00a0System.getAPIVersion() <p> </p> <p>Gets the current running SDK3 API version.</p> <p> </p> <p>Returns:</p> <ul> <li> </li> <li>An integer number in the same format returned by the function System.makeAPIVersionNumber</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>You may want to check the SDK3 API version history.</li> </ul> <p> </p> <p> </p> function\u00a0System.makeAPIVersionNumber(major, [minor]) <p> </p> <p>Make an API version integer number that you can use to compare versions.</p> <p> </p> <p>Parameters:</p> <ul> <li> </li> <li>major - The major version integer</li> <li>(Optional) minor - The minor version integer. When omitted, 0 is used by default</li> </ul> <p> </p> <p>Returns:</p> <ul> <li> </li> <li>An integer number. It's a 32 bits where the upper 16 bits contain the major version, and the lower 16 bits hold the minor version.</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>You may want to check the SDK3 API version history.</li> </ul> <p>Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant</p>"},{"location":"BibliotecaUtils/","title":"Biblioteca Utils","text":""},{"location":"BibliotecaUtils/#biblioteca-utils_1","title":"Biblioteca Utils","text":"<p>A biblioteca gui prov\u00ea fun\u00e7\u00f5es relacionadas \u00e0s interfaces Lua Form.</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"utils.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"utils.lua\" require(\"utils.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Utils.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); FUNCAO_DA_BIBLIOTECA2(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaUtils/#funcoes-da-biblioteca-utils","title":"Fun\u00e7\u00f5es da biblioteca utils","text":""},{"location":"BibliotecaUtils/#_1","title":"","text":"function\u00a0clearInterval(intervalId) ou function\u00a0Utils.clearInterval(intervalId) <p>Cancela o temporizador que setInterval havia previamente configurado.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>intervalId - O identificador retornado pela fun\u00e7\u00e3o setInterval.</li> </ul> <p> </p> <p> </p> function\u00a0clearTimeout(timeoutId) ou function\u00a0Utils.clearTimeout(timeoutId) <p> </p> <p>Cancela o temporizador que setTimeout havia previamente configurado.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>timeoutId - O identificador retornado pela fun\u00e7\u00e3o setTimeout.</li> </ul> <p> </p> <p> </p> function\u00a0Utils.compareStringPtBr(strLeft, strRight) <p> </p> <p>Realiza compara\u00e7\u00e3o entre duas cadeias de caracteres de forma case-insensitive e ignorando acentua\u00e7\u00f5es</p> <p> </p> <p>Retorna:</p> <ul> <li> </li> <li>N\u00famero menor que 0 se strLeft for lexicograficamente menor que strRight</li> <li>0 se strLeft for lexicograficamente igual a strRight</li> <li>N\u00famero maior que 0 se strLeft for lexicograficamente maior que strRight</li> </ul> <p> </p> function\u00a0lowercase(str) <p> </p> <p>Converte e retorna um string em caixa baixa (lower case)</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>str - a cadeia de caracteres que deseja converter para caixa baixa.</li> </ul> <p> </p> <p>Retorno:\u00a0</p> <ul> <li> </li> <li>uma cadeia de caracteres</li> </ul> <p> </p> function\u00a0uppercase(str) <p> </p> <p>Converte e retorna um string em caixa alta (upper case)</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>str - a cadeia de caracteres que deseja converter para caixa alta.</li> </ul> <p> </p> <p>Retorno:\u00a0</p> <ul> <li> </li> <li>uma cadeia de caracteres</li> </ul> <p> </p> <p> </p> function\u00a0Utils.generateUniqueString() <p> </p> <p>Gera e retorna uma cadeia de caracteres globalmente \u00fanica, isto \u00e9, um texto que nunca mais ser\u00e1 gerado novamente por esta fun\u00e7\u00e3o</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres \u00fanica, \u00f3tima para ser usada como identificador.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0isnumber(value) ou function\u00a0isNumber(value) <p> </p> <p>Retorna true se o par\u00e2metro \"value\" for um n\u00famero, sen\u00e3o retorna false.</p> <p> </p> <p> </p> function\u00a0round(value) <p> </p> <p>Arredonda \"value\" para o numero inteiro mais pr\u00f3ximo e o retorna.</p> <p> </p> <p> </p> function\u00a0removerAcentos(str) ou function\u00a0Utils.removerAcentos(str) <p> </p> <p>Retorna o texto passado em \"str\" sem sua acentua\u00e7\u00e3o.</p> <p> </p> <p> </p> function\u00a0Utils.removerFmtChat(str[,\u00a0removerSmileys]) <p> </p> <p>Retorna o texto passado em \"str\" sem os caracteres de formata\u00e7\u00e3o de cores/negrito/it\u00e1lico que o RRPG aceita no chat.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>str - Cadeia de caracteres contendo o texto a ser processado</li> <li>(OPCIONAL) removerSmileys - Booleano indicando se deve remover os smileys/memes do texto tamb\u00e9m. Se omitido, o valor padr\u00e3o \u00e9 false.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Cadeia de caracteres sem as tags de formata\u00e7\u00e3o.</li> </ul> <p> </p> <p> </p> function\u00a0setInterval(callbackFunction, interval [,\u00a0parametersToCallbackFunction]) ou function\u00a0Utils.setInterval(callbackFunction, interval [,\u00a0parametersToCallbackFunction]) <p> </p> <p>setInterval chama uma fun\u00e7\u00e3o qualquer ap\u00f3s em intervalos de tempo especificado em milisegundos.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>callbackFunction - A fun\u00e7\u00e3o que ser\u00e1 chamada no intervalo definido.</li> <li>interval - O intervalo de tempo em milisegundos que callbackFunction ser\u00e1 chamada.</li> <li>(OPCIONAL) parametersToCallbackFunction - Uma lista de par\u00e2metros que ser\u00e3o repassados para a callbackFunction quando ela for chamada.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Retorna um valor que poder\u00e1 ser usado na fun\u00e7\u00e3o clearInterval para cancelar o setInterval.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o \"callbackFunction\" \u00e9 executada in\u00fameras vezes at\u00e9 que algum dos seguintes eventos aconte\u00e7a:<ul> <li>O plug-in seja descarregado.</li> <li>A fun\u00e7\u00e3o clearInterval seja executada passando em seu par\u00e2metro o valor retornado por setInterval.</li> <li>A fun\u00e7\u00e3o informada em \"callbackFunction\" retorne explicitamente false.</li> </ul> </li> <li>\u00a0Se voc\u00ea deseja executar \"callbackFunction\" apenas uma vez ap\u00f3s um determinado tempo, use a fun\u00e7\u00e3o setTimeout.</li> </ul> <p> </p> function\u00a0setTimeout(callbackFunction, interval [,\u00a0parametersToCallbackFunction]) ou function\u00a0Utils.setTimeout(callbackFunction, interval [,\u00a0parametersToCallbackFunction]) <p> </p> <p>setTimeout chama uma fun\u00e7\u00e3o qualquer ap\u00f3s uma quantidade espec\u00edfica de milisegundos se passarem.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>callbackFunction - A fun\u00e7\u00e3o que ser\u00e1 chamada.</li> <li>interval - O tempo de espera at\u00e9 que a fun\u00e7\u00e3o seja chamada, em milisegundos.</li> <li>(OPCIONAL) parametersToCallbackFunction - Uma lista de par\u00e2metros que ser\u00e3o repassados para a callbackFunction quando ela for chamada.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Retorna um valor que poder\u00e1 ser usado na fun\u00e7\u00e3o clearTimeout para prevenir a fun\u00e7\u00e3o \"callbackFunction\" de ser chamada.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o \"callbackFunction\" \u00e9 executada somente 1 vez. Se voc\u00ea precisar que ela seja chamada constantemente, use a fun\u00e7\u00e3o setInterval</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Utils.sortPtBrArray(array) <p> </p> <p>Dado um array de strings (uma tabela lua indexada de 1 a n), ordena os valores lexicograficamente de forma case insensitive e ignorando acentua\u00e7\u00f5es.</p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>N\u00e3o h\u00e1 retorno. O pr\u00f3prio array estar\u00e1 ordenado no fim desta fun\u00e7\u00e3o.</li> </ul> <p> </p> function\u00a0totable(str) ou function\u00a0strToTable(str) ou function\u00a0Utils.strToTable(str) <p> </p> <p>Converte o texto passado em \"str\" para uma tabela lua. O texto deve seguir o mesmo padr\u00e3o que voc\u00ea usa ao declarar uma tabela lua quando est\u00e1 programando.\u00a0</p> <p>Exemplo: \"{nome='jo\u00e3o', idade=10, filhos={}}\"</p> <p> </p> <p> </p> function\u00a0tableToStr(table [,\u00a0pretty]) ou function\u00a0Utils.tableToStr(table [,\u00a0pretty]) <p> </p> <p>Converte uma tabela LUA para string.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>table - a tabela lua que deseja converter para texto</li> <li>(OPCIONAL) pretty - se true, converte para um texto leg\u00edvel... Se omitido ou se false, converte para um texto que ocupa o menor espa\u00e7o o poss\u00edvel.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Uma cadeia de caracteres que corresponde \u00e0 tabela.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Utils.binaryEncode(destArray, format, value [,\u00a0startIndex]) <p> </p> <p>Codifica um determinado valor em um formato bin\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>destArray - Uma tabela lua que receber\u00e1 os BYTES da codifica\u00e7\u00e3o bin\u00e1ria.</li> <li>format - Uma cadeia de caracteres identificando qual o formato bin\u00e1rio deve ser utilizado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os formatos dispon\u00edveis.</li> <li>value - O valor que ser\u00e1 codificado.</li> <li>(OPCIONAL) startIndex - Um n\u00famero identificando em qual posi\u00e7\u00e3o de \"destArray\" os bytes devem ser escritos. Se omitido, o valor 1 ser\u00e1 utilizado.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um n\u00famero contendo quantos bytes foram inseridos em destArray.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Cada BYTE da representa\u00e7\u00e3o bin\u00e1ria \u00e9 colocado em uma posi\u00e7\u00e3o de \"destArray\". Se um determinado formato bin\u00e1rio ocupar 4 bytes, ap\u00f3s a chamada da fun\u00e7\u00e3o destArray[1] conter\u00e1 o valor do primeiro byte, destArray[2] o valor do segundo byte, destArray[3] o valor do terceiro byte e destArray[4] o valor do quarto byte.</li> </ul> <p> </p> <p> </p> <p>Formatos Bin\u00e1rios:</p> <p> </p> Formato Qtd. de Bytes Descri\u00e7\u00e3o \"u8\" 1 Um n\u00famero entre 0 e 255 codificado como Unsigned Integer de 8 Bits (tamb\u00e9m conhecido como Byte)\u00a0 \"s8\" 1 Um n\u00famero entre -128 a 127 codificado como Signed Integer de 8 Bits.\u00a0 \"u16\" 2 Um n\u00famero entre 0 e 65535 codificado como Unsigned Integer de 16 bits (Tamb\u00e9m conhecido como Word) no padr\u00e3o LittleEndian.\u00a0 \u00a0 \"s16\" 2 Um n\u00famero entre -32768 e 32767 codificado como Signed Integer de 16 bits no padr\u00e3o LittleEndian.\u00a0 \"u32\" 4 Um n\u00famero entre 0 e 4294967295 codificado como Unsigned Integer de 32 bits (Tamb\u00e9m conhecido como DoubleWord) no padr\u00e3o LittleEndian.\u00a0 \"s32\" 4 Um n\u00famero entre -2147483648 e 2147483647 codificado como Signed Integer de 32 bits no padr\u00e3o LittleEndian \u00a0 \"u64\" 8 Um n\u00famero entre 0 e (2\\^64) - 1 codificado como Unsigned Integer de 64 bits (Tamb\u00e9m conhecido como QuadWord) no padr\u00e3o LittleEndian\u00a0 \"s64\" 8 Um n\u00famero entre -2\\^63 a (2\\^63) - 1 codificado como Signed Integer de 64 bits no padr\u00e3o LittleEndian.\u00a0 \"float\" 4 Um n\u00famero de ponto flutuante de 4 bytes no padr\u00e3o IEEE 754.\u00a0 \"double\" 8 Um n\u00famero de ponto flutuante de 8 bytes no padr\u00e3o IEEE 754.\u00a0 \"ansi\" Varia Uma cadeia de caracteres codificada em ANSI sem o terminador nulo.\u00a0 \"utf8\" Varia Uma cadeia de caracteres codificada em UTF-8 sem o terminador nulo.\u00a0 \"utf16\" Varia Uma cadeia de caracteres codificada em UTF-16 sem o terminador nulo.\u00a0 <p> </p> <p> </p> function\u00a0Utils.binaryDecode(sourceArray, format [,\u00a0startIndex [,\u00a0length]]) <p> </p> <p>Interpreta um valor que est\u00e1 codificado em um formato bin\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>sourceArray - Uma tabela lua que cont\u00e9m os BYTES da codifica\u00e7\u00e3o bin\u00e1ria.</li> <li>format - Uma cadeia de caracteres identificando em qual formato bin\u00e1rio o valor est\u00e1 codificado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o.</li> <li>(OPCIONAL) startIndex - Um n\u00famero identificando a partir de qual posi\u00e7\u00e3o de \"sourceArray\" os bytes devem ser lidos para a decodifica\u00e7\u00e3o. Se omitido, o valor 1 ser\u00e1 utilizado.</li> <li>(OPCIONAL) length - Quantos bytes \u00e0 partir de \"startIndex\" devem ser usados para a decodifica\u00e7\u00e3o. Se omitido, o valor (#sourceArray - startIndex + 1) ser\u00e1 utilizado.</li> </ul> <p> </p> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>A fun\u00e7\u00e3o retorna 2 valores:<ul> <li>O valor decodificado ou nil se n\u00e3o foi poss\u00edvel decodificar</li> <li>A quantidade de bytes usados para a decodifica\u00e7\u00e3o do valor.</li> </ul> </li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Cada BYTE da representa\u00e7\u00e3o bin\u00e1ria deve estar em uma posi\u00e7\u00e3o de \"sourceArray\". Se um determinado formato bin\u00e1rio ocupar 4 bytes, sourceArray[1] deve conter o valor do primeiro byte, sourceArray[2] o valor do segundo byte, sourceArray[3] o valor do terceiro byte e sourceArray[4] o valor do quarto byte.</li> </ul> <p> </p> <p> </p> function\u00a0Utils.getBinarySize(format) <p> </p> <p>Retorna quantos bytes um determinado formato bin\u00e1rio ocupa.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>format - Uma cadeia de caracteres identificando o formato bin\u00e1rio que deseja consultar. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um n\u00famero identificando a quantidade de bytes um determinado formato bin\u00e1rio ocupa. Se um formato bin\u00e1rio ocupar uma quantidade variada de bytes, o valor -1 \u00e9 retornado.</li> </ul> <p> </p> <p> </p> function\u00a0Utils.zlibCompress(sourceStream, destStream, [,\u00a0level [,\u00a0qtBytesInSource]]) <p> </p> <p>L\u00ea dados de um objeto stream fonte e, usando a biblioteca zLib, o compacta escrevendo o resultado em outro objeto stream.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>sourceStream - Um objeto stream representando os dados a serem compactados.</li> <li>destStream - Um objeto stream que receber\u00e1 o conte\u00fado compactado.</li> <li>(OPCIONAL) level - Define o n\u00edvel da compacta\u00e7\u00e3o. Pode ser<ul> <li>\"none\" - N\u00e3o haver\u00e1 compacta\u00e7\u00e3o no final das contas</li> <li>\"fastest\" - Compacta\u00e7\u00e3o r\u00e1pida</li> <li>\"default\" - Modo em que balanceia velocidade e taxa de compress\u00e3o. Este \u00e9 o modo padr\u00e3o quando n\u00e3o for definido o n\u00edvel.</li> <li>\"max\" - Modo com maior taxa de compress\u00e3o.</li> </ul> </li> <li>(OPCIONAL) qtBytesInSource - Quantos bytes ser\u00e3o lidos de \"sourceStream\" \u00e0 partir de sua posi\u00e7\u00e3o atual para a compacta\u00e7\u00e3o. Quando n\u00e3o definido, todo o restante do sourceStream ser\u00e1 lido para a compacta\u00e7\u00e3o.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um n\u00famero identificando quantos bytes foram escritos em destStream</li> </ul> <p> </p> <p> </p> function\u00a0Utils.zlibDecompress(sourceStream, destStream) <p> </p> <p>L\u00ea dados de um objeto stream fonte e, usando o a biblioteca zLib, o descompacta escrevendo o resultado em outro objeto stream.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>sourceStream - Um objeto stream contendo os dados a serem descompactados.</li> <li>destStream - Um objeto stream que receber\u00e1 o conte\u00fado descompactado.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o descompacta um \"bloco compactado\" por completo. N\u00e3o tem como antecipar quantos bytes ser\u00e3o lidos de \"sourceStream\" nem quantos bytes ser\u00e3o escritos em \"destStream\" utilizando esta fun\u00e7\u00e3o. No fim da chamada, destStream conter\u00e1 todo o dado descompactado e a posi\u00e7\u00e3o de \"sourceStream\" apontar\u00e1 para o primeiro byte subsequente do conte\u00fado que foi processado.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um n\u00famero identificando quantos bytes foram escritos em destStream</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0Utils.zlibCompressAsync(sourceStream, destStream, level, qtBytesInSource, onFinishCallback, onErrorCallback) <p> </p> <p>L\u00ea dados de um objeto stream fonte e, usando a biblioteca zLib, o compacta escrevendo o resultado em outro objeto stream.</p> <p>A compacta\u00e7\u00e3o se d\u00e1 de forma ass\u00edncrona, isto \u00e9, em \"background\". \u00d3timo para compactar streams grandes e n\u00e3o \"congelar\" o programa durante o processo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>sourceStream - Um objeto stream representando os dados a serem compactados.</li> <li>destStream - Um objeto stream que receber\u00e1 o conte\u00fado compactado.</li> <li>level - Define o n\u00edvel da compacta\u00e7\u00e3o. Pode ser<ul> <li>\"none\" - N\u00e3o haver\u00e1 compacta\u00e7\u00e3o no final das contas</li> <li>\"fastest\" - Compacta\u00e7\u00e3o r\u00e1pida</li> <li>\"default\" - Modo em que balanceia velocidade e taxa de compress\u00e3o. Este \u00e9 o modo padr\u00e3o quando n\u00e3o for definido o n\u00edvel.</li> <li>\"max\" - Modo com maior taxa de compress\u00e3o.</li> </ul> </li> <li>qtBytesInSource - Quantos bytes ser\u00e3o lidos de \"sourceStream\" \u00e0 partir de sua posi\u00e7\u00e3o atual para a compacta\u00e7\u00e3o.</li> <li>onFinishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a compacta\u00e7\u00e3o finalizar.</li> <li>onErrorCallback\u00a0 - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a compacta\u00e7\u00e3o retornar um erro. A mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>IMPORTANTE: Durante a compacta\u00e7\u00e3o ass\u00edncrona, seu c\u00f3digo n\u00e3o deve fazer nenhuma opera\u00e7\u00e3o em sourceStream e nem em destStream, sen\u00e3o o planeta explodir\u00e1 e 2d6 erros estranhos surgir\u00e3o.</li> </ul> <p> </p> <p> </p> function\u00a0Utils.zlibDecompressAsync(sourceStream, destStream, onFinishCallback, onErrorCallback) <p> </p> <p>L\u00ea dados de um objeto stream fonte e, usando o a biblioteca zLib, o descompacta escrevendo o resultado em outro objeto stream.</p> <p>A descompacta\u00e7\u00e3o se d\u00e1 de forma ass\u00edncrona, isto \u00e9, em \"background\". \u00d3timo para descompactar streams grandes e n\u00e3o \"congelar\" o programa durante o processo.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>sourceStream - Um objeto stream contendo os dados a serem descompactados.</li> <li>destStream - Um objeto stream que receber\u00e1 o conte\u00fado descompactado.</li> <li>onFinishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a descompacta\u00e7\u00e3o finalizar.</li> <li>onErrorCallback\u00a0 - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a descompacta\u00e7\u00e3o retornar um erro. A mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o descompacta um \"bloco compactado\" por completo. N\u00e3o tem como antecipar quantos bytes ser\u00e3o lidos de \"sourceStream\" nem quantos bytes ser\u00e3o escritos em \"destStream\" utilizando esta fun\u00e7\u00e3o. No fim da chamada, destStream conter\u00e1 todo o dado descompactado e a posi\u00e7\u00e3o de \"sourceStream\" apontar\u00e1 para o primeiro byte subsequente do conte\u00fado que foi processado.</li> <li>IMPORTANTE: Durante a descompacta\u00e7\u00e3o ass\u00edncrona, seu c\u00f3digo n\u00e3o deve fazer nenhuma opera\u00e7\u00e3o em sourceStream e nem em destStream, sen\u00e3o o planeta explodir\u00e1 e 2d6 erros estranhos surgir\u00e3o.</li> </ul> <p> </p> <p> </p> function\u00a0Utils.newMemoryStream() <p> </p> <p>Cria e retorna um objeto stream que armazena os dados na mem\u00f3ria RAM do dispositivo.</p> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Os dados armazenados no Memory Stream n\u00e3o s\u00e3o salvos em nenhum lugar e s\u00e3o perdidos quando o c\u00f3digo n\u00e3o mais estiver usando o Stream ou quando o RRPG fechar.</li> <li>\u00d3timo para fazer processamento de dados tempor\u00e1rios.</li> <li>Enquanto estiver em uso, os dados ocupam mem\u00f3ria RAM do dispositivo.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto stream</li> </ul> <p> </p> <p> </p> function\u00a0Utils.newTempFileStream() <p> </p> <p>Cria e retorna um objeto stream que armazena os dados em um arquivo tempor\u00e1rio no dispositivo do usu\u00e1rio.</p> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Um arquivo tempor\u00e1rio \u00e9 criado no dispositivo do usu\u00e1rio e \u00e9 automaticamente apagado quando n\u00e3o for mais utilizado.</li> <li>\u00d3timo para fazer processamento de dados tempor\u00e1rios.</li> <li>Enquanto estiver em uso, os dados ocupam espa\u00e7o de armazenamento do dispositivo (HD, SSD, Memory Card, etc..).</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um objeto stream</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0tryFinally(tryCallback, finallyCallback) ou function\u00a0Utils.tryFinally(tryCallback, finallyCallback) <p> </p> <p>LUA n\u00e3o possui um operador try-finally para tratamento de exce\u00e7\u00f5es. Esta fun\u00e7\u00e3o \u00e9 uma alternativa para o comportamento try-finally que o LUA n\u00e3o prov\u00ea nativamente.</p> <p> </p> <p>Executa a fun\u00e7\u00e3o \"tryCallback\", e:\u00a0</p> <ul> <li> </li> <li>Se ocorrer algum erro na execu\u00e7\u00e3o, a fun\u00e7\u00e3o \"finallyCallback\" \u00e9 invocada e o erro \u00e9 levantado logo ap\u00f3s.</li> <li>Se n\u00e3o ocorrer erro na execu\u00e7\u00e3o, a fun\u00e7\u00e3o \"finallyCallback\" \u00e9 invocada e a execu\u00e7\u00e3o continua normalmente.</li> </ul> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>tryCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada.</li> <li>finallyCallback - Uma fun\u00e7\u00e3o que sempre ser\u00e1 invocada ap\u00f3s a execu\u00e7\u00e3o de \"tryCallback\", mesmo havendo erros de execu\u00e7\u00e3o.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0colorToRGBA(color) ou function\u00a0Utils.colorToRGBA(color) <p> </p> <p>Dado uma cor no formato string de cor, retorna os tons de Red, Green, Blue e Alpha da cor</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>Color - um string de cor contendo a cor que deseja decompor</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>4 n\u00fameros representando, respectivamente os tons de Red, Green, Blue e Alpha da cor. Os tons s\u00e3o n\u00fameros entre 0.0 e 1.0</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0RGBAToColor(r, g, b, a) ou function\u00a0Utils.RGBAToColor(r, g, b, a) <p> </p> <p>Dado tons de cores Red, Green, Blue e Alpha, retorna um string de cor que representa a cor.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>r - Tom de Red, n\u00famero entre 0.0 e 1.0</li> <li>g - Tom de Green, n\u00famero entre 0.0 e 1.0</li> <li>b - Tom de Blue, n\u00famero entre 0.0 e 1.0</li> <li>a - Tom de Alpha, n\u00famero entre 0.0 e 1.0. Se omitido, o valor \u00e9 considerado 1.0</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um string de cor</li> </ul> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with HelpNDoc's Stunning User Interface</p>"},{"location":"BibliotecaVHD/","title":"Biblioteca VHD","text":""},{"location":"BibliotecaVHD/#biblioteca-vhd_1","title":"Biblioteca VHD","text":"<p>A biblioteca vhd prov\u00ea fun\u00e7\u00f5es para manipular o HD Virtual do plug-in, como ler um arquivo, excluir, etc...</p> <p>Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"VHD\" da unidade \"vhd.lua\".</p> <p> </p> <p>Exemplo de uso:</p> -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"vhd.lua\" require(\"vhd.lua\");\u00a0\u00a0\u00a0 -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca VHD.FUNCAO_DA_BIBLIOTECA(Parametro1,\u00a0Parametro2,\u00a0...); <p> </p> <p> </p>"},{"location":"BibliotecaVHD/#funcoes-da-biblioteca-vhd","title":"Fun\u00e7\u00f5es da biblioteca vhd","text":"function\u00a0VHD.copyFile(srcFileName, dstFileName) <p>Copy the file in the virtual HD</p> <p> </p> <p>Arguments:</p> <ul> <li>srcFileName - String containing the path to the existing source file</li> <li>dstFileName - String containing the path of the new file</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>The paths are expanded using \u201cvhd.expandFileName\u201d before copying.</li> <li>If the file \u201cdstFileName\u201d already exists, it will be replaced by the copied file.</li> </ul> <p> </p> <p> </p> function\u00a0VHD.expandFileName(shortFileName) <p> </p> <p>Expande o nome curto de um arquivo a fim de ter sua localiza\u00e7\u00e3o em rela\u00e7\u00e3o \u00e0 raiz do HD virtual.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>shortFileName \u2013 o caminho encurtado de um arquivo\u00a0 a ser expandido.</li> </ul> <p> </p> <p>Retorno:</p> <p>\u00a0 \u00a0 Uma cadeia de caracteres, onde:</p> <ul> <li> </li> <li>Se a cadeia de caracteres passada pelo par\u00e2metro shortFileName iniciar com o caractere \u201c/\u201d, a fun\u00e7\u00e3o simplesmente retorna o valor passado no par\u00e2metro (pois o nome do arquivo j\u00e1 est\u00e1 expandido, isto \u00e9, j\u00e1 est\u00e1 em rela\u00e7\u00e3o \u00e0 raiz do HD virtual).</li> <li>Caso contr\u00e1rio, a fun\u00e7\u00e3o procura pelo arquivo dentro de cada um dos diret\u00f3rios de pesquisa (SEARCH PATHs) que foram previamente registrados (ver descri\u00e7\u00e3o da fun\u00e7\u00e3o \u201cvhd.addSearchPath\u201d).\u00a0<ul> <li>Caso encontre dentro de algum dos diret\u00f3rios de pesquisa, a fun\u00e7\u00e3o retorna o caminho completo (expandido, com rela\u00e7\u00e3o \u00e0 raiz do HD virtual) do arquivo.\u00a0</li> <li>Caso n\u00e3o encontre o arquivo, a fun\u00e7\u00e3o retorna o mesmo valor passado pelo par\u00e2metro shortFileName.</li> </ul> </li> <li>Esta fun\u00e7\u00e3o leva em considera\u00e7\u00e3o os aliases registrados pela fun\u00e7\u00e3o VHD.registerAlias, traduzindo o apelido e retornando o nome real do arquivo.</li> </ul> <p> </p> <p> </p> function\u00a0VHD.addSearchPath(directory) <p> </p> <p>Adiciona um diret\u00f3rio \u00e0 lista de \"diret\u00f3rios de pesquisa\" (SEARCH PATH) do HD Virtual.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>directory - cadeia de caracteres contendo o caminho expandido (isto \u00e9, em rela\u00e7\u00e3o \u00e0 raiz do HD Virtual) do diret\u00f3rio.</li> </ul> <p> </p> <p>A fun\u00e7\u00e3o \"vhd.expandFileName\" utiliza estes diret\u00f3rios de pesquisas na hora de expandir o nome curto de um arquivo.</p> <p> </p> <p> </p> function\u00a0VHD.removeSearchPath(directory) <p> </p> <p>Remove um diret\u00f3rio da lista de \"diret\u00f3rios de pesquisa\" (SEARCH PATH) que havia sido previamente registrado atrav\u00e9s a fun\u00e7\u00e3o \"vhd.addSearchPath\".</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>directory - cadeia de caracteres contendo o caminho expandido (isto \u00e9, em rela\u00e7\u00e3o \u00e0 raiz do HD Virtual) do diret\u00f3rio.</li> </ul> <p> </p> function\u00a0VHD.registerAlias(aliases) <p> </p> <p>Registra aliases/apelidos para arquivos no VHD.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>aliases - uma tabela lua contendo os aliases, onde cada par de chave-valor da tabela representa:<ul> <li>chave - uma cadeia de caracteres representando o aliases/apelido a ser criado</li> <li>valor - o nome do arquivo no VHD que o alias deve traduzir.</li> </ul> </li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>O alias funciona com a fun\u00e7\u00e3o VHD.expandFileName e com a fun\u00e7\u00e3o require do Lua.</li> <li>O alias \u00e9 case-sensitive, isto \u00e9, \"myFile\" \u00e9 diferente de \"MyFile\".</li> <li>O alias n\u00e3o pode come\u00e7ar com o caracter \"/\". O nome traduzido pode come\u00e7ar com \"/\"</li> </ul> <p> </p> <p>Exemplo:</p> local\u00a0aliases\u00a0=\u00a0{}; aliases[\"mylua\"]\u00a0=\u00a0\"init.lua\"; aliases[\"myFile2\"]\u00a0=\u00a0\"secondFile.lua\"; \u00a0 VHD.registerAlias(aliases);\u00a0 require(\"myFile2\");\u00a0 <p> </p> <p> </p> <p> </p> function\u00a0VHD.fileExists(fileName) <p> </p> <p>Verifica se um arquivo existe no HD virtual.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>fileName - cadeia de caracteres contendo o caminho\u00a0 a verificar.</li> </ul> <p> </p> <p>Retorno:</p> <p>\u00a0 \u00a0 Retorna true caso o arquivo exista ou false se n\u00e3o existir.</p> <p> </p> <p>Observa\u00e7\u00e3o:</p> <p>\u00a0 \u00a0 Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \"vhd.expandFileName\") antes de realizar a verifica\u00e7\u00e3o.</p> <p> </p> function\u00a0VHD.directoryExists(path) <p> </p> <p>Verifica se um diret\u00f3rio existe no HD virtual.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>path - cadeia de caracteres contendo o caminho\u00a0 a verificar.</li> </ul> <p> </p> <p>Retorno:</p> <p>\u00a0 \u00a0 Retorna true caso o diret\u00f3rio exista ou false se n\u00e3o existir.</p> <p> </p> <p>Observa\u00e7\u00e3o:</p> <p>\u00a0 \u00a0 Esta fun\u00e7\u00e3o expande o caminho (atrav\u00e9s de \"vhd.expandFileName\") antes de realizar a verifica\u00e7\u00e3o.</p> <p> </p> <p> </p> function\u00a0VHD.openFile(fileName [,\u00a0mode]) <p> </p> <p>Esta fun\u00e7\u00e3o abre um arquivo do HD virtual no modo especificado.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>fileName - cadeia de caracteres contendo o nome do arquivo a abrir.</li> <li>(OPCIONAL) mode - cadeia de caracteres definindo o modo em que o arquivo ser\u00e1 aberto.Pode ser um dos seguintes valores:<ul> <li>\"r\" - modo somente leitura (padr\u00e3o se omitido). A fun\u00e7\u00e3o falhar\u00e1 se o arquivo n\u00e3o existir.</li> <li>\"w\" - modo escrita/leitura preservando o contendo do arquivo (se existir). Se o arquivo n\u00e3o existir, a fun\u00e7\u00e3o cria o arquivo.</li> <li>\"a\" - modo append. Equivalente ao modo \"w\", por\u00e9m o objeto stream retornado \u00e9 posicionado no fim do arquivo.</li> <li>\"w+\" - modo escrita/leitura, o conte\u00fado do arquivo \u00e9 apagado se ele existir. Se o arquivo n\u00e3o existir, a fun\u00e7\u00e3o cria o arquivo.</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Caso a fun\u00e7\u00e3o obtenha \u00eaxito, retorna um Objeto Stream representando o conte\u00fado do arquivo. Qualquer altera\u00e7\u00e3o feita no objeto stream \u00e9 refletida no arquivo.</li> <li>Caso a fun\u00e7\u00e3o falhe, retorna nil e a mensagem de erro.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \"vhd.expandFileName\") antes de realizar a abertura.</li> <li>Para fechar o arquivo que foi aberto, voc\u00ea deve invocar o m\u00e9todo close do objeto stream retornado. Se o objeto stream for coletado pelo coletor de lixo, o arquivo tamb\u00e9m \u00e9 fechado automaticamente.</li> <li>Exceto para o modo \"a\", o objeto stream retornado aponta para o inicio do arquivo.</li> <li>Apenas o modo \"r\" \u00e9 aceito para abrir arquivos que originalmente vieram no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos</li> </ul> <p> </p> <p> </p> function\u00a0VHD.forceDirectory(directoryPath) <p> </p> <p>Esta fun\u00e7\u00e3o cria, se necess\u00e1rio, um ou mais diret\u00f3rios especificado por directoryPath no HD virtual.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio a ser \"for\u00e7ado\".</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Caso o diret\u00f3rio j\u00e1 exista e n\u00e3o foi preciso fazer nada, a fun\u00e7\u00e3o retorna false.</li> <li>Caso o diret\u00f3rio n\u00e3o existia e a fun\u00e7\u00e3o conseguiu cri\u00e1-lo, retorna true.</li> <li>Caso o diret\u00f3rio n\u00e3o exista mas a fun\u00e7\u00e3o tamb\u00e9m n\u00e3o consiga cri\u00e1-lo, um erro \u00e9 levantado.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>O valor de \"directoryPath\" deve ser um caminho absoluto no VHD (isto \u00e9, deve come\u00e7ar com o caracter \"/\")</li> <li>A cria\u00e7\u00e3o de diret\u00f3rio ocorre de forma recursiva. Isto \u00e9, ao especificar \"/diretorioNaoExistente1/diretorioA/diretorioB\", a fun\u00e7\u00e3o ir\u00e1 criar \"/diretorioNaoExistente1\" primeiro, depois \"diretorioA\" dentro de \"/diretorioNaoExistente1/\", e, por fim, \"diretorioB\" dentro de \"/diretorioNaoExistente1/diretorioA/\".</li> </ul> <p> </p> <p> </p> function\u00a0VHD.deleteFile(fileName) <p> </p> <p>Esta fun\u00e7\u00e3o remove um arquivo do HD virtual.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>fileName - cadeia de caracteres contendo o caminho do arquivo a ser exclu\u00eddo.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \"vhd.expandFileName\") antes de realizar a remo\u00e7\u00e3o.</li> <li>Esta fun\u00e7\u00e3o n\u00e3o pode ser usada para remover diret\u00f3rios.</li> <li>N\u00e3o \u00e9 poss\u00edvel apagar um arquivo que originalmente veio no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos</li> </ul> <p> </p> <p> </p> function\u00a0VHD.deleteDirectory(directoryPath) <p> </p> <p>Esta fun\u00e7\u00e3o remove um diret\u00f3rio e todo seu conte\u00fado do HD virtual.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio que ser\u00e1 exclu\u00eddo.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o expande o caminho do diret\u00f3rio (atrav\u00e9s de \"vhd.expandFileName\") antes de realizar a remo\u00e7\u00e3o.</li> <li>N\u00e3o \u00e9 poss\u00edvel apagar um arquivo que originalmente veio no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos.</li> <li>Esta fun\u00e7\u00e3o apaga o diret\u00f3rio e todo seu conte\u00fado recursivamente.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0VHD.enumerateContent(directoryPath) <p> </p> <p>Esta fun\u00e7\u00e3o retorna quais arquivos e diret\u00f3rios est\u00e3o dentro de um diret\u00f3rio no HD Virtual.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio que ter\u00e1 seu conte\u00fado enumerado.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Se \"directoryPath\" n\u00e3o conter um caminho v\u00e1lido de diret\u00f3rio, um erro ser\u00e1 lan\u00e7ado.</li> <li>Sen\u00e3o, um array de strings ser\u00e1 retornado, onde cada posi\u00e7\u00e3o do arranjo cont\u00e9m o nome do diret\u00f3rio/arquivo.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o expande o caminho de directoryPath (atrav\u00e9s de \"vhd.expandFileName\") antes de realizar a enumera\u00e7\u00e3o..</li> <li>Esta fun\u00e7\u00e3o n\u00e3o enumera o conte\u00fado de forma recursiva. Isto \u00e9, se existirem sub-diret\u00f3rios, seus conte\u00fados n\u00e3o ser\u00e3o enumerados neste retorno, apenas os itens que est\u00e3o diretamente dentro de \"directoryPath\".</li> <li>O texto retornado no arranjo cont\u00e9m o nome do arquivo/diret\u00f3rio sem incluir \"barras\" ou outra forma de expressar o diret\u00f3rio que se encontra.<ul> <li>Exemplo: Se existirem dois arquivos (a.txt e b.txt) e um subdiret\u00f3rio (\"/textos/hist\u00f3rias/\") na pasta \"/textos/\", o retorno ser\u00e1:</li> <li>{'a.txt', 'b.txt', 'hist\u00f3rias'}</li> </ul> </li> <li>Para saber se um item do arranjo retornado \u00e9 diret\u00f3rio ou \u00e9 arquivo, utilize as fun\u00e7\u00f5es VHD.fileExists e VHD.directoryExists</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface</p>"},{"location":"BibliotecaparaMacrosemLua/","title":"Biblioteca para Macros em Lua","text":""},{"location":"BibliotecaparaMacrosemLua/#biblioteca-para-macros-em-lua_1","title":"Biblioteca para Macros em Lua","text":""},{"location":"BibliotecaparaMacrosemLua/#variaveis","title":"Vari\u00e1veis","text":"vari\u00e1vel parametro ou vari\u00e1vel parameter e\u00a0 vari\u00e1vel arg[indice] <p>(N\u00e3o \u00e9 uma fun\u00e7\u00e3o)\u00a0 Possui os par\u00e2metros passado para a macro, onde a vari\u00e1vel \"parametro\" cont\u00e9m a cadeia de caracteres completa e a vari\u00e1vel \"arg\" cont\u00e9m um arranjo, onde cada item representa um argumento separado por espa\u00e7o.</p> <p> </p> <p>Se o usu\u00e1rio digitar \"/minhaMacro Texto de Teste\":</p> <ul> <li>A vari\u00e1vel \"parametro\" conter\u00e1 \"Texto de Teste\"</li> <li>A vari\u00e1vel arg[1] conter\u00e1 \"Texto\", arg[2] conter\u00e1 \"de\", arg[3] conter\u00e1 \"Teste\" e #arg cont\u00e9m a quantidade de argumentos.</li> </ul> <p> </p> <p>Exemplo: Fazer um teste de resist\u00eancia parametrizado.</p> local\u00a0dificuldade\u00a0=\u00a0tonumber(parametro);\u00a0 if\u00a0dificuldade\u00a0==\u00a0nil\u00a0then \u00a0 \u00a0escrever(\"Utilize: /macro \\&lt;N\u00daMERO&gt;\"); \u00a0 \u00a0return; end;\u00a0 local\u00a0resultado\u00a0=\u00a0rolar(\"1d20 + 5\",\u00a0\"Dificuldade \"\u00a0..\u00a0dificuldade);\u00a0 if\u00a0resultado\u00a0&gt;=\u00a0dificuldade\u00a0then \u00a0 enviar(\"Passou no teste!\"); else \u00a0 enviar(\"N\u00e3o passou no teste\"); end; <p> </p> <p> </p> vari\u00e1vel meuJogador ou vari\u00e1vel myPlayer <p> </p> <p>(N\u00e3o \u00e9 uma fun\u00e7\u00e3o) objeto Jogador representando o usu\u00e1rio da macro naquela mesa.</p> <p> </p> <p>Exemplo 1: Escrever na tela o seu pr\u00f3prio login.</p> escrever(meuJogador.login); <p> </p> <p> </p> vari\u00e1vel myCharacter <p> </p> <p>(N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Objeto Personagem representando o personagem principal do usu\u00e1rio naquela mesa.</p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Se o jogador n\u00e3o possuir nenhum personagem, acessar esta vari\u00e1vel ir\u00e1 causar um erro com uma mensagem informativa de que \"o jogador n\u00e3o possui nenhum personagem\" e a macro p\u00e1ra de executar.</li> </ul> <p> </p> <p>Exemplo 1: Escrever na tela o nome do seu personagem.</p> write(myCharacter.nome) <p> </p> <p> </p> vari\u00e1vel sheet <p> </p> <p>(N\u00e3o \u00e9 uma fun\u00e7\u00e3o) O Objeto Nodo raiz representando o NodeDatabase/Sheet do personagem principal do usu\u00e1rio logado.</p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>Se o jogador n\u00e3o possuir nenhum personagem, acessar esta vari\u00e1vel ir\u00e1 causar um erro com uma mensagem informativa de que \"o jogador n\u00e3o possui nenhum personagem\" e a macro p\u00e1ra de executar.</li> <li>A execu\u00e7\u00e3o da macro pode ser pausada at\u00e9 que o NodeDatabase/Ficha seja carregada pela internet.</li> <li>O Objeto Nodo retornado \u00e9 o mesmo daquela vari\u00e1vel \"sheet\" usada para programar as fichas/lua forms.</li> <li>As altera\u00e7\u00f5es feitas no objeto nodo retornado s\u00e3o sincronizadas normalmente, confome as regras de permiss\u00f5es do Node Database.</li> <li>Se houver algum erro ao carregar o NodeDatabase, a macro p\u00e1ra de executar.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> -- Escrever no chat a estrutura dos dados armazenados da ficha write(utils.tableToStr(sheet,\u00a0true)); \u00a0 -- Se for a ficha D\\&amp;D 5, a linha abaixo aumenta a CA em 1 sheet.CA\u00a0=\u00a0(tonumber(sheet.CA)\u00a0or\u00a00)\u00a0+\u00a01; \u00a0 -- Se for a ficha D\\&amp;D 5, a linha abaixo esreve no chat Quantos PV o personagem tem write(sheet.PV) <p> </p> <p> </p> <p> </p> <p> </p> vari\u00e1vel mesa ou vari\u00e1vel room <p> </p> <p>(N\u00e3o \u00e9 uma fun\u00e7\u00e3o) objeto Mesa representando a mesa em que a macro est\u00e1 sendo executada.</p> <p> </p> <p>Exemplo 1: Escrever algumas informa\u00e7\u00f5es da mesa na tela.</p> escrever(mesa.nome); escrever(mesa.sistema); escrever(mesa.msgStatus); <p> </p> <p> </p> <p> </p> vari\u00e1vel jogadores ou vari\u00e1vel players <p> </p> <p>(N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Arranjo de objeto Jogador, representando os usu\u00e1rios que est\u00e3o na mesa no momento. \\ Forma de uso: jogadores[1] cont\u00e9m o primeiro jogador, jogadores[2] cont\u00e9m o segundo jogador, jogadores[3] cont\u00e9m o terceiro, jogadores[#jogadores] possui o \u00faltimo jogador.</p> <p> </p> <p> </p> <p>Exemplo 1: Escrever na tela o login de todos os jogadores da mesa.</p> for\u00a0i\u00a0=\u00a01,\u00a0#jogadores,\u00a01\u00a0do \u00a0 escrever(jogadores[i].login); end; <p> </p> <p> </p> <p>Exemplo 2: Dar +voz para todos os espectadores da mesa.</p> for\u00a0i\u00a0=\u00a01,\u00a0#jogadores,\u00a01\u00a0do if\u00a0jogadores[i].isEspectador\u00a0then \u00a0 \u00a0 jogadores[i]:requestSetVoz(true); \u00a0\u00a0end; end; <p> </p> <p> </p> vari\u00e1vel inRoom <p> </p> <p>(N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Booleano (true ou false) indicando se a macro est\u00e1 sendo executada em algum chat associado a alguma mesa.</p> <p> </p> <p> </p>"},{"location":"BibliotecaparaMacrosemLua/#funcoes","title":"Fun\u00e7\u00f5es","text":"function\u00a0escrever(texto[, quebrarLinha, permitirSmileys]) ou function\u00a0write(texto[, quebrarLinha, permitirSmileys]) <p>Escreve um texto na tela do chat. Este texto n\u00e3o \u00e9 enviado para ningu\u00e9m e aparecer\u00e1 somente no chat do pr\u00f3prio usu\u00e1rio.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li>texto - Cadeia de caracteres contendo o texto que deseja escrever.</li> <li> </li> <li>(OPCIONAL) quebrarLinha - Booleano (true ou false) indicando se o RRPG deve adicionar uma quebra de linha no chat antes de escrever o texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido.</li> <li>(OPCIONAL) permitirSmileys - Booleano (true ou false) indicando se o RRPG deve interpretar smileys/memes neste texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> escrever(\"Ol\u00e1 mundo!!!\"); <p> </p> <p> </p> <p> </p> <p> </p> function\u00a0enviar(mensagem) ou function\u00a0send(mensagem) <p> </p> <p>Envia uma mensagem comum para o chat, como se o usu\u00e1rio a tivesse digitado.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>mensagem - Cadeia de caracteres contendo o texto que deseja enviar.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> enviar(\"Ol\u00e1, tudo bem?!\"); <p> </p> <p> </p> <p> </p> function\u00a0agir(acao) ou function\u00a0act(acao) <p> </p> <p>Envia uma mensagem como a\u00e7\u00e3o para o chat.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>acao - Cadeia de caracteres contendo a acao que deseja enviar.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> agir(\"saca sua espada longa\"); <p> </p> <p> </p> <p> </p> function\u00a0narrar(narracao) ou function\u00a0narrate(narracao) <p> </p> <p>Envia uma mensagem de narra\u00e7\u00e3o para o chat.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>narracao - Cadeia de caracteres contendo a narra\u00e7\u00e3o que deseja enviar.</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o: Apenas o mestre consegue enviar mensagens de narra\u00e7\u00e3o.</p> <p> </p> <p> </p> <p>Exemplo:</p> narrar(\"Ap\u00f3s uma p\u00e9ssima noite de descanso, Gruumsh acorda com as m\u00e3os algemadas\"); <p> </p> <p> </p> function\u00a0enviarNPC(npc, mensagem) ou function\u00a0sendNPC(npc, mensagem) <p> </p> <p>Envia uma mensagem para o chat como se um NPC estivesse falando</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>npc - Cadeia de caracteres contendo o nome do NPC.</li> <li>mensagem - Cadeia de caracteres contendo a mensagem que deseja enviar.</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o: Apenas o mestre consegue enviar mensagens como NPC.</p> <p> </p> <p> </p> <p>Exemplo:</p> enviarNPC(\"Rei Darik\", \"Guardas, prendam estes infelizes!\"); <p> </p> <p> </p> function\u00a0rolar(rolagem[, mensagemAdicional]) ou function\u00a0roll(rolagem[, mensagemAdicional]) <p> </p> <p>Executa uma rolagem de dados no chat.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>rolagem - Cadeia de caracteres contendo a rolagem a ser feita. Exemplo: \"1d20 + 5\"</li> <li> </li> <li>(OPCIONAL) mensagemAdicional - Uma cadeia de caracteres opcional que acompanhar\u00e1 a rolagem na interface.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o retorna um n\u00famero contendo o resultado e um objeto rolagem com informa\u00e7\u00f5es detalhadas do resultado.</li> </ul> <p> </p> <p>Importante:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o espera a rolagem ser feita na interface para continuar a execu\u00e7\u00e3o da Macro. Se, por algum motivo, a rolagem n\u00e3o puder ser feita, a macro p\u00e1ra de executar. Uma poss\u00edvel situa\u00e7\u00e3o de exemplo \u00e9 quando a mesa est\u00e1 moderada e o usu\u00e1rio n\u00e3o possui o modo +voz para enviar mensagens.</li> </ul> <p> </p> <p> </p> <p>Exemplo 1:</p> local\u00a0resultado\u00a0=\u00a0rolar(\"1d20 + 5\");\u00a0 if\u00a0resultado\u00a0&gt;=\u00a015\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 enviar(\"Acertou!\"); else \u00a0 \u00a0 \u00a0 \u00a0 enviar(\"Errou!\"); end; <p> </p> <p> </p> <p>Exemplo 2:</p> local\u00a0resultado\u00a0=\u00a0rolar(\"1d20 + 5\", \"Rolagem de ataque\");\u00a0 if\u00a0resultado\u00a0&gt;=\u00a015\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 rolar(\"1d8 + 5\", \"Rolagem de dano\");\u00a0 end; <p> </p> <p>Exemplo 3: Rolar 4d6 e selecionar os 3 maiores n\u00fameros da rolagem.</p> local\u00a0resultado,\u00a0rolagem\u00a0=\u00a0rolar(\"4d6\"); local\u00a0dados\u00a0=\u00a0{};\u00a0 -- coletar os resultados individuais de cada dado for\u00a0i\u00a0=\u00a01,\u00a0#rolagem.ops,\u00a01\u00a0do local\u00a0op\u00a0=\u00a0rolagem.ops[i];\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0op.tipo\u00a0==\u00a0\"dado\"\u00a0then for\u00a0j\u00a0=\u00a01,\u00a0#op.resultados,\u00a01\u00a0do \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 dados[#dados\u00a0+\u00a01]\u00a0=\u00a0op.resultados[j]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; end;\u00a0 -- Ordenar os resultados, menores primeiro table.sort(dados);\u00a0 local\u00a0texto\u00a0=\u00a0\"\";\u00a0 -- Pegar os ultimos 3, isto \u00e9, os 3 maiores.. de traz para frente * for\u00a0i\u00a0=\u00a0#dados,\u00a0#dados\u00a0-\u00a02,\u00a0-1\u00a0do \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 texto\u00a0=\u00a0texto\u00a0..\u00a0\" \"\u00a0..\u00a0dados[i]; end*;\u00a0 enviar(\"Os 3 maiores n\u00fameros foram:\"\u00a0..\u00a0texto); <p> </p> <p> </p> <p> </p> <p> </p> function\u00a0rolarLocal(rolagem) ou function\u00a0rollLocal(rolagem) <p> </p> <p>Executa uma rolagem de dados local, isto \u00e9, uma rolagem que n\u00e3o ser\u00e1 exibida em lugar nenhum.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>rolagem - Cadeia de caracteres contendo a rolagem a ser feita. Exemplo: \"1d20 + 5\"</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Esta fun\u00e7\u00e3o retorna um n\u00famero contendo o resultado e um objeto rolagem com informa\u00e7\u00f5es detalhadas do resultado.</li> </ul> <p> </p> <p>Exemplos:</p> <p>\u00a0 \u00a0 O comportamento da fun\u00e7\u00e3o \"rolarLocal\" \u00e9 igual a da fun\u00e7\u00e3o \"rolar\", portanto, consulte os exemplos de \"rolar\".</p> <p> </p> <p> </p> <p> </p> <p> </p> function\u00a0esperar(milisegundos) ou function\u00a0wait(milisegundos) <p> </p> <p>Realiza uma pausa cronometrada na execu\u00e7\u00e3o da Macro.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>milisegundos - Um n\u00famero em milisegundos representando o intervalo de tempo que a execu\u00e7\u00e3o da Macro ficar\u00e1 pausada. 1000 = 1 segundo, 500 = 0,5 segundos.</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0load(luaCode) <p> </p> <p>Interpreta um c\u00f3digo de macro escrita na linguagem LUA</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>luaCode - Cadeia de caracteres contendo um c\u00f3digo na linguagem LUA (seguindo o mesmo padr\u00e3o de uma macro).</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Se luaCode possui um c\u00f3digo Lua v\u00e1lido, retorna uma fun\u00e7\u00e3o que poder\u00e1 ser invocada</li> <li>Se lucaCode n\u00e3o possui um c\u00f3digo Lua v\u00e1lido, retorna dois valores: nil e uma mensagem de erro.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0func,\u00a0errorMsg\u00a0=\u00a0load(\"write(1 + 5 + 9 + 10)\"); \u00a0 if\u00a0func\u00a0~=\u00a0nil\u00a0then -- O codigo foi carregado. Vamos invoc\u00e1-lo agora \u00a0 func(); else \u00a0\u00a0write(\"could not load lua code: \"\u00a0..\u00a0errorMsg); end <p> </p> <p> </p> function\u00a0Log.e(tag, msg) function\u00a0Log.w(tag, msg) function\u00a0Log.i(tag, msg) function\u00a0Log.d(tag, msg) function\u00a0Log.v(tag, msg) <p> </p> <p>Emmit log message to the Firecast's log file and to the Firecast's console window. Use the /console command to reveal the console</p> <p> </p> <p>Arguments:</p> <ul> <li> </li> <li>tag - Used to identify the source of a log message. It usually identifies the location or activity where the log call occurs.</li> <li>msg - The message you would like to be logged</li> </ul> <p> </p> <p>Log severity:</p> Log.e Error message A situation that represents an unhandled error that may interrupt some operation\u00a0 Log.w Warning message A situation that can be handled but may cause some unintended behavior\u00a0 Log.i Informational/Notice message A normal but significant condition that may require special handling.\u00a0 Log.d Debug message A developer debug message\u00a0 Log.v Verbose message Algorithm steps message, very low priority messages.\u00a0 Remarks: Messages of this severity are not emitted in the Firecast\u2019s log files In the Firecast\u2019s console, you need to execute the command \u201cfilter add *\u201d to be able to see these messages.\u00a0 <p> </p> <p> </p> function\u00a0showMessage(msg) <p> </p> <p>Exibe uma janela para o usu\u00e1rio contendo uma mensagem.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>msg - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio.</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio pressione OK na janela.</li> </ul> <p> </p> <p> </p> function\u00a0alert(msg) <p> </p> <p>Exibe uma janela para o usu\u00e1rio contendo uma mensagem de alerta.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>msg - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio.</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio pressione OK na janela.</li> </ul> <p> </p> <p> </p> function\u00a0toast(message) <p> </p> <p>Show a quick informative message to the user that does not require user interaction and hides automatically after a short time</p> <p> </p> <p>Parameters</p> <ul> <li> </li> <li>message - The message string to be shown</li> </ul> <p> </p> <p> </p> function\u00a0confirmOkCancel(question) <p> </p> <p>Exibe uma janela para o usu\u00e1rio onde ele deve escolher responder ou \"Ok\" ou \"Cancelar\"</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>question - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>true se o usu\u00e1rio responder \"Ok\" ou false se o usu\u00e1rio responder \"Cancelar\"</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> if\u00a0confirmOkCancel(\"Ser\u00e1 adicionado 6 \u00e0 rolagem\")\u00a0then \u00a0\u00a0write(\"O usuario respondeu OK\"); else \u00a0\u00a0write(\"O usuario respondeu Cancelar\"); end <p> </p> <p> </p> function\u00a0confirmYesNo(question) <p> </p> <p>Exibe uma janela para o usu\u00e1rio onde ele deve escolher responder ou \"Sim\" ou \"N\u00e3o\"</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>question - Cadeia de caracteres contendo a pergunta que dever\u00e1 ser exibida para o usu\u00e1rio.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>true se o usu\u00e1rio responder \"Sim\" ou false se o usu\u00e1rio responder \"N\u00e3o\"</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> if\u00a0confirmYesNo(\"Deseja continuar?\")\u00a0then \u00a0\u00a0write(\"O usuario respondeu Sim\"); else \u00a0\u00a0write(\"O usuario respondeu N\u00e3o\"); end <p> </p> <p> </p> function\u00a0inputQuery(prompt[, initialValue, allowEmptyString]) <p> </p> <p>Exibe uma janela para o usu\u00e1rio onde ele deve digitar um valor.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>prompt - Cadeia de caracteres orientando o usu\u00e1rio o que ele deve preencher.</li> <li>(OPCIONAL) initialValue - Cadeia de caracteres contendo uma sugest\u00e3o de valor inicial para o usu\u00e1rio.</li> <li>(OPCIONAL) allowEmptyString - true se o usu\u00e1rio pode informar um texto em branco. O padr\u00e3o \u00e9 false.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Se o usu\u00e1rio confirmar o valor, esta fun\u00e7\u00e3o retorna o valor escrito pelo usu\u00e1rio</li> <li>Se o usu\u00e1rio escolher cancelar na janela exibida, a macro p\u00e1ra de executar.</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0bonus\u00a0=\u00a0inputQuery(\"B\u00f4nus de Ataque\"); local\u00a0defesa\u00a0=\u00a0inputQuery(\"Defesa\",\u00a0\"10\"); \u00a0 if\u00a0roll(\"1d20 + \"\u00a0..\u00a0bonus)\u00a0&gt;=\u00a0tonumber(defesa)\u00a0then \u00a0\u00a0write(\"Acertou\"); else \u00a0\u00a0write(\"Errou\"); end;\u00a0 <p> </p> <p> </p> function\u00a0selectImageURL([defaultURL]) <p> </p> <p>Esta fun\u00e7\u00e3o exibe uma janela para o usu\u00e1rio escolher uma URL de uma imagem.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>(OPCIONAL) defaultURL - Texto contendo uma URL sugerida para o usu\u00e1rio</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Retorna a URL de uma imagem escolhida pelo usu\u00e1rio</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0url\u00a0=\u00a0selectImageURL(); write(\"Imagem escolhida: \"\u00a0..\u00a0url);\u00a0 <p> </p> <p> </p> function\u00a0choose(prompt, options, [defaultOptionIndex, shortCircuit]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma op\u00e7\u00e3o dentre uma lista de op\u00e7\u00f5es.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> <li>options - Um array/arranjo/lista de cadeias de caracteres/textos, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio.</li> <li>(OPCIONAL) defaultOptionIndex - Um n\u00famero contendo um \u00edndice informado qual dos itens de \"options\" deve ser apresentado como a escolha padr\u00e3o. Se n\u00e3o informado, nenhuma op\u00e7\u00e3o ser\u00e1 mostrada como padr\u00e3o.</li> <li>(OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas uma op\u00e7\u00e3o a ser mostrada ao usuario, a interface n\u00e3o \u00e9 exibida e esta op\u00e7ao \u00e9 automaticamente selecionada. Se n\u00e3o informado, este par\u00e2metro assume o valor false.</li> </ul> <p> </p> <p>Retorno:</p> <p>\u00a0 \u00a0 Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem:</p> <ul> <li> </li> <li> <ul> <li>index - Um n\u00famero, o \u00edndice de \"options\" que foi escolhido pelo usu\u00e1rio</li> <li>text - O texto equivalente ao \u00edndice escolhido pelo usu\u00e1rio, conforme \"options\"</li> </ul> </li> </ul> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> <li>Lembre-se que indices de arrays em lua come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0</li> <li> </li> <li>Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a macro p\u00e1ra de executar como se o usu\u00e1rio tivesse cancelado a janela.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0indice,\u00a0texto\u00a0=\u00a0choose(\"O que deseja fazer?\",\u00a0{\"Atacar\",\u00a0\"Defender\"},\u00a01); \u00a0 escrever(\"O usu\u00e1rio escolheu o \u00edndice: \"\u00a0..\u00a0indice); escrever(\"O usu\u00e1rio escolheu: \"\u00a0..\u00a0texto); \u00a0 <p> </p> <p> </p> function\u00a0chooseMultiple(prompt, options) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma ou mais op\u00e7\u00f5es dentre uma lista de op\u00e7\u00f5es.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> <li>options - Um array/lista/arranjo de textos/cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio.</li> </ul> <p> </p> <p>Retorno:</p> <p>Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem:</p> <ul> <li> </li> <li> <ul> <li>indexes - Um array/arranjo/lista de n\u00fameros, contendo os \u00edndices de \"options\" que foram escolhidos pelo usu\u00e1rio</li> <li>texts - Um array/arranjo/lista de textos equivalentes aos \u00edndices escolhidos pelo usu\u00e1rio, conforme \"options\"</li> </ul> </li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> <li>Lembre-se que indices de arrays em lua come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0</li> <li> </li> <li>Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a macro p\u00e1ra de executar como se o usu\u00e1rio tivesse cancelado a janela.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0indices,\u00a0textos\u00a0=\u00a0chooseMultiple(\"B\u00f4nus ativos\",\u00a0{\"Cobertura\",\u00a0\"Defesa Total\",\u00a0\"Escondido\"}); \u00a0 for\u00a0i\u00a0=\u00a01,\u00a0#indices,\u00a01\u00a0do \u00a0 \u00a0escrever(\"O usu\u00e1rio escolheu o \u00edndice: \"\u00a0..\u00a0indices[i]); \u00a0 \u00a0escrever(\"O usu\u00e1rio escolheu: \"\u00a0..\u00a0textos[i]); end; \u00a0 <p> </p> <p> </p> function\u00a0chooseCharacter(prompt[, filter, shortCircuit]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um personagem da lista de personagens que est\u00e3o na biblioteca da mesa.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> <li>(OPCIONAL) filter - Uma cadeia de caracteres informando quais persnagens devem ser apresentados na interface de sele\u00e7\u00e3o e pode ser um dos seguintes valores:<ul> <li>\"all\" - Todos os personagens da mesa dever\u00e3o ser apresentados na janela (Op\u00e7\u00e3o padr\u00e3o caso n\u00e3o seja informado filter)</li> <li>\"pc\" - Apenas os personagens de jogadores dever\u00e3o ser apresentados na janela.</li> <li>\"pcOnline\" - Apenas os personagens de jogadores que est\u00e3o online dever\u00e3o ser apresentados na janela.</li> <li>\"npc\" - Apenas os personagens do mestre dever\u00e3o ser apresentados.</li> <li>\"mine\" - Apenas os personagens do jogador que executar a macro dever\u00e3o ser apresentados.</li> </ul> </li> <li>(OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um personagem a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este personagem \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false .</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um Objeto Personagem representando o personagem que o usu\u00e1rio escolheu.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> <li>Se o filtro especificado por \"filter\" n\u00e3o for capaz de apresentar nenhum personagem para escolha, um erro ser\u00e1 exibido para o usu\u00e1rio.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0personagem\u00a0=\u00a0chooseCharacter(\"Qual personagem deseja testar a for\u00e7a?\",\u00a0\"pc\"); escrever(\"Voc\u00ea selecionou: \"\u00a0..\u00a0personagem.nome); \u00a0 <p> </p> <p> </p> function\u00a0chooseCharacterOfPlayer(prompt, player [, shortCircuit]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um personagens da lista de personagens de um jogador na mesa.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> <li>player - Uma cadeia de caracteres contendo o login do usu\u00e1rio ou um Objeto Jogador representando de qual jogador os personagens dever\u00e3o ser apresentados na tela.</li> <li>(OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um personagem a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este personagem \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false .</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um Objeto Personagem representando o personagem que o usu\u00e1rio escolheu.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> <li>Se o jogador n\u00e3o possuir nenhum personagem, um erro \u00e9 lan\u00e7ado.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0player\u00a0=\u00a0choosePlayer(\"Selecione um jogador\"); \u00a0 local\u00a0personagem\u00a0=\u00a0chooseCharacterOfPlayer(\"Selecione um personagem\",\u00a0player); escrever(personagem.nome); \u00a0 local\u00a0personagem2\u00a0=\u00a0chooseCharacterOfPlayer(\"Selecione um personagem\",\u00a0\"AlyssonRPG\"); escrever(personagem2.nome);\u00a0 <p> </p> <p> </p> function\u00a0chooseCharacters(prompt[, filter]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um ou mais personagens da lista de personagens que est\u00e3o na biblioteca da mesa.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> <li>(OPCIONAL) filter - Uma cadeia de caracteres informando quais persnagens devem ser apresentados na interface de sele\u00e7\u00e3o e pode ser um dos seguintes valores:<ul> <li>\"all\" - Todos os personagens da mesa dever\u00e3o ser apresentados na janela (Op\u00e7\u00e3o padr\u00e3o caso n\u00e3o seja informado filter)</li> <li>\"pc\" - Apenas os personagens de jogadores dever\u00e3o ser apresentados na janela.</li> <li>\"pcOnline\" - Apenas os personagens de jogadores que est\u00e3o online dever\u00e3o ser apresentados na janela.</li> <li>\"npc\" - Apenas os personagens do mestre dever\u00e3o ser apresentados.</li> <li>\"mine\" - Apenas os personagens do jogador que executar a macro dever\u00e3o ser apresentados.</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um array/arranjo/lista de Objeto Personagem representando os personagens que o usu\u00e1rio escolheu.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> <li>Se o filtro especificado por \"filter\" n\u00e3o for capaz de apresentar nenhum personagem para escolha, um erro ser\u00e1 exibido para o usu\u00e1rio.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0personagens\u00a0=\u00a0chooseCharacters(\"Quais personagens deseja testar a for\u00e7a?\",\u00a0\"pcOnline\"); \u00a0 for\u00a0i\u00a0=\u00a01,\u00a0#personagens,\u00a01\u00a0do \u00a0 escrever(\"Voc\u00ea selecionou: \"\u00a0..\u00a0personagens[i].nome); end;\u00a0 <p> </p> <p> </p> <p> </p> function\u00a0choosePlayer(prompt[, shortCircuit]) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um jogador da lista de jogadores que est\u00e3o na mesa.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> <li>(OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um jogador a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este jogador \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false .</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um Objeto Jogador representando o jogador que o usu\u00e1rio escolheu.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0jogador\u00a0=\u00a0choosePlayer(\"De qual jogador voce quer obter informa\u00e7\u00f5es?\") escrever(\"Voc\u00ea selecionou: \"\u00a0..\u00a0jogador.login); \u00a0 if\u00a0jogador.isMestre\u00a0then \u00a0 \u00a0escrever(\"O jogador \u00e9 mestre na mesa\"); end; \u00a0 <p> </p> function\u00a0choosePlayers(prompt) <p> </p> <p>Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um ou mais jogadores da lista de jogadores que est\u00e3o na mesa.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um array/lista de Objeto Jogador representando os jogadores que o usu\u00e1rio escolheu.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0jogadores\u00a0=\u00a0choosePlayers(\"Selecione quais jogadores devem rolar iniciativa\"); \u00a0 for\u00a0i\u00a0=\u00a01,\u00a0#jogadores,\u00a01\u00a0do \u00a0 \u00a0escrever(\"Rolar iniciativa de \"\u00a0..\u00a0jogadores[i].login); end;\u00a0 <p> </p> <p> </p> function\u00a0getCharacterOfPlayer(player) <p>Retorna o personagem principal de um jogador da mesa.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>player - Uma cadeia de caracteres contendo o login do usu\u00e1rio ou um Objeto Jogador representando de qual jogador se deve obter o personagem principal.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Um Objeto Personagem representando o personagem principal do jogador.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela.</li> <li>Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar.</li> <li>Se o jogador n\u00e3o possuir nenhum personagem, um erro \u00e9 lan\u00e7ado.</li> <li>Se o jogador possuir dois ou mais personagens, o personagem principal dele ser\u00e1 retornado.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0player\u00a0=\u00a0choosePlayer(\"Escolha um jogador\"); \u00a0 local\u00a0personagemPrincipal\u00a0=\u00a0getCharacterOfPlayer(player); escrever(personagemPrincipal.nome);\u00a0 <p> </p> <p> </p> function\u00a0getCharacterSheet(character) <p>Retorna o Node Database/sheet de um personagem.</p> <p> </p> <p>Par\u00e2metros</p> <ul> <li> </li> <li>character - Um Objeto Personagem representando o personagem de qual se deve obter o NodeDatabase/sheet</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>O Objeto Nodo raiz representando o NodeDatabase/Sheet do personagem</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o da macro pode ser pausada at\u00e9 que o NodeDatabase/Ficha seja carregada pela internet.</li> <li>O Objeto Nodo retornado \u00e9 o mesmo daquela vari\u00e1vel \"sheet\" usada para programar as fichas/lua forms.</li> <li>As altera\u00e7\u00f5es feitas no objeto nodo retornado s\u00e3o sincronizadas normalmente, confome as regras de permiss\u00f5es do Node Database.</li> <li>Se houver algum erro ao carregar o NodeDatabase, a macro p\u00e1ra de executar.</li> </ul> <p> </p> <p> </p> <p>Exemplo:</p> local\u00a0personagem\u00a0=\u00a0chooseCharacter(\"Escolha um personagem\",\u00a0\"pc\") local\u00a0node\u00a0=\u00a0getCharacterSheet(personagem); \u00a0 -- Escrever no chat a estrutura dos dados armazenados da ficha write(utils.tableToStr(node,\u00a0true)); \u00a0 -- Se for a ficha D\\&amp;D 5, a linha abaixo aumenta a CA em 1 node.CA\u00a0=\u00a0(tonumber(node.CA)\u00a0or\u00a00)\u00a0+\u00a01;\u00a0 <p> </p> <p> </p> function\u00a0getUserNDB(name[, options]) <p>Open a per-user NodeDatabase that is physically stored in the Firecast server.</p> <p> </p> <p>Arguments:</p> <ul> <li> </li> <li>name - A string identifying which remote user NodeDatabase should be opened</li> <li>(OPTIONAL) options - A Lua table describing additional settings that may contain:<ul> <li>create - a boolean. If true, the NodeDatabase can be created if it does not exist. Default: false</li> </ul> </li> </ul> <p> </p> <p>Return:</p> <ul> <li> </li> <li>Node Object</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>The content of NodeDatabases opened by this function is stored separately per-user. Each user will have their own copy of the NodeDatabase identified by the \u201cname\u201d argument</li> </ul> <p> </p> <p> </p> <p> </p> function\u00a0getUserRoomNDB(name[, options]) <p>Open a per user NodeDatabase in the current room that is physically stored in the Firecast server.</p> <p> </p> <p>Arguments:</p> <ul> <li> </li> <li>name - A string identifying which remote user NodeDatabase in the current room should be opened</li> <li>(OPTIONAL) options - A Lua table describing additional settings that may contain:<ul> <li>create - a boolean. If true, the NodeDatabase can be created if it does not exist. Default: false</li> </ul> </li> </ul> <p> </p> <p>Return:</p> <ul> <li> </li> <li>Node Object</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>The content of NodeDatabases opened by this function is stored separately per-user and per-room. Each user in the current room will have their own copy of the NodeDatabase identified by the \u201cname\u201d.</li> </ul> <p> </p> <p> </p> function\u00a0getRoomNDB(name[, options]) <p>Open a per room NodeDatabase that is physically stored in the Firecast server.</p> <p> </p> <p>Arguments:</p> <ul> <li> </li> <li>name - A string identifying which remote NodeDatabase of the current room should be opened</li> <li>(OPTIONAL) options - A Lua table describing additional settings that may contain:<ul> <li>create - a boolean. If true, the NodeDatabase can be created if it does not exist. Default: false</li> </ul> </li> </ul> <p> </p> <p>Return:</p> <ul> <li> </li> <li>Node Object</li> </ul> <p> </p> <p>Remarks:</p> <ul> <li> </li> <li>The content of NodeDatabases opened by this function is stored separately per-room. All users of the current room will access the same content of the NodeDatabase identified by the \u201cname\u201d.</li> <li>By default, users with the +GM mode can read and modify the NodeDatabase of the room while other users can only read values.</li> <li>To open a NodeDatabase of the room, one of the following statements must be true:<ul> <li>The current user is a Gold subscriber; or</li> <li>The creator of the room is a Platinum subscriber.</li> </ul> </li> </ul> <p> </p> <p> </p> function\u00a0invoke(macroName [, parameter]) <p> </p> <p>Esta fun\u00e7\u00e3o invoca outra macro e aguarda sua execu\u00e7\u00e3o.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li>macroName - Cadeia de caracteres identificando qual macro deve ser invocada.\u00a0<ul> <li>Exemplo: Se deseja invocar a macro /obterBonusAtaque, o valor \"obterBonusAtaque\" dever\u00e1 se passado aqui, sem a barra.</li> </ul> </li> <li>(OPCIONAL) parameter - Cadeia de caracteres contendo os par\u00e2metros que devem ser passados para a macro quando ela for invocada.</li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li>Se a macro invocada tiver sido executada sem erros, o retorno desta fun\u00e7\u00e3o \u00e9 id\u00eantico ao \"return\" da macro invocada (nil se ela n\u00e3o especificou valor de return).</li> </ul> <p> </p> <p>Observa\u00e7\u00e3o:</p> <ul> <li> </li> <li>A execu\u00e7\u00e3o desta macro \u00e9 pausada at\u00e9 a outra macro seja executada.</li> <li>Se a macro invocada parar de executar (exemplo: Pois o usu\u00e1rio cancelou um inputQuery), esta macro tamb\u00e9m p\u00e1ra de executar.</li> </ul> <p> </p> <p> </p> <p>Exemplo (duas macros, uma invocando a outra):</p> <p> </p> <p> Macro: ObterBonusAtaque</p> local\u00a0attack\u00a0=\u00a0inputQuery(\"Informe o B\u00f4nus de Ataque\"); local\u00a0damageBonus\u00a0=\u00a0inputQuery(\"Informe o B\u00f4nus de Dano\"); \u00a0 return\u00a0attack,\u00a0tonumber(damageBonus);\u00a0 <p> </p> <p>Macro que invoca outra macro</p> local\u00a0bonusAttack,\u00a0damage\u00a0=\u00a0invoke(\"ObterBonusAtaque\")\u00a0 write(\"Ataque informado: \"\u00a0..\u00a0bonusAttack) write(\"Dano informado: \"\u00a0..\u00a0damage); <p> </p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs</p>"},{"location":"BibliotecasLUA/","title":"Bibliotecas LUA","text":""},{"location":"BibliotecasLUA/#bibliotecas-lua_1","title":"Bibliotecas LUA","text":"<p>Este t\u00f3pico cont\u00e9m a refer\u00eancia das bibliotecas e fun\u00e7\u00f5es dispon\u00edveis para serem usadas em c\u00f3digos LUA</p> <p> </p> <p> </p> Biblioteca Descri\u00e7\u00e3o NDB Biblioteca para manipular NodeDatabases, documentos de f\u00e1cil escrita e leitura para se armazenar informa\u00e7\u00f5es\u00a0 Leia mais em: Biblioteca ndb. VHD Biblioteca do HD Virtual do plug-in, usado para criar, ler e manipular arquivos.\u00a0 Leia mais em: Biblioteca vhd. Dialogs Biblioteca que cont\u00e9m fun\u00e7\u00f5es para exibir mensagens e interagir com o usu\u00e1rio atrav\u00e9s de di\u00e1logos.\u00a0 Leia mais em: Biblioteca dialogs. GUI Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 interface e Lua Forms.\u00a0 Leia mais em: Biblioteca gui. Locale Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com idiomas e regi\u00f5es, incluindo funcionalidade para permitir um plug-in em v\u00e1rias l\u00ednguas.\u00a0 Leia mais em Biblioteca Locale Firecast Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0s mesas, personagens, envio de mensagens, rolagem de dados, etc..\u00a0 Leia mais em: Biblioteca Firecast.\u00a0 Firecast.Messaging Biblioteca que cont\u00e9m fun\u00e7\u00f5es que tratam as notifica\u00e7\u00f5es que o Firecast dispara para todos os plug-ins atrav\u00e9s de mensagens.\u00a0 Leia mais em Biblioteca Firecast.Messaging Firecast.Plugins Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas aos plug-ins instalados no RRPG.\u00a0 Leia mais em: Biblioteca Firecast.Plugins Firecast.Requests Biblioteca que cont\u00e9m fun\u00e7\u00f5es que solicitam determinadas a\u00e7\u00f5es ao Firecast, como, por exemplo, criar itens na biblioteca da mesa, obter informa\u00e7\u00f5es de perfil de um usu\u00e1rio, etc..\u00a0 Leia mais em Biblioteca Firecast.Requests Internet Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 internet/intranet, como: downloads, requisi\u00e7\u00f5es HTTP, etc..\u00a0 Leia mais em Biblioteca internet FireDrive Biblioteca para manipular o FireDrive do usu\u00e1rio.\u00a0 Leia mais em Biblioteca fireDrive SceneLib Biblioteca com fun\u00e7\u00f5es para lidar com Scene 3 do RRPG.\u00a0 Leia mais em Biblioteca scene System Biblioteca com fun\u00e7\u00f5es para lidar com o dispositivo do usu\u00e1rio e outras funcionalidades b\u00e1sicas.\u00a0 Leia mais em Biblioteca system Utils Biblioteca que possui fun\u00e7\u00f5es utilit\u00e1rias diversas\u00a0 Leia mais em Biblioteca utils.\u00a0 <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create High-Quality Help Documentation with a Help Authoring Tool</p>"},{"location":"Caracteristicasdetagsshapes/","title":"Caracter\u00edsticas de tags shapes","text":""},{"location":"Caracteristicasdetagsshapes/#caracteristicas-de-tags-do-tipo-shapeforma","title":"Caracter\u00edsticas de tags do tipo shape/forma","text":"<p>O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e alguns controles s\u00e3o controles shape (Exemplos: rectangle, horzLine, etc..).</p>"},{"location":"Caracteristicasdetagsshapes/#heranca","title":"Heran\u00e7a","text":"<p>As tags shapes possuem todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais.</p>"},{"location":"Caracteristicasdetagsshapes/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, todas as tags shapes tamb\u00e9m possuem as seguintes caracter\u00edsticas:</p>"},{"location":"Caracteristicasdetagsshapes/#propriedades-e-atributos","title":"Propriedades e Atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color String contendo uma cor \"silver\" Define a cor do conte\u00fado da forma.\u00a0 Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso.\u00a0 strokeColor String contendo uma cor \"black\" Define a cor das linhas da borda.\u00a0 Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso.\u00a0 strokeSize Float 0.0 Define a espessura das linhas da borda.\u00a0 strokeCap Enumerado: \"flat\" \"round\" \"flat\" Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas.\u00a0 \"flat\" - linhas com pontas retangulares \"round\" - linhas com pontas arredondadas.\u00a0 strokeJoin Enumerado: \"miter\" \"round\" \"bevel\" \"miter\" Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma.\u00a0 \"miter\" - As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\".\u00a0 \"round\" - As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas.\u00a0 \"bevel\" - As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal.\u00a0 strokeDash Enumerado: \"solid\" \"dash\" \"dot\" \"dashDot\" \"dashDotDot\" \"solid\" Define o estilo gr\u00e1fico da linha.\u00a0 \"solid\" - A linha \u00e9 s\u00f3lida\u00a0 \"dash\" - A linha \u00e9 tracejada\u00a0 \"dot\" - A linha \u00e9 feita de pontos.\u00a0 \"dashDot\" - A linha \u00e9 alternada entre tra\u00e7os e pontos.\u00a0 \"dashDotDot\" - A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto.\u00a0 <p>Created with the Personal Edition of HelpNDoc: Transform your help documentation into a stunning website</p>"},{"location":"Caracteristicasdetodasastagsdete/","title":"Caracter\u00edsticas de todas as tags de textos","text":""},{"location":"Caracteristicasdetodasastagsdete/#caracteristicas-de-todas-as-tags-de-textos_1","title":"Caracter\u00edsticas de todas as tags de textos","text":"<p>O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e alguns controles s\u00e3o controles de texto (Exemplos: button, label, edit).</p>"},{"location":"Caracteristicasdetodasastagsdete/#heranca","title":"Heran\u00e7a","text":"<p>As tags de textos possuem todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais.</p>"},{"location":"Caracteristicasdetodasastagsdete/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, todas as tags textos tamb\u00e9m possuem as seguintes caracter\u00edsticas:</p>"},{"location":"Caracteristicasdetodasastagsdete/#propriedades-e-atributos","title":"Propriedades e Atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text String \\&lt;string vazio&gt; Define o texto que ser\u00e1 exibido no controle. fontColor String contendo uma cor\u00a0 Em temas escuros, uma cor clara.\u00a0 Em temas claros, uma cor escura. Define a cor do texto.\u00a0 Exemplos: Black White #FDFDFD\u00a0 Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. fontFamily String \\&lt;Varia de Plataforma para Plataforma&gt; Define a fonte que ser\u00e1 usada nos textos.\u00a0 As fontes dispon\u00edveis variam de plataforma para plataforma (Android, iOS, Windows, etc..) fontSize Float 13.0 Define o tamanho da fonte.\u00a0 fontStyle Conjunto de: \u201cbold\u201d \u201citalic\u201d \u201cunderline\u201d \u201cstrikeout\u201d \u201c\u201d Define o estilo da fonte...\u00a0 Exemplos: \u201cbold\u201d \u201cbold italic\u201d \u201citalic underline bold\u201d \u201c\u201d\u00a0 horzTextAlign Enumerado: \u201cleading\u201d \u201ccenter\u201d \u201ctrailing\u201d \u201cleading\u201d Define o alinhamento horizontal do texto, onde: \u201cleading\u201d \u2013 alinhado \u00e0 esquerda \u201ccenter\u201d- centralizado \u201ctrailing\u201d \u2013 alinhado \u00e0 direita\u00a0 vertTextAlign Enumerado: \u201cleading\u201d \u201ccenter\u201d \u201ctrailing\u201d \u201ccenter\u201d Define o alinhamento vertical do texto, onde: \u201cleading\u201d \u2013 alinhado ao topo. \u201ccenter\u201d- centralizado \u201ctrailing\u201d \u2013 alinhado ao rodap\u00e9.\u00a0 wordWrap Boolean false True = Quebra de linha autom\u00e1tica quando o tamanho do texto ultrapassar a largura do controle\u00a0 False = Limitar o texto em apenas uma linha, mesmo que ultrapasse a largura do controle.\u00a0 textTrimming Enumerado: \u201cnone\u201d \u201ccharacter\u201d \u201cword\u201d \\&lt;Varia de controle para controle&gt; Quando o tamanho do texto ultrapassa a largura do controle, o que acontece com o texto?\u00a0 none\u00a0 - Nenhum tratamento especial, o desenho do texto ser\u00e1 truncado de forma \u201ccara-crach\u00e1\u201d character \u2013 o caractere mais perto da linha de corte ser\u00e1 substitu\u00eddo pelo s\u00edmbolo \u201c...\u201d word \u2013 a palavra que estiver mais perto da linha de corte ser\u00e1 substitu\u00edda pelo s\u00edmbolo \u201c...\u201d\u00a0 <p>Created with the Personal Edition of HelpNDoc: Experience the Power and Simplicity of HelpNDoc's User Interface</p>"},{"location":"Caracteristicasdetodasastagsvisu/","title":"Caracter\u00edsticas de todas as tags visuais","text":""},{"location":"Caracteristicasdetodasastagsvisu/#caracteristicas-de-todas-as-tags-visuais_1","title":"Caracter\u00edsticas de todas as tags visuais","text":"<p>O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e todos os componentes visuais s\u00e3o objetos do tipo \u201ccontrole\u201d (heran\u00e7a, em orienta\u00e7\u00e3o a objetos).</p> <p>Isto significa que todos os componentes e tags visuais de arquivo LFM (edit, label, button, layout, etc..) possuem as caracter\u00edsticas, propriedades e m\u00e9todos descritos nesta se\u00e7\u00e3o.</p>"},{"location":"Caracteristicasdetodasastagsvisu/#propriedades-e-atributos-de-todas-as-tags-visuais","title":"Propriedades e atributos de todas as tags visuais","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o visible Boolean true Define se o controle est\u00e1 vis\u00edvel ou invis\u00edvel. \u00a0 Um controle pode existir invis\u00edvel e ser exibido quando alguma condi\u00e7\u00e3o ou ocasi\u00e3o acontecer.\u00a0 enabled Boolean true Define se o controle est\u00e1 ativo ou n\u00e3o. \u00a0 Um controle inativo \u00e9 exibido na interface, mas n\u00e3o \u00e9 poss\u00edvel interagir com ele, como se tivesse bloqueado.\u00a0 name String \\&lt;string vazio&gt; Define um nome para o controle.\u00a0 O nome deve ser \u00fanico, isto \u00e9, dentro de um form, n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA.\u00a0 align Enumerado: \u201cnone\u201d \u201ctop\u201d \u201cleft\u201d \u201cbottom\u201d \u201cright\u201d\u00a0 \u201cclient\u201d \u201cnone\u201d Define o alinhamento visual do controle na interface.\u00a0 Com esta propriedade \u00e9 poss\u00edvel definir um comportamento padr\u00e3o de posicionamento e tamanho para os controles.\u00a0 none \u2013 O controle n\u00e3o sofrer\u00e1 nenhum tipo de posicionamento e redimensionamento autom\u00e1tico.\u00a0 top \u2013 O controle ser\u00e1 posicionado no topo de seu pai e a largura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de left, top e width s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a altura (height).\u00a0 left \u2013 O controle ser\u00e1 posicionado \u00e0 esquerda de seu pai e a altura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de \u201cleft\u201d, \u201ctop\u201d e \u201cheight\u201d s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a largura (width).\u00a0 bottom -\u00a0 O controle ser\u00e1 posicionado no rodap\u00e9 de seu pai e a largura \u00e9 calculada para preencher o espa\u00e7o. Os valores de left, top e width s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a altura (height).\u00a0 right \u2013 O controle ser\u00e1 posicionado \u00e0 direita de seu pai e a altura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de \u201cleft\u201d, \u201ctop\u201d e \u201cheight\u201d s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a largura (width).\u00a0 client \u2013 O controle ser\u00e1 posicionado de forma que ocupe toda a \u00e1rea de seu pai. Os valores de left, top, width e height s\u00e3o automaticamente calculados.\u00a0 left Float 0.0 Define a posi\u00e7\u00e3o X do controle. A posi\u00e7\u00e3o \u00e9 relativa a seu pai.\u00a0 Veja Posi\u00e7\u00e3o e Tamanho dos Controles. top Float 0.0 Define a posi\u00e7\u00e3o Y do controle. A posi\u00e7\u00e3o \u00e9 relativa a seu pai.\u00a0 Veja Posi\u00e7\u00e3o e Tamanho dos Controles. width Float Depende do controle Define a largura do controle.\u00a0 Veja Posi\u00e7\u00e3o e Tamanho dos Controles. height Float Depende do controle Define a altura do controle.\u00a0 Veja Posi\u00e7\u00e3o e Tamanho dos Controles. margins Bounds (Objeto Lua) {} Define o tamanho das margens do controle, isto \u00e9, o tamanho da \u201cborda invis\u00edvel\u201d que existe ao redor do controle que o separa do outros.\u00a0 Especialmente \u00fatil quando se usa a propriedade \u201calign\u201d.\u00a0 O valor desta propriedade \u00e9 uma tabela lua com os campos \u201cleft\u201d, \u201cright\u201d, \u201ctop\u201d e \u201cbottom\u201d, onde a omiss\u00e3o de algum campo representa o valor 0.0. Exemplos de valores: {}\u00a0 - left, right, top e bottom 0.0 {left = 5} - left 5, demais valores 0 {left = 5, top = 5} \u2013 left 5, top 5, right 0, bottom 0 {left = 5, right = 5, top = 5, bottom = 5} \u2013 todos os valores 5\u00a0 padding Bounds (Objeto Lua) {} Define o tamanho do preenchimento do controle, isto \u00e9, o tamanho da \u201cborda invis\u00edvel\u201d que existe no interior do controle entre sua periferia e seu conte\u00fado.\u00a0 O valor desta propriedade \u00e9 uma tabela lua com os campos \u201cleft\u201d, \u201cright\u201d, \u201ctop\u201d e \u201cbottom\u201d, onde a omiss\u00e3o de algum campo representa o valor 0.0.\u00a0 anchors Conjunto de: left top right bottom \u201cleft top\u201d Define como o controle \u00e9 ancorado em seu pai.\u00a0 Quando o pai do controle \u00e9 redimensionado, o controle mant\u00e9m sua posi\u00e7\u00e3o relativa baseado em sua \u00e2ncora.\u00a0 Exemplos: \u201cleft\u201d presente, \u201dright\u201d ausente: O controle manter\u00e1 sempre a mesma posi\u00e7\u00e3o X. \u201cleft\u201d ausente, \u201cright\u201d presente: A posi\u00e7\u00e3o X ser\u00e1 calculada automaticamente para manter sempre a mesma dist\u00e2ncia entre sua borda direita e a borda direita de seu pai. \u201cleft\u201d e \u201cright\u201d presentes: O controle manter\u00e1 tanto a dist\u00e2ncia entre (1) sua borda esquerda com a borda esquerda de seu pai; (2) como sua borda direita com a borda direita de se pai. Para isso, a largura do componente ser\u00e1 alterada conforme o pai \u00e9 redimensionado. \u201cleft\u201d e \u201cright\u201d ausentes: O controle n\u00e3o est\u00e1 ancorado e ocorrer\u00e1 um efeito similar ao de centraliza\u00e7\u00e3o.\u00a0 O comportamento das \u00e2ncoras \u201ctop\u201d e \u201cbottom\u201d \u00e9 o mesmo das \u00e2ncoras \u201cleft\u201d e \u201cright\u201d, por\u00e9m agora no eixo Y.\u00a0 hitTest Boolean Depende do controle Define se o clique e movimento do mouse e o touch s\u00e3o capturados por este controle.\u00a0 cursor Enumerado: \"default\" \"arrow\" \"handPoint\" \"hourGlass\" \"IBeam\" \"size\" \"sizeNESW\" \"sizeNS\" \"sizeNWSE\" \"sizeWE\" \"upArrow\" \"drag\" \"noDrop\" \"hSplit\" \"vSplit\" \"multiDrag\" \"sqlWait\" \"no\" \"appStart\" \"help\" \"cross\" \"default\" Define qual cursor de mouse deve ser apresentado quando o mouse estiver em em cima do controle. OBS: hitTest deve ser \"true\" para esta propriedade ter efeito.\u00a0 \"default\" - Cursor padr\u00e3o, uma seta padr\u00e3o. \"arrow\" - Uma seta padr\u00e3o. \"handPoint\" - Uma m\u00e3o com um dedo apontando para cima. Normalmente \u00e9 usado para identificar um item selecion\u00e1vel/clic\u00e1vel \"hourGlass\" - Uma ampulheta para indicar um processo em andamento. \"IBeam\" - Cursor que sinaliza a possibilidade de entrar com texto no controle. \"size\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento. \"sizeNESW\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Nordeste-Sudoeste \"sizeNS\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Norte-Sul \"sizeNWSE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Noroeste-Sudeste \"sizeWE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Leste-Oeste \"upArrow\" - Uma seta apontando para cima. \"drag\" - Um cursor indicando que itens est\u00e3o sendo arrastados. \"noDrop\" - Indica\u00e7\u00e3o de que n\u00e3o \u00e9 poss\u00edvel arrastar para este alvo. \"hSplit\" -\u00a0 Indica\u00e7\u00e3o de splitter horizontal \"vSplit\" - Indica\u00e7\u00e3o de splitter vertical. \"multiDrag\" - Indica\u00e7\u00e3o de que v\u00e1rios itens est\u00e3o sendo arrastados. \"sqlWait\" - Ampulheta indicando um processo de banco de dados em andamento. \"no\" - Uma indica\u00e7\u00e3o de nega\u00e7\u00e3o, de que n\u00e3o \u00e9 poss\u00edvel fazer algo. \"appStart\" - Combina\u00e7\u00e3o de \"default\" e \"hourGlass\", normalmente usado para indicar que um aplicativo est\u00e1 sendo aberto. \"help\" - Uma seta com um ponto de interroga\u00e7\u00e3o. \"cross\" - Um cursor em formato de cruz, usado para indicar um posicionamento preciso.\u00a0 hint String \"\" Define um texto de ajuda que \u00e9 exibido quando o usu\u00e1rio deixar o mouse por um certo tempo em cima do controle. Esta propriedade s\u00f3 tem efeito se o atributo \"hitTest\" do controle for true.\u00a0 canFocus Boolean Depende do controle Define se o controle pode receber o foco do teclado.\u00a0 tabOrder Integer \\&lt;autom\u00e1tico&gt; Define um n\u00famero que representa a ordem de tabula\u00e7\u00e3o do controle, isto \u00e9, quando o usu\u00e1rio apertar TAB no teclado para pular para o pr\u00f3ximo controle de edi\u00e7\u00e3o. opacity Float 1.0 Define a transpar\u00eancia do controle.\u00a0 \u00c9 um n\u00famero real que varia de 0.0 a 1.0, onde: 0.0 \u2013 totalmente transparente 0.25 0.5 \u2013 parcialmente transparente 0.75 1.0 \u2013 totalmente opaco.\u00a0 rotationAngle Float 0.0 Define o \u00e2ngulo de rota\u00e7\u00e3o do controle.\u00a0 O \u00e2ngulo \u00e9 medido em graus.\u00a0 rotationCenterX Float \\&lt;centro X do controle&gt; Define o valor X da coordenada (X, Y) do piv\u00f4 de rota\u00e7\u00e3o do controle. Usado em conjunto com \u201crotationAngle\u201d\u00a0 rotationCenterY Float \\&lt;centro Y do controle&gt; Define o valor Y da coordenada (X, Y) do piv\u00f4 de rota\u00e7\u00e3o do controle. Usado em conjunto com \u201crotationAngle\u201d\u00a0 scaleX Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 largura do controle.\u00a0 scaleY Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 altura do controle.\u00a0 scale Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 largura e altura do controle.\u00a0 parent Um objeto nil Define ou retorna o objeto parent deste controle. \u00a0 N\u00e3o h\u00e1 necessidade de utilizar este atributo em tags de arquivos \".lfm\", pois o parent de cada tag j\u00e1 \u00e9 setada automaticamente conforme seu aninhamento. \u00a0 Veja tamb\u00e9m: Posi\u00e7\u00e3o e Tamanho dos Controles"},{"location":"Caracteristicasdetodasastagsvisu/#metodos-de-todas-as-tags-visuais","title":"M\u00e9todos de todas as tags visuais","text":"<p>\u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA.</p> M\u00e9todo Descri\u00e7\u00e3o controle:destroy(); Destr\u00f3i o controle, liberando a mem\u00f3ria usada por ele. Ap\u00f3s a chamada \u201cdestroy\u201d, n\u00e3o \u00e9 mais poss\u00edvel utilizar o controle.\u00a0 Normalmente voc\u00ea n\u00e3o precisa se preocupar em destruir os controles, pois isto \u00e9 feito automaticamente. \u00a0 controle:setFocus(); Coloca o foco do teclado neste controle.\u00a0 controle:beginUpdate(); Coloca o controle num estado de \u201cem altera\u00e7\u00e3o\u201d. Neste estado, as altera\u00e7\u00f5es feitas nas propriedades n\u00e3o ser\u00e3o apresentadas na interface.\u00a0 \u00c9 \u00fatil quando se pretende alterar v\u00e1rias propriedades ou v\u00e1rias vezes, pois o processo fica mais r\u00e1pido, j\u00e1 que as mudan\u00e7as n\u00e3o ser\u00e3o apresentadas na tela de imediato.\u00a0 Para cada chamada de \u201cbeginUpdate\u201d, deve haver uma chamada de \u201cendUpdate\u201d.\u00a0 controle:endUpdate(); Tira o controle do estado \u201cem altera\u00e7\u00e3o\u201d, voltando a seu comportamento normal.\u00a0 Para cada chamada de \u201cbeginUpdate\u201d, deve haver uma chamada de \u201cendUpdate\u201d.\u00a0 controle:needRepaint(); Sinaliza o SDK3 que o controle precisa ser redesenhado na tela. \u00a0 Normalmente voc\u00ea n\u00e3o precisa se preocupar em chamar este m\u00e9todo!\u00a0 controle:getChildren(); Retorna um array (tabela lua com chaves de 1 a QUANTIDADE) contendo os controles que s\u00e3o filhos destes controles.\u00a0 Exemplo:\u00a0 --- controle:getParent(); Retorna o controle pai deste controle ou nil se n\u00e3o houver.\u00a0 controle:setParent(parent); Define o controle pai deste controle.\u00a0 Par\u00e2metros: parent \u2013 O objeto controle que ser\u00e1 pai deste controle ou nil. controle:isChildFocused(); Retorna um boolean (true ou false) indicando se este controle ou algum dos controles filhos est\u00e1 com o foco do teclado.\u00a0 controle:isFocused(); Retorna um boolean (true ou false) indicando se este controle est\u00e1 com o foco do teclado.\u00a0 controle:isMouseOver(); Retorna um boolean (true ou false) indicando se o mouse est\u00e1 por cima do controle (n\u00e3o necessariamenteclicado).\u00a0 controle:isVisible(); Retorna um boolean (true ou false) indicando se o controle est\u00e1 vis\u00edvel.\u00a0 controle:findControlByName( controlName); Procura outro controle atrav\u00e9s do nome passado pelo par\u00e2metro \u201ccontrolName\u201d em toda a hierarquia de controles onde este est\u00e1.\u00a0 Retorna o controle ou nil caso n\u00e3o encontre.\u00a0 controle:getClassName(); Retorna o nome da classe/tipo da tag deste controle. Exemplos: \"edit\", \"label\", \"layout\", etc..\u00a0 <p> </p>"},{"location":"Caracteristicasdetodasastagsvisu/#eventos-de-todas-as-tags-visuais","title":"Eventos de todas as tags visuais","text":"Nome do evento Descri\u00e7\u00e3o onClick Este evento \u00e9 invocado quando ocorre um click com o bot\u00e3o esquerdo do mouse no controle, ou quando ocorre um \u201ctap touch\u201d no controle.\u00a0 onDblClick Este evento \u00e9 invocado quando ocorre um clique duplo com o mouse no controle.\u00a0 onMouseDown Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 pressionado sobre o controle ou quando o dedo toca a tela (touchscreen).\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi pressionado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 pressionado (touchscreen), este valor \u00e9 \u201cleft\u201d. x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando onde o mouse foi pressionado. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando onde o mouse foi pressionado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m.\u00a0 Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\"\u00a0 onMouseMove Este evento \u00e9 invocado quando o mouse se movimenta pelo controle ou quando o dedo (touchscreen) \u00e9 arrastado.\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando para onde o mouse moveu. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando para onde o mouse moveu. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m.\u00a0 Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\"\u00a0 onMouseUp Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 liberado sobre o controle ou quando o dedo solta da tela (touchscreen).\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi liberado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 levantado (touchscreen), este valor \u00e9 \u201cleft\u201d. x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando onde o mouse foi liberado. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando onde o mouse foi liberado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m.\u00a0 Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\"\u00a0 onMouseEnter Este evento \u00e9 invocado quando o mouse entra na \u00e1rea do controle.\u00a0 Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\"\u00a0 onMouseLeave Este evento \u00e9 invocado quando o mouse sai da \u00e1rea do controle.\u00a0 Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\"'\u00a0 onResize Este evento \u00e9 invocado quando o controle \u00e9 redimensionado\u00a0 onEnter Este evento \u00e9 invocado quando o controle recebe o foco do teclado\u00a0 onExit Este evento \u00e9 invocado quando o controle perde o foco do teclado.\u00a0 onKeyDown Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 pressionada.\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos key - Cadeia de caracteres contendo a letra do teclado que foi pressionada keyCode \u2013 C\u00f3digo num\u00e9rico da tecla que foi pressionada (algumas teclas, como F7, por exemplo, n\u00e3o representam uma letra, da\u00ed a necessidade do keyCode) shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m.\u00a0 Observa\u00e7\u00f5es: Se voc\u00ea alterar o valor de key e/ou keyCode, a mudan\u00e7a \u00e9 incorporada. Caso queira suprimir/ignorar a tecla que acabou de ser pressionada, atribua event.key = \"\" e event.keyCode = 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser um atalho, ent\u00e3o event.key vir\u00e1 com valor \"\" (string vazio) e event.keyCode com valor diferente de 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser tratada como um caractere exib\u00edvel, event.key vira com uma string contendo apenas este caracter e event.keyCode vir\u00e1 com valor igual a 0. \u00a0 onKeyUp Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 liberada.\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m as mesmas propriedades descritas no evento onKeyDown mas com informa\u00e7\u00f5es sobre a tecla liberada.\u00a0 onMenu Este evento \u00e9 invocado quando o usu\u00e1rio deseja exibir o Menu do controle. Pode ser que o usu\u00e1rio clicou com bot\u00e3o direito do mouse, pressionou a tecla menu ou segurou por um longo tempo o dedo na tela (LongTouch).\u00a0 Par\u00e2metros: x - N\u00famero contendo onde, no eixo X da tela do usu\u00e1rio, o menu deve ser exibido. y - N\u00famero contendo onde, no eixo Y da tela do usu\u00e1rio, o menu deve ser exibido.\u00a0 onStartDrag Evento que \u00e9 chamado quando o usu\u00e1rio deseja iniciar o processo de arrastar-e-soltar informa\u00e7\u00f5es partindo\u00a0 deste controle e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do controle.\u00a0 Par\u00e2metros: drag - Objeto Drag o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y de onde o drop est\u00e1 tentando ser feito.\u00a0 Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop.\u00a0 Observa\u00e7\u00f5es: hitTest deve ser \"true\" para este evento poder ser chamado.\u00a0 onStartDrop Evento que \u00e9 chamado quando algu\u00e9m arrasta uma informa\u00e7\u00e3o em cima do controle e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do controle.\u00a0 Par\u00e2metros: drop - Objeto Drop o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y de onde o drop est\u00e1 tentando ser feito. drag - Objeto Drag representando a informa\u00e7\u00e3o que est\u00e1 sendo arrastada. Voc\u00ea n\u00e3o deve alterar as propriedades deste objeto.\u00a0 Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop.\u00a0 Observa\u00e7\u00f5es: hitTest deve ser \"true\" para este evento poder ser chamado."},{"location":"Caracteristicasdetodasastagsvisu/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<p>Tratando eventos do Lua Form</p> <p>Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc</p>"},{"location":"Criandoumnovoprojetodeplugin/","title":"Criando um novo projeto de plug-in","text":""},{"location":"Criandoumnovoprojetodeplugin/#criando-um-novo-projeto-de-plug-in_1","title":"Criando um novo projeto de plug-in","text":"<ol> <li>Crie uma nova pasta qualquer no computador.</li> <li>Abra o prompt de comando e navegue pelo prompt at\u00e9 a pasta criada.</li> <li>Execute o comando \u201crdk p\u201d, sem as aspas, dentro da pasta para transformar o diret\u00f3rio em um projeto de plug-in.</li> <li>\u00a0V\u00e1 at\u00e9 a pasta criada, abra, em um editor de texto, o arquivo \u201cmodule.xml\u201d que foi criado pelo comando acima e o preencha . Saiba mais sobre este arquivo lendo O arquivo \u201cmodule.xml\u201d</li> </ol>"},{"location":"Criandoumnovoprojetodeplugin/#exemplo-passo-a-passo","title":"Exemplo passo a passo","text":"<ol> <li>Criando uma nova pasta no computador:\\ \\ \\ \\ \\ \u00a0</li> <li>Abrindo o prompt de comando e navegando at\u00e9 a pasta criada...\\ \\ \\  \\ \\ \u00a0</li> <li>Executando o comando \"rdk p\"\\ \\ \\ \u00a0</li> <li>Editando o arquivo \"module.xml\":\\ \\ \\ \\ </li> </ol>"},{"location":"Criandoumnovoprojetodeplugin/#veja-tambem","title":"Veja tamb\u00e9m","text":"<ul> <li> Comando \u201crdk p\u201d.</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents</p>"},{"location":"Criandoumpluginparavariosidiomas/","title":"Criando um plug-in para v\u00e1rios idiomas","text":""},{"location":"Criandoumpluginparavariosidiomas/#criando-um-plug-in-para-varios-idiomas_1","title":"Criando um plug-in para v\u00e1rios idiomas","text":"<p>O SDK3 possui recurso para obter textos para o idioma correto do usu\u00e1rio atual.</p> <p> </p> <p>Pendente: Explicar como fazer isso.</p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs</p>"},{"location":"Criarabasparaaficha/","title":"Criar abas para a ficha","text":""},{"location":"Criarabasparaaficha/#criar-abas-para-a-ficha_1","title":"Criar abas para a ficha","text":"<p>Para criar abas na ficha, voc\u00ea deve utilizar as tags tabControl e tab.</p> <p>Voc\u00ea cria 1 tag \"tabControl\" e adiciona, dentro, quantas tags \"tab\" quiser, uma para cada aba. Os controles de cada aba devem ser adicionados dentro de sua respectiva tag \"tab\".</p> <p> </p> <p>Para entender melhor, veja exemplos de tab e tabControl</p> <p> </p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Interfaces Visuais (Lua Forms)</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures</p>"},{"location":"Criarcamposcalculadosemfichas/","title":"Criar campos calculados em fichas","text":""},{"location":"Criarcamposcalculadosemfichas/#criar-campos-calculados-em-fichas-lua-forms","title":"Criar campos calculados em Fichas / Lua Forms.","text":"<p>Os campos calculados s\u00e3o feitos usando a tag dataLink para definir c\u00e1lculos que devem ser executados quando houver mudan\u00e7a nos valores de alguns campos da ficha (NodeDatabase).</p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#tutorial-1-campo-calculado-simples","title":"Tutorial 1 - Campo calculado simples","text":"<p>Neste tutorial, iremos fazer com que o label da interface abaixo sempre mostre o valor do c\u00e1lculo \"((campo forca) / 2 - 5) arredondado para baixo\".</p> <p>Importante: Note que o edit j\u00e1 est\u00e1 ligado ao campo \"forca\" da ficha/NodeDatabase</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"&gt; \\&lt;layout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0height=\"25\"\u00a0width=\"200\"&gt; \\&lt;!-- Atributo --&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"For\u00e7a: \"\u00a0autoSize=\"true\"/&gt; \\&lt;edit\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0field=\"forca\"/&gt; \\&lt;!-- Modificador --&gt; \\&lt;label\u00a0align=\"right\"\u00a0text=\"valor\"\u00a0width=\"70\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p> </p> <p></p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#passo-1-associar-o-label-a-um-campo-do-nodedatabaseficha","title":"Passo 1 - Associar o label a um campo do NodeDatabase/Ficha","text":"<p>Vamos ligar o label a um campo chamado \"modificadorDeForca\":</p> <p> </p> \\&lt;label\u00a0field=\"modificadorDeForca\"\u00a0align=\"right\"\u00a0text=\"valor\"\u00a0width=\"70\"\u00a0horzTextAlign=\"center\"/&gt; <p> </p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#passo-2-criar-uma-tag-datalink","title":"Passo 2 - Criar uma tag dataLink","text":"<p>Vamos criar uma tag dataLink e lig\u00e1-la ao campo \"forca\" para que possamos associar um c\u00f3digo LUA que ser\u00e1 executado sempre que o campo \"forca\" for alterado.</p> <p> </p> \\&lt;dataLink\u00a0field=\"forca\"&gt; \\&lt;/dataLink&gt; <p> </p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#passo-3-criar-uma-tag-event-para-tratar-o-evento-onchange-do-datalink-que-criamos","title":"Passo 3 - Criar uma tag event para tratar o evento \"onChange\" do dataLink que criamos.","text":"\\&lt;dataLink\u00a0field=\"forca\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt; \\&lt;/event&gt; \\&lt;/dataLink&gt; <p>Veja tamb\u00e9m: Tratando eventos do Lua Form</p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#passo-4-escrever-o-codigo-lua-do-calculo","title":"Passo 4 - Escrever o c\u00f3digo LUA do c\u00e1lculo","text":"\\&lt;dataLink\u00a0field=\"forca\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.modificadorDeForca = math.floor(((sheet.forca or 10) / 2) - 5); \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/dataLink&gt; <p>Aqui realmente colocamos o c\u00f3digo do c\u00e1lculo. O que este c\u00f3digo faz: \u00a0 \u00a0</p> <ul> <li>Toda vez que o valor do campo \"forca\" mudar, atribui ao campo \"modificadorDeForca\" (\u00e0quele que o label foi conectado) o resultado de:<ul> <li>o valor do campo \"forca\" (ou 10, caso ainda n\u00e3o tenha sido preenchido) dividido por 2, subtra\u00eddo em 5 e arredondado para baixo (math.floor).</li> </ul> </li> </ul> <p> </p> <p> </p> <p></p>"},{"location":"Criarcamposcalculadosemfichas/#passo-5-aprimorar-o-codigo-do-calculo","title":"Passo 5 - Aprimorar o c\u00f3digo do c\u00e1lculo","text":"\\&lt;dataLink\u00a0field=\"forca\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local mod = math.floor(((sheet.forca or 10) / 2) - 5);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (mod &gt;= 0) then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mod = \"+\" .. mod; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.modificadorDeForca = mod; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/dataLink&gt; <p>Colocamos uma condi\u00e7\u00e3o (um \"if\") para adicionar o caracter \"+\" na frente do resultado se for positivo ou zero.</p> <p> </p> <p></p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#codigo-final-do-tutorial","title":"C\u00f3digo final do tutorial","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"&gt; \\&lt;!-- Aqui come\u00e7a o layout da ficha --&gt; \\&lt;layout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0height=\"25\"\u00a0width=\"200\"&gt; \\&lt;!-- Atributo --&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"For\u00e7a: \"\u00a0autoSize=\"true\"/&gt; \\&lt;edit\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0field=\"forca\"/&gt; \\&lt;!-- Modificador --&gt; \\&lt;label\u00a0field=\"modificadorDeForca\"\u00a0align=\"right\"\u00a0text=\"valor\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 width=\"70\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/layout&gt; \\&lt;!-- Come\u00e7a aqui os c\u00e1lculos autom\u00e1ticos da ficha --&gt; \\&lt;dataLink\u00a0field=\"forca\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local mod = math.floor(((sheet.forca or 10) / 2) - 5);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (mod &gt;= 0) then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mod = \"+\" .. mod; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.modificadorDeForca = mod; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/dataLink&gt; \\&lt;/form&gt;"},{"location":"Criarcamposcalculadosemfichas/#tutorial-2-criar-um-campo-calculado-que-depende-do-valor-de-outros-3-campos","title":"Tutorial 2 - Criar um campo calculado que depende do valor de outros 3 campos","text":"<p>Neste tutorial, vamos completar o tutorial 1 acima para adicionar um campo calculado chamado \"B\u00f4nus de Ataque Corpo-A-Corpo\", que ser\u00e1 igual \u00e0 soma dos seguintes campos:</p> <ul> <li>\"B\u00f4nus Base de Ataque\" (campo edit\u00e1vel)</li> <li>\"B\u00f4nus de Profici\u00eancia da Arma\" (campo edit\u00e1vel)</li> <li>Modificador de for\u00e7a (campo calculado).</li> </ul> <p> </p> <p> </p> <p></p> <p> </p> <p> </p> <p>Considere que:</p> <ul> <li> </li> <li>O texto (label) apontado pela seta branca est\u00e1 ligado ao field \"modificadorDeForca\"</li> <li>A caixa de texto (edit) apontada pela seta vermelha est\u00e1 ligada ao field \"bonusBaseAtaque\"</li> <li>A caixa de texto apontada pela seta verde est\u00e1 ligada ao field \"bonusProficiencia\"</li> <li>O texto apontado pela seta azul est\u00e1 ligado ao field \"ataque\"</li> </ul> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#passo-1-criar-uma-tag-datalink-que-se-conectara-ao-mesmo-tempo-aos-3-campos-necessarios-para-o-calculo","title":"Passo 1 - Criar uma tag dataLink que se conectar\u00e1, ao mesmo tempo, aos 3 campos necess\u00e1rios para o c\u00e1lculo:","text":"\\&lt;dataLink\u00a0fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\"&gt; \\&lt;/dataLink&gt; <p>ATEN\u00c7\u00c2O: Para ligar um dataLink \u00e0 mais de 1 campo ao mesmo tempo, voc\u00ea deve usar o atributo \"fields\" do DataLink ao inv\u00e9s de \"field\" (Um est\u00e1 no plural, enquanto outro est\u00e1 no singular).</p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#passo-2-criar-uma-tag-event-para-tratar-o-evento-onchange-do-datalink-que-criamos","title":"Passo 2 - Criar uma tag event para tratar o evento \"onChange\" do dataLink que criamos.","text":"\\&lt;dataLink\u00a0fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt; \\&lt;/event&gt; \\&lt;/dataLink&gt; <p>Este evento ser\u00e1 chamado sempre que qualquer um dos campos informados em \"fields\" sofrer altera\u00e7\u00e3o.</p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#passo-3-escrever-o-codigo-lua-do-calculo","title":"Passo 3 - Escrever o c\u00f3digo LUA do c\u00e1lculo","text":"\\&lt;dataLink\u00a0fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 sheet.ataque = (tonumber(sheet.modificadorDeForca) or 0) + \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 (tonumber(sheet.bonusBaseAtaque) or 0) +\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 (tonumber(sheet.bonusProficiencia) or 0);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if sheet.ataque &gt;= 0 then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.ataque = \"+\" .. sheet.ataque; \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/dataLink&gt; <p>Sempre que o valor de algum dos campos ligados mudar (\"modificadorDeForca\", \"bonusBaseAtaque\" ou \"bonusProficiencia\"):</p> <ul> <li>o campo \"ataque\" receber\u00e1 a soma de:<ul> <li>Valor do campo \"modificadorForca\" interpretado como n\u00famero (o valor campo pode n\u00e3o ser um n\u00famero v\u00e1lido, exemplo: \"ABC\") ou 0 caso n\u00e3o consiga interpretar como n\u00famero.</li> <li>Valor do campo \"bonusBaseAtaque\" interpretado como numero ou 0 caso n\u00e3o consiga interpretar como n\u00famero.</li> <li>Valor do campo \"bonusProficiencia\" interpretado como n\u00famero ou 0 caso n\u00e3o consiga interpretar como n\u00famero.</li> </ul> </li> <li>Se o valor do campo \"ataque\" for maior ou igual a zero:<ul> <li>Adiciona o caracter \"+\" na frente do valor.</li> </ul> </li> </ul> <p> </p> <p> </p> <p></p> <p> </p>"},{"location":"Criarcamposcalculadosemfichas/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<ul> <li>Interfaces Visuais (Lua Forms)</li> <li>Tag dataLink</li> <li>Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em Lua Form</li> <li>Lua Form e NodeDatabase</li> <li>Outros Tutoriais</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Free help authoring tool</p>"},{"location":"Criarumajanelaacoplaveldemesa/","title":"Criar uma janela acopl\u00e1vel de mesa","text":""},{"location":"Criarumajanelaacoplaveldemesa/#criar-uma-janela-acoplavel-de-mesa_1","title":"Criar uma janela acopl\u00e1vel de mesa","text":"<p>Uma janela acopl\u00e1vel de mesa segue os mesmos princ\u00edpios de um modelo de ficha. A \u00fanica diferen\u00e7a \u00e9 que voc\u00ea deve usar \"tablesDock\" na propriedade \"formType\" da tag Form.</p> <p> </p> <p>Exemplo:</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmMinhaJanelaAcoplavel\"\u00a0formType=\"tablesDock\"\u00a0 \u00a0 \u00a0 \u00a0 dataType=\"RRPG.DataTypeUnico.DaMinhaJanelaAcoplavel\" \u00a0 \u00a0\u00a0 \u00a0title=\"Minha Janela Acopl\u00e1vel\"&gt; \\&lt;label\u00a0text=\"Ol\u00e1 Mundo\"/&gt; \u00a0 \u00a0 \u00a0 ... Outras tags LFM e c\u00f3digos lua.....\u00a0 \u00a0 \\&lt;/form&gt; <p> </p> <p> </p> <p>Agora basta compilar seu plug-in que o RRPG far\u00e1 o resto =)</p> <p> </p> <p></p> <p> </p> <p> </p> <p>Como dito anteriormente, janelas acopl\u00e1veis seguem os mesmos princ\u00edpios de modelos de fichas e salvam/carregam dados em um NodeDatabase da mesa. A propriedade \"dataType\" da tag Form serve para informar ao RRPG onde os dados devem ser salvos, e, portanto, uma vez definido, \u00e9 recomendado que n\u00e3o seja alterado.</p> <p> </p> <p>Todos da mesa que estiverem com esta janela acopl\u00e1vel aberta ler\u00e3o e salvar\u00e3o dados em um \u00fanico mesmo lugar: As mudan\u00e7as no NodeDatabase ser\u00e3o sincronizadas com todos da mesa!</p> <p> </p> <p>Leia tamb\u00e9m:</p> <ul> <li>Criando um novo projeto de plug-in</li> <li>Interfaces Visuais (Lua Forms)</li> <li>Lua Form e NodeDatabase</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Save time and frustration with HelpNDoc's WinHelp HLP to CHM conversion feature</p>"},{"location":"Criarumalistadinamicanaficha/","title":"Criar uma lista din\u00e2mica na ficha","text":""},{"location":"Criarumalistadinamicanaficha/#criar-uma-lista-dinamica-na-ficha_1","title":"Criar uma lista din\u00e2mica na ficha","text":"<p>Se voc\u00ea deseja adicionar uma uma lista din\u00e2mica de algo (com quantidade personalizada pelo usu\u00e1rio) em sua ficha, voc\u00ea deve utilizar a tag recordList.</p> <p> </p> <p>Exemplos:</p> <ul> <li>Uma lista de equipamentos</li> <li>Uma lista de ataques</li> <li>Uma lista de magias</li> </ul> <p> </p> <p> </p> <p>Voc\u00ea precisar\u00e1 ter, no m\u00ednimo, dois arquivos \".lfm\", um representando a ficha que cont\u00e9m a lista (a tag recordList) e um que descreve o painel que deve \"repetir\" para cada item desta lista.</p> <p> </p> <p>Para melhor compreender, veja este exemplo.</p> <p> </p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li> </li> <li>Interfaces Visuais (Lua Forms)</li> <li>Tag recordList</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Write eBooks for the Kindle</p>"},{"location":"Criarumalistadinamicapaineldedet/","title":"Criar uma lista din\u00e2mica + painel de detalhes","text":""},{"location":"Criarumalistadinamicapaineldedet/#criar-uma-lista-dinamica-painel-de-detalhes_1","title":"Criar uma lista din\u00e2mica + painel de detalhes","text":"<p>Este tutorial vai ensinar a criar uma lista din\u00e2mica de itens que, quando voc\u00ea selecionar um dos itens desta lista, exibe um painel detalhando as informa\u00e7\u00f5es sobre o item selecionado.</p> <p>\u00c9 recomendado voc\u00ea ler Criar uma lista din\u00e2mica na ficha antes, pois este tutorial utiliza a mesma ideia.</p> <p> </p> <p> </p>"},{"location":"Criarumalistadinamicapaineldedet/#dois-arquivos-lua-form-extensao-lfm","title":"Dois arquivos Lua Form (extens\u00e3o \".LFM\")","text":"<p>Utilizaremos a tag recordList neste tutorial, portanto, voc\u00ea deve possuir dois arquivos \".lfm\":</p> <ul> <li>O arquivo Lua Form principal que cont\u00e9m a tag recordList</li> <li>O arquivo Lua Form Template dos Itens do Record List: Este form vai ser instanciado 1 vez para cada item na lista.</li> </ul> <p> </p> <p>Neste tutorial, chamaremos o arquivo Lua Form Principal de \"MinhaFicha.lfm\" e o arquivo Lua Form Template dos Itens de \"ItemDaLista.lfm\"</p> <p> </p>"},{"location":"Criarumalistadinamicapaineldedet/#imagens","title":"Imagens","text":"<p>\\ \\ \\ \\ \\ \u00a0</p>"},{"location":"Criarumalistadinamicapaineldedet/#sobre-a-implementacao","title":"Sobre a implementa\u00e7\u00e3o","text":"<p>A ideia para criar esta lista din\u00e2mica com painel de detalhes \u00e9 bem simples. Existem dois componentes chaves nesta ideia:</p> <ul> <li>Voc\u00ea precisa de um recordList que funcionar\u00e1 como uma lista onde o usu\u00e1rio possa escolher o item.</li> <li>Voc\u00ea precisar\u00e1 de um dataScopeBox que conter\u00e1 as tags que s\u00e3o apresentadas no painel de detalhes.</li> </ul> <p> </p> <p>Quando o usu\u00e1rio escolher um item no recordList (evento \"onSelect\" da tag recordList), fazemos com que os componentes que est\u00e3o dentro do dataScopeBox passem a salvar/carregar dados neste item ao alterar o escopo de dados das tags que est\u00e3o dentro. Caso tenha d\u00favida sobre escopo de dados, veja Escopo de Dados no Lua Form</p> <p> </p> <p> </p> <p></p> <p> </p> <p></p> <p> </p> <p> </p> <p> </p>"},{"location":"Criarumalistadinamicapaineldedet/#codigo-fonte","title":"C\u00f3digo Fonte","text":"Arquivo \u201cMinhaFicha.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"\u00a0theme=\"dark\"\u00a0padding=\"{left=4, top=4, right=4, bottom=4}\"&gt; \\&lt;!-- Bot\u00e3o de inserir novo item \u00e0 lista --&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"30\"\u00a0margins=\"{bottom=4}\"&gt; \\&lt;button\u00a0text=\"Criar Novo Item\"\u00a0width=\"150\"\u00a0align=\"left\"&gt; \\&lt;event\u00a0name=\"onClick\"&gt; -- Usu\u00e1rio clicou no bot\u00e3o de criar novo item. -- Vamos inserir um novo item no nosso recordList \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.rclListaDosItens:append(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;/layout&gt; \\&lt;!-- recordList, representando a lista --&gt; \\&lt;recordList\u00a0name=\"rclListaDosItens\"\u00a0field=\"campoDosItens\"\u00a0templateForm=\"frmItemDaLista\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0align=\"client\"\u00a0selectable=\"true\"&gt; \\&lt;event\u00a0name=\"onSelect\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0--[[ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Este evento \u00e9 chamado quando o usu\u00e1rio selecionar/deselecionar itens da lista. Quando o usu\u00e1rio selecionar, vamos fazer nosso dataScopeBox (e todas as tag dentro dele) salvar e carregar dados no \u00a0 objeto Nodo (NodeDatabase) do item selecionado. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 --]] \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local\u00a0node\u00a0=\u00a0self.rclListaDosItens.selectedNode;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.boxDetalhesDoItem.node\u00a0=\u00a0node;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- a caixa de detalhe s\u00f3 ficar\u00e1 vis\u00edvel se houver item selecionado \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.boxDetalhesDoItem.visible\u00a0=\u00a0(node\u00a0~=\u00a0nil); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/recordList&gt; \\&lt;!-- dataScopeBox representando a nossa caixa de detalhes --&gt; \\&lt;dataScopeBox\u00a0name=\"boxDetalhesDoItem\"\u00a0visible=\"false\"\u00a0align=\"right\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 width=\"400\"\u00a0margins=\"{left=4, right=4}\"&gt; \\&lt;!-- Fa\u00e7a um layout \"bonito\" para sua caixa de detalhes =). Utilize a propriedade \"field\" nas tags aqui dentro\u00a0\u00a0 --&gt; \\&lt;rectangle\u00a0align=\"top\"\u00a0color=\"black\"\u00a0xradius=\"10\"\u00a0yradius=\"10\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0height=\"180\"\u00a0padding=\"{top=3, left=3, right=3, bottom=3}\"&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"30\"\u00a0margins=\"{bottom=4}\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Titulo do Item:\"\u00a0autoSize=\"true\"/&gt; \\&lt;edit\u00a0align=\"client\"\u00a0field=\"campoTitulo\"/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"130\"&gt; \\&lt;image\u00a0align=\"left\"\u00a0editable=\"true\"\u00a0field=\"campoURLImagem\"\u00a0width=\"130\"/&gt; \\&lt;layout\u00a0align=\"client\"\u00a0margins=\"{left=2}\"&gt; \\&lt;edit\u00a0align=\"top\"\u00a0field=\"campoSubTitulo\"\u00a0height=\"30\"/&gt; \\&lt;textEditor\u00a0align=\"top\"\u00a0field=\"campoTextoGrande\"\u00a0height=\"100\"/&gt; \\&lt;/layout&gt; \\&lt;/layout&gt; \\&lt;/rectangle&gt; \\&lt;/dataScopeBox&gt; \\&lt;/form&gt;* Arquivo \u201cItemDaLista.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmItemDaLista\"\u00a0height=\"50\"\u00a0theme=\"dark\"&gt; \\&lt;layout\u00a0align=\"client\"\u00a0margins=\"{left=4, right=4, top=4, bottom=4}\"&gt; \\&lt;!-- Bot\u00e3o para apagar o item da lista --&gt; \\&lt;button\u00a0align=\"left\"\u00a0width=\"32\"\u00a0text=\"X\"\u00a0onClick=\"ndb.deleteNode(sheet);\"/&gt; \\&lt;!-- O t\u00edtulo do item que aparece na lista --&gt; \\&lt;label\u00a0align=\"client\"\u00a0text=\"Teste de label\"\u00a0field=\"campoTitulo\"\u00a0margins=\"{left=4}\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt;"},{"location":"Criarumalistadinamicapaineldedet/#lista-dinamica-painel-de-detalhes-alternativo","title":"Lista Din\u00e2mica + Painel de Detalhes alternativo","text":""},{"location":"Criarumalistadinamicapaineldedet/#codigo-fonte-alternativo","title":"C\u00f3digo Fonte Alternativo","text":"Arquivo \u201cMinhaFicha.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"\u00a0theme=\"dark\" padding=\"{left=4, top=4, right=4, bottom=4}\"&gt; \\&lt;!-- Bot\u00e3o de inserir novo item \u00e0 lista --&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"30\"\u00a0margins=\"{bottom=4}\"&gt; \\&lt;button\u00a0text=\"Criar Novo Item\"\u00a0width=\"150\"\u00a0align=\"left\"&gt; \\&lt;event\u00a0name=\"onClick\"&gt; -- Usu\u00e1rio clicou no bot\u00e3o de criar novo item. -- Vamos inserir um novo item no nosso recordList \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.rclListaDosItens:append(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;/layout&gt; \\&lt;!-- recordList, representando a lista --&gt; \\&lt;recordList\u00a0name=\"rclListaDosItens\"\u00a0field=\"campoDosItens\"\u00a0templateForm=\"frmItemDaLista\" align=\"top\"\u00a0selectable=\"true\"\u00a0layout=\"horizontal\"\u00a0height=\"40\"&gt; \\&lt;event\u00a0name=\"onSelect\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0--[[ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Este evento \u00e9 chamado quando o usu\u00e1rio selecionar/deselecionar itens da lista. Quando o usu\u00e1rio selecionar, vamos fazer nosso dataScopeBox (e todas as tag dentro dele) salvar e carregar dados no \u00a0 objeto Nodo (NodeDatabase) do item selecionado. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 --]] \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local\u00a0node\u00a0=\u00a0self.rclListaDosItens.selectedNode;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.boxDetalhesDoItem.node\u00a0=\u00a0node;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- a caixa de detalhe s\u00f3 ficar\u00e1 vis\u00edvel se houver item selecionado \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.boxDetalhesDoItem.visible\u00a0=\u00a0(node\u00a0~=\u00a0nil); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/recordList&gt; \\&lt;!-- dataScopeBox representando a nossa caixa de detalhes --&gt; \\&lt;dataScopeBox\u00a0name=\"boxDetalhesDoItem\"\u00a0visible=\"false\"\u00a0align=\"client\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0margins=\"{left=4, right=4, top=2}\"&gt; \\&lt;!-- Fa\u00e7a um layout \"bonito\" para sua caixa de detalhes =). Utilize a propriedade \"field\" nas tags aqui dentro \u00a0 --&gt; \\&lt;rectangle\u00a0align=\"client\"\u00a0color=\"black\"\u00a0xradius=\"10\"\u00a0yradius=\"10\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0padding=\"{top=3, left=3, right=3, bottom=3}\"&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"30\"\u00a0margins=\"{bottom=4}\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Titulo do Item:\"\u00a0autoSize=\"true\"/&gt; \\&lt;edit\u00a0align=\"client\"\u00a0field=\"campoTitulo\"/&gt; \\&lt;!-- Bot\u00e3o de apagar o item --&gt; \\&lt;button\u00a0align=\"right\"\u00a0text=\"Apagar!\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=4, right=4, top=2, bottom=2}\"\u00a0width=\"150\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0onClick=\"ndb.deleteNode(self.boxDetalhesDoItem.node);\"\u00a0/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"130\"&gt; \\&lt;image\u00a0align=\"left\"\u00a0editable=\"true\"\u00a0field=\"campoURLImagem\"\u00a0width=\"130\"/&gt; \\&lt;layout\u00a0align=\"client\"\u00a0margins=\"{left=2}\"&gt; \\&lt;edit\u00a0align=\"top\"\u00a0field=\"campoSubTitulo\"\u00a0height=\"30\"/&gt; \\&lt;textEditor\u00a0align=\"top\"\u00a0field=\"campoTextoGrande\"\u00a0height=\"100\"/&gt; \\&lt;/layout&gt; \\&lt;/layout&gt; \\&lt;/rectangle&gt; \\&lt;/dataScopeBox&gt; \\&lt;/form&gt;* Arquivo \u201cItemDaLista.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmItemDaLista\"\u00a0height=\"50\" width=\"100\"&gt; \\&lt;!-- O t\u00edtulo do item que aparece na lista --&gt; \\&lt;label\u00a0align=\"client\"\u00a0text=\"Teste de label\"\u00a0field=\"campoTitulo\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=4, right=4, top=4, bottom=4}\"/&gt; \\&lt;!-- Adicionar um valor padr\u00e3o para o campoTitulo caso esteja vazio. Isto \u00e9 especialmente \u00fatil em novos itens --&gt; \\&lt;dataLink\u00a0field=\"campoTitulo\"\u00a0defaultValue=\"Titulo Aqui\"/&gt; \\&lt;/form&gt;"},{"location":"Criarumalistadinamicapaineldedet/#incrementando-o-codigo-selecionar-o-primeiro-item-ao-carregar-os-dados","title":"Incrementando o c\u00f3digo: Selecionar o primeiro item ao carregar os dados","text":"<p>Trate o evento \"onEndEnumeration\" da tag recordList com o seguinte c\u00f3digo:</p> <p> </p> \\&lt;event\u00a0name=\"onEndEnumeration\"&gt; if\u00a0self.rclListaDosItens.selectedNode\u00a0==\u00a0nil\u00a0and\u00a0sheet\u00a0~=\u00a0nil\u00a0then local\u00a0nodes\u00a0=\u00a0ndb.getChildNodes(sheet.campoDosItens);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0#nodes\u00a0&gt;\u00a00\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.rclListaDosItens.selectedNode\u00a0=\u00a0nodes[1]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \\&lt;/event&gt; <p> </p> <p> </p> <p> </p> <p>Veja Tratando eventos do Lua Form.</p> <p>Created with the Personal Edition of HelpNDoc: Powerful and User-Friendly Help Authoring Tool for Markdown Documents</p>"},{"location":"Criarumbotaoqueescondeitensdeuma/","title":"Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica","text":""},{"location":"Criarumbotaoqueescondeitensdeuma/#criar-um-botao-que-esconde-itens-de-uma-lista-dinamica-de-alguns-usuarios","title":"Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios.","text":"<p>Aten\u00e7\u00e3o: Este \u00e9 um t\u00f3pico avan\u00e7ado e requer o conhecimento de como criar uma lista din\u00e2mica.</p> <p> </p> <p>Este tipo de funcionalidade \u00e9 \u00fatil quando em uma ficha ou em uma janela acopl\u00e1vel \u00e9 necess\u00e1rio esconder certos itens de certos usu\u00e1rios, por exemplo:</p> <ul> <li>NPCs - Talvez o mestre queira esconder determinado NPC dos jogadores</li> <li>Equipamentos - Talvez um jogador de um grupo possua um equipamento que o Mestre deseja que os demais jogadores n\u00e3o saibam de sua exist\u00eancia.</li> <li>Uma anota\u00e7\u00e3o secreta, que somente o mestre pode visualizar.</li> </ul> <p> </p> <p> </p>"},{"location":"Criarumbotaoqueescondeitensdeuma/#comecando","title":"Come\u00e7ando....","text":"<p>Vamos supor que voc\u00ea j\u00e1 tenha implementado em seu c\u00f3digo uma lista din\u00e2mica com a seguinte apar\u00eancia:</p> <p> </p> <p></p> <p> </p> <p>e com o seguinte c\u00f3digo:</p> <p> </p> Arquivo Principal \u201cficha.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"30\"&gt; \\&lt;button\u00a0align=\"left\"\u00a0text=\"Novo\"\u00a0onClick=\"self.rclLista:append();\"/&gt; \\&lt;/layout&gt; \\&lt;recordList\u00a0name=\"rclLista\"\u00a0align=\"client\"\u00a0field=\"itens\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 templateForm=\"frmItem\"/&gt; \\&lt;/form&gt; <p> </p> <p> </p> Arquivo Secund\u00e1rio \u201citem.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmItem\"\u00a0height=\"30\"\u00a0margins=\"{top=2,bottom=2}\"&gt; \\&lt;edit\u00a0align=\"client\"\u00a0field=\"descricao\"\u00a0margins=\"{right=2}\"/&gt; \\&lt;button\u00a0align=\"right\"\u00a0text=\"Apagar\"\u00a0width=\"80\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0onClick=\"ndb.deleteNode(sheet);\"/&gt; \\&lt;/form&gt; <p> </p>"},{"location":"Criarumbotaoqueescondeitensdeuma/#proximos-passos","title":"Pr\u00f3ximos passos","text":"<p>Para adicionar a funcionalidade de esconder item, voc\u00ea dever\u00e1 fazer as seguintes altera\u00e7\u00f5es em seu arquivo equivalente ao \"item.lfm\" (aquele que repete para cada item na lista):</p> <ul> <li>Criar um bot\u00e3o novo ou outra funcionalidade que permita o usu\u00e1rio clicar e realizar uma a\u00e7\u00e3o. Neste tutorial usaremos a tag imageCheckBox pelo simples fato de eu ach\u00e1-la bacana =).\\ \u00a0</li> </ul> \\&lt;imageCheckBox\u00a0name=\"cbxInvisivel\"\u00a0align=\"right\"\u00a0width=\"25\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=2, right=2}\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0checkedImage=\"images/invisivel.png\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0uncheckedImage=\"images/visivel.png\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0autoChange=\"false\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0onClick=\"self:alternarVisibilidade();\"\u00a0/&gt; <p>\\ Esta \u00e9 a imagem \"images/invisivel.png\": \\ Esta \u00e9 a imagem \"images/visivel.png: \\ Note que a propriedade autoChange foi setada para false para que a tag n\u00e3o mude automaticamente sua propriedade \"checked\".</p> <p>Note tamb\u00e9m que ao clicar no imageCheckBox, ser\u00e1 invocada a fun\u00e7\u00e3o \"self:alternarVisibilidade\"</p> <p> </p> <p> </p> <ul> <li> </li> <li>Criar o c\u00f3digo da fun\u00e7\u00e3o \"self:alternarVisibilidade\" que utiliza a fun\u00e7\u00e3o ndb.setPermission</li> </ul> <p> </p> \\&lt;script&gt; \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0self:alternarVisibilidade() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0self.cbxInvisivel.checked\u00a0then -- o imageCheckbox est\u00e1 marcando como invisivel.. -- Vamos mudar as permiss\u00f5es para tornar visivel ent\u00e3o.. -- resetar as permiss\u00f5es de read dos jogadores e espectadores \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.setPermission(sheet,\u00a0\"group\",\u00a0\"jogadores\",\u00a0\"read\",\u00a0nil); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.setPermission(sheet,\u00a0\"group\",\u00a0\"espectadores\",\u00a0\"read\",\u00a0nil; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else -- o imageCheckbox est\u00e1 marcando como vis\u00edvel -- Vamos mudar as permiss\u00f5es para tornar invis\u00edvel ent\u00e3o... -- negar as permiss\u00f5es de read dos jogadores e espectadores \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.setPermission(sheet,\u00a0\"group\",\u00a0\"jogadores\",\u00a0\"read\",\u00a0\"deny\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.setPermission(sheet,\u00a0\"group\",\u00a0\"espectadores\",\u00a0\"read\",\u00a0\"deny\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \\&lt;/script&gt; <p> </p> <p> </p> <ul> <li> </li> <li>Criar um c\u00f3digo que fica respons\u00e1vel por atualizar o estado do imageCheckBox conforme as permiss\u00f5es existentes e alteradas:\\ \\ \u00a0</li> </ul> \\&lt;script&gt; \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0self:atualizarCbxInvisivel() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Esta fun\u00e7\u00e3o \u00e9 chamada em v\u00e1rios pontos para atualizar o estado do checkbox de invisibilidade -- Marcar o checkbox se existir uma permiss\u00e3o \"read deny\" para jogadores ou para espectadores \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.cbxInvisivel.checked\u00a0=\u00a0ndb.getPermission(sheet,\u00a0\"group\",\u00a0\"espectadores\",\u00a0\"read\")\u00a0==\u00a0\"deny\"\u00a0or \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.getPermission(sheet,\u00a0\"group\",\u00a0\"jogadores\",\u00a0\"read\")\u00a0==\u00a0\"deny\";\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Permitir o click no checkbox apenas se o usu\u00e1rio atual possuir a permiss\u00e3o \"writePermissions\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.cbxInvisivel.enabled\u00a0=\u00a0ndb.testPermission(sheet,\u00a0\"writePermissions\"); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \\&lt;/script&gt; <p>\\ Veja tamb\u00e9m:</p> <ul> <li> </li> <li> <ul> <li> </li> <li>Fun\u00e7\u00e3o ndb.getPermission</li> <li>Fun\u00e7\u00e3o ndb.testPermission</li> </ul> </li> </ul> <p> </p> <p> </p> <ul> <li> </li> <li>Criar um NodeObserver que ser\u00e1 respons\u00e1vel por invocar a fun\u00e7\u00e3o acima \"self:atualizarCbxInvisivel\" quando ocorrer alguma mudan\u00e7a nas permiss\u00f5es do NodeDatabase. O NodeObserver ser\u00e1 criado no evento onScopeNodeChanged da tag Form</li> </ul> <p> </p> <p> </p> \\&lt;event name=\"onScopeNodeChanged\"&gt; \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0self.observer\u00a0~=\u00a0nil\u00a0then -- J\u00e1 tinhamos criado um observer, vamos desativ\u00e1-lo.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer.enabled\u00a0=\u00a0false; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer\u00a0=\u00a0nil; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0sheet\u00a0~=\u00a0nil\u00a0then -- O form foi ligado a um NodeDatabase! -- Vamos criar um NodeObserver para este nodo.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer\u00a0=\u00a0ndb.newObserver(sheet);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer.onPermissionListChanged\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(node) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando -- as defini\u00e7\u00f5es de permiss\u00f5es de sheet mudarem \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self:atualizarCbxInvisivel(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer.onFinalPermissionsCouldBeChanged\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(node) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando -- minhas permiss\u00f5es em sheet puderem -- ter sido afetadas por altera\u00e7\u00f5es de permiss\u00f5es -- no NodeDatabase ou porque me tornei * \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- mestre/jogador/espectador \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self:atualizarCbxInvisivel(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Devemos atualizar o checkbox agora tamb\u00e9m \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self:atualizarCbxInvisivel();\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \\&lt;/event&gt; <p> </p> <p> </p> <p> </p>"},{"location":"Criarumbotaoqueescondeitensdeuma/#resultado-final","title":"Resultado final","text":"<p>O que aparece para os Mestres da mesa:</p> <p></p> <p> </p> <p> </p> <p>O que os Jogadores e Espectadores da mesa veem:</p> <p></p> <p> </p> <p> </p> <p> </p>"},{"location":"Criarumbotaoqueescondeitensdeuma/#codigo-fonte-final-sem-os-comentarios","title":"C\u00f3digo fonte final (sem os coment\u00e1rios)","text":"Arquivo Principal \u201cficha.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"30\"&gt; \\&lt;button\u00a0align=\"left\"\u00a0text=\"Novo\"\u00a0onClick=\"self.rclLista:append();\"/&gt; \\&lt;/layout&gt; \\&lt;recordList\u00a0name=\"rclLista\"\u00a0align=\"client\"\u00a0field=\"itens\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 templateForm=\"frmItem\"/&gt; \\&lt;/form&gt; Arquivo Secund\u00e1rio \u201citem.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmItem\"\u00a0height=\"30\"\u00a0margins=\"{top=2,bottom=2}\"&gt; \\&lt;script&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0function self:alternarVisibilidade() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 if self.cbxInvisivel.checked then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", nil); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", nil); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", \"deny\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", \"deny\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0function self:atualizarCbxInvisivel() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 self.cbxInvisivel.checked = ndb.getPermission(sheet, \"group\", \"espectadores\", \"read\") == \"deny\" or \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0ndb.getPermission(sheet, \"group\", \"jogadores\", \"read\") == \"deny\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.cbxInvisivel.enabled = ndb.testPermission(sheet, \"writePermissions\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0end; \u00a0 \u00a0 \\&lt;/script&gt; \\&lt;edit\u00a0align=\"client\"\u00a0field=\"descricao\"\u00a0margins=\"{right=2}\"/&gt; \\&lt;imageCheckBox\u00a0name=\"cbxInvisivel\"\u00a0align=\"right\"\u00a0width=\"25\"\u00a0margins=\"{left=2, right=2}\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0checkedImage=\"images/invisivel.png\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0uncheckedImage=\"images/visivel.png\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0autoChange=\"false\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0onClick=\"self:alternarVisibilidade();\"\u00a0/&gt; \\&lt;button\u00a0align=\"right\"\u00a0text=\"Apagar\"\u00a0width=\"80\" onClick=\"ndb.deleteNode(sheet);\"/&gt; \\&lt;event\u00a0name=\"onScopeNodeChanged\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if self.observer ~= nil then\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer.enabled = false; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer = nil; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if sheet ~= nil then\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer = ndb.newObserver(sheet); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer.onPermissionListChanged = \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0function(node)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self:atualizarCbxInvisivel(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.observer.onFinalPermissionsCouldBeChanged = \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 function(node) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self:atualizarCbxInvisivel(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self:atualizarCbxInvisivel(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface</p>"},{"location":"CriarummodelodefichaapartirdeumP/","title":"Criar um modelo de ficha \u00e0 partir de um PDF","text":""},{"location":"CriarummodelodefichaapartirdeumP/#criar-um-modelo-de-ficha-a-partir-de-um-pdf-editavel","title":"Criar um modelo de ficha \u00e0 partir de um PDF edit\u00e1vel","text":"<ol> <li>Voc\u00ea deve ter um projeto de plug-in j\u00e1 criado. Se voc\u00ea ainda n\u00e3o tem um projeto de plug-in, leia\u00a0 \"Criando um novo projeto de plug-in\" e crie o seu antes (\u00e9 bem f\u00e1cil =] )\\ \\ \u00a0</li> <li>Abra o prompt de comando e navegue at\u00e9 a pasta de seu projeto de plug-in.</li> </ol> <p>\\ \u00a0</p> <p> </p> <ol> <li>Execute o comando \"rdk pdf\" sem \u00e1spas no prompt de comando\\ \u00a0</li> </ol> <p>\\ \u00a0</p> <p> </p> <p>Uma p\u00e1gina como esta se abrir\u00e1 no navegador de internet (Sempre utilize um browser mais atualizado. Experimente o Google Chrome):\\ \\ </p> <p>\\ \u00a0</p> <ol> <li>Clique em \"escolher arquivo\" e selecione o PDF que deseja converter.</li> </ol> <p> </p> <p></p> <p> </p> <ol> <li>Se o Zoom padr\u00e3o de 1,5x deixar o conte\u00fado muito pequeno, escolha outro valor de escala que melhor se encaixar em seu PDF e clique em \"Aplicar Configura\u00e7\u00f5es\". Experimente outras configura\u00e7\u00f5es tamb\u00e9m!</li> </ol> <p>\\ \\ \u00a0</p> <ol> <li>Clique em \"salvar todas as p\u00e1ginas\". Um arquivo \".zip\" que cont\u00e9m o PDF em formato .SVG ser\u00e1 gerado!</li> </ol> <p></p> <p> </p> <p> </p> <ol> <li>Copie o arquivo .zip (gerado no passo anterior) para a pasta do projeto do plug-in.</li> </ol> <p></p> <p> </p> <p> </p> <ol> <li>Volte no prompt de comando e execute \"rdk lfm \\&lt;ArquivoZip.zip&gt;\" sem as \u00e1spas e substituindo \\&lt;ArquivoZip.zip&gt; pelo nome do arquivo gerado no passo 6.\\ \\ \\ \u00a0</li> <li>Volte na pasta projeto do plug-in e entre no sub-diret\u00f3rio criado pelo comando no passo anterior (Local onde cont\u00e9m os arquivos .lfm convertidos)\\ \\ \u00a0</li> <li>Edite o arquivo .lfm principal (aquele que cont\u00e9m o mesmo nome do arquivo .PDF):\\ \\ \\ \\ \u00a0</li> <li>Altere os atributos \"dataType\" e \"title\" do form para valores adequados:\\ \u00a0</li> </ol> <p>dataType \u2013 Um texto que identifica qual \u00e9 o tipo de conte\u00fado do seu modelo de ficha. Voc\u00ea deve inventar um Data Type \u00fanico que possua ao menos cinco caracteres alfanum\u00e9ricos, \"_\" ou \".\" e que n\u00e3o comece com d\u00edgitos. Use a criatividade! Exemplos: \u201cbr.com.rrpg.DnD5_S3\u201d, \u201cbr.com.rrpg.VampiroAMascara\u201d, \u201cbr.com.meusite.MeuModeloDeFicha\u201d, \u201cmeuplugin.FichaX\u201d, etc..\\ \u00a0</p> <p>title \u2013 O t\u00edtulo do seu modelo de ficha. Este texto aparecer\u00e1 na lista de fichas quando o usu\u00e1rio criar um personagem. Exemplos: \u201cDnD 5th\u201d, \u201cVampiro a M\u00e1scara\u201d, \u201cMeu modelo de ficha\u201d, etc..\\ \\ \\ \u00a0</p> <p> </p> <ol> <li>Pronto! Agora voc\u00ea j\u00e1 pode excluir o arquivo \".zip\" que colocou na pasta projeto do plug-in e executar o comando \"rdk i\" para testar o modelo de ficha no RRPG =)\\ \u00a0 \u00a0 </li> </ol> <p> </p> <p></p> <p> </p> <p></p> <p> </p> <p> </p> <ol> <li>Se quiser, edite os arquivos \".lfm\" gerados em um editor de texto para complementar a ficha gerada!</li> </ol> <p> </p>"},{"location":"CriarummodelodefichaapartirdeumP/#observacoes","title":"Observa\u00e7\u00f5es:","text":"<ul> <li>Os c\u00e1lculos e scripts existentes no PDF n\u00e3o s\u00e3o convertidos automaticamente. Voc\u00ea deve recri\u00e1-los manualmente, se quiser. Leia o tutorial Criar campos calculados em fichas.</li> </ul>"},{"location":"CriarummodelodefichaapartirdeumP/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<ul> <li>Testando o projeto de plug-in</li> <li>Veja outros tutoriais para completar seu plug-in.</li> <li>Caso queira adicionar mais funcionalidades ao modelo de ficha que acabou de criar, leia Interfaces visuais (Lua Forms)</li> <li>Disponibilizando o plug-in\\</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with a Help Authoring Tool</p>"},{"location":"Disponibilizandoumplugin/","title":"Disponibilizando um plug-in","text":""},{"location":"Disponibilizandoumplugin/#disponibilizando-um-plug-in_1","title":"Disponibilizando um plug-in","text":"<p>Agora que voc\u00ea j\u00e1 fez e testou seu plug-in, est\u00e1 na hora de o tornar dispon\u00edvel a outras pessoas!</p> <p> </p>"},{"location":"Disponibilizandoumplugin/#onde-esta-o-plug-in-que-criei","title":"Onde est\u00e1 o plug-in que criei?","text":"<p>Ao compilar seu projeto (comando \"rdk i\" ou comando \"rdk c\"), o arquivo final de seu plug-in \u00e9 colocado dentro sub-pasta \"output\" do projeto.</p>"},{"location":"Disponibilizandoumplugin/#distribuicao-manual","title":"Distribui\u00e7\u00e3o manual","text":"<p>Envie para os outros o arquivo que est\u00e1 dentro da sub-pasta \"output\"! (Um arquivo de extens\u00e3o \".rpk\")</p>"},{"location":"Disponibilizandoumplugin/#instalacao-manual-do-plug-in","title":"Instala\u00e7\u00e3o manual do plug-in","text":"<p>\u00c9 bem simples: Se a pessoa j\u00e1 possuir o RRPG Firecast instalado, ela s\u00f3 precisa \"dar 2 cliques\" no arquivo baixado e o processo de instala\u00e7\u00e3o se iniciar\u00e1.</p> <p>Uma maneira alternativa de instalar o plug-in \u00e9 ir ao menu de plug-ins do RRPG, clicar no bot\u00e3o \"instalar\" e escolher o arquivo \".rpk\" baixado.</p> <p> </p> <p>Ap\u00f3s a instala\u00e7\u00e3o manual, o arquivo \".rpk\" pode ser exclu\u00eddo pois n\u00e3o interferir\u00e1 no funcionamento do plug-in!</p> <p>Created with the Personal Edition of HelpNDoc: Generate Kindle eBooks with ease</p>"},{"location":"DividindooarquivoLuaFormemdocume/","title":"Dividindo o arquivo Lua Form em documentos menores","text":""},{"location":"DividindooarquivoLuaFormemdocume/#dividindo-o-arquivo-lua-form-em-documentos-menores_1","title":"Dividindo o arquivo Lua Form em documentos menores","text":"<p>Se seu arquivo .lfm cresceu e est\u00e1 muito grande, saiba que \u00e9 poss\u00edvel organiz\u00e1-lo em documentos XML menores!</p> <p> </p> <p>Saiba mais lendo Tag import.</p> <p>Created with the Personal Edition of HelpNDoc: Eliminate the Struggles of Documentation with a Help Authoring Tool</p>"},{"location":"DocumentosXML/","title":"Documentos XML","text":""},{"location":"DocumentosXML/#documentos-xml_1","title":"Documentos XML","text":"<p>XML s\u00e3o documentos usados para guardar e catalogar informa\u00e7\u00f5es de forma intuitiva e flex\u00edvel, e servem para diversas finalidades!</p> <p> </p> <p>Importante: Os documentos XMLs possuem \u201cum rosto\u201d diferente para cada finalidade. Exemplo: Enquanto um XML de interface possui um conjunto de informa\u00e7\u00f5es e marca\u00e7\u00f5es espec\u00edficas, um XML de informa\u00e7\u00f5es do plugin possui outro conjunto distinto de informa\u00e7\u00f5es e marca\u00e7\u00f5es espec\u00edficas. Haver\u00e1 uma documenta\u00e7\u00e3o pr\u00f3pria para guiar seus passos em cada uma dessas finalidades!</p> <p> </p> <p>Links \u00fateis:</p> <ul> <li>XML na wikipedia: http://pt.wikipedia.org/wiki/XML</li> <li>Introdu\u00e7\u00e3o ao XML: http://www.macoratti.net/xml.htm </li> </ul> <p> </p> <p>Se voc\u00ea est\u00e1 tendo problemas com os documentos XML, eis aqui algumas dicas:</p> <ul> <li>Certifique que as marca\u00e7\u00f5es/tags abertas est\u00e3o sendo fechadas corretamente. Nomes de marca\u00e7\u00f5es s\u00e3o case-sensitives e precisam ser exatamente iguais \u00e0 marca\u00e7\u00e3o de abertura.</li> <li>Certifique que as marca\u00e7\u00f5es usadas s\u00e3o v\u00e1lidas para a finalidade desejada.</li> <li>Alguns caracteres s\u00e3o reservados para controle do XML. Se voc\u00ea precisar deles mesmo assim, \u00e9 preciso fazer substitui\u00e7\u00e3o por um c\u00f3digo especial. Veja Lidando com caracteres reservados do XML.</li> <li>Em caso de erro relacionado \u00e0 codifica\u00e7\u00e3o do texto, cerifique-se que o documento possui um cabe\u00e7alho XML identificando corretamente a codifica\u00e7\u00e3o do documento. O cabe\u00e7alho \u00e9 a primeira linha do documento, onde:</li> <li>Se o documento estiver codificado em UTF-8, o cabe\u00e7alho deve ser:<ul> <li>\\&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\u00a0</li> </ul> </li> <li>Se voc\u00ea n\u00e3o sabe a codifica\u00e7\u00e3o do documento, talvez o cabe\u00e7alho correto seja:<ul> <li>\\&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\u00a0</li> </ul> </li> </ul> <p> </p> <p> </p>"},{"location":"DocumentosXML/#lidando-com-caracteres-reservados-do-xml","title":"Lidando com caracteres reservados do XML","text":"<p>Alguns caracteres s\u00e3o reservados para controle do XML. Se voc\u00ea precisar deles mesmo assim, \u00e9 preciso fazer substitui\u00e7\u00e3o por um c\u00f3digo especial:</p> <p> </p>"},{"location":"DocumentosXML/#tabela-de-caracteres-reservados","title":"Tabela de caracteres reservados:","text":"Caractere reservado Substitui\u00e7\u00e3o \\&lt; \\&lt; &gt; \\&gt; \\&amp; \\&amp; \u2018 \\' \u201c \\\""},{"location":"DocumentosXML/#exemplos-de-substituicao","title":"Exemplos de substitui\u00e7\u00e3o:","text":"<ul> <li>\\&lt;label text=\u201dD\\&amp;D\u201d/&gt; \u00a0 \\ Substitui\u00e7\u00e3o de \"\\&amp;\" por \"\\&amp;\" ... Cont\u00e9m \"D\\&amp;D\"\\ \u00a0</li> <li>\\&lt;button text=\u201d20 \\&gt; 10\u201d/&gt; \\ Substitui\u00e7\u00e3o de \"&gt;\" por \"\\&amp;gt\"; .... Cont\u00e9m \"20 &gt; 10\"</li> </ul>"},{"location":"DocumentosXML/#cdata","title":"CDATA","text":"<p>Voc\u00ea tamb\u00e9m pode utilizar blocos CDATA para evitar fazer substitui\u00e7\u00f5es, o que \u00e9 \u00fatil em c\u00f3digos LUA dentro de XML.\u00a0 \\ Saiba mais em http://en.wikipedia.org/wiki/CDATA</p> <p> </p>"},{"location":"DocumentosXML/#exemplo-de-cdata","title":"Exemplo de CDATA","text":"\\&lt;event\u00a0name=\"onResize\"&gt; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;![CDATA[ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local teste = \"D\\&amp;D\";\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (x \\&lt; y) or (x &gt; z) then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local teste = 'D\\&amp;D 4.0'; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0 ]]&gt; \\&lt;/event&gt; <p>N\u00e3o \u00e9 preciso fazer nenhuma substitui\u00e7\u00e3o de caracteres reservados dentro de um bloco CDATA.</p> <p> </p> <p>Observa\u00e7\u00e3o: S\u00f3 \u00e9 poss\u00edvel utilizar CDATA no corpo de um nodo do XML. N\u00e3o \u00e9 poss\u00edvel usar CDATA no valor de um atributo, por exemplo.</p> <p> </p> <p> </p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework</p>"},{"location":"EstilosemCascata/","title":"Estilos em Cascata","text":""},{"location":"EstilosemCascata/#estilos-em-cascata_1","title":"Estilos em Cascata","text":"<p>\u00c9 poss\u00edvel aplicar estilos em cascata semelhante ao CSS do HTML no LuaForm.</p> <p> </p> <p>Saiba mais em Tag style</p> <p>Created with the Personal Edition of HelpNDoc: Elevate Your Documentation with HelpNDoc's Project Analyzer Features</p>"},{"location":"EstruturaSceneRect/","title":"Estrutura SceneRect","text":"<p>\\&lt; A escrever ...&gt;</p> <p>Created with the Personal Edition of HelpNDoc: Free EBook and documentation generator</p>"},{"location":"Exemplosdeframes/","title":"Exemplos de frames","text":""},{"location":"Exemplosdeframes/#exemplos-de-frames_1","title":"Exemplos de frames","text":"<p>1 - Background que estica para o novo tamanho</p> <p>2 - Background que se repete para preencher o tamanho</p> <p>3 - Frame com 2 partes fixas e 1 parte que se estica</p> <p>4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens</p> <p>5 - Frame com regi\u00f5es</p> <p> </p> <p> </p> <p> </p> <p>Os exemplos acima s\u00e3o arquivos de defini\u00e7\u00f5es de frame utilizados em tags layout da seguinte forma em um Lua Form:</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0align=\"client\"\u00a0frameStyle=\"/frames/frame1.xml\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=10, top=10, right=10, bottom=10}\"&gt; \\&lt;label\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0text=\"Conteudo do Layout\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p> </p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc</p>"},{"location":"FAQPerguntasFrequentes/","title":"FAQ -  Perguntas Frequentes","text":""},{"location":"FAQPerguntasFrequentes/#faq-perguntas-frequentes-sobre-o-sdk-3","title":"FAQ - Perguntas Frequentes sobre o SDK 3","text":"<p>N\u00e3o. O SDK3 \u00e9 uma nova ferramenta que utiliza uma nova tecnologia de plug-ins para o RRPG. Ela n\u00e3o exige ter o Delphi instalado.</p> <p> </p> <p>N\u00e3o. As fichas feitas em Delphi usam o SDK 2, que \u00e9 incompat\u00edvel com o SDK 3.</p> <p> </p> <ol> <li>Os plug-ins do SDK 2 rodam apenas no Windows, enquanto os feitos no SDK 3 podem rodar em outros dispositivos.</li> <li>Voc\u00ea n\u00e3o precisa baixar o Delphi (um aplicativo grande e pago)</li> </ol> <p> </p> <ol> <li> </li> </ol> <p>\u00a0 \u00a0 At\u00e9 o momento, n\u00e3o. Voc\u00ea precisar\u00e1 portar o plug-in \"do zero\". Se voc\u00ea pretende criar um modelo de ficha baseado em um PDF edit\u00e1vel, voc\u00ea pode utilizar a ferramenta de convers\u00e3o PDF -&gt; Ficha SDK3. Saiba mais lendo Criar um modelo de ficha \u00e0 partir de um PDF.\\ \u00a0</p> <ol> <li> </li> </ol> <p>N\u00e3o. O SDK 3 \u00e9 uma ferramenta para quem desenvolve plug-ins. Os usu\u00e1rios do plug-in precisam apenas ter o RRPG Firecast mais atual instalado.\u00a0</p> <p> </p> <ol> <li> </li> </ol> <p>N\u00e3o. Voc\u00ea precisa recriar os c\u00e1lculos e scripts manualmente. Veja o tutorial Criar campos calculados em fichas caso tenha d\u00favidas sobre como fazer isso.</p> <p>Created with the Personal Edition of HelpNDoc: Free help authoring environment</p>"},{"location":"FAQPerguntasFrequentes/#o-sdk-3-precisa-do-delphi-para-funcionar","title":"O SDK 3 precisa do Delphi para funcionar?","text":""},{"location":"FAQPerguntasFrequentes/#tenho-uma-ficha-feita-no-delphi-o-sdk3-e-compativel-com-esta-minha-ficha","title":"Tenho uma ficha feita no Delphi. O SDK3 \u00e9 compat\u00edvel com esta minha ficha?","text":""},{"location":"FAQPerguntasFrequentes/#quais-as-vantagem-do-sdk-3-sobre-o-sdk-2-delphi","title":"Quais as vantagem do SDK 3 sobre o SDK 2 + Delphi?","text":""},{"location":"FAQPerguntasFrequentes/#existe-alguma-ferramenta-que-converte-os-plug-ins-feitos-no-sdk2-para-a-versao-sdk3","title":"Existe alguma ferramenta que converte os plug-ins feitos no SDK2 para a vers\u00e3o SDK3?","text":""},{"location":"FAQPerguntasFrequentes/#desenvolvi-um-plug-in-usando-o-sdk-3-quem-for-usar-meu-plug-in-precisa-ter-o-sdk3-instalado-tambem","title":"Desenvolvi um plug-in usando o SDK 3. Quem for usar meu plug-in precisa ter o SDK3 instalado tamb\u00e9m?","text":""},{"location":"FAQPerguntasFrequentes/#a-ferramenta-que-converte-um-pdf-editavel-em-uma-ficha-tambem-converte-os-calculos-que-existem-no-pdf","title":"A ferramenta que converte um PDF edit\u00e1vel em uma ficha tamb\u00e9m converte os c\u00e1lculos que existem no PDF?","text":""},{"location":"Fazerumafichaenviarrolagensparaa/","title":"Fazer uma ficha enviar rolagens para a mesa","text":""},{"location":"Fazerumafichaenviarrolagensparaa/#fazer-uma-ficha-enviar-rolagens-para-a-mesa_1","title":"Fazer uma ficha enviar rolagens para a mesa","text":"<ol> <li>Adicione uma tag button ao Lua Form</li> <li>Manipule o evento \"onClick\" da tag button</li> <li>Utilize o c\u00f3digo abaixo:</li> </ol> \\&lt;button&gt; \\&lt;event\u00a0name=\"onClick\"&gt; local\u00a0rolagem\u00a0=\u00a0rrpg.interpretarRolagem(sheet.ataqueDoPersonagem);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if not\u00a0rolagem.possuiAlgumDado\u00a0then -- se o usuario n\u00e3o tiver preenchido qual dado rolar, -- vamos adicionar um 1d20 + na \"f\u00f3rmula da rolagem\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 rolagem\u00a0=\u00a0rrpg.interpretarRolagem(\"1d20\"):concatenar(rolagem); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0mesaDoPersonagem\u00a0=\u00a0rrpg.getMesaDe(sheet); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if\u00a0mesaDoPersonagem ~= nil\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 mesaDoPersonagem.chat:rolarDados(rolagem,\u00a0\"Ataque do personagem\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; <ol> <li>Altere o c\u00f3digo conforme a necessidade</li> </ol>"},{"location":"Fazerumafichaenviarrolagensparaa/#o-que-o-codigo-acima-faz","title":"O que o c\u00f3digo acima faz?","text":"<ol> <li>Utiliza a fun\u00e7\u00e3o interpretarRolagem da biblioteca \"rrpg\" para interpretar o campo \"ataqueDoPersonagem\" como uma rolagem de dados.</li> <li>Verifica se a rolagem utiliza algum dado (d4, d6, d8, etc..)... Se n\u00e3o possuir dado na rolagem (Exemplos: \"+5\", ou \"-2\"), faz:</li> <li>Interpreta uma nova rolagem \"1d20\" e a concatena/junta ao inicio (Para ficar, por exemplo, \"1d20 + 5\" ou \"1d20 - 2\").</li> <li>Usando a ficha atual (sheet), tenta localizar o objeto mesa \u00e0 qual a ficha pertence. \u00c9 usado a fun\u00e7\u00e3o getMesaDe da biblioteca rrpg para isso.</li> <li>Se conseguiu localizar o objeto mesa \u00e0 qual a ficha atual pertence:</li> <li>invoca o m\u00e9todo rolarDados do chat da mesa, passando a rolagem que queremos e um texto adicional \"Ataque do personagem\".</li> </ol>"},{"location":"Fazerumafichaenviarrolagensparaa/#mudancas-que-voce-pode-querer-fazer-no-codigo-acima","title":"Mudan\u00e7as que voc\u00ea pode querer fazer no c\u00f3digo acima","text":"<ul> <li>O c\u00f3digo acima usa o texto da rolagem contido no campo chamado \"ataqueDoPersonagem\". Talvez a rolagem de sua ficha esteja em outro campo.</li> <li>Quando a rolagem n\u00e3o usar nenhum dado (d4, d6, d8, etc..) o c\u00f3digo adiciona \"1d20\" ao inicio dela. Talvez o sistema da sua ficha n\u00e3o utiliza 1d20 nesta rolagem!</li> <li>Que tal alterar o texto \"Ataque do personagem\"?</li> <li>Talvez voc\u00ea queira que somente o mestre e o jogador dono da ficha possam rolar dados desta ficha.<ul> <li>Voc\u00ea pode utilizar a fun\u00e7\u00e3o getPersonagemDe da biblioteca rrpg e verificar se sua propriedade dono \u00e9 igual \u00e0 propriedade meuJogador da vari\u00e1vel mesaDoPersonagem. Se for igual, \u00e9 porque a ficha pertence ao usu\u00e1rio.</li> <li>Voc\u00ea pode utilizar a propriedade isMestre do objeto meuJogador para verificar se o usu\u00e1rio \u00e9 mestre da mesa.</li> <li>O c\u00f3digo que faz esta verifica\u00e7\u00e3o seria parecido com:\u00a0</li> </ul> </li> </ul> local personagem = rrpg.getPersonagemDe(sheet); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (personagem ~= nil) then \u00a0 \u00a0 local mesa = personagem.mesa; \u00a0 \u00a0 if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then\u00a0 \u00a0 \u00a0 \u00a0 -- permitir enviar a rolagem\u00a0 \u00a0 \u00a0 \u00a0 end; end;"},{"location":"Fazerumafichaenviarrolagensparaa/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<ul> <li>Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</li> <li>Lua Form e NodeDatabase</li> <li>Biblioteca rrpg</li> <li>Objeto Mesa</li> <li>Objeto Rolagem</li> <li>Objeto Chat</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc</p>"},{"location":"Ferramentardk/","title":"Ferramenta rdk","text":"<p>\u201crdk\u201d \u00e9 a principal ferramenta do SDK3 e \u00e9 usada como linha de comando no prompt.</p> <p>Created with the Personal Edition of HelpNDoc: Easily create CHM Help documents</p>"},{"location":"FerramentasdoSDK3/","title":"Ferramentas do SDK 3","text":"<p>Created with the Personal Edition of HelpNDoc: Free Web Help generator</p>"},{"location":"Frames/","title":"Frames","text":""},{"location":"Frames/#frames_1","title":"Frames","text":"<p>Algumas tags/controles do Lua Form permitem o programador definir um frame, isto \u00e9, uma moldura para ser exibida na interface visual.</p> <p>Um frame \u00e9 uma apar\u00eancia personalizada que se adapta dinamicamente ao tamanho do controle.</p> <p> </p>"},{"location":"Frames/#ainda-nao-entendi-o-que-e-um-frame","title":"Ainda n\u00e3o entendi o que \u00e9 um frame.","text":"<p>Veja estes exemplos para entender melhor!\\ \u00a0</p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0align=\"client\"\u00a0frameStyle=\"/frames/frame1.xml\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=10, top=10, right=10, bottom=10}\"&gt; \\&lt;label\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0text=\"Conteudo do Layout\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p> </p> <p> </p> <p></p> <p> </p> <p> </p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0align=\"client\"\u00a0frameStyle=\"/frames/meuOutroFrame.xml\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=10, top=10, right=10, bottom=10}\"&gt; \\&lt;label\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0text=\"Conteudo do Layout\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p> </p> <p></p> <p> </p> <p> </p> <p>A tag layout por si s\u00f3 n\u00e3o apresenta nada na interface, mas ao aplica um frame \u00e0 ela, passou a apresentar estas bordas e backgrounds \"legais\".</p> <p> </p>"},{"location":"Frames/#o-que-eu-preencho-na-propriedade-framestyle","title":"O que eu preencho na propriedade \"frameStyle\"?","text":"<p>Voc\u00ea deve preencher com o caminho de um arquivo XML que cont\u00e9m a defini\u00e7\u00e3o de um frame. Saiba mais sobre este arquivo lendo Arquivo de Defini\u00e7\u00e3o de Frame.</p> <p> </p>"},{"location":"Frames/#exemplos","title":"Exemplos","text":"<p>Veja alguns exemplos em Exemplos de frames.</p> <p>Created with the Personal Edition of HelpNDoc: Benefits of a Help Authoring Tool</p>"},{"location":"FrameseRegioes/","title":"Frames e Regi\u00f5es","text":""},{"location":"FrameseRegioes/#frames-e-regioes_1","title":"Frames e Regi\u00f5es","text":"<p>Os frames podem possuir regi\u00f5es em suas defini\u00e7\u00f5es que s\u00e3o acess\u00edveis \u00e0 tags/componentes do LuaForm. Ao associar uma regi\u00e3o de frame \u00e0 algum componente do Lua Form, o controle automaticamente ter\u00e1 sua posi\u00e7\u00e3o e tamanho ajustados para que ocupe a regi\u00e3o escolhida do frame.</p> <p> </p> <p>Veja o exemplo de frame com regi\u00f5es.</p> <p>Created with the Personal Edition of HelpNDoc: Easy EPub and documentation editor</p>"},{"location":"Guias/","title":"Guias","text":"<p>Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc</p>"},{"location":"HDVirtual/","title":"HD Virtual","text":""},{"location":"HDVirtual/#hd-virtual_1","title":"HD Virtual","text":"<p>Cada plug-in possui seu pr\u00f3prio HD Virtual</p>"},{"location":"HDVirtual/#principais-caracteristicas-do-hd-virtual","title":"Principais caracter\u00edsticas do HD Virtual","text":"<ul> <li>Cada plugin possui um HD Virtual. Um plug-in n\u00e3o acessa o conte\u00fado do HD virtual de outro plug-in.</li> <li>Os plug-ins n\u00e3o conseguem acessar arquivos que est\u00e3o fora de seu \u201cHD Virtual\u201d diretamente. Isto significa que o plugin n\u00e3o enxerga o drive de armazenamento real do dispositivo em que est\u00e1 rodando. A \u00fanica forma do plug-in conseguir acessar arquivos no HD do usu\u00e1rio \u00e9 atrav\u00e9s das funl\u00e7\u00f5es dialogs.openFile e dialogs.saveFile</li> <li>Os arquivos do \u201cHD virtual\u201d s\u00e3o persistentes, isto \u00e9, ficam salvos mesmo quando o dispositivo \u00e9 desligado.</li> <li>O conte\u00fado do \u201cHD virtual\u201d \u00e9 perdido quando seu plug-in \u00e9 desinstalado.</li> <li>Ao instalar uma um plug-in o conte\u00fado original do arquivo .rpk n\u00e3o \u00e9 extra\u00eddo no HD f\u00edsico do dispostivio. Arquivos que forem criados durante a execu\u00e7\u00e3o do plugin s\u00e3o salvos no HD f\u00edsico do usu\u00e1rio. O VHD (HD Virtual) do plugin \u00e9 composto pela uni\u00e3o l\u00f3gica do conte\u00fado do arquivo .rpk + arquivos que foram criados durante a execu\u00e7\u00e3o. O Firecast faz essa uni\u00e3o l\u00f3gica automaticamente de forma transparente para que o programador n\u00e3o precise se preocupar.</li> <li>Todos os arquivos originais do plug-in (aqueles que est\u00e3o contidos na pasta projeto do plug-in) ficam no modo somente-leitura. N\u00e3o \u00e9 poss\u00edvel apagar e nem alter\u00e1-los.</li> <li>Ao instalar uma nova vers\u00e3o de plugin, os arquivos que foram criados durante execu\u00e7\u00e3o do m\u00f3dulo s\u00e3o preservados.</li> </ul>"},{"location":"HDVirtual/#sobre-o-sistema-de-arquivos-no-hd-virtual","title":"Sobre o sistema de arquivos no HD Virtual","text":"<ul> <li>O caractere separador de diret\u00f3rios \u00e9 \u201c/\u201d</li> <li>A raiz do HD virtual \u00e9 o diret\u00f3rio \u201c/\u201d</li> <li>Os nomes de arquivos e pastas s\u00e3o case-sensitives, isto \u00e9, letras mai\u00fasculas s\u00e3o diferentes das mesmas letras em sua forma min\u00fascula. (Exemplo: \u201c/arquivo.lua\u201d e \u201c/Arquivo.lua\u201d s\u00e3o dois arquivos distintos)</li> </ul>"},{"location":"HDVirtual/#manipulando-o-hd-virtual","title":"Manipulando o HD Virtual:","text":"<p>Para manipular o HD Virtual, o SDK3 prov\u00ea a biblioteca \"VHD\" .</p> <p>Created with the Personal Edition of HelpNDoc: Bring your WinHelp HLP help files into the present with HelpNDoc's easy CHM conversion</p>"},{"location":"HistoricodeVersoes/","title":"Hist\u00f3rico de Vers\u00f5es","text":""},{"location":"HistoricodeVersoes/#firecast-sdk-3-version-history","title":"Firecast SDK 3 Version History","text":""},{"location":"HistoricodeVersoes/#sdk-36d-04052023","title":"SDK 3.6d (04/05/2023)","text":"<ul> <li>New library: Async.Promise</li> <li>New library: Log</li> <li>New object: Promise</li> <li>New function in the Firecast library: Firecast.asyncOpenUserNDB</li> <li>New function in the Room object: room:asyncOpenUserRoomNDB</li> <li>New function in VHD library: VHD.copyFile</li> <li>New macro functions:<ul> <li>Log functions</li> <li>getUserNDB</li> <li>getUserRoomNDB</li> <li>getRoomNDB</li> </ul> </li> </ul>"},{"location":"HistoricodeVersoes/#sdk-36c-17062022","title":"SDK 3.6c (17/06/2022)","text":"<ul> <li>New functions to System library:<ul> <li>System.readClipboardAsDragNDrop</li> </ul> </li> <li>New functions to the Scene Object:<ul> <li>scene:sendDelayedUpdates</li> </ul> </li> <li>New functions to the GUI library:<ul> <li>GUI.toast</li> </ul> </li> <li>New macro functions:<ul> <li>toast</li> </ul> </li> <li>New Drag-and-Drop DataTypes:<ul> <li>imageFile</li> <li>ImageFiles</li> </ul> </li> </ul>"},{"location":"HistoricodeVersoes/#sdk-36b-25052022","title":"SDK 3.6b (25/05/2022)","text":"<ul> <li>Fix: getChildren function was not working with recordList Tag.</li> <li>New functions to System library:<ul> <li>System.checkAPIVersion</li> <li>System.getAPIVersion</li> <li>System.makeAPIVersionNumber</li> </ul> </li> </ul>"},{"location":"HistoricodeVersoes/#sdk-36-05052022","title":"SDK 3.6 (05/05/2022)","text":"<ul> <li>O arquivo module.xml agora permite o criador de plugin definir as informa\u00e7\u00f5es de seu plugin em v\u00e1rias l\u00ednguas.</li> <li>Novas fun\u00e7\u00f5es na biblioteca Firecast.Messaging:<ul> <li>Firecast.Messaging.newReceiver</li> </ul> </li> <li>Fix Personagem.dataType always returning nil</li> <li>Firecast 8.4 compatibility</li> </ul>"},{"location":"HistoricodeVersoes/#sdk-35-29102018","title":"SDK 3.5 (29/10/2018)","text":"<ul> <li>Novas propriedades para a Tag label:<ul> <li>format e formatFloat</li> </ul> </li> <li>Novas propriedades para a Tag image:<ul> <li>animate</li> <li>naturalAnimated</li> </ul> </li> <li>Novas propriedades para a Tag dataScopeBox:<ul> <li>novos eventos onNodeChanged, onNodeReady e onNodeUnready</li> </ul> </li> <li>Novas propriedades para a Tag popup:<ul> <li>novos eventos onNodeChanged, onNodeReady e onNodeUnready</li> </ul> </li> <li>Novos eventos na tag dataLink:<ul> <li>novos eventos: onUserChange e onPersistedChange</li> </ul> </li> <li>Novos eventos no objeto NodeObserver<ul> <li>onUserChanged, onDeepUserChanged, onPersistedChanged e onDeepPersistedChanged</li> </ul> </li> <li>Novas propriedades para a Tag richEdit:<ul> <li>animateImages</li> </ul> </li> <li>Novas propriedades para a Tag popup<ul> <li>autoScopeNode</li> </ul> </li> <li>String de cores agoram aceitam o formato short-hand hex colors (Exemplo: #F0C \u00e9 um short-hand que equivale a cor #FF00CC)</li> <li>Novidades em macros:<ul> <li>inRoom</li> </ul> </li> <li>Novidades na biblioteca fireDrive<ul> <li>fireDrive.quickUpload</li> </ul> </li> <li>A biblioteca RRPG foi renomeada para Firecast (mas ser\u00e1 mantida compatibilidade com c\u00f3digos antigos)</li> <li>Novas fun\u00e7\u00f5es na biblioteca NDB<ul> <li>NDB.getPersistedAttributeValue</li> <li>NDB.copy</li> <li>NDB.exportXML</li> <li>NDB.importXML</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca Firecast<ul> <li>Firecast.registerChatToolButton</li> <li>Firecast.unregisterChatToolButton</li> </ul> </li> <li>Novas informa\u00e7\u00f5es na biblioteca Firecast.Plugins a respeito dos plugins instalados:<ul> <li>compilationTimestamp, compilationTimestampStr e compilationDigest.</li> </ul> </li> <li>Modifica\u00e7\u00f5es na biblioteca Internet<ul> <li>Novo par\u00e2metro \"cacheMode\" na fun\u00e7\u00e3o Internet.download</li> </ul> </li> <li>Mudan\u00e7as na forma de instala\u00e7\u00e3o e carregamento dos plugins:<ul> <li>Agora o conte\u00fado original do arquivo .rpk n\u00e3o \u00e9 mais extra\u00eddo no HD f\u00edsico do dispostivio. Arquivos que forem criados durante a execu\u00e7\u00e3o do plugin s\u00e3o salvos no HD f\u00edsico do usu\u00e1rio. O VHD (HD Virtual) do plugin agora \u00e9 composto pela uni\u00e3o l\u00f3gica do conte\u00fado do arquivo .rpk + arquivos que foram criados durante a execu\u00e7\u00e3o. O Firecast faz essa uni\u00e3o l\u00f3gica automaticamente de forma transparente para que o programador n\u00e3o precise se preocupar.</li> <li>Agora, durante o carregamento de um plugin instalado, se houver um arquivo \"/init.lua\" na raiz do plugin, ele \u00e9 carregado antes dos outros arquivos *.lua</li> </ul> </li> <li>Mudan\u00e7as na biblioteca VHD<ul> <li>Nova fun\u00e7\u00e3o: VHD.registerAlias</li> </ul> </li> <li>Mudan\u00e7as na biblioteca Locale<ul> <li>Nova fun\u00e7\u00e3o: Locale.loadLangTexts .</li> </ul> </li> <li>Mudan\u00e7as na biblioteca Utils<ul> <li>Nova fun\u00e7\u00e3o Utils.generateUniqueString</li> </ul> </li> <li>Mudan\u00e7as no comando rdk<ul> <li>Nova op\u00e7\u00e3o: lint - Faz uma verifica\u00e7\u00e3o completa no c\u00f3digo fonte do plugin</li> <li>Nova op\u00e7\u00e3o: buildrep - Usado para compilar v\u00e1rios projetos SDK3 em um reposit\u00f3rio, ideal para usar no github do firecast.</li> <li>LuaCheck - Agora o rdk est\u00e1 integrado com o LuaCheck, uma biblioteca open-source que verifica e aponta coisas suspeitas no c\u00f3digo lua.</li> </ul> </li> </ul>"},{"location":"HistoricodeVersoes/#sdk-34b-13112017","title":"SDK 3.4b (13/11/2017)","text":"<ul> <li>Novo par\u00e2metro para a fun\u00e7\u00e3o Dialogs.choose: shortCircuit</li> <li>Novo par\u00e2metro para as macros: choose, chooseCharacterOfPlayer, chooseCharacter, choosePlayer: shortCircuit</li> </ul>"},{"location":"HistoricodeVersoes/#sdk-34-04092017","title":"SDK 3.4 (04/09/2017)","text":"<ul> <li>Novas fun\u00e7\u00f5es na biblioteca ndb:<ul> <li>ndb.editPermissions</li> <li>ndb.broadcastMessage</li> <li>ndb.newBroadcastListener</li> <li>ndb.onReady</li> </ul> </li> <li>Novo evento no objeto NodeObserver:<ul> <li>onStateChanged</li> </ul> </li> <li>Novos eventos na tag Form<ul> <li>onNodeReady</li> <li>onNodeUnready</li> </ul> </li> <li>Novas fun\u00e7\u00f5es no objeto Scene<ul> <li>scene:broadcastMessage</li> <li>scene:newBroadcastListener</li> </ul> </li> <li>Nova tag/componente visual:<ul> <li>Tag richEdit</li> </ul> </li> <li>Nova mensagem-evento:<ul> <li>\"HandleChatTextInput\" que permite o programador alterar o texto digitado por um usu\u00e1rio antes dele ser processado pelo RRPG.</li> <li>\"SessionLogin\" que notifica o programador quando o usu\u00e1rio tiver feito Login com sucesso no servidor RRPG.</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca VHD<ul> <li>VHD.forceDirectory</li> <li>VHD.deleteFile</li> <li>VHD.deleteDirectory</li> <li>VHD.directoryExists</li> <li>VHD.enumerateContent</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca Dialogs<ul> <li>Dialogs.saveFile</li> <li>Dialogs.selectImageURL</li> <li>Dialogs.choose</li> <li>Dialogs.chooseMultiple</li> </ul> </li> <li>Novas fun\u00e7\u00f5es no objeto Personagem:<ul> <li>personagem:loadSheetNDB</li> </ul> </li> <li>Novas fun\u00e7\u00f5es no objeto Jogador:<ul> <li>jogador:getBarValue</li> <li>jogador:requestSetBarValue</li> <li>jogador:getEditableLine</li> <li>jogador:requestSetEditableLine</li> </ul> </li> <li>Novas fun\u00e7\u00f5es para serem usados em Macros Lua<ul> <li>load</li> <li>showMessage</li> <li>alert</li> <li>confirmOkCancel</li> <li>confirmYesNo</li> <li>inputQuery</li> <li>selectImageURL</li> <li>choose</li> <li>chooseMultiple</li> <li>invoke</li> <li>myCharacter</li> <li>sheet</li> <li>chooseCharacter</li> <li>chooseCharacters</li> <li>chooseCharacterOfPlayer</li> <li>choosePlayer</li> <li>choosePlayers</li> <li>getCharacterOfPlayer</li> <li>getCharacterSheet</li> </ul> </li> <li>Instala\u00e7\u00e3o de plug-ins no Android ficou mais f\u00e1cil. Basta baixar o .rpk no celular e mandar abr\u00ed-lo (O app interceptar\u00e1 para instalar o plugin).</li> <li>Agora o comando \"rdk c\" verifica se existem lua forms com nomes duplicados.</li> <li>Para manter compatibilidade entre sistemas operacionais, O SDK3 ao verificar se um arquivo existe no HD Virtual, ele compara o nome do arquivo de forma case-sensitive mesmo no Windows.</li> </ul>"},{"location":"HistoricodeVersoes/#sdk-33-06122016","title":"SDK 3.3 (06/12/2016)","text":"<p>Grandes mudan\u00e7as:</p> <ul> <li>API para Scene 3</li> <li>Possibilidade de realizar drag and drop / arrastar e soltar no SDK 3.</li> </ul> <p> </p> <p>Outras mudan\u00e7as detalhadas:</p> <ul> <li> </li> <li>Nova biblioteca: Biblioteca SceneLib</li> <li>Nova biblioteca para lidar com idiomas e regi\u00f5es: Biblioteca Locale</li> <li>Altera\u00e7\u00f5es na biblioteca GUI:\u00a0<ul> <li>Nova Classe InertialMovement</li> <li>Nova fun\u00e7\u00e3o: gui.newInertialMovement();</li> <li>Nova fun\u00e7\u00e3o: gui.newColorComboBox()</li> <li>Novos objetos: Drag, Drop.</li> <li>Novos eventos: onStartDrag e onStartDrop</li> </ul> </li> <li>Altera\u00e7\u00f5es na biblioteca NDB:<ul> <li>Novos m\u00e9todos: ndb.newTransaction, ndb.pushTransaction, ndb.popTransaction, ndb.getServerUTCTime</li> <li>Novo objeto: NodeTransaction</li> </ul> </li> <li>Agora os comandos \"rdk c\" e \"rdk i\" interpretam os arquivos \".lfm\" e geram seus respectivos \".lfm.lua\" em outro diret\u00f3rio dentro da pasta \"output\" do projeto.</li> <li>Agora o SDK3 utiliza a vers\u00e3o Lua 5.3</li> <li>Novas tags do Lua Form:<ul> <li>Tag colorComboBox</li> </ul> </li> <li>Altera\u00e7\u00f5es na Tag edit:<ul> <li>Novas propriedades: decimalPlaces, asNumber</li> <li>Novo type \"float\" para n\u00fameros reais.</li> </ul> </li> <li>Altera\u00e7\u00f5es na Tag flowLayout:<ul> <li>Novas propriedades: contentWidth e contentHeight</li> </ul> </li> <li>Altera\u00e7\u00f5es na Tag path:<ul> <li>Novas propriedades: roundToPixel</li> </ul> </li> <li>Altera\u00e7\u00f5es na Tag form:<ul> <li>Novas propriedades: isShowing</li> </ul> </li> <li>Altera\u00e7\u00f5es na biblioteca rrpg<ul> <li>Novos objetos: SceneUnitClass</li> </ul> </li> </ul> <p> </p>"},{"location":"HistoricodeVersoes/#sdk-32-29022016","title":"SDK 3.2 (29/02/2016)","text":"<ul> <li>Altera\u00e7\u00f5es em todas as tags visuais:<ul> <li>Novas propriedades:\u00a0</li> <li>cursor</li> <li>hint</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag progressBar:<ul> <li>Nova propriedade: colorMode</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag form:<ul> <li>Novo formType: tablesDock</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag imageCheckBox<ul> <li>Nova propriedade: autoChange</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag edit:<ul> <li>Novo evento: onUserChange</li> </ul> </li> <li>Altera\u00e7\u00f5es no objeto Chat:<ul> <li>Novas fun\u00e7\u00f5es que permitem o envio de mais tipos de mensagem para chats: enviarAcao, enviarRisada, enviarNarracao, enviarMensagemNPC</li> </ul> </li> <li>Altera\u00e7\u00f5es na biblioteca rrpg.plugins:<ul> <li>Novas fun\u00e7\u00f5es:</li> <li>rrpg.plugins.getInstalledTablesDock</li> </ul> </li> <li>Novas mensagens-eventos do RRPG:<ul> <li>Mensagens de estado das mesas</li> </ul> </li> <li>Altera\u00e7\u00f5es no objeto Mesa:<ul> <li>Novas propriedades:\u00a0</li> <li>podeTablesDock</li> <li>activeChat</li> <li>Novos m\u00e9todos: abrirNDBDeMesa</li> </ul> </li> <li>Altera\u00e7\u00f5es na biblioteca ndb:<ul> <li>Novas fun\u00e7\u00f5es:</li> <li>ndb.getState</li> <li>ndb.newObserver</li> <li>Fun\u00e7\u00f5es de gerenciamento de permiss\u00f5es</li> <li>Novos objetos:</li> <li>NodeObserver\\ \u00a0</li> </ul> </li> <li>Altera\u00e7\u00f5es na biblioteca system:<ul> <li>Novas fun\u00e7\u00f5es:</li> <li>system.isMobile()</li> </ul> </li> </ul> <ul> <li> </li> <li>Novos tutoriais:<ul> <li>Como criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios</li> <li>Como criar uma janela acopl\u00e1vel de mesa</li> </ul> </li> </ul> <ul> <li> </li> <li>Altera\u00e7\u00f5es nas Macros:<ul> <li>Novas fun\u00e7\u00f5es para serem utilizadas em Macros em Lua: agir, narrar, enviarNPC</li> </ul> </li> </ul>"},{"location":"HistoricodeVersoes/#sdk-31-31102015","title":"SDK 3.1 (31/10/2015)","text":"<ul> <li>Novas fun\u00e7\u00f5es na blblioteca utils:<ul> <li>utils.zlibCompress</li> <li>utils.zlibDecompress</li> <li>utils.zlibCompressAsync</li> <li>utils.zlibDecompressAsync</li> <li>utils.newMemoryStream</li> <li>utils.newTempFileStream</li> <li>tryFinally</li> </ul> </li> <li>Altera\u00e7\u00f5es no objeto Stream<ul> <li>Novas fun\u00e7\u00f5es:</li> <li>stream:readAsBase64</li> <li>stream:writeBase64</li> <li>stream:copyFrom</li> <li>Novas propriedades</li> <li>stream.md5</li> <li>stream.sha1</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag Image:<ul> <li>Novas propriedades: naturalWidth e naturalHeight</li> <li>Novo evento: onLoad</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag recordList:<ul> <li>Novo evento: onCompare</li> <li>Novo m\u00e9todo: recordList:sort</li> <li>Novo m\u00e9todo: recordList:scrollToNode</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag flowLayout:<ul> <li>Novo evento: onAfterLayoutCalc</li> </ul> </li> <li>Altera\u00e7\u00f5es em todas as tags visuais:<ul> <li>Novo evento: onMenu</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca internet:<ul> <li>internet.newHTTPRequest</li> <li>internet.httpEncode</li> <li>internet.httpDecode</li> </ul> </li> <li>Novos objetos<ul> <li>Objeto HTTPRequest (instanciado pela fun\u00e7\u00e3o internet.newHTTPRequest)</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca rrpg.plugins:<ul> <li>Fun\u00e7\u00f5es para intercomunica\u00e7\u00e3o de plug-ins</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca dialogs:<ul> <li>dialogs.openFile</li> <li>dialogs.saveFile</li> </ul> </li> <li>Novas bibliotecas:<ul> <li>Biblioteca fireDrive</li> <li>Biblioteca system</li> </ul> </li> <li>Novas Tags do Lua Form:<ul> <li>Tag progressBar</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca gui:<ul> <li>gui.newProgressBar</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca ndb:<ul> <li>ndb.beginUpdate</li> <li>ndb.endUpdate</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca rrpg:<ul> <li>rrpg.getCurrentUser</li> </ul> </li> <li>Corre\u00e7\u00e3o de Bugs:<ul> <li>Corrigido o bug que impedia de manipular os eventos onMouseDown e onMouseUp dos controles</li> <li>Corrigido o bug que impedia de alterar a cor do texto da tag textEditor</li> </ul> </li> </ul>"},{"location":"HistoricodeVersoes/#sdk-30d-22082015","title":"SDK 3.0d (22/08/2015)","text":"<ul> <li>Altera\u00e7\u00f5es na tag recordList<ul> <li>Adicionado as propriedades selectable, selectedNode e selectedForm</li> <li>Adicionado os eventos: onSelect, onBeginEnumeration, onItemAdded, onItemRemoved e onEndEnumeration</li> <li>O m\u00e9todo append agora retorna um objeto nodo</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag form:<ul> <li>Novas propriedades: minWidth e maxWidth.</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag popup:<ul> <li>Nova propriedade: scopeNode</li> </ul> </li> <li>Altera\u00e7\u00f5es na tag popupForm:<ul> <li>Nova propriedade: resizable</li> </ul> </li> <li>Nova tag do lua form: dataScopeBox<ul> <li>Novo m\u00e9todo gui.newDataScopeBox</li> </ul> </li> <li>Novas mensagem-eventos do RRPG:\u00a0<ul> <li>HandleChatCommand</li> <li>ChatMessage</li> <li>ListChatCommands</li> </ul> </li> <li>Altera\u00e7\u00f5es no Objeto Chat:<ul> <li>Novo m\u00e9todo: chat:escrever</li> </ul> </li> <li>Altera\u00e7\u00f5es no Objeto mesa:<ul> <li>Novos m\u00e9todos: mesa:requestSetModerada</li> </ul> </li> <li>Altera\u00e7\u00f5es no Objeto Jogador:<ul> <li>Novos m\u00e9todos: jogador:requestSetCego, jogador:requestSetMudo, jogador:requestSetVoz, jogador:requestSetJogador, jogador:requestKick</li> </ul> </li> <li>Novas fun\u00e7\u00f5es utilit\u00e1rias:<ul> <li>utils.removerFmtChat()</li> </ul> </li> <li>Novas fun\u00e7\u00f5es na biblioteca gui:<ul> <li>gui.openInBrowser</li> </ul> </li> </ul> <ul> <li> </li> <li>Novos tutoriais:<ul> <li>Criar uma lista din\u00e2mica + painel de detalhes</li> </ul> </li> </ul>"},{"location":"HistoricodeVersoes/#sdk-30-07082015","title":"SDK 3.0 (07/08/2015)","text":"<ul> <li>Altera\u00e7\u00f5es no objeto Rolagem:<ul> <li>Nova fun\u00e7\u00e3o: rolarLocalmente</li> </ul> </li> <li>Altera\u00e7\u00f5es no objeto Chat<ul> <li>Novo par\u00e2metro \"callback\" na fun\u00e7\u00e3o rolarDados</li> </ul> </li> </ul>"},{"location":"HistoricodeVersoes/#sdk-30-beta-2-31072015","title":"SDK 3.0 beta 2 (31/07/2015)","text":"<ul> <li>Fun\u00e7\u00f5es para exibir Lua Forms como popup na interface: gui.showPopup e gui.closePopup</li> <li>Novas tags do lua form:<ul> <li>radioButton e fun\u00e7\u00e3o gui.newRadioButton</li> <li>popupForm e fun\u00e7\u00e3o gui.newPopupForm</li> <li>activityIndicator e fun\u00e7\u00e3o gui.newActivityIndicator</li> </ul> </li> <li>Mudan\u00e7as na tag form:<ul> <li>Novos eventos: OnShow e OnHide</li> <li>Novos m\u00e9todos: lockWithActivity e unlockWithActivity</li> </ul> </li> <li>Mudan\u00e7as na tag edit:<ul> <li>Novos atributos: enterKeyType, type, min e max</li> </ul> </li> <li>Mudan\u00e7as na tag recordList:<ul> <li>Novo atributo: layout</li> </ul> </li> <li>Novas fun\u00e7\u00f5es utilit\u00e1rias:<ul> <li>utils.compareStringPtBr</li> <li>setInterval e clearInterval</li> <li>setTimeout e clearTimeout</li> <li>utils.binaryEncode , utils.binaryDecode e utils.getBinarySize</li> </ul> </li> <li>Mudan\u00e7as no objeto Mesa:<ul> <li>Novas fun\u00e7\u00f5es: findJogador e findBibliotecaItem.</li> </ul> </li> <li>Novas bibliotecas para usar no c\u00f3digo Lua:<ul> <li>Biblioteca rrpg.messaging</li> <li>Biblioteca rrpg.plugins</li> <li>Biblioteca rrpg.requests</li> <li>Biblioteca internet</li> </ul> </li> <li>Mudan\u00e7as na biblioteca ndb:<ul> <li>Novas fun\u00e7\u00f5es: ndb.newMemNodeDatabase</li> </ul> </li> <li>Mudan\u00e7as na biblioteca dialogs:<ul> <li>Novas fun\u00e7\u00f5es: dialogs.inputQuery</li> </ul> </li> <li>Corre\u00e7\u00e3o de bug na propriedade fontColor da tag comboBox.</li> </ul>"},{"location":"HistoricodeVersoes/#sdk-30-beta-1-01062015","title":"SDK 3.0 beta 1 (01/06/2015)","text":"<p>Primeira vers\u00e3o do SDK 3</p> <p>Created with the Personal Edition of HelpNDoc: Transform Your Word Document into a Professional eBook with HelpNDoc</p>"},{"location":"InterfacesVisuaisLuaForms/","title":"Interfaces Visuais (Lua Forms)","text":""},{"location":"InterfacesVisuaisLuaForms/#interfaces-visuais-lua-forms_1","title":"Interfaces Visuais (Lua Forms)","text":"<p>\u00a0 \u00a0 As interfaces visuais do SDK3, incluindo os modelos de fichas, s\u00e3o feitas usando Lua Forms (arquivos de extens\u00f5es \u2018.lfm\u2019).</p>"},{"location":"InterfacesVisuaisLuaForms/#principais-caracteristicas-do-lua-form","title":"Principais caracter\u00edsticas do Lua Form","text":"<ul> <li>Sua linguagem segue o padr\u00e3o XML. Saiba mais sobre em Documentos XML.</li> <li>Ao compilar um projeto de plugin (Comando \u201crdk c\u201d) todos os documentos \u2018.lfm\u2019 s\u00e3o validados e compilados em arquivos \u201c.lua\u201d.</li> <li>Possui um conjunto pr\u00f3prio de tags e atributos. O plug-in n\u00e3o compila se alguma tag for utilizada incorretamente no arquivo \u2018.lfm\u2019. Ver Tags suportadas pelo Lua Form.</li> <li>A tag raiz (a mais externa) deve ser \u201cform\u201d ou \"popupForm\". Ver Tag FORM e Tag popupForm .</li> <li>A posi\u00e7\u00e3o de cada controle \u00e9 relativa \u00e0 posi\u00e7\u00e3o de sua tag pai/seu controle pai. Saiba mais em Posi\u00e7\u00e3o e Tamanho dos Controles.</li> </ul>"},{"location":"InterfacesVisuaisLuaForms/#exemplo-1-ola-mundo","title":"Exemplo 1 \u2013 Ol\u00e1 mundo","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0formType=\"sheetTemplate\"\u00a0dataType=\"br.com.meusite.MeuDataType\" \u00a0 \u00a0 \u00a0 title=\"Ficha de Teste\"\u00a0name=\"frmFichaTeste\"&gt; \\&lt;label\u00a0text=\"Ol\u00e1 mundo\"/&gt; \\&lt;/form&gt;"},{"location":"InterfacesVisuaisLuaForms/#exemplo-2-um-layout-um-label-um-edit-e-um-botao","title":"Exemplo 2 \u2013 Um layout, um label, um edit e um bot\u00e3o","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0formType=\"sheetTemplate\"\u00a0dataType=\"br.com.meusite.MeuDataType\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0title=\"Ficha de Teste\"\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0height=\"30\"\u00a0width=\"200\"&gt; \\&lt;label\u00a0text=\"For\u00e7a:\"\u00a0align=\"client\"\u00a0horzTextAlign=\"trailing\"/&gt; \\&lt;edit\u00a0align=\"right\"\u00a0margins=\"{left=10}\"\u00a0width=\"100\"/&gt; \\&lt;/layout&gt; \\&lt;button\u00a0text=\"Eu sou um bot\u00e3o\"\u00a0top=\"40\"\u00a0left=\"50\"\u00a0width=\"150\"/&gt; \\&lt;/form&gt; <p>\\ </p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs</p>"},{"location":"Introducao/","title":"Introdu\u00e7\u00e3o","text":"<p>Firecast SDK 3</p> <p> </p> <p>O Firecast SDK 3 \u00e9 um kit de desenvolvimento que permite a cria\u00e7\u00e3o de plug-ins baseados na linguagem de programa\u00e7\u00e3o LUA 5.3 para o Firecast.</p> <p> </p>"},{"location":"Introducao/#sobre-plug-ins","title":"Sobre plug-ins","text":"<p>Um plug-in \u00e9 um pacote que cont\u00e9m scripts LUA e outros arquivos auxiliares (como imagens, informa\u00e7\u00f5es, interfaces, etc..) que definem sua l\u00f3gica e comportamento, possuem extens\u00e3o de arquivo \u2018.rpk\u2019 e devem ser instalados no Firecast antes de serem executados.</p> <p> </p>"},{"location":"Introducao/#o-que-eu-preciso-ter-e-o-que-eu-preciso-saber-para-fazer-um-plug-in","title":"O que eu preciso ter e o que eu preciso saber para fazer um plug-in?","text":"<p>Antes de tudo, entusiasmo! Se voc\u00ea est\u00e1 entusiasmado, parab\u00e9ns, voc\u00ea j\u00e1 tem pelo menos 50% do que \u00e9 preciso para fazer um plug-in =).</p> <p> </p> <p>Ferramentas que voc\u00ea precisa ter:</p> <ul> <li>Firecast SDK 3 instalado em seu computador (https://firecast.app/para-programadores/).\u00a0</li> <li>Um editor de texto bacana. Recomendamos o Notepad++ (http://notepad-plus-plus.org/).</li> </ul> <p> </p> <p>Conhecimentos que voc\u00ea precisa ter:</p> <ul> <li>Um pouco sobre documentos XML.</li> <li>Um pouco sobre a linguagem de programa\u00e7\u00e3o LUA.</li> <li>Um pouco sobre o prompt de comando do sistema operacional.</li> </ul> <p> </p> <p>Observa\u00e7\u00f5es Importantes: </p> <ul> <li>N\u00e3o se assuste! Voc\u00ea n\u00e3o precisa saber tudo sobre XML e nem tudo sobre LUA para come\u00e7ar. Voc\u00ea pode ir aprendendo aos poucos, enquanto cria seu plug-in =).</li> <li>Voc\u00ea n\u00e3o precisa ler este documento todo antes de \u201cbotar a m\u00e3o na massa\u201d. Leia Primeiros passos e utilize o restante como um local de refer\u00eancia, orienta\u00e7\u00f5es e tira d\u00favidas quando preciso!</li> </ul> <p> </p>"},{"location":"Introducao/#por-onde-comeco","title":"Por onde come\u00e7o?","text":"<p>Leia os Primeiros passos</p> <p> </p>"},{"location":"Introducao/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<ul> <li>A linguagem de programa\u00e7\u00e3o LUA</li> <li>Documentos XML</li> <li> </li> <li>FAQ -\u00a0 Perguntas Frequentes</li> <li>Hist\u00f3rico de Vers\u00f5es</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Transform Your Help Documentation Process with a Help Authoring Tool</p>"},{"location":"ListadeMensagensEventosdoRRPG/","title":"Lista de Mensagens-Eventos do RRPG","text":""},{"location":"ListadeMensagensEventosdoRRPG/#lista-de-mensagens-eventos-do-firecast","title":"Lista de Mensagens-Eventos do Firecast","text":"<ul> <li>Mensagens de Conex\u00e3o - Mensagens eventos que s\u00e3o disparadas quando o estado da conex\u00e3o com o RRPG server \u00e9 alterado (Ex: uma perda de conex\u00e3o)</li> <li>Mensagens do Gerenciador de Plugins - Mensagens eventos que s\u00e3o disparadas pelo gerenciador de plug-ins do RRPG (Exemplo: Um plug-in foi instalado, um plug-in foi desinstalado, etc..).</li> <li>Mensagens de Chat - Mensagens eventos que s\u00e3o disparadas pelas interfaces de Chat do RRPG.</li> <li>Mensagens de Estado das Mesas - Mensagens eventos que s\u00e3o disparados quando ocorre a altera\u00e7\u00e3o de algum estado das Mesas dos usu\u00e1rios</li> </ul>"},{"location":"ListadeMensagensEventosdoRRPG/#_1","title":"Lista de Mensagens-Eventos do RRPG","text":"<p>Created with the Personal Edition of HelpNDoc: Transform Your Word Doc into a Professional-Quality eBook with HelpNDoc</p>"},{"location":"Loglibrary/","title":"Log library","text":""},{"location":"Loglibrary/#log-library_1","title":"Log library","text":"<p>The Log library provides functions for emmiting log messages, which can be helpful to developers. All of these functions are contained in the \u201cLog\u201d Lua table found in the \u201clog.lua\u201d unit.</p> <p> </p> <p>Usage example:</p> -- First, you need to use the \u201clog.lua\u201d unit require(\"log.lua\");\u00a0\u00a0\u00a0 -- Now you can access the functions of the library. Log.LIBRARY_FUNCTION(Argument1,\u00a0Argument2,\u00a0...); <p> </p>"},{"location":"Loglibrary/#where-the-log-messages-goes-to","title":"Where the log messages goes to?","text":"<p>The log messages emmited by this library are sent to:</p> <p> </p> <ul> <li>The Firecast's console. Use the /console command to reveal the console.</li> <li>The Firecast's debug log files (also known as \"LogErrors\")</li> </ul> <p> </p>"},{"location":"Loglibrary/#log-library-functions","title":"Log library functions","text":"function\u00a0Log.e(tag, msg) function\u00a0Log.w(tag, msg) function\u00a0Log.i(tag, msg) function\u00a0Log.d(tag, msg) function\u00a0Log.v(tag, msg) <p>Emmit log message</p> <p> </p> <p>Arguments:</p> <ul> <li>tag - Used to identify the source of a log message. It usually identifies the location or activity where the log call occurs.</li> <li>msg - The message you would like to be logged</li> </ul> <p> </p> <p>Log severity:</p> Log.e Error message A situation that represents an unhandled error that may interrupt some operation\u00a0 Log.w Warning message A situation that can be handled but may cause some unintended behavio\u00a0 Log.i Informational/Notice message A normal but significant condition that may require special handling.\u00a0 Log.d Debug message A developer debug message\u00a0 Log.v Verbose message Algorithm steps message, very low priority messages.\u00a0 Remarks: Messages of this severity are not emitted in the Firecast\u2019s log files In the Firecast\u2019s console, you need to execute the command \u201cfilter add *\u201d to be able to see these messages.\u00a0 <p>Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc</p>"},{"location":"LuaFormeInstancias/","title":"Lua Form e Inst\u00e2ncias","text":""},{"location":"LuaFormeInstancias/#lua-form-e-instancias_1","title":"Lua Form e Inst\u00e2ncias","text":"<p>O documento Lua Form (arquivo '.lfm') cont\u00e9m apenas o molde/a receita de como a interface deve ser e se comportar.\u00a0</p> <p> </p> <p>Uma inst\u00e2ncia \u00e9 uma interface concreta que foi criada a partir do molde, sendo assim, podem existir uma ou mais inst\u00e2ncias do mesmo LFM ao mesmo tempo. A inst\u00e2ncia \u00e9 destru\u00edda quando o usu\u00e1rio n\u00e3o precisar mais da interface (por exemplo, ao fechar a janela do personagem), mas o molde nunca \u00e9 destru\u00eddo.</p> <p>Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool</p>"},{"location":"LuaFormeNodeDatabase/","title":"Lua Form e NodeDatabase","text":""},{"location":"LuaFormeNodeDatabase/#lua-form-e-nodedatabase_1","title":"Lua Form e NodeDatabase","text":"<p>O Lua Form foi desenvolvido de forma a se conectar facilmente ao NodeDatabase para criar interfaces que salvam dados.</p> <p> </p> <p>Para integrar um lua form ao Node Database \u00e9 preciso duas coisas:</p> <ul> <li>Preencher o atributo \"field\" das tags que suportam NodeDatabase</li> <li>Definir um escopo de dados do Lua Form, isto \u00e9, informar em qual nodo de qual NodeDatabase o LuaForm salvar\u00e1 os dados.<ul> <li>Observa\u00e7\u00e3o importante: O SDK3 faz isto automaticamente para voc\u00ea se for um modelo de ficha, se estiver usando a tag recordList ou se for uma janela acopl\u00e1vel.</li> </ul> </li> </ul> <p> </p> <p> </p>"},{"location":"LuaFormeNodeDatabase/#tags-que-suportam-nodedatabase","title":"Tags que suportam NodeDatabase","text":"<p>As tags/controles que se conectam ao NodeDatabase s\u00e3o:</p> <ul> <li>label</li> <li>edit</li> <li>checkBox</li> <li>comboBox</li> <li>colorComboBox</li> <li>image</li> <li>imageCheckBox</li> <li>textEditor</li> <li>recordList</li> <li>dataLink</li> <li>dataScopeBox</li> <li>progressBar</li> </ul> <p> </p>"},{"location":"LuaFormeNodeDatabase/#escopo-de-dados","title":"Escopo de dados","text":"<p>Toda tag/controle que suporta NodeDatabase precisa de um escopo de dados, isto \u00e9, um objeto nodo de um nodedatabase onde os dados ser\u00e3o salvos.</p> <p>As tags form, popup e dataScopeBox possuem o m\u00e9todo \"controle:setNodeObject\" que permitem definir o escopo de dados e, ap\u00f3s definido um objeto nodo como escopo, todas as tags que est\u00e3o dentro passar\u00e3o a salvar/carregar dados neste obeto nodo.</p> <p> </p> <p> </p> <p>Exemplo:</p> <p>Suponha a seguinte interface:</p> \\&lt;form name=\"minhaTagForm\"&gt; \\&lt;edit\u00a0field=\"campoNome\"/&gt; \\&lt;/form&gt; <p> </p> <p>Se o seguinte trecho de c\u00f3digo Lua executar:</p> minhaTagForm:setNodeObject(NODO_A) <p>o edit passar\u00e1 a ler e salvar dados em NODO_A.campoNome...\\ \u00a0</p> <p>\\ Agora, se o seguinte trecho de c\u00f3digo Lua executar:</p> minhaTagForm:setNodeObject(OUTRO_NODO) <p>o edit agora passar\u00e1 a ler e salvar dados em OUTRO_NODO.campoNome...\\ \\ \\ E, por fim, se o seguinte trecho de c\u00f3digo Lua executar:</p> minhaTagForm:setNodeObject(nil) <p>o edit agora ficar\u00e1 desabilitado, pois utilizamos o atributo \"field\" mas n\u00e3o h\u00e1 nodo escopo de dados associado.</p> <p> </p> <p> </p> <p>Importante: O SDK3 define o escopo de dados automaticamente para os modelos de fichas, ao usar a tag recordList e para as janelas acopl\u00e1veis:</p> <ul> <li>Quando o usu\u00e1rio abre uma ficha no RRPG, o SDK3 carrega o NodeDatabase do personagem e define seu objeto nodo raiz como escopo de dados do form.</li> <li>No caso da tag recordList, o SDK3 automaticamente define o escopo de dados de cada painel de item.\u00a0</li> <li>Quando o usu\u00e1rio ativa um janela acopl\u00e1vel, o SDK 3 carrega o NodeDatabase do form (se ele tiver a propriedade dataType preenchida) e define o objeto nodo raiz como escopo de dados do form.</li> </ul> <p> </p>"},{"location":"LuaFormeNodeDatabase/#preenchendo-o-atributo-field","title":"Preenchendo o atributo \"field\"","text":"<p>Nas tags que suportam NodeDatabase, o atributo \"field\" cont\u00e9m o nome do campo de um objeto nodo a qual o controle deve se conectar.</p> <p> </p> <p>Exemplo:</p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;edit\u00a0field=\"nomeESobrenome\"/&gt; \\&lt;edit\u00a0field=\"caracteristicas\"/&gt; \\&lt;label\u00a0field=\"forca\"/&gt; \\&lt;label\u00a0field=\"destreza\"/&gt; \\&lt;/form&gt; <p> </p> <p>No exemplo acima, quando a interface estiver rodando, o primeiro edit ir\u00e1 se ligar\u00e1 ao campo \"nomeESobrenome\" do objeto nodo, isto \u00e9:</p> <ul> <li>Exibir\u00e1 na interface o conte\u00fado do campo \"nomeESobrenome\" do objeto nodo escopo.</li> <li>Quando algu\u00e9m alterar o valor do campo \"nomeESobrenome\" do objeto nodo escopo, o edit captar\u00e1 a mudan\u00e7a e automaticamente mostrar\u00e1 o novo valor na interface.<ul> <li>Desde que estejam acessando o mesmo nodedatabase, este comportamento acontece mesmo se a pessoa que alterar o valor estiver em outro computador.</li> </ul> </li> <li>Se o usu\u00e1rio alterar o texto do edit, o novo valor ser\u00e1 salvo no campo \"nomeESobrenome\" do objeto nodo escopo.</li> </ul> <p> </p> <p>Idem para as demais tags que tem o atributo \"field\" definido.</p> <p> </p> <p>Acessando/salvando dados que est\u00e3o em um nodo filho.</p> <p>\u00c9 poss\u00edvel utilizar o caractere \".\" para informar que o campo na verdade est\u00e1 em um nodo filho do nodo escopo.</p> <p> </p> <p>Exemplo:</p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;edit\u00a0field=\"atributos.modificadores.forca\"/&gt; \\&lt;edit\u00a0field=\"nodoFilho.nodoNeto.campo1\"/&gt; \\&lt;edit\u00a0field=\"nodoFilho.campo2\"/&gt; \\&lt;/form&gt; <p> </p> <p>No exemplo acima, o primeiro edit se ligar\u00e1 ao campo \"forca\" do nodo de nome \"modificadores\" que est\u00e1 dentro do nodo de nome \"atributos\" que, por sua vez, est\u00e1 dentro do nodo escopo.</p> <p>Se o usu\u00e1rio alterar o conte\u00fado do edit e o n\u00e3o existir um nodo de nome \"atributos\" no nodo escopo, o SDK3 automaticamente criar\u00e1 este nodo antes de salvar os dados. Idem para o nodo \"modificadores\" dentro do nodo \"atributos\".</p> <p> </p>"},{"location":"LuaFormeNodeDatabase/#variavel-sheet","title":"Vari\u00e1vel sheet","text":"<p>Os c\u00f3digos que est\u00e3o dentro de um Lua Form tem acesso \u00e0 uma vari\u00e1vel chamada \"sheet\" que representa o objeto nodo escopo do form.\u00a0</p> <p> </p> <p>Exemplo:</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;edit\u00a0field=\"campoDeForca\"/&gt; \\&lt;button\u00a0onClick=\"sheet.campoDeForca = 8;\"/&gt; \\&lt;/form&gt; <p> </p> <p>No exemplo acima, ao clicar no bot\u00e3o, a propriedade \"campoDeForca\" ser\u00e1 alterado para \"8\" e a mudan\u00e7a ser\u00e1 refletida no edit j\u00e1 que est\u00e1 ligado ao mesmo campo que sofreu altera\u00e7\u00e3o.</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Tratando eventos do Lua Form</li> <li>Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</li> </ul>"},{"location":"LuaFormeNodeDatabase/#exemplos","title":"Exemplos","text":""},{"location":"LuaFormeNodeDatabase/#exemplo-1-pequeno-cadastro-que-informa-se-a-pessoa-e-maior-de-idade","title":"Exemplo 1 - Pequeno cadastro que informa se a pessoa \u00e9 maior de idade","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0height=\"500\"\u00a0width=\"250\"&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"32\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Nome: \"\u00a0width=\"50\"\u00a0horzTextAlign=\"trailing\"/&gt; \\&lt;edit\u00a0align=\"client\"\u00a0field=\"nome\"\u00a0margins=\"{left=5}\"/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"32\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Idade: \"\u00a0width=\"50\"\u00a0horzTextAlign=\"trailing\"/&gt; \\&lt;edit\u00a0align=\"client\"\u00a0field=\"idade\"\u00a0margins=\"{left=5}\"/&gt; \\&lt;/layout&gt; \\&lt;label\u00a0name=\"labMaiorDeIdade\"\u00a0text=\"Preencha a idade\"\u00a0align=\"top\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/layout&gt; \\&lt;dataLink\u00a0field=\"idade\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local idade = tonumber(sheet.idade);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if idade ~= nil then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if idade &gt;= 18 then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.labMaiorDeIdade.text = \"Maior de idade\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.labMaiorDeIdade.text = \"Menor de idade\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.labMaiorDeIdade.text = \"Preencha a idade\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/dataLink&gt; \\&lt;/form&gt; <p>Neste exemplo foram usados:</p> <ul> <li>Tag layout</li> <li>Tag edit</li> <li>Tag label</li> <li>Tag dataLink</li> <li>Tag event</li> </ul> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li> </li> <li>Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Don't Let Unauthorized Users View Your PDFs: Learn How to Set Passwords</p>"},{"location":"Macros/","title":"Macros","text":""},{"location":"Macros/#macros_1","title":"Macros","text":"<p>Macros s\u00e3o atalhos criados pelo usu\u00e1rio para comandos/textos que s\u00e3o repetidos frequentemente. Por exemplo: Se o personagem de D\\&amp;D do usu\u00e1rio possui um ataque padr\u00e3o, \u00e9 conveniente criar uma macro de nome, digamos, \"ataque\" que faz:</p> <p> </p> /r 1d20 + 5: Rolagem do Ataque /r 1d8 + 5: Rolagem do Dano <p> </p> <p>Quando o usu\u00e1rio digitar \"/ataque\" no chat do RRPG, estes comandos ser\u00e3o executados.</p> <p> </p>"},{"location":"Macros/#criando-e-editando-suas-macros","title":"Criando e editando suas macros","text":"<p>digite \"/macros\" no chat do RRPG para abrir o gerenciador de macros!</p> <p> </p> <p> </p>"},{"location":"Macros/#tipos-de-macros","title":"Tipos de macros","text":"<p>Existem dois tipos de macros no RRPG:</p> <ul> <li>Macros Simples</li> <li>Macros em Lua</li> </ul> <p> </p> <p>A macros simples cont\u00e9m comandos que s\u00e3o enviados para o chat, linha a linha. S\u00e3o extremamente f\u00e1ceis e intuitivas de serem feitas, por\u00e9m s\u00e3o limitadas.</p> <p>As macros em Lua cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o Lua e requerem um pouco de conhecimento de programa\u00e7\u00e3o, porem s\u00e3o flex\u00edveis!</p> <p> </p>"},{"location":"Macros/#macros-em-lua","title":"Macros em Lua","text":"<p>As macros em Lua possuem um conjunto de fun\u00e7\u00f5es utilit\u00e1rias pr\u00e9-definidas para serem utilizadas!</p> <p>Conhe\u00e7a as fun\u00e7\u00f5es dispon\u00edveis para as macros em lua.</p> <p> </p> <p> </p> <p>Exemplo 1: Fazendo um teste com dificuldade igual a 15\\ \u00a0</p> local\u00a0resultado\u00a0=\u00a0rolar(\"1d20 + 5\");\u00a0 if\u00a0resultado\u00a0&gt;=\u00a015\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 enviar(\"Acertou!\"); else \u00a0 \u00a0 \u00a0 \u00a0 enviar(\"Errou!\"); end; <p> </p> <p>Created with the Personal Edition of HelpNDoc: Maximize Your Documentation Capabilities with a Help Authoring Tool</p>"},{"location":"MensagensdeChat/","title":"Mensagens de Chat","text":""},{"location":"MensagensdeChat/#mensagens-eventos-a-respeito-de-chat-no-rrpg","title":"Mensagens-Eventos a respeito de Chat no RRPG","text":"\"ChatMessage\" <p>Enviada quando uma mensagem de chat for recebida ou enviada.</p> <p> </p> <p>Par\u00e2metros da Mensagem:</p> <ul> <li> <ul> <li>chat - Objeto Chat onde a mensagem foi recebida ou enviada.</li> <li>mine - Booleano, onde true significa que a mensagem foi enviada pelo usu\u00e1rio atual do rrpg e false significa uma mensagem enviada por outro usu\u00e1rio.</li> <li>type - Cont\u00e9m o tipo da mensagem e pode ser um dos seguintes valores:</li> <li>\"standard\" - Uma mensagem de texto normal</li> <li>\"asNarrator\"\u00a0 - Uma mensagem de texto como Narrador.</li> <li>\"asNPC\" - Uma mensagem de texto como NPC</li> <li>\"action\" - Uma mensagem de texto a\u00e7\u00e3o (/me)</li> <li>\"laugh\" - Uma risada do RRPG (/rir)</li> <li>\"dice\" - Uma rolagem de dados</li> <li>content - Cadeia de caracteres contendo o texto principal da mensagem. Se tipo for \"dice\", cont\u00e9m a mensagem adicional que acompanha a rolagem.</li> <li>(OPCIONAL) npc - Se o tipo da mensagem for \"asNPC\", cont\u00e9m o nome do NPC da mensagem.</li> <li>(OPCIONAL) roll - Se o tipo da mensagem for \"dice\", cont\u00e9m o Objeto Rolagem com detalhes da rolagem feita.</li> <li>(OPCIONAL) room - Se a mensagem foi enviada em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma.</li> <li>(OPCIONAL) player - Se a mensagem foi enviada em um chat ligado a uma mesa, cont\u00e9m o Objeto Jogador de quem enviou a mensagem.</li> <li>(OPCIONAL) pvtPlayer - Se a mensagem foi enviada em uma janela PVT, cont\u00e9m o Objeto Jogador do PVT aberto.</li> </ul> </li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li> <ul> <li>Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem-evento n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG.</li> </ul> </li> </ul> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> \"HandleChatCommand\" <p>Mensagem enviada quando o usu\u00e1rio digitar um comando no chat que n\u00e3o \u00e9 conhecido pelo RRPG, dando a chance ao plug-in de trat\u00e1-lo.</p> <p> </p> <p>Por, exemplo, quando o usu\u00e1rio digitar no chat: \"/atacar orbe de fogo\", onde \"atacar\" \u00e9 o comando e \"orbe de fogo\" \u00e9 o par\u00e2metro.</p> <p> </p> <p>Par\u00e2metros da Mensagem:</p> <ul> <li> </li> <li> <ul> <li>command - Cadeia de caracteres contendo o nome do comando que o usu\u00e1rio digitou.</li> <li>parameter - Cadeia de caracteres contendo o par\u00e2metro do comando.</li> <li>chat - Objeto Chat onde o comando foi digitado.</li> <li>(OPCIONAL) room - Se o comando for digitado em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma, sen\u00e3o cont\u00e9m nil.</li> <li>(OPCIONAL) player - Se o comando for digitado em uma janela PVT, cont\u00e9m o Objeto Jogador com quem o usu\u00e1rio est\u00e1 conversando, sen\u00e3o cont\u00e9m nil.</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li> <ul> <li>\"response = {handled = true}\" para sinalizar ao RRPG que o comando foi devidamente tratado e que n\u00e3o precisa mais continuar sua busca por algu\u00e9m que trate este comando.</li> </ul> </li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li> <ul> <li>Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG.</li> <li>Recomendamos que trate tamb\u00e9m a mensagem evento \"ListChatCommands\"</li> </ul> </li> </ul> <p> </p> <p>Exemplo: Tratando o comando /versao</p> rrpg.messaging.listen(\"HandleChatCommand\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(message) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0message.command\u00a0==\u00a0\"versao\"\u00a0then -- Tratar o comando /vers\u00e3o \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 message.chat:enviarMensagem(\"A Minha vers\u00e3o \u00e9 1.0\");\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 message.chat:escrever(\"Este texto \u00e9 s\u00f3 para o usu\u00e1rio\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Sinalizar ao RRPG que o comando foi tratado com sucesso \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 message.response\u00a0=\u00a0{handled\u00a0=\u00a0true}; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> \"ListChatCommands\" <p>Mensagem enviada quando o usu\u00e1rio digitar \"/help\" ou \"/?\" no chat, permitindo o plug-in informar ao usu\u00e1rio a exist\u00eancia de comandos suportados.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li> <ul> <li>chat - Objeto Chat onde o help ser\u00e1 exibido.</li> <li>(OPCIONAL) room - Se o help for ser exibido em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma, sen\u00e3o cont\u00e9m nil.</li> <li>(OPCIONAL) player - Se o help for ser exibido em uma janela PVT, cont\u00e9m o Objeto Jogador com quem o usu\u00e1rio est\u00e1 conversando, sen\u00e3o cont\u00e9m nil.</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li> <ul> <li>response = Um arranjo de tabelas, onde cada tabela representa um comando e possui as seguintes propriedades:</li> <li>command - Uma cadeia de caracteres contendo o comando , exemplo: \"/meuComando\"</li> <li>description - Uma cadeia de caracteres contendo a descri\u00e7\u00e3o do comando, exemplo: \"Faz isso, isso e aquilo\"</li> </ul> </li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li> <ul> <li>Este evento ocorre apenas para informar ao usu\u00e1rio quais comandos o plug-in possui, tornando necess\u00e1rio tamb\u00e9m tratara mensagem-evento \"HandleChatCommand\" se quiser fazer o comando realmente funcionar.</li> <li>Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG.</li> </ul> </li> </ul> <p> </p> <p> </p> <p>Exemplo 1: Informando, ao RRPG, a exist\u00eancia do comando /versao</p> rrpg.messaging.listen(\"ListChatCommands\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(message) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 message.response\u00a0=\u00a0{{command=\"/versao\", description=\"Mostra a vers\u00e3o do plug-in\"}}; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); <p> </p> <p> </p> <p>Exemplo 2:\u00a0 Informando, ao RRPG, v\u00e1rios comandos:</p> rrpg.messaging.listen(\"ListChatCommands\", \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(message) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 message.response\u00a0=\u00a0{{command=\"/comando1\",\u00a0description=\"Este comando faz uma coisa\"}, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0{command=\"/comando2\",\u00a0description=\"Este comando faz duas coisas\"}, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0{command=\"/comando3\",\u00a0description=\"Este comando faz tres coisas\"}}; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end); <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> \"HandleChatTextInput\" <p>Evento enviado quando o usu\u00e1rio confirma o envio de um comando/mensagem para um chat, dando oportunidade para o plug-in alterar ou ajustar o texto de entrada antes que seja processado pelo RRPG.</p> <p> </p> <p>Par\u00e2metros da Mensagem:</p> <ul> <li> </li> <li> <ul> <li>chat - Objeto Chat onde a mensagem ser\u00e1 enviada.</li> <li>text - Cadeia de caracteres contendo o texto de entrada que o usu\u00e1rio digitou.</li> <li>isCommand - True se o usu\u00e1rio informou um texto para um comando do RRPG (aqueles que come\u00e7am com o caracter \"/\").</li> <li>(OPCIONAL) room - Se a mensagem estiver prestes a ser enviada a um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma.</li> <li>(OPCIONAL) pvtPlayer - Se a mensagem estiver prestes a ser enviada em uma janela PVT, cont\u00e9m o Objeto Jogador do PVT aberto.</li> </ul> </li> </ul> <p> </p> <p>Retorno:</p> <ul> <li> </li> <li> <ul> <li>Se o plug-in quiser substituir o texto por outro, o programador dever\u00e1 atribuir \"message.response = {newText = \\&lt;\\&lt;novo texto que ser\u00e1 utilizado&gt;&gt;}\" para sinalizar ao RRPG que o texto de entrada deve ser subst\u00edtuido pelo conteudo de newText.</li> </ul> </li> </ul> <p> </p> <p>Alerta:</p> <ul> <li> </li> <li> <ul> <li>Tenha consci\u00eancia do parametro \"message.isCommand\" desta mensagem! Se o usu\u00e1rio digitar um comando (por exemplo \"/nick NovoNick\"), nem toda substitu\u00ed\u00e7\u00e3o de texto deve ser feita, ou deve ser feita de forma consciente para n\u00e3o atrapalhar a experi\u00eancia do usu\u00e1rio com o programa!</li> </ul> </li> </ul> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li> </li> <li> <ul> <li>O RRPG apenas envia esta mensagem-evento se uma das duas seguintes condi\u00e7\u00f5es forem satisfeitas:</li> <li>O usu\u00e1rio logado \u00e9 um assinante pago do RRPG.</li> <li>O usu\u00e1rio logado n\u00e3o \u00e9 assinante pago do RRPG, a mensagem est\u00e1 prestes a ser enviada em uma mesa onde o criador \u00e9 Gold Plus.</li> </ul> </li> </ul> <p> </p> <p> </p> <p>Exemplo: Um plug-in que substitui o texto \"CA\" por \"Categoria de Armadura\" nos textos digitados pelo usu\u00e1rio.</p> <p> </p> RRPG.listen('HandleChatTextInput', \u00a0 \u00a0\u00a0function(message)\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 message.response\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0{newText\u00a0=\u00a0string.gsub(message.text,\u00a0\"CA\",\u00a0\"Categoria de Armadura\")\u00a0}; \u00a0 \u00a0\u00a0end);\u00a0 <p>Created with the Personal Edition of HelpNDoc: Experience the Power and Simplicity of HelpNDoc's User Interface</p>"},{"location":"MensagensdeConexao/","title":"Mensagens de Conex\u00e3o","text":""},{"location":"MensagensdeConexao/#mensagens-eventos-sobre-a-conexao-com-o-rrpg-server","title":"Mensagens-Eventos sobre a conex\u00e3o com o RRPG Server","text":"\"SessionLost\" <p>Mensagem enviada quando o RRPG perder definitivamente a conex\u00e3o com o servidor.</p> <p> </p> <p> </p> \"SessionStarted\" <p>Mensagem enviada quando o RRPG conseguir estabelecer uma conex\u00e3o com o servidor.</p> <p> </p> <p> </p> \"SessionLogin\" <p>Mensagem enviada quando o processo de Login do usu\u00e1rio for conclu\u00eddo com \u00eaxito. Quando esta mensagem-evento for enviada, significa que o usu\u00e1rio est\u00e1 logado e algumas informa\u00e7\u00f5es sobre sua conta e lista de contatos tamb\u00e9m est\u00e3o dispon\u00edveis.</p> <p> </p> <p> </p> \"SessionStarting\" <p>Mensagem enviada quando o RRPG iniciar o processo de estabelecimento de uma nova conex\u00e3o com o servidor.</p> <p> </p> <p> </p> \"SessionStartFailure\" <p>Mensagem enviada quando o RRPG n\u00e3o conseguir estabelecer uma nova conex\u00e3o com o servidor.</p> <p> </p> <p>Propriedades da mensagem:</p> <ul> <li> <ul> <li>reason - uma cadeia de caracteres contendo a raz\u00e3o da conex\u00e3o ter falhado.</li> </ul> </li> </ul> <p> </p> <p> </p> <p> </p> \"SessionBroken\" <p>O link da conex\u00e3o foi quebrada, isto \u00e9, a conex\u00e3o TCP/IP com o servidor foi desfeita. Mas n\u00e3o est\u00e1 tudo perdido ainda: Talvez seja poss\u00edvel reestabelecer a conex\u00e3o, e o RRPG vai tentar isso!</p> <p> </p> <p> </p> <p> </p> \"SessionWillTryToFix\" <p>O RRPG tentar\u00e1 recuperar o link quebrado da conex\u00e3o daqui a alguns milisegundos!</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li> <ul> <li>waitTime - Um n\u00famero contendo quantos milisegundos o RRPG vai esperar at\u00e9 a tentativa de recupera\u00e7\u00e3o.</li> </ul> </li> </ul> <p> </p> <p> </p> \"SessionTryingToFix\" <p>O RRPG tentar\u00e1 recuperar o link quebrado da conex\u00e3o AGORA!</p> <p> </p> <p> </p> \"SessionFixed\" <p>O RRPG conseguiu recuperar o link da conex\u00e3o. A conex\u00e3o est\u00e1 normal agora!</p> <p> </p> <p> </p> \"SessionFixFailure\" <p>Uma tentativa de recuperar o link da conex\u00e3o falhou... Se a mensagem \"SessionWillTryToFixIn\" for disparada logo a seguir, ent\u00e3o o RRPG continuar\u00e1 tentando consertar o link. Se a mensagem \"SessionLost\" for disparada logo a seguir, ent\u00e3o o RRPG n\u00e3o vai mais tentar recuperar o link.</p> <p> </p> <p> </p>"},{"location":"MensagensdeConexao/#estados-de-conexao-do-rrpg","title":"Estados de Conex\u00e3o do RRPG","text":"<p>As mensagens-eventos sobre a conex\u00e3o do RRPG s\u00e3o disparadas conforme o seguinte fluxo:</p> <p> </p> <p></p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Support Your Windows Applications with HelpNDoc's CHM Generation</p>"},{"location":"MensagensdeEstadodasMesas/","title":"Mensagens de Estado das Mesas","text":""},{"location":"MensagensdeEstadodasMesas/#mensagens-eventos-a-respeito-do-estado-das-mesas-no-rrpg","title":"Mensagens-Eventos a respeito do Estado das Mesas no RRPG","text":"\"MesaJoined\" <p>Enviada quando algu\u00e9m entrar em alguma mesa no RRPG.</p> <p> </p> <p>Par\u00e2metros da Mensagem:</p> <ul> <li> <ul> <li>room - Objeto Mesa representando a mesa onde o jogador entrou.</li> <li>me - Booleano, onde true significa que o usu\u00e1rio atual do RRPG foi quem entrou na mesa.</li> <li>player - Objeto Jogador representando quem entrou na mesa.</li> </ul> </li> </ul> <p> </p> <p> </p> \"MesaParted\" <p>Enviada quando algu\u00e9m sair de alguma mesa do RRPG.</p> <p> </p> <p>Par\u00e2metros da Mensagem:</p> <ul> <li> </li> <li> <ul> <li>room - Objeto Mesa representando a mesa que o jogador saiu.</li> <li>me - Booleano, onde true significa que o usu\u00e1rio atual do RRPG foi quem saiu da mesa.</li> <li>player - Objeto Jogador representando quem saiu da mesa.</li> <li>(OPCIONAL) text - Cadeia de caracteres contendo, opcionalmente, um texto deixada pelo usu\u00e1rio no momento da sa\u00edda.</li> <li>isKick - Booleano, onde true significa que o jogador saiu da mesa por causa de um kick.</li> <li>(OPCIONAL) responsible - Quando \"isKick\" for true, este campo contem o Objeto Jogador representando quem realizou o kick. Observa\u00e7\u00e3o: Se este atributo vier nil durante um kick, significa que o sistema RRPG kickou o usu\u00e1rio.</li> </ul> </li> </ul> <p>Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities</p>"},{"location":"MensagensdoGerenciadordePlugins/","title":"Mensagens do Gerenciador de Plugins","text":""},{"location":"MensagensdoGerenciadordePlugins/#mensagens-eventos-do-gerenciador-de-plug-ins","title":"Mensagens-Eventos do Gerenciador de Plug-ins","text":"\"PluginInstalled\" <p>Mensagem enviada quando um plug-in for instalado no RRPG Firecast.</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> <ul> <li>moduleId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do plug-in</li> </ul> </li> </ul> <p> </p> <p> </p> \"PluginUninstalled\" <p>Mensagem enviada quando um plug-in for desinstalado do RRPG Firecast</p> <p> </p> <p>Par\u00e2metros:</p> <ul> <li> </li> <li> <ul> <li>moduleId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do plug-in que foi desinstalado.</li> </ul> </li> </ul> <p>Created with the Personal Edition of HelpNDoc: Easily convert your WinHelp HLP help files to CHM with HelpNDoc's step-by-step guide</p>"},{"location":"MetricadoMundovsMetricadaTela/","title":"M\u00e9trica do Mundo vs M\u00e9trica da Tela","text":"<p>\\&lt; A escrever ...&gt;</p> <p>Created with the Personal Edition of HelpNDoc: Easy EPub and documentation editor</p>"},{"location":"ModelosdeFichas/","title":"Modelos de Fichas","text":""},{"location":"ModelosdeFichas/#modelos-de-fichas_1","title":"Modelos de Fichas","text":"<p>Cada modelo de ficha do SDK3 \u00e9 um documento Lua Form (extens\u00e3o \u2018.lfm\u2019) e toda vez que o usu\u00e1rio abre um personagem, o RRPG Firecast localiza o Lua Form adequado, cria uma nova inst\u00e2ncia e a exibe na tela.</p> <p> </p> <p>Veja:</p> <ul> <li> <ul> <li>Interfaces Visuais (Lua Forms)</li> <li>Lua Form e Inst\u00e2ncias</li> </ul> </li> </ul>"},{"location":"ModelosdeFichas/#criando-um-novo-modelo-de-ficha","title":"Criando um novo modelo de ficha","text":"<p>\u00a0 \u00a0 Para criar um novo modelo de ficha:</p> <ol> <li>Crie um arquivo texto vazio de extens\u00e3o \u2018.lfm\u201d dentro da pasta do projeto do plug-in.</li> <li>Abra o arquivo em um editor de texto, copie e cole o seguinte documento:</li> </ol> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form formType=\"sheetTemplate\"\u00a0dataType=\"DATA_TYPE_AQUI\"\u00a0 \u00a0 \u00a0 \u00a0 title=\"TITULO_AQUI\"\u00a0name=\"NOME_AQUI\"&gt; \\&lt;/form&gt; <p> </p> <p> </p> <ol> <li>Preencha os campos \u201cdataType\u201d, \u201ctitle\u201d e \u201cname\u201d:</li> <li>dataType \u2013 Um texto que identifica qual \u00e9 o tipo de conte\u00fado do seu modelo de ficha. Voc\u00ea deve inventar um Data Type \u00fanico que possua ao menos cinco caracteres alfanum\u00e9ricos, \"_\" ou \".\" e que n\u00e3o comece com d\u00edgitos. Use a criatividade! Exemplos: \u201cbr.com.rrpg.DnD5_S3\u201d, \u201cbr.com.rrpg.VampiroAMascara\u201d, \u201cbr.com.meusite.MeuModeloDeFicha\u201d, \u201cmeuplugin.FichaX\u201d, etc..\\ \u00a0</li> <li>title \u2013 O t\u00edtulo do seu modelo de ficha. Este texto aparecer\u00e1 na lista de fichas quando o usu\u00e1rio criar um personagem. Exemplos: \u201cDnD 5th\u201d, \u201cVampiro a M\u00e1scara\u201d, \u201cMeu modelo de ficha\u201d, etc..\\ \u00a0</li> <li>name \u2013 Nome interno do Lua Form. Deve conter apenas caracteres alfanum\u00e9ricos ou \"_\" e n\u00e3o deve come\u00e7ar com d\u00edgitos. Exemplos: \u201cfrmDnD5\u201d, \u201cfrmVampiroAMascara\u201d, \u201cfrmMeuModeloDeFicha\u201d, etc.. Apesar de n\u00e3o ser exigida, a pr\u00e1tica de colocar \u201cfrm\u201d no in\u00edcio do name \u00e9 recomendada.</li> </ol> <p> </p> <ol> <li>Pronto! Voc\u00ea acaba de criar um modelo de ficha vazio.\u00a0</li> </ol> <p> </p> <p> </p> <p>Veja agora:</p> <ol> <li>Interfaces Visuais (Lua Forms) para saber mais sobre o arquivo .lfm e completar seu plug-in.</li> <li>Tutoriais para ter mais ideias para seu modelo de ficha =).</li> </ol> <p> </p> <p> </p>"},{"location":"ModelosdeFichas/#criando-um-novo-modelo-de-ficha-exemplo-passo-a-passo","title":"Criando um novo modelo de ficha - Exemplo passo a passo","text":"<p>O exemplo a seguir utiliza o editor de texto Notepad++.</p> <ol> <li>Criando o arquivo texto vazio de extens\u00e3o \u2018.lfm\u2019 dentro da pasta do projeto de plug-in:</li> </ol> <p> </p> <p> \\ \\ </p> <p> </p> <ol> <li>Preenchendo o conte\u00fado do arquivo LFM:\\ </li> </ol> <p> </p> <ol> <li>Instalando o plug-in:\\ </li> </ol> <p> </p> <ol> <li>Testando a ficha no RRPG:</li> </ol> <p> </p> <p> </p> <p> </p> <p> </p> <p>\\</p> <p>Created with the Personal Edition of HelpNDoc: Easily create CHM Help documents</p>"},{"location":"NodeDatabase/","title":"NodeDatabase","text":""},{"location":"NodeDatabase/#nodedatabase_1","title":"NodeDatabase","text":"<p>Um NodeDatabase \u00e9 um documento de f\u00e1cil leitura, altera\u00e7\u00e3o e compartilhamento de dados usado para salvar fichas de personagens, configura\u00e7\u00f5es e outras informa\u00e7\u00f5es.</p> <p> </p> <p>Se chama assim pois \u00e9 estruturado como uma \u00e1rvore, isto \u00e9, existe um n\u00f3 raiz e cada n\u00f3 pode possuir outros n\u00f3s de forma recursiva. Cada n\u00f3 possui um nome, um n\u00f3 pai (com exce\u00e7\u00e3o do n\u00f3 raiz), n\u00f3s filhos e atributos.</p> <p> </p> <p>Todas as altera\u00e7\u00f5es feitas em um n\u00f3 de um NodeDatabase s\u00e3o automaticamente salvas no documento.</p> <p> </p>"},{"location":"NodeDatabase/#conteudo","title":"Conte\u00fado:","text":"<ul> <li>Objeto Nodo</li> <li>Biblioteca NDB</li> </ul>"},{"location":"NodeDatabase/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<ul> <li>Integrando LuaForm com NodeDatabase</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Don't Let Unauthorized Users View Your PDFs: Learn How to Set Passwords</p>"},{"location":"Oarquivomodulexml/","title":"O arquivo \"module.xml\"","text":""},{"location":"Oarquivomodulexml/#structure","title":"Structure","text":"<p>\\ Todo projeto de plugin deve conter um arquivo de nome \u201cmodule.xml\u201d em sua raiz que cont\u00e9m as informa\u00e7\u00f5es sobre o mesmo. A estrutura das tags/marca\u00e7\u00f5es deste documento \u00e9:</p> <ul> <li>module</li> <li>id \u2013 Uma identifica\u00e7\u00e3o global e \u00fanica do plug-in. \u00c9 um texto que cont\u00e9m apenas caracteres alfanum\u00e9ricos, underlines, pontos e deve conter ao menos 5 caracteres e um m\u00e1ximo de 40. Voc\u00ea deve inventar um valor \u00fanico para este campo, e, uma vez definido, o ID n\u00e3o deve mudar. Exemplos: \u201cbr.com.rrpg.DnD5_SDK3\u201d, \u201cbr.com.outrosite.storytellerX\u201d.</li> <li>version \u2013 Um texto que identifica a vers\u00e3o do seu plug-in. N\u00e3o se esque\u00e7a de atualizar este campo quando for lan\u00e7ar uma nova vers\u00e3o do seu plug-in =). Exemplos: \u201c1.0\u201d, \u201c1.1\u201d, \u201c1.2b\u201d</li> <li>info \u2013 Tag que re\u00fane as informa\u00e7\u00f5es do puglin traduzidas em uma determinada l\u00edngua. Pode aparecer mais de uma vez, uma para cada tradu\u00e7\u00e3o. Ela cont\u00e9m as seguintes tags filhas:<ul> <li>name \u2013 O um texto curto que nomeia seu plug-in. Exemplos: \u201cDnD 5\u201d, \u201cPlugin de Mighty Blade\u201d, \u201cPlugin X\u201d, etc..</li> <li>description \u2013 Um texto breve que descreve o que seu plug-in faz. Exemplos: \u201cAdiciona suporte a fichas de DnD 5\u201d.</li> <li>author \u2013 Seu nome/nickname</li> <li>site \u2013 Voc\u00ea possui um site? Coloq-ue aqui o endere\u00e7o dele se tiver</li> <li>contact \u2013 Como se faz contato com voc\u00ea? Adicione endere\u00e7o de e-mail, facebook, twitter, etc..</li> </ul> </li> <li> settings \u2013 A tag to configure the behaviors of your plugin. Available settings are:<ul> <li>automaticStringLocalization \u2013 When true, it allows the Firecast to automatically translate attributes of LFM files and strings passed to the API calls. It's a very cool feature to make your plugin multi-language but may produce inconsistent behaviors. Default: false. See Criando um plug-in para v\u00e1rios idiomas\\ \\ \u00a0\u00a0 \u00a0 \u00a0 \u00a0</li> </ul> </li> </ul> <p> </p> <p>Exemplo:</p> \\&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \\&lt;module sdkVersion=\"3.6\"&gt; \u00a0 \u00a0 \\&lt;!--O id identifica seu m\u00f3dulo globalmente. Deve ser \u00fanico, conter apenas caracteres alfanum\u00e9ricos, underlines, pontos e deve conter ao menos 5 caracteres e um m\u00e1ximo de 40. Uma vez definido o ID, voc\u00ea n\u00e3o deve alterar ele ;) --&gt; \u00a0 \u00a0 \\&lt;id&gt;br.com.rrpg.DnD5_SDK3\\&lt;!--id--&gt;\u00a0 \u00a0 \u00a0 \\&lt;!--version \u00e9 a vers\u00e3o do seu m\u00f3dulo. Quando for lan\u00e7ar uma nova vers\u00e3o do seu m\u00f3dulo, altere aqui =) --&gt; \u00a0 \u00a0 \\&lt;version&gt;1.0\\&lt;!--version--&gt;\u00a0 \u00a0 \u00a0 \\&lt;settings&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;automaticStringLocalization&gt;true\\&lt;!--automaticStringLocalization--&gt; \u00a0 \u00a0 \\&lt;!--settings--&gt;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;info lang=\"pt-BR\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;!--Informa\u00e7\u00f5es do plugin na l\u00edngua \"pt-BR\". Voc\u00ea pode ter v\u00e1rias tags \"info\", uma para cada tradu\u00e7\u00e3o que quiser.--&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;name&gt;D\\&amp;D 5e\\&lt;!--name--&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;description&gt;Modelo de ficha de D\\&amp;D 5\u00aa edi\u00e7\u00e3o\\&lt;!--description--&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;author&gt;Firecast\\&lt;!--author--&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;site&gt;https://firecast.app/\\&lt;!--site--&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;contact&gt;https://www.facebook.com/AlyssonRPG\\&lt;!--contact--&gt; \u00a0 \u00a0 \\&lt;!--info--&gt;\u00a0 \u00a0 \u00a0 \\&lt;info lang=\"en\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;!--Informa\u00e7\u00f5es do plugin na l\u00edngua \"en\". Voc\u00ea pode ter v\u00e1rias tags \"info\", uma para cada tradu\u00e7\u00e3o que quiser.--&gt; \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;name&gt;D\\&amp;D 5th Edition\\&lt;!--name--&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \\&lt;description&gt;D\\&amp;D 5th edition character sheet for firecast\\&lt;!--description--&gt; \u00a0 \u00a0 \\&lt;!--info--&gt;\u00a0 \\&lt;!--module--&gt; <p>\\</p> <p>Created with the Personal Edition of HelpNDoc: Single source CHM, PDF, DOC and HTML Help creation</p>"},{"location":"ObjetoBibliotecaItem/","title":"Objeto BibliotecaItem","text":""},{"location":"ObjetoBibliotecaItem/#objeto-bibliotecaitem_1","title":"Objeto BibliotecaItem","text":"<p>Este objeto representa um item na biblioteca de uma mesa no RRPG Firecast.</p> <p> </p>"},{"location":"ObjetoBibliotecaItem/#heranca","title":"Heran\u00e7a","text":"<p>O Objeto BibliotecaItem possui todas as caracter\u00edsticas de um WrappedObject. Veja:</p> <ul> <li>Objeto WrappedObject</li> </ul> <p></p>"},{"location":"ObjetoBibliotecaItem/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o Objeto BibliotecaItem tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoBibliotecaItem/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o mesa Objeto Mesa Somente leitura, cont\u00e9m o Objeto Mesa que representa em qual mesa este item est\u00e1.\u00a0 pai Objeto BibliotecaItem Somente leitura, cont\u00e9m o objeto BibliotecaItem que \u00e9 pai deste item.\u00a0 Observa\u00e7\u00e3o: Se o item for raiz da biblioteca, esta propriedade conter\u00e1 nil.\u00a0 filhos Arranjo de Objeto BibliotecaItem Cont\u00e9m um arranjo de Objetos BibliotecaItem representando os sub-itens deste item.\u00a0 Um arranjo \u00e9 uma tabela lua indexada de 1 a N.\u00a0 tipo Enumerado: \"biblioteca\" \"diretorio\" \"personagem\" \"imagem\" \"sceneUnitClass\" \"scene2\" Somente leitura, cont\u00e9m que tipo de item este \u00e9.\u00a0 \"biblioteca\" - diret\u00f3rio raiz da biblioteca.\u00a0 \"diretorio\" - uma pasta na biblioteca\u00a0 \"personagem\" - Um personagem\u00a0 \"imagem\" - Uma imagem (implementa\u00e7\u00e3o futura)\u00a0 \"sceneUnitClass\" - Um item do Scene2\u00a0 \"scene2\" - Um tabuleiro de Scene 2\u00a0 codigoInterno Integer Somente Leitura, cont\u00e9m o c\u00f3digo interno que identifica este item de biblioteca unicamente no RRPG Firecast.\u00a0 nome String Somente leitura, cont\u00e9m o nome do item da biblioteca.\u00a0 loginDono String Somente leitura, cont\u00e9m o login RRPG do usu\u00e1rio que \u00e9 dono deste item.\u00a0 dono Objeto Jogador Somente leitura, cont\u00e9m o o objeto Jogador do dono deste item.\u00a0 Observa\u00e7\u00e3o: Se o dono n\u00e3o estiver na mesa no momento, esta propriedade conter\u00e1 nil. Utilize a propriedade \"loginDono\" para descobrir o login do dono mesmo se ele n\u00e3o estiver na mesa.\u00a0 loginCriador String Somente leitura, cont\u00e9m o login do usu\u00e1rio que criou este item.\u00a0 criador Objeto Jogador Somente leitura, cont\u00e9m o objeto Jogador do usu\u00e1rio que criou este item.\u00a0 Observa\u00e7\u00e3o: Se o criador n\u00e3o estiver na mesa no momento, esta propriedade conter\u00e1 nil. Utilize a propriedade \"loginCriador\" se voc\u00ea quiser descobrir quem criou o item mesmo se ele n\u00e3o estiver na mesa.\u00a0 visivel Boolean Somente leitura, cont\u00e9m true se o item estiver marcado para ser vis\u00edvel a todos da mesa.\u00a0 Observa\u00e7\u00e3o: Esta propriedade pode conter true mas o item n\u00e3o estar de fato vis\u00edvel a todos. Isto ocorre quando o item est\u00e1 dentro de um item pai que est\u00e1 escondido.\u00a0 Para descobrir se o item est\u00e1 realmente vis\u00edvel a todos, utilize a propriedade \"visivelRecursivamente\".\u00a0 visivelRecursivamente Boolean Somente leitura, cont\u00e9m true se o item est\u00e1 realmente vis\u00edvel a todos da mesa."},{"location":"ObjetoBibliotecaItem/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o bibliotecaItem:isType(typeName) Retorna true se passado \"bibliotecaItem\" como par\u00e2metro."},{"location":"ObjetoBibliotecaItem/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoBibliotecaItem/#exemplo-1-obter-todos-os-nomes-de-todos-os-itens-na-biblioteca-de-uma-mesa","title":"Exemplo 1 - Obter todos os nomes de todos os itens na biblioteca de uma mesa","text":"local function\u00a0obterNomesRecursivo(bibItem) \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0itensFilhos\u00a0=\u00a0bibItem.filhos; \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0nomes\u00a0=\u00a0bibItem.nome;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0i;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0for\u00a0i\u00a0=\u00a01,\u00a0#itensFilhos,\u00a01\u00a0do local\u00a0bibItemFilho\u00a0=\u00a0itensFilhos[i];\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0nomesDoFilho\u00a0=\u00a0obterNomesRecursivo(bibItemFilho)\u00a0or\u00a0\"\";\u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0nomesDoFilho\u00a0~=\u00a0\"\"\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 nomes\u00a0=\u00a0nomes\u00a0..\u00a0\"\\n\"\u00a0..\u00a0nomesDoFilho; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0return\u00a0nomes; end;\u00a0\u00a0 local\u00a0nomesDeTodosOsItens\u00a0=\u00a0obterNomesRecursivo(umObjetoMesa.biblioteca);\u00a0 \u00a0 showMessage(nomesDeTodosOsItens); <p>\u00a0 \u00a0 \\ \u00a0</p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool</p>"},{"location":"ObjetoChat/","title":"Objeto Chat","text":""},{"location":"ObjetoChat/#objeto-chat_1","title":"Objeto Chat","text":"<p>Este objeto representa uma interface de batepapo no RRPG Firecast.</p> <p> </p>"},{"location":"ObjetoChat/#heranca","title":"Heran\u00e7a","text":"<p>O Objeto Chat possui todas as caracter\u00edsticas de um WrappedObject. Veja:</p> <ul> <li>Objeto WrappedObject</li> </ul> <p></p>"},{"location":"ObjetoChat/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Chat tamb\u00e9m possui as seguintes caracter\u00edsticas:</p> <p> </p>"},{"location":"ObjetoChat/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o room Objeto Mesa (Somente leitura) Cont\u00e9m a mesa a qual este chat pertence.\u00a0 Importante: Pode ser nil se o chat n\u00e3o pertencer a uma mesa."},{"location":"ObjetoChat/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o chat:enviarMensagem(msg) Envia uma mensagem comum para o chat, como se o usu\u00e1rio a tivesse digitado.\u00a0 Par\u00e2metros: msg - a mensagem que deseja enviar no chat.\u00a0 chat:enviarAcao(acao) Enviar uma mensagem como uma a\u00e7\u00e3o para o chat.\u00a0 Par\u00e2metros: acao - a mensagem que deseja enviar no chat com formata\u00e7\u00e3o de a\u00e7\u00e3o.\u00a0 chat:enviarRisada() Enviar uma t\u00edpica risada do RRPG para o chat. chat:enviarMensagemNPC(npc, msg) Envia uma mensagem para o chat como se um NPC estivesse falando.\u00a0 Par\u00e2metros: npc - cadeia de caracteres contendo o nome do NPC msg - a mensagem que deseja enviar no chat.\u00a0 Observa\u00e7\u00e3o: Apenas o mestre da mesa consegue enviar mensagens como NPC.\u00a0 chat:enviarNarracao(narracao) Enviar uma mensagem como narrador para o chat.\u00a0 Par\u00e2metros: narracao - a mensagem que deseja enviar no chat com formata\u00e7\u00e3o de narra\u00e7\u00e3o.\u00a0 Observa\u00e7\u00e3o: Apenas o mestre da mesa consegue enviar narra\u00e7\u00f5es.\u00a0 chat:rolarDados(rolagem [, msg, calllback]) Envia uma rolagem de dados para o chat.\u00a0 Par\u00e2metros: rolagem - um Objeto Rolagem ou uma cadeia de caracteres contendo a rolagem de dados. (OPCIONAL) msg - Uma mensagem para acompanhar a rolagem de dados. (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ap\u00f3s a rolagem ser executada no chat. A fun\u00e7\u00e3o recebe no primeiro par\u00e2metro um NOVO Objeto Rolagem contendo o resultado da rolagem.\u00a0 Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o tem comportamento ass\u00edncrono. Isto \u00e9, a fun\u00e7\u00e3o retorna imediatamente e o resto do c\u00f3digo continua sendo executado enquanto a rolagem \u00e9 feita em segundo plano. Depois de algum tempo, quando o RRPG j\u00e1 souber o resultado, \u00e9 que a fun\u00e7\u00e3o \"callback\" ser\u00e1 invocada. A fun\u00e7\u00e3o callback pode n\u00e3o ser invocada se a rolagem n\u00e3o for autorizada/realizada pelo RRPG. Exemplo de situa\u00e7\u00f5es: A mesa est\u00e1 moderada e o usu\u00e1rio n\u00e3o possui o modo +voz para rolar dados, a conex\u00e3o com o servidor caiu antes da rolagem ser realizada, etc..\u00a0 Veja tamb\u00e9m o exemplo 2.\u00a0 chat:escrever(texto [, quebrarLinha, permitirSmileys]) Escreve/Imprime um texto no chat. O texto n\u00e3o \u00e9 enviado para ningu\u00e9m e s\u00f3 \u00e9 exibido para o usu\u00e1rio que est\u00e1 usando o RRPG.\u00a0 Par\u00e2metros: texto - cadeia de caracteres contendo o texto que deve ser impresso no chat. (OPCIONAL) quebrarLinha - Booleano indicando se o RRPG deve adicionar uma quebra de linha no chat antes de escrever o texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido. (OPCIONAL) permitirSmileys - Booleano indicando se o RRPG deve interpretar smileys neste texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido."},{"location":"ObjetoChat/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoChat/#exemplo-1-uma-ficha-enviando-um-hello-world-para-a-sua-mesa","title":"Exemplo 1 - Uma ficha enviando um Hello World para a sua mesa.","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button&gt; \\&lt;event\u00a0name=\"onClick\"&gt;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local minhaMesa = Firecast.getRoomOf(sheet); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local chat = minhaMesa.chat;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 chat:enviarMensagem(\"Ol\u00e1 mundo!!!!\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;/form&gt; <p>Exemplo 2 - Uma ficha fazendo um teste (de resist\u00eancia, por exemplo) e postando o resultado na mesa.</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"&gt; \\&lt;script&gt; local function\u00a0realizarTesteDeResistencia()\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- obter a mesa do personagem local\u00a0mesaDoPersonagem\u00a0=\u00a0rrpg.getMesaDe(sheet);\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- se o usu\u00e1rio n\u00e3o preencheu modificador, vamos usar o valor 0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.modificador\u00a0=\u00a0sheet.modificador\u00a0or\u00a00;\u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mesaDoPersonagem.chat:rolarDados(\"1d20 + \"\u00a0..\u00a0sheet.modificador,\u00a0\"Teste de Resist\u00eancia\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(rolado) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- A dificuldade do teste \u00e9 15 if\u00a0rolado.resultado\u00a0&gt;=\u00a015\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mesaDoPersonagem.chat:enviarMensagem(\"SUCESSO =) voc\u00ea tirou \"\u00a0..\u00a0rolado.resultado); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mesaDoPersonagem.chat:enviarMensagem(\"FALHA =/ voc\u00ea tirou \"\u00a0..\u00a0rolado.resultado); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end);\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/script&gt; \\&lt;button\u00a0onClick=\"realizarTesteDeResistencia()\"/&gt; \\&lt;/form&gt; <p> </p> <p>Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's WinHelp HLP to CHM conversion feature</p>"},{"location":"ObjetoDrag/","title":"Objeto Drag","text":""},{"location":"ObjetoDrag/#objeto-drag_1","title":"Objeto Drag","text":"<p>Este objeto \u00e9 respons\u00e1vel por conter informa\u00e7\u00f5es da opera\u00e7\u00e3o arrastar-e-soltar em opera\u00e7\u00e3o.</p> <p> </p> <p>Leia mais sobre a opera\u00e7\u00e3o Arraste e Solte / Drag And Drop.</p> <p> </p>"},{"location":"ObjetoDrag/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"ObjetoDrag/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o dataCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de dados associados neste Drag/Arraste.\u00a0 actionCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de a\u00e7\u00f5es associadas neste Drag/Arraste."},{"location":"ObjetoDrag/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o drag:addData(dataType, dataValue) Adiciona um dado a este Drag/Arraste.\u00a0 Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop\" para mais informa\u00e7\u00f5es sobre o DataType dataValue - O valor associado ao dataType\u00a0 drag:getData(dataType) Retorna um dado deste Drag/Arraste.\u00a0 Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop\" para mais informa\u00e7\u00f5es sobre o DataType\u00a0 Retorno: O valor associado ao dataType ou nil se n\u00e3o possuir associa\u00e7\u00e3o.\u00a0 drag:addAction(dataType, callback) Adiciona uma a\u00e7\u00e3o a este Drag/Arraste.\u00a0 Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados associado a esta a\u00e7\u00e3o. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop\" para mais informa\u00e7\u00f5es sobre o DataType callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada caso o usu\u00e1rio arraste este drag a uma \u00e1rea de drop que contenha informa\u00e7\u00e3o do tipo \"dataType\" nela. A fun\u00e7\u00e3o recebe os seguintes 2 par\u00e2metros na ordem: value - O valor da informa\u00e7\u00e3o provida pela \u00e1rea de drop. drop - Objeto Drop que cont\u00e9m as informa\u00e7\u00f5es da \u00e1rea de drop combinada."},{"location":"ObjetoDrag/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoDrag/#exemplos","title":"Exemplos","text":"<p>Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc</p>"},{"location":"ObjetoDrop/","title":"Objeto Drop","text":""},{"location":"ObjetoDrop/#objeto-drop_1","title":"Objeto Drop","text":"<p>Este objeto \u00e9 respons\u00e1vel por conter informa\u00e7\u00f5es da \u00e1rea de drop em uma opera\u00e7\u00e3o arraste e solte / drag and drop.</p> <p> </p> <p>Leia mais sobre a opera\u00e7\u00e3o Arraste e Solte / Drag And Drop.</p> <p> </p>"},{"location":"ObjetoDrop/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"ObjetoDrop/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o dataCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de dados associados nesta \u00e1rea de Drop.\u00a0 actionCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de a\u00e7\u00f5es associadas nesta \u00e1rea de Drop."},{"location":"ObjetoDrop/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o drop:addData(dataType, dataValue) Adiciona um dado a esta \u00e1rea de drop.\u00a0 Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop\" para mais informa\u00e7\u00f5es sobre o DataType dataValue - O valor associado ao dataType\u00a0 drop:getData(dataType) Retorna um dado desta \u00e1rea de drop.\u00a0 Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop\" para mais informa\u00e7\u00f5es sobre o DataType\u00a0 Retorno: O valor associado ao dataType ou nil se n\u00e3o possuir associa\u00e7\u00e3o.\u00a0 drop:addAction(dataType, callback) Adiciona uma a\u00e7\u00e3o a esta \u00e1rea de drop.\u00a0 Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados associado a esta a\u00e7\u00e3o. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop\" para mais informa\u00e7\u00f5es sobre o DataType callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada caso o usu\u00e1rio arraste uma informa\u00e7\u00e3o que contenha \"dataType\" nela. A fun\u00e7\u00e3o recebe os seguintes 4 par\u00e2metros na ordem: value - O valor da informa\u00e7\u00e3o que est\u00e1 sendo arrastada x - A posi\u00e7\u00e3o na coordenada x de onde a informa\u00e7\u00e3o est\u00e1 sendo arrastada y -\u00a0 A posi\u00e7\u00e3o na coordenada y de onde a informa\u00e7\u00e3o est\u00e1 sendo arrastada drag - Objeto Drag que cont\u00e9m a informa\u00e7\u00e3o arrastada"},{"location":"ObjetoDrop/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoDrop/#exemplos","title":"Exemplos","text":"<p>Created with the Personal Edition of HelpNDoc: Maximize Your Documentation Capabilities with a Help Authoring Tool</p>"},{"location":"ObjetoHTTPRequest/","title":"Objeto HTTPRequest","text":""},{"location":"ObjetoHTTPRequest/#objeto-httprequest_1","title":"Objeto HTTPRequest","text":"<p>O Objeto HTTPRequest \u00e9 utilizado para a troca de dados com um servidor usando protocolo HTTP ou HTTPS.</p> <p>\u00c9 excelente para integrar o plug-in com alguma api REST, baixar ou enviar informa\u00e7\u00f5es para um servidor da World Wide Web.</p> <p> </p> <p>Para instanciar um Objeto HTTPRequest, utilize a fun\u00e7\u00e3o internet.newHTTPRequest</p>"},{"location":"ObjetoHTTPRequest/#restricoes","title":"Restri\u00e7\u00f5es:","text":"<ul> <li>As requisi\u00e7\u00f5es HTTP s\u00e3o permitidas apenas se o usu\u00e1rio do rrpg for um membro GOLD.</li> </ul>"},{"location":"ObjetoHTTPRequest/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"ObjetoHTTPRequest/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o url String Define a URL para onde a requisi\u00e7\u00e3o HTTP ser\u00e1 direcionada.\u00a0 Exemplo:\u00a0 \"http://www.google.com/xx/document.txt\" \"https://www.rrpg.com.br/apiexemplo\"\u00a0 A URL deve iniciar com \"http://\" ou \"https://\"\u00a0 method String Define o m\u00e9todo/verbo HTTP que ser\u00e1 utilizado na requisi\u00e7\u00e3o.\u00a0 Os poss\u00edveis valores s\u00e3o: \"GET\" (padr\u00e3o) \"POST\" \"PUT\" \"PATCH\" \"TRACE\" \"HEAD\" \"OPTIONS\" \"DELETE\"\u00a0 status Integer Um n\u00famero contendo o status da resposta http. (Exemplos: 200 para ok, 404 para n\u00e3o encontrado, etc..)\u00a0 Consulte http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html para saber quais s\u00e3o os poss\u00edveis status.\u00a0 statusText String Uma cadeia de caracteres contendo o texto-status-resposta da requisi\u00e7\u00e3o HTTP.\u00a0 Diferente da propriedade \"status\", este valor cont\u00e9m o texto completo da resposta (Exemplos: \"200 OK\", \"404 NOT FOUND\").\u00a0 responseText String Cont\u00e9m o corpo da resposta interpretada como texto.\u00a0 O \"charset\" do cabe\u00e7alho de resposta \"Content-Type\" \u00e9 levado em considera\u00e7\u00e3o antes de retornar o texto.\u00a0 responseStream Objeto Stream Cont\u00e9m o corpo da resposta em um objeto stream. Muito \u00fatil quando a resposta dada pelo servidor for bin\u00e1ria."},{"location":"ObjetoHTTPRequest/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o request:send([content]) Inicia o envio da requisi\u00e7\u00e3o HTTP. Antes de chamar esta fun\u00e7\u00e3o, a URL e todos os cabe\u00e7alhos devem ser informados pela fun\u00e7\u00e3o setRequestHeader.\u00a0 Par\u00e2metros: (OPCIONAL) content - Uma cadeia de caracteres ou um objeto stream contendo os dados que ser\u00e3o enviado ao servidor. Se n\u00e3o informado, a requisi\u00e7\u00e3o \u00e9 feita com corpo vazio.\u00a0 Observa\u00e7\u00f5es: A requisi\u00e7\u00e3o \u00e9 ass\u00edncrona. Isto \u00e9, a fun\u00e7\u00e3o send retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Para obter a resposta, manipule os eventos onResponse e onError antes de chamar este m\u00e9todo. Se o par\u00e2metro content for uma cadeia de caracteres, o\u00a0 \"charset\" do cabe\u00e7alho de requisi\u00e7\u00e3o \"Content-Type\" \u00e9 levado em considera\u00e7\u00e3o para a codifica\u00e7\u00e3o do texto.\u00a0 request:setRequestHeader(header, value) Altera o valor de um cabe\u00e7alho de requisi\u00e7\u00e3o HTTP. Voc\u00ea deve enviar setRequestHeader antes de invocar o m\u00e9todo send.\u00a0 Par\u00e2metros: header - Cadeia de caracteres representando o nome do cabe\u00e7alho. Exemplos: \"Content-Type\" , \"Content-Encoding\", etc.. value - Cadeia de caracteres com o valor que deve ser associado ao cabe\u00e7alho.\u00a0 Observa\u00e7\u00f5es: Para saber mais sobre os cabe\u00e7alhos HTTP, veja http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html. Se este m\u00e9todo for chamado v\u00e1rias vezes alterando o mesmo cabe\u00e7alho, o valor da \u00faltima chamada prevalecer\u00e1.\u00a0 request:getRequestHeader(header) Obt\u00e9m o valor de um cabe\u00e7alho de requisi\u00e7\u00e3o HTTP.\u00a0 Par\u00e2metros: header - cadeia de caracteres representando o nome do cabe\u00e7alho. Retorno: Uma cadeia de caracteres, contendo o valor do cabe\u00e7alho.\u00a0 request:getResponseHeader(header) Obt\u00e9m o valor de um cabe\u00e7alho de resposta da requisi\u00e7\u00e3o HTTP.\u00a0 Par\u00e2metros: header - cadeia de caracteres representando o nome do cabe\u00e7alho de resposta. Retorno: Uma cadeia de caracteres, contendo o valor do cabe\u00e7alho, ou \"\" (cadeia de caracteres vazia) se o cabe\u00e7alho n\u00e3o existir na resposta. Para saber mais sobre os cabe\u00e7alhos HTTP, veja http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html.\u00a0 request:getAllResponseHeaders() Retorna uma cadeia de caracteres contendo todos os cabe\u00e7alhos da resposta HTTP de uma s\u00f3 vez.\u00a0 request:abort(); Aborta a requisi\u00e7\u00e3o HTTP que est\u00e1 sendo feita.\u00a0 request:open(method, url); Inicializa a requisi\u00e7\u00e3o HTTP\u00a0 Par\u00e2metros: method - Uma cadeia de caracteres identificando o m\u00e9todo/verbo HTTP utilizado nesta requisi\u00e7\u00e3o. Os valores aceitos s\u00e3o: \"GET\"\u00a0 \"POST\" \"PUT\" \"PATCH\" \"TRACE\" \"HEAD\" \"OPTIONS\" \"DELETE\" url - A URL da requisi\u00e7\u00e3o HTTP\u00a0 Observa\u00e7\u00e3o: O uso deste m\u00e9todo n\u00e3o \u00e9 obrigat\u00f3rio. \u00c9 apenas um \"doce\" para aqueles que est\u00e3o acostumados com a requisi\u00e7\u00e3o HTTP do JavaScript."},{"location":"ObjetoHTTPRequest/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onResponse Este evento \u00e9 invocado quando a requisi\u00e7\u00e3o HTTP concluir sem erros. Ap\u00f3s este evento, as propriedades de resposta estar\u00e3o dispon\u00edveis no objeto (como, por exemplo, status, statusText, responseText, etc..).\u00a0 Observa\u00e7\u00e3o: Se o servidor retornar status 4xx\u00a0 (algum erro de requisi\u00e7\u00e3o) ou 5xx (algum erro do servidor), o evento \"onError\" ser\u00e1 disparado ao inv\u00e9s de \"onResponse\"\u00a0 onError Este evento \u00e9 disparado quando ocorrer um erro na requisi\u00e7\u00e3o HTTP.\u00a0 Par\u00e2metros: errorMsg - Uma cadeia de caracteres contendo informa\u00e7\u00f5es sobre o erro.\u00a0 Observa\u00e7\u00e3o: Se o servidor retornar status 4xx\u00a0 (algum erro de requisi\u00e7\u00e3o) ou 5xx (algum erro do servidor), o evento \"onError\" ser\u00e1 disparado ao inv\u00e9s de \"onResponse\"\u00a0 onReceiveProgress Evento que \u00e9 disparado frequentemente a fim de informar o progresso de download da requisi\u00e7\u00e3o HTTP.\u00a0 Par\u00e2metros: currentBytes - Um n\u00famero indicando quantos bytes j\u00e1 foram baixados maxBytes - Um n\u00famero indicando quantos bytes ser\u00e3o baixados no final das contas.\u00a0 onSendProgress Evento que \u00e9 disparado frequentemente a fim de informar o progresso de upload da requisi\u00e7\u00e3o HTTP.\u00a0 Par\u00e2metros: currentBytes - Um n\u00famero indicando quantos bytes j\u00e1 foram enviados. maxBytes - Um n\u00famero indicando quantos bytes ser\u00e3o enviados no final das contas."},{"location":"ObjetoHTTPRequest/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoHTTPRequest/#exemplo-1-baixar-o-indexhtml-de-um-site","title":"Exemplo 1 - Baixar o \"index.html\" de um site.","text":"require(\"internet.lua\");\u00a0 local\u00a0requisicao\u00a0=\u00a0internet.newHTTPRequest(\"GET\",\u00a0\"http://www.rrpg.com.br/\");\u00a0 requisicao.onResponse\u00a0= \u00a0 \u00a0 \u00a0 \u00a0\u00a0function() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Conte\u00fado: \"\u00a0..\u00a0requisicao.responseText); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 requisicao.onError\u00a0= \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(errorMsg) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Ops! Ocorreu algum erro: \"\u00a0..\u00a0errorMsg); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0\u00a0 requisicao:send();"},{"location":"ObjetoHTTPRequest/#exemplo-2-fazer-um-upload-de-um-arquivo-receber-outro-arquivo-rastreando-o-progresso","title":"Exemplo 2 - Fazer um upload de um arquivo, receber outro arquivo, rastreando o progresso.","text":"require(\"internet.lua\");\u00a0 require(\"vhd.lua\");\u00a0\u00a0 local\u00a0requisicao\u00a0=\u00a0internet.newHTTPRequest(\"POST\",\u00a0\"http://www.rrpg.com.br/REST_API/URL\");\u00a0 requisicao.onResponse\u00a0= \u00a0 \u00a0 \u00a0 \u00a0\u00a0function() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0streamResposta\u00a0=\u00a0requisicao.responseStream;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0tipoRetornado\u00a0=\u00a0requisicao:getResponseHeader(\"Content-Type\");\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0arquivoDestino;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0tipoRetornado\u00a0==\u00a0\"image/png\"\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 arquivoDestino\u00a0=\u00a0vhd.openFile(\"/baixado.png\",\u00a0\"w+\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 arquivoDestino\u00a0=\u00a0vhd.openFile(\"/baixado.outraExtensao\",\u00a0\"w+\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 arquivoDestino:copyFrom(streamResposta,\u00a0streamResposta.size); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 arquivoDestino:close(); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; requisicao.onError\u00a0= \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(errorMsg) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Ops! Ocorreu algum erro: \"\u00a0..\u00a0errorMsg); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 requisicao.onSendProgress\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(currentBytes,\u00a0maxBytes) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0porcentagem;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0maxBytes\u00a0~=\u00a00\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 porcentagem\u00a0=\u00a0(currentBytes\u00a0/\u00a0maxBytes)\u00a0*\u00a0100; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 porcentagem\u00a0=\u00a00; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0--- porcentagem cont\u00e9m quantos % do arquivo j\u00e1 foram enviados end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 requisicao.onReceiveProgress\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(currentBytes,\u00a0maxBytes) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0porcentagem;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0maxBytes\u00a0~=\u00a00\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 porcentagem\u00a0=\u00a0(currentBytes\u00a0/\u00a0maxBytes)\u00a0*\u00a0100; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 porcentagem\u00a0=\u00a00; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0--- porcentagem cont\u00e9m quantos % do arquivo j\u00e1 foi recebido. end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local\u00a0arquivoAEnviar\u00a0=\u00a0vhd.openFile(\"/arquivoExistente.png\",\u00a0\"r\");\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 requisicao:setRequestHeader(\"Content-Type\",\u00a0\"image/png\");\u00a0\u00a0 \u00a0 \u00a0 requisicao:send(arquivoAEnviar); <p>Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with HelpNDoc's Stunning User Interface</p>"},{"location":"ObjetoInertialMovement/","title":"Objeto InertialMovement","text":""},{"location":"ObjetoInertialMovement/#objeto-inertialmovement_1","title":"Objeto InertialMovement","text":"<p>Este objeto \u00e9 respons\u00e1vel por calcular movimentos inerciais em janelas e scrolls de janela. Movimento Inercial \u00e9 aquele movimento produzido quando voc\u00ea \"joga\" o dedo numa tela touchscreen e a tela continua \"scrollando\" por conta pr\u00f3pria.</p> <p> </p>"},{"location":"ObjetoInertialMovement/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"ObjetoInertialMovement/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o active Boolean Define se o objeto est\u00e1 ativo ou n\u00e3o. Seu valor padr\u00e3o \u00e9 true e quando for false n\u00e3o invoca eventos.\u00a0 animated Boolean true - O objeto ir\u00e1 calcular movimenta\u00e7\u00f5es inerciais\u00a0 false - O objeto n\u00e3o ir\u00e1 calcular movimenta\u00e7\u00f5es inerciais.\u00a0 Valor padr\u00e3o: true\u00a0 decelerationRate Double Um n\u00famero que define a desacelera\u00e7\u00e3o do movimento inercial.\u00a0 O valor padr\u00e3o \u00e9 5.75 e quanto maior este n\u00famero, mais r\u00e1pido o movimento inercial chega ao fim."},{"location":"ObjetoInertialMovement/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o inertialMov:setPos(x, y) Define onde se encontra a posi\u00e7\u00e3o do item/scroll.\u00a0 Par\u00e2metros: x - um n\u00famero contendo a posi\u00e7\u00e3o no eixo X. y - um n\u00famero contendo a posi\u00e7\u00e3o no eixo Y.\u00a0 inertialMov:getPos() Retorna onde est\u00e1 a posi\u00e7\u00e3o atual do item/scroll.\u00a0 Retorna: Dois n\u00fameros, o primeiro contendo a posi\u00e7\u00e3o no eixo X e o segundo contendo a posi\u00e7\u00e3o no eixo Y.\u00a0 Exemplo de uso: local posX, posY = inertialMov:getPos();\u00a0 inertialMov:setBounds(minX, minY, maxX, maxY) Define os limites de posi\u00e7\u00e3o do item/scroll.\u00a0 Par\u00e2metros: minX - Posi\u00e7\u00e3o m\u00ednima no eixo X minY - Posi\u00e7\u00e3o m\u00ednima no eixo Y maxX - Posi\u00e7\u00e3o m\u00e1xima no eixo X maxY - Posi\u00e7\u00e3o m\u00e1xima no eixo Y\u00a0 inertialMov:pointerDown(x, y) Invoque este m\u00e9todo quando o mouse/touch for pressionado em algum lugar.\u00a0 Par\u00e2metros: x - um n\u00famero contendo a posi\u00e7\u00e3o no eixo X do clique/toque. y - um n\u00famero contendo a posi\u00e7\u00e3o no eixo Y do clique/toque.\u00a0 inertialMov:pointerMove(x, y) Invoque este m\u00e9todo quando o mouse/touch se mover pela tela.\u00a0 Par\u00e2metros: x - um n\u00famero contendo a NOVA posi\u00e7\u00e3o no eixo X do mouse/dedo. y - um n\u00famero contendo a NOVA posi\u00e7\u00e3o no eixo Y do mouse/dedo.\u00a0 inertialMov:pointerUp(x, y) Invoque este m\u00e9todo quando o bot\u00e3o do mouse for solto/quando o dedo soltar da tela.\u00a0 Par\u00e2metros: x - um n\u00famero contendo a onde no eixo X o mouse/toque foi liberado. y - um n\u00famero contendo a onde no eixo Y o mouse/toque foi liberado.\u00a0 inertialMov:pointerLeave() Invoque este m\u00e9todo quando o mouse/toque sair dos limites do controle da tela.\u00a0 inertialMov:pointerWheel(deltaX, deltaY) Invoque este m\u00e9todo quando o usu\u00e1rio rolar a rodinha do mouse.\u00a0 Par\u00e2metros: deltaX - um n\u00famero contendo a varia\u00e7\u00e3o do eixo X, isto \u00e9, o quanto se pretende scrollar no eixo X. deltaY - um n\u00famero contendo a varia\u00e7\u00e3o do eixo Y, isto \u00e9, o quanto se pretende scrollar no eixo Y."},{"location":"ObjetoInertialMovement/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o objeto possuir novas coordenadas para seu item/scroll.\u00a0 Utilize o m\u00e9todo \"getPos\" para descobrir a nova posi\u00e7\u00e3o."},{"location":"ObjetoInertialMovement/#exemplos","title":"Exemplos","text":"<p>Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents</p>"},{"location":"ObjetoJogador/","title":"Objeto Jogador","text":""},{"location":"ObjetoJogador/#objeto-jogador_1","title":"Objeto Jogador","text":"<p>Este objeto representa um usu\u00e1rio em uma mesa aberta no RRPG Firecast.</p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li>Se um mesmo usu\u00e1rio estiver em mais de 1 mesa ao mesmo tempo, existir\u00e1 1 Objeto Jogador distinto para cada mesa em que ele estiver.</li> </ul> <p> </p>"},{"location":"ObjetoJogador/#heranca","title":"Heran\u00e7a","text":"<p>O Objeto Jogador possui todas as caracter\u00edsticas de um WrappedObject. Veja:</p> <ul> <li>Objeto WrappedObject</li> </ul> <p></p>"},{"location":"ObjetoJogador/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Jogador tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoJogador/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o mesa Objeto Mesa Somente leitura, cont\u00e9m o Objeto Mesa que representa em qual mesa este usu\u00e1rio est\u00e1.\u00a0 login String Somente leitura, cont\u00e9m o login do usu\u00e1rio.\u00a0 nick String Somente leitura, cont\u00e9m o nick do usu\u00e1rio.\u00a0 avatar String Somente leitura, cont\u00e9m a URL da imagem de seu avatar.\u00a0 capa String Somente leitura, cont\u00e9m a URL da imagem de capa do usu\u00e1rio.\u00a0 isGold Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Gold.\u00a0 isGoldPlus Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Gold Plus.\u00a0 isRuby Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Ruby.\u00a0 isAusente Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver aparentemente ausente do computador.\u00a0 isCnxDormente Boolean Somente leitura, cont\u00e9m true se a conex\u00e3o do usu\u00e1rio est\u00e1 dormente, isto \u00e9, o usu\u00e1rio perdeu a conex\u00e3o com o RRPG e est\u00e1 tentando a recuperar de volta.\u00a0 isSessaoMobile Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver conectado usando um dispositivo m\u00f3vel (celular/tablet)\u00a0 isEspectador Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio est\u00e1 no modo Espectador na mesa.\u00a0 isJogador Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +jogador na mesa.\u00a0 isMestre Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +mestre na mesa.\u00a0 isJuggernaut Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +juggernaut na mesa.\u00a0 isMudo Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +mudo na mesa.\u00a0 isCego Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +cego na mesa.\u00a0 haveVoice ou ** haveVoz** Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +voz na mesa.\u00a0 codigoInterno Integer Somente leitura, cont\u00e9m um n\u00famero que identifica o jogador naquela mesa.\u00a0 personagemPrincipal Integer Somente leitura, o c\u00f3digo interno do item do personagem principal do jogador na mesa.\u00a0 Este valor \u00e9 o mesmo valor da propriedade \"codigoInterno\" dos objetos BibliotecaItem\u00a0 O valor -1 significa que o jogador n\u00e3o tem personagem."},{"location":"ObjetoJogador/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o jogador:isType(typeName) Retorna true se passado \"jogador\" como par\u00e2metro.\u00a0 jogador:requestSetCego(cego) Requisita a altera\u00e7\u00e3o da propriedade isCego do jogador.\u00a0 Par\u00e2metros: cego - Booleano, onde true significa colocar o modo \"+cego\" e false colocar o modo \"-cego\".\u00a0 Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG.\u00a0 jogador:requestSetMudo(mudo) Requisita a altera\u00e7\u00e3o da propriedade isMudo do jogador.\u00a0 Par\u00e2metros: mudo - Booleano, onde true significa colocar o modo \"+mudo\" e false colocar o modo \"-mudo\".\u00a0 Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG.\u00a0 jogador:requestSetVoz(voz) Requisita a altera\u00e7\u00e3o da propriedade haveVoice do jogador.\u00a0 Par\u00e2metros: voz - Booleano, onde true significa colocar o modo \"+voz\" e false colocar o modo \"-voz\".\u00a0 Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG.\u00a0 jogador:requestSetJogador(isJogador) Requisita a altera\u00e7\u00e3o da propriedade isJogador do usu\u00e1rio.\u00a0 Par\u00e2metros: isJogador - Booleano, onde true significa colocar o modo \"+jogador\" e false colocar o modo \"-jogador\".\u00a0 Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG.\u00a0 jogador:requestKick(); Requisita o kick (expuls\u00e3o) do jogador da mesa.\u00a0 Observa\u00e7\u00f5es: O kick s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-lo. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG.\u00a0 jogador:requestSetBarValue(index, currentValue, maxValue) Requisita a altera\u00e7\u00e3o de valores em uma das barrinhas de status do jogador.\u00a0 Par\u00e2metros: index - um n\u00famero que varia de 1 a 4, indicando qual barrinha deseja-se alterar os valores. currentValue - Um n\u00famero representando o novo valor atual da barrinha ou nil se n\u00e3o quiser alterar este campo. maxValue - Um n\u00famero representando o novo valor m\u00e1ximo da barrinha ou nil se n\u00e3o quiser alterar este campo.\u00a0 Observa\u00e7\u00f5es: A altera\u00e7\u00e3o s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-la. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG e o dono da mesa atual n\u00e3o for assinante do Gold Plus.\u00a0 jogador:requestSetEditableLine(index, text) Requisita a altera\u00e7\u00e3o de texto de uma das linhas digit\u00e1veis do jogador.\u00a0 Par\u00e2metros: index - um n\u00famero que varia de 1 a 2, indicando de qual linha se deve alterar o texto. text - Uma cadeia de caracteres/texto contendo o novo texto que ser\u00e1 aplicao \u00e0 linha digit\u00e1vel especificada..\u00a0 Observa\u00e7\u00f5es: A altera\u00e7\u00e3o s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-la. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG e o dono da mesa atual n\u00e3o for assinante do Gold Plus.\u00a0 jogador:getBarValue(index) Retorna os valores atuais de uma das barrinhas de status do jogador.\u00a0 Par\u00e2metros: index - um n\u00famero que varia de 1 a 4, indicando de qual barrinha se deseja obter informa\u00e7\u00f5es.\u00a0 Retorno: Esta fun\u00e7\u00e3o retorna 3 valores na seguinte ordem: currentValue - Um n\u00famero, valor atual da barrinha maxValue - Um n\u00famero, valor m\u00e1ximo da barrinha percent - Um n\u00famero, percentual da barrinha\u00a0 Observa\u00e7\u00f5es: Se index indicar uma barrinha que n\u00e3o est\u00e1 ativa na mesa, os tr\u00eas valores retornados (currentValue, maxValue e percent) ser\u00e3o nil. Se o usu\u00e1rio atual n\u00e3o tiver permiss\u00f5es para ver os n\u00fameros da barinha (isto \u00e9, a visibilidade est\u00e1 protegida), currentValue e maxValue ser\u00e3o retornados como nil enquanto percent trar\u00e1 uma porcentagem v\u00e1lida.\u00a0 Exemplo: local atual, maximo, percent = player:getBarValue(1);\u00a0 jogador:getEditableLine(index) Retorna os o texto atual de uma das linhas digit\u00e1veis do jogador.\u00a0 Par\u00e2metros: index - um n\u00famero que varia de 1 a 2, indicando de qual linha se deseja obter informa\u00e7\u00f5es.\u00a0 Retorno: Uma cadeia de caracteres/texto contendo o que est\u00e1 escrito na linha digit\u00e1vel especificada."},{"location":"ObjetoJogador/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoJogador/#exemplo-1-uma-ficha-que-exibe-uma-mensagem-com-a-lista-de-login-e-nick-dos-jogadores-que-estao-na-mesa","title":"Exemplo 1 - Uma ficha que exibe uma mensagem com a lista de Login e Nick dos jogadores que est\u00e3o na mesa","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button&gt; \\&lt;event\u00a0name=\"onClick\"&gt; local\u00a0msg\u00a0=\u00a0\"\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0mesaDoPersonagem\u00a0=\u00a0rrpg.getMesaDe(sheet); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0jogadores\u00a0=\u00a0mesaDoPersonagem.jogadores;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0for\u00a0i\u00a0=\u00a01,\u00a0#jogadores,\u00a01\u00a0do local\u00a0objJogador\u00a0=\u00a0jogadores[i]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 msg\u00a0=\u00a0msg\u00a0..\u00a0objJogador.nick\u00a0..\u00a0\" (\"\u00a0..\u00a0objJogador.login\u00a0..\u00a0\")\\n\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(msg); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;/form&gt; <p>\u00a0 \u00a0 \\ Neste exemplo, tamb\u00e9m foram usados:</p> <ul> <li>fun\u00e7\u00e3o rrpg.GetMesaDe</li> <li>propriedade jogadores do Objeto Mesa</li> </ul> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook</p>"},{"location":"ObjetoMesa/","title":"Objeto Mesa","text":""},{"location":"ObjetoMesa/#objeto-mesa_1","title":"Objeto Mesa","text":"<p>Este objeto representa uma mesa aberta no Firecast.</p> <p> </p>"},{"location":"ObjetoMesa/#heranca","title":"Heran\u00e7a","text":"<p>O Objeto Mesa possui todas as caracter\u00edsticas de um WrappedObject. Veja:</p> <ul> <li>Objeto WrappedObject</li> </ul> <p></p>"},{"location":"ObjetoMesa/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Mesa tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoMesa/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o codigoInterno Integer Somente leitura, cont\u00e9m o c\u00f3digo interno da mesa que \u00e9 usado para identific\u00e1-la unicamente em todo o RRPG Firecast.\u00a0 nome String Somente leitura, cont\u00e9m o nome da mesa.\u00a0 msgStatus String Somente leitura, cont\u00e9m a mensagem de status da mesa.\u00a0 site String Somente leitura, cont\u00e9m o endere\u00e7o do site da mesa.\u00a0 logotipo String Somente leitura, cont\u00e9m a URL da imagem logotipo da mesa.\u00a0 sistema String Somente leitura, cont\u00e9m o sistema de RPG da mesa.\u00a0 msgBoasVindas String Somente leitura, cont\u00e9m o texto da mensagem de boas vindas da mesa.\u00a0 isRestrito18Anos Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como n\u00e3o recomendada para menores de 18 anos.\u00a0 haVagas Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como h\u00e1 vagas.\u00a0 isModerada Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como Moderada.\u00a0 podeTablesDock Boolean Somente leitura, cont\u00e9m true se a mesa pode exibir Table's Dock do usu\u00e1rio. \u00c9 true quando o criador da mesa \u00e9 Gold Plus ou quando o usu\u00e1rio local \u00e9 assinante Gold.\u00a0 jogadores Arranjo de Objeto Jogador Somente leitura, cont\u00e9m um arranjo de Objeto Jogador representando todos os usu\u00e1rios que est\u00e3o conectados na mesa no momento.\u00a0 Um arranjo \u00e9 uma tabela lua indexada de 1 a N, onde N \u00e9 o comprimento da tabela (operador # no lua)\u00a0 meuJogador Objeto Jogador Somente leitura, cont\u00e9m o Objeto Jogador do usu\u00e1rio que est\u00e1 usando o RRPG.\u00a0 biblioteca Objeto BibliotecaItem Somente leitura, cont\u00e9m o objeto BibliotecaItem raiz da biblioteca da mesa.\u00a0 A raiz da biblioteca \u00e9 aquela pasta que tem no topo da mesma, de nome \"Biblioteca\".\u00a0 chat Objeto Chat Somente leitura, cont\u00e9m o Objeto Chat da interface de bate papo principal da mesa.\u00a0 activeChat Objeto Chat Somente leitura, cont\u00e9m o Objeto Chat da mesa que est\u00e1 atualmente ativo/focado na interface."},{"location":"ObjetoMesa/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o mesa:isType(typeName) Retorna true se passado \"mesa\" como par\u00e2metro.\u00a0 mesa:findBibliotecaItem(codigoInterno) Dado um n\u00famero c\u00f3digo interno, localiza o objeto BibliotecaItem que possui \"codigoInterno\" igual ao valor passado no par\u00e2metro \"codigoInterno\".\u00a0 Retorna um objeto BibliotecaItem ou nil caso n\u00e3o encontre.\u00a0 mesa:findJogador(loginOuCodigoInterno) Dado um login de usu\u00e1rio ou seu c\u00f3digo interno, localiza o objeto Jogador correspondente representando o jogador atualmente na mesa.\u00a0 Retorna um objeto Jogador ou nil caso n\u00e3o encontre.\u00a0 Observa\u00e7\u00e3o: A fun\u00e7\u00e3o retorna nil se o usu\u00e1rio n\u00e3o estiver na mesa no momento, mesmo quando o par\u00e2metro passado for um login ou um c\u00f3digo interno v\u00e1lido.\u00a0 mesa:requestSetModerada(moderada) Requisita a ativa\u00e7\u00e3o/desativa\u00e7\u00e3o da mesa moderada.\u00a0 Par\u00e2metros: moderada - Booleano, onde true significa \"Ativar a mesa moderada\" e false \"Desativar a mesa moderada\".\u00a0 Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento \"mesa moderada\" s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a.\u00a0 mesa:abrirNDBDeMesa(nome, callback[, opcoes]) Abre um NodeDatabase da mesa que est\u00e1 fisicamente armazenado no servidor do Firecast.\u00a0 Par\u00e2metros: nome - Cadeia de caracteres que identifica qual NodeDatabase remoto da mesa deve ser aberto. callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o NodeDatabase for carregado ou quando ocorrer um erro no carregamento. Quando o carregamento for bem sucedido, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo o Objeto Nodo raiz do NodeDatabase no primeiro par\u00e2metro. Quando ocorrer algum erro no carregamento, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo nil no primeiro par\u00e2metro. (OPCIONAL) opcoes - Uma tabela lua contendo as seguintes op\u00e7\u00f5es extras de carregamento do nodedatabase: (OPCIONAL) criar - Um booleano que define o que fazer quando o NodeDatabase n\u00e3o existir no servidor. true = criar o nodeDatabase quando n\u00e3o existir, false = falhar (invocar a fun\u00e7\u00e3o callback com valor nil) quando o nodeDatabase n\u00e3o existir. Padr\u00e3o se n\u00e3o informado: false. (OPCIONAL) callbackDeCarga - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando os dados do NodeDatabase come\u00e7arem a ser carregados pela internet. Se voc\u00ea abrir duas vezes o mesmo NodeDatabase de mesa, a segunda vez n\u00e3o ocorrer\u00e1 uma carga de dados pela internet pois o NDB j\u00e1 est\u00e1 carregado.\u00a0 Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto o NDB \u00e9 carregado em segundo plano. \u00c9 preciso informar o par\u00e2metro \"callback\" para obter o NodeDatabase carregado. Cada mesa possui seu pr\u00f3prio conjunto de NodeDatabases que existem independentemente das outras mesas. Altera\u00e7\u00f5es feitas no NodeDatabase aberto por esta fun\u00e7\u00e3o s\u00e3o automaticamente sincronizadas com os outros usu\u00e1rios que tamb\u00e9m abriram o mesmo NodeDatabase. Se o usu\u00e1rio sair da mesa, o NodeDatabase ter\u00e1 sua conex\u00e3o cortada e n\u00e3o mais sincronizar\u00e1 as altera\u00e7\u00f5es. Por padr\u00e3o, os usu\u00e1rios com o modo +mestre podem ler e alterar o NodeDatabase de mesa enquanto os demais usu\u00e1rios podem apenas ler valores. Para abrir um NodeDatabase de mesa, uma das seguintes afirmativas deve ser verdadeira: O usu\u00e1rio atual \u00e9 assinante Gold; ou O criador da mesa \u00e9 assinante Platinum.\u00a0 mesa:asyncOpenUserRoomNDB(name[, options]) Asynchronously open a per user NodeDatabase in this room that is physically stored in the Firecast server.\u00a0 Arguments: name - A string identifying which remote user NodeDatabase in this room should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true, the NodeDatabase can be created if it does not exist. Default: false skipLoad - a boolean. If true, the returned Promise will be resolved before the load process is finished. If true, you will receive a \u201cLoading node\u201d instead of a \u201cLoaded node\u201d. Default: false\u00a0 Return: a Promise of a Node Object. As default behavior, the Promise will be resolved after all data is downloaded and available to be used.\u00a0 Remarks: The content of NodeDatabases opened by this function is stored separately per-user and per-room. Each user in the room will have their own copy of the NodeDatabase identified by the \u201cname\u201d.\u00a0 Example:\u00a0 local promise =\u00a0 \u00a0 room:asyncOpenUserRoomNDB(\"exampleNodeDatabase\", {create=true}); \u00a0 promise:thenDo( \u00a0 \u00a0 function(node) \u00a0 \u00a0 \u00a0 \u00a0 -- This function will be called when/if the * \u00a0 \u00a0 \u00a0 \u00a0 -- load completes. The first argument, * \u00a0 \u00a0 \u00a0 \u00a0 -- \"node\", contains the root node of the -- opened nodedatabase \u00a0 \u00a0 end, \u00a0 \u00a0\u00a0 \u00a0 \u00a0 function(errorMsg) \u00a0 \u00a0 \u00a0 \u00a0 -- This function will be called when/if the * \u00a0 \u00a0 \u00a0 \u00a0 -- load fails. The first argument, * \u00a0 \u00a0 \u00a0 \u00a0 -- \"errorMsg\", contains the message explaining * \u00a0 \u00a0 \u00a0 \u00a0 -- why it was not possible to open the -- nodeDatabase* \u00a0 \u00a0 end);"},{"location":"ObjetoMesa/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoMesa/#exemplo-1-exibindo-uma-mensagem-com-o-nome-e-sistema-de-todas-as-mesas-que-o-usuario-esta-dentro","title":"Exemplo 1 - Exibindo uma mensagem com o nome e sistema de todas as mesas que o usu\u00e1rio est\u00e1 dentro.","text":"local\u00a0mesas\u00a0=\u00a0rrpg.getMesas(); local\u00a0msg\u00a0=\u00a0\"\";\u00a0 for\u00a0i\u00a0=\u00a01,\u00a0#mesas,\u00a01\u00a0do local\u00a0objMesa\u00a0=\u00a0mesas[i]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 msg\u00a0=\u00a0msg\u00a0..\u00a0objMesa.nome\u00a0..\u00a0\" (\"\u00a0..\u00a0objMesa.sistema\u00a0..\u00a0\")\\n\"; end;\u00a0 if\u00a0msg\u00a0~=\u00a0\"\"\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 showMessage(msg); else \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"O usu\u00e1rio n\u00e3o est\u00e1 em nenhuma mesa\"); end; <p>\\ \u00a0</p> <p></p> <p>Created with the Personal Edition of HelpNDoc: Easily create Qt Help files</p>"},{"location":"ObjetoNodeObserver/","title":"Objeto NodeObserver","text":""},{"location":"ObjetoNodeObserver/#objeto-nodeobserver_1","title":"Objeto NodeObserver","text":"<p>Este objeto representa um NodeObserver, um mecanismo capaz de monitorar e notificar mudan\u00e7as que ocorrerem em um determinado Nodo do NodeDatabase.</p> <p> </p>"},{"location":"ObjetoNodeObserver/#como-instanciar-um-nodeobserver","title":"Como instanciar um NodeObserver","text":"<p>\u00c9 poss\u00edvel instanciar um NodeObserver atrav\u00e9s do m\u00e9todo NDB.newObserver</p> <p></p>"},{"location":"ObjetoNodeObserver/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>O objeto NodeObserver possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoNodeObserver/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o enabled Boolean Determina se o NodeObserve est\u00e1 ativo e se pode disparar eventos notificando mudan\u00e7as. Valor padr\u00e3o: true\u00a0 node objeto Nodo Somente leitura, cont\u00e9m o objeto Nodo que est\u00e1 sendo monitorado pelo NodeObserver"},{"location":"ObjetoNodeObserver/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado no nodo que est\u00e1 sendo monitorado.\u00a0 Par\u00e2metros: node - O objeto nodo filho que foi criado.\u00a0 onChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 deletado do nodo que est\u00e1 sendo monitorado.\u00a0 Par\u00e2metros: node - O objeto nodo filho que foi removido.\u00a0 onDeepChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado no nodo que est\u00e1 sendo monitorado ou em algum de seus filhos (monitoramento recursivo).\u00a0 Par\u00e2metros: node - O objeto nodo filho que foi criado.\u00a0 onDeepChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 deletado do nodo que est\u00e1 sendo monitorado ou de algum de seus filhos (monitoramento recursivo).\u00a0 Par\u00e2metros: node - O objeto nodo filho que foi removido.\u00a0 onChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo que est\u00e1 sendo monitorado \u00e9 alterado.\u00a0 Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo.\u00a0 onDeepChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo ou nodo filho do nodo que est\u00e1 sendo monitorado \u00e9 alterado (monitoramento recursivo).\u00a0 Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo.\u00a0 onPersistedChanged Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no servidor de algum atributo do nodo que est\u00e1 sendo monitrado.\u00a0 Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor no servidor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor de servidor do atributo.\u00a0 Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onDeepPersistedChanged Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no servidor de algum atributo do nodoou nodo filho que est\u00e1 sendo monitrado (monitoramento recursivo).\u00a0 Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor no servidor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor de servidor do atributo.\u00a0 Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onUserChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo que est\u00e1 sendo monitorado \u00e9 alterado porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua.\u00a0 Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo.\u00a0 Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos do nodo monitorado.\u00a0 onDeepUserChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo ou nodo filho que est\u00e1 sendo monitorado \u00e9 alterado porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua (monitoramento recursivo).\u00a0 Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo.\u00a0 Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos do nodo ou nodo filho monitorado.\u00a0 onDeleted Este evento \u00e9 invocado quando o objeto nodo que est\u00e1 sendo monitorado \u00e9 apagado.\u00a0 Par\u00e2metros: node - O objeto nodo que foi removido.\u00a0 onPermissionListChanged Este evento \u00e9 invocado quando defini\u00e7\u00f5es de permiss\u00f5es de acesso s\u00e3o inseridas ou removidas do objeto nodo que est\u00e1 sendo monitorado.\u00a0 Par\u00e2metros: node - O objeto nodo que sofreu altera\u00e7\u00e3o na lista de defini\u00e7\u00f5es de permiss\u00f5es.\u00a0 onDeepPermissionListChanged Este evento \u00e9 invocado quando defini\u00e7\u00f5es de permiss\u00f5es de acesso s\u00e3o inseridas ou removidas do objeto nodo que est\u00e1 sendo monitorado ou em algum de seus nodos filhos (monitoramento recursivo).\u00a0 Par\u00e2metros: node - O objeto nodo que sofreu altera\u00e7\u00e3o na lista de defini\u00e7\u00f5es de permiss\u00f5es.\u00a0 onFinalPermissionsCouldBeChanged Este evento \u00e9 invocado quando as permiss\u00f5es finais de acesso a este nodo podem ter sofrido altera\u00e7\u00f5es porque uma permiss\u00e3o em um nodo pai foi removida/inserida e, por consequ\u00eancia, pode ter sido herdada pelo nodo que est\u00e1 sendo monitorado, ou as permiss\u00f5es finais podem ter sofrido altera\u00e7\u00f5es porque o usu\u00e1rio mudou de grupo de permiss\u00f5es (Exemplo: O usu\u00e1rio atual virou +mestre).\u00a0 Par\u00e2metros: node - O objeto nodo que pode ter sofrido altera\u00e7\u00e3o nas permiss\u00f5es finais.\u00a0 onStateChanged Este evento \u00e9 invocado quando o estado de carregamento do node (ver ndb.getState) muda.\u00a0 Par\u00e2metros: node - O objeto nodo que sofreu mudan\u00e7a no estado de carregamento."},{"location":"ObjetoNodeObserver/#observacoes","title":"Observa\u00e7\u00f5es:","text":"<ul> <li>Se um NodeObserver n\u00e3o for mais acess\u00edvel pelo c\u00f3digo e for destru\u00eddo pela coleta de lixos do Lua, os eventos n\u00e3o ser\u00e3o mais disparados.</li> </ul>"},{"location":"ObjetoNodeObserver/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoNodeObserver/#exemplo-1-monitorando-um-node-sheet","title":"Exemplo 1 - Monitorando um Node \"sheet\"","text":"self.observer\u00a0=\u00a0ndb.newObserver(sheet);\u00a0 \u00a0 \u00a0 \u00a0 self.observer.onChildAdded\u00a0= \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(node) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- \u00a0Esta fun\u00e7\u00e3o ser\u00e1 chamada quando um novo Nodo Filho for criado em sheet end;\u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 self.observer.onChildRemoved\u00a0= \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(node) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- \u00a0Esta fun\u00e7\u00e3o ser\u00e1 chamada quando um nodo Filho for removido de sheet end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 self.observer.onChanged\u00a0= \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(node,\u00a0attribute,\u00a0oldValue) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando algum atributo de sheet mudar de valor -- attribute possui o nome do atributo que sofreu altera\u00e7\u00e3o end; <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs</p>"},{"location":"ObjetoNodeTransaction/","title":"Objeto NodeTransaction","text":""},{"location":"ObjetoNodeTransaction/#objeto-nodetransaction_1","title":"Objeto NodeTransaction","text":"<p>Este objeto representa uma transa\u00e7\u00e3o em um NodeDatabase, um mecanismo que d\u00e1 maior controle ao programador sobre as mudan\u00e7as locais.</p> <p>Uma Transa\u00e7\u00e3o \u00e9 um objeto que armazena localmente todas as mudan\u00e7a realizadas em um NodeDatabase para que voc\u00ea possa decidir, mais tarde, se quer descart\u00e1-las ou confirm\u00e1-las.</p> <p> </p>"},{"location":"ObjetoNodeTransaction/#como-instanciar-um-nodetransaction","title":"Como instanciar um NodeTransaction","text":"<p>\u00c9 poss\u00edvel instanciar um NodeTransaction atrav\u00e9s do m\u00e9todo ndb.newTransaction</p> <p></p>"},{"location":"ObjetoNodeTransaction/#observacao-importante","title":"Observa\u00e7\u00e3o importante:","text":"<p>Apenas criar um NodeTransaction n\u00e3o faz com que os dados sejam controlados. \u00c9 preciso tamb\u00e9m utilizar os m\u00e9todos ndb.pushTransaction e ndb.popTransaction para isso.</p>"},{"location":"ObjetoNodeTransaction/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>O objeto NodeTransaction possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoNodeTransaction/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o"},{"location":"ObjetoNodeTransaction/#metodos","title":"M\u00e9todos","text":"Nome do m\u00e9todo Descri\u00e7\u00e3o transaction:commit() Confirma as mudan\u00e7as que estavam armazenadas localmente.\u00a0 Ao realizar Commit, os dados ser\u00e3o salvos em arquivo/Servidor RRPG e compartilhados com os demais usu\u00e1rios.\u00a0 transaction:rollback() Desfaz as mudan\u00e7as que estavam armazenadas localmente.\u00a0 transaction:createUndoData() Cria um objeto NodeUndoData que contem as instru\u00e7\u00f5es necess\u00e1rio para desfazer todas as mudan\u00e7as que est\u00e3o armazenadas localmente.\u00a0 Voc\u00ea pode, ent\u00e3o, depois, decidir se deseja desfazer as mudan\u00e7as guardadas utilizando o m\u00e9todo transaction:applyUndoData\u00a0 Observa\u00e7\u00f5es: Armazenar o NodeUndoData \u00e9 uma \u00f3tima forma de criar recursos parecidos com o famoso \"ctrl+z\" Esta fun\u00e7\u00e3o deve ser chamada antes de invocar \"commit\" para ter o efeito esperado.\u00a0 transaction:applyUndoData(undoData) Aplica as instru\u00e7\u00f5es de um objeto NodeUndoData para desfazer mudan\u00e7as previamente feitas.\u00a0 Par\u00e2metros: undoData - O objeto NodeUndoData que cont\u00e9m o material/instru\u00e7\u00f5es para desfazer mudan\u00e7as, criado previamente pela fun\u00e7\u00e3o transaction:createUndoData()\u00a0 Observa\u00e7\u00f5es: Ap\u00f3s invocar este m\u00e9todo, ainda \u00e9 necess\u00e1rio invocar \"commit\" para que os dados sejam de fato desfeitos Materiais de undo devem ser aplicados na ordem reversa que ocorreram e apenas uma vez. Desfazer mudan\u00e7as fora de ordem ou mais de uma vez leva a um comportamento indefinido"},{"location":"ObjetoNodeTransaction/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoNodeTransaction/#exemplo-1-exemplo-de-uso-do-transaction","title":"Exemplo 1 - Exemplo de uso do Transaction","text":"local\u00a0tr1\u00a0=\u00a0ndb.newTransaction(sheet); local\u00a0tr2\u00a0=\u00a0ndb.newTransaction(sheet); \u00a0 sheet.nome\u00a0=\u00a0\"Maria\";\u00a0-- Mudan\u00e7a 1 \u00a0 ndb.pushTransaction(sheet,\u00a0tr1);\u00a0 \u00a0 \u00a0 \u00a0 sheet.idade\u00a0=\u00a020;\u00a0-- Mudan\u00e7a 2 \u00a0 ndb.pushTransaction(sheet,\u00a0tr2); sheet.nome\u00a0=\u00a0\"Ana\";\u00a0\u00a0-- Mudan\u00e7a 3 ndb.popTransaction(sheet); \u00a0 sheet.altura\u00a0=\u00a0\"1.60m\";\u00a0\u00a0-- Mudan\u00e7a 4 ndb.popTransaction(sheet); \u00a0 tr2:rollback(); \u00a0 --[[ Ao final da execu\u00e7\u00e3o: * Mudan\u00e7a 1 - Ser\u00e1 salva e compartilhada com todos, pois foi realizada fora de qualquer transa\u00e7\u00e3o. * Mudan\u00e7as 2 e 4 - Ser\u00e1 mantida APENAS localmente e ningu\u00e9m mais enxergar\u00e1 as mudan\u00e7as, pois foram feitas na transa\u00e7\u00e3o \"tr1\" e esta n\u00e3o recebeu nem commit e nem rollback. Esta mudan\u00e7a local existir\u00e1 enquanto o objeto \"tr1\" existir. Quando ele for destru\u00eddo pelo coletor de lixo do Lua, as mudan\u00e7as ser\u00e3o desfeitas. * Mudan\u00e7a 3 - Ser\u00e1 desfeita pois foi realizada na transa\u00e7\u00e3o \"tr2\" e ela recebeu uma chamada de \"rollback\" ]]--"},{"location":"ObjetoNodeTransaction/#exemplo-2-perguntando-ao-usuario-se-ele-deseja-salvar-mudancas-feitas","title":"Exemplo 2 - Perguntando ao usu\u00e1rio se ele deseja salvar mudan\u00e7as feitas","text":"local\u00a0tr\u00a0=\u00a0ndb.newTransaction(sheet); \u00a0\u00a0 ndb.pushTransaction(sheet,\u00a0tr); sheet.nome\u00a0=\u00a0\"maria\"; sheet.idade\u00a0=\u00a020; sheet.altura\u00a0=\u00a0\"1.60m\" ndb.popTransaction(sheet); \u00a0\u00a0 dialogs.confirmYesNo(\"Deseja salvar as altera\u00e7\u00f5es?\", \u00a0 \u00a0\u00a0function(resposta) \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0resposta\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 tr:commit(); \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 tr:rollback(); \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0\u00a0end);\u00a0 <p>Created with the Personal Edition of HelpNDoc: Benefits of a Help Authoring Tool</p>"},{"location":"ObjetoNodeUndoData/","title":"Objeto NodeUndoData","text":""},{"location":"ObjetoNodeUndoData/#objeto-nodeundodata_1","title":"Objeto NodeUndoData","text":"<p>Este objeto representa um material de \"desfazer\" de um NodeDatabase, uma estrutura que permite criar mecanismos parecidos com o famoso \"ctrl+z\"</p> <p>NodeUndoData armazena internamente as informa\u00e7\u00f5es necess\u00e1rias para desfazer alguma mudan\u00e7a no NodeDatabase.</p> <p> </p> <p>Para aplicar o material de \"desfazer\", voc\u00ea pode invocar o m\u00e9todo transaction:applyUndoData passando o objeto NodeUndoData.</p> <p> </p>"},{"location":"ObjetoNodeUndoData/#como-instanciar-um-nodeundodata","title":"Como instanciar um NodeUndoData","text":"<p>\u00c9 poss\u00edvel instanciar um NodeUndoData atrav\u00e9s do m\u00e9todo transaction:createUndoData</p> <p></p>"},{"location":"ObjetoNodeUndoData/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>O objeto NodeUndoData possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoNodeUndoData/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o"},{"location":"ObjetoNodeUndoData/#metodos","title":"M\u00e9todos","text":"Nome do m\u00e9todo Descri\u00e7\u00e3o"},{"location":"ObjetoNodeUndoData/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoNodeUndoData/#_1","title":"Objeto NodeUndoData","text":"<p>Created with the Personal Edition of HelpNDoc: Step-by-Step Guide: How to Turn Your Word Document into an eBook</p>"},{"location":"ObjetoNodo/","title":"Objeto Nodo","text":""},{"location":"ObjetoNodo/#objeto-nodo-de-um-nodedatabase","title":"Objeto Nodo de um NodeDatabase","text":"<p>Um Objeto Nodo \u00e9 uma tabela LUA com um comportamento diferenciado que representa um n\u00f3/nodo de um NodeDatabase. Suas principais caracter\u00edsticas s\u00e3o:</p> <p> </p> <p> </p> <ul> <li>Aparentam ser uma tabela/objeto LUA normal. Isto \u00e9, voc\u00ea pode ler e atribuir propriedades como faria com qualquer outra tabela/objeto LUA.</li> <li>Todas as altera\u00e7\u00f5es feitas no objeto nodo s\u00e3o salvas e sincronizadas automaticamente com as outras pessoas que est\u00e3o acessando o mesmo NodeDatabase.</li> <li>Quando outras pessoas alteram atributos do nodo, o seu objeto nodo recebe e reflete tais altera\u00e7\u00f5es automaticamente.</li> <li>N\u00e3o \u00e9 poss\u00edvel atribuir uma \u201cfun\u00e7\u00e3o\u201d a uma propriedade do nodo.</li> <li>Quando se atribui uma tabela LUA a uma propriedade do nodo, uma c\u00f3pia recursiva de todos os valores \u00e9 realizada.\u00a0</li> <li>O nome dos atributos s\u00e3o case-insensitive, isto \u00e9, n\u00e3o s\u00e3o diferenciadas letras min\u00fasculas das mai\u00fasculas (Ex: \u201cnome\u201d e \u201cNoME\u201d representam o mesmo atributo do nodo).</li> </ul> <p> </p>"},{"location":"ObjetoNodo/#alterando-atributos-de-um-objeto-nodo","title":"Alterando atributos de um Objeto Nodo","text":"<p>Para alterar um atributo de um Objeto Nodo basta fazer uma atribui\u00e7\u00e3o como voc\u00ea faria em qualquer outra tabela/objeto Lua.</p> <p> </p> <p>Exemplo:</p> require(\"ndb.lua\"); local\u00a0nodoRaiz\u00a0=\u00a0ndb.load(\"MeuNodeDatabase.xml\");\u00a0 --[[ nodoRaiz \u00e9 um Objeto Nodo --]] nodoRaiz.atributo1\u00a0=\u00a0\"valor em string\"; nodoRaiz.atributo2\u00a0=\u00a02; nodoRaiz.atributo3\u00a0=\u00a0true; nodoRaiz.atributoDeOutroNome\u00a0=\u00a06.7;\u00a0 nodoRaiz[\"atributo5\"]\u00a0=\u00a0\"outro valor em string\"; nodoRaiz[\"atributo6\"]\u00a0=\u00a09999; nodoRaiz[\"atributo7\"]\u00a0=\u00a0false; <p> </p> <p> </p> <p>N\u00e3o tem mist\u00e9rio! Voc\u00ea atribui normalmente.... S\u00f3 n\u00e3o s\u00e3o aceitos function como valores.\u00a0</p> <p>As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.</p> <p> </p>"},{"location":"ObjetoNodo/#lendo-atributos-de-um-objeto-nodo","title":"Lendo atributos de um Objeto Nodo.","text":"<p>Mais uma vez, n\u00e3o h\u00e1 mist\u00e9rio: Basta acessar normalmente como uma tabela LUA qualquer.</p> <p> </p> <p>Exemplo:</p> require(\"ndb.lua\"); local\u00a0nodoRaiz\u00a0=\u00a0ndb.load(\"MeuNodeDatabase.xml\");\u00a0 --[[ nodoRaiz \u00e9 um Objeto Nodo --]] \u00a0showMessage(nodoRaiz.atributo1);\u00a0 if\u00a0nodoRaiz.atributo2\u00a0==\u00a02\u00a0then -- faz alguma coisa.... end;\u00a0 nodoRaiz.atributo200\u00a0=\u00a0nodoRaiz.atributo3; nodoRaiz.atributo250\u00a0=\u00a0nodoRaiz.atributo2\u00a0+\u00a050; local\u00a0valor\u00a0=\u00a0nodoRaiz[\"atributoDeOutroNome\"]; valor\u00a0=\u00a0nodoRaiz[\"atributo3\"]; <p> </p>"},{"location":"ObjetoNodo/#removendo-um-atributo-de-um-objeto-nodo","title":"Removendo um atributo de um Objeto Nodo","text":"<p>Basta atribuir nil ao atributo que deseja remover.</p> <p> </p> <p>Exemplo:</p> require(\"ndb.lua\"); local\u00a0nodoRaiz\u00a0=\u00a0ndb.load(\"MeuNodeDatabase.xml\");\u00a0 --[[ nodoRaiz \u00e9 um Objeto Nodo --]]\u00a0 nodoRaiz.atributoQueDesejoRemover\u00a0=\u00a0nil; nodoRaiz.atributo1\u00a0=\u00a0nil; nodoRaiz[\"atributo2\"]\u00a0=\u00a0nil; <p> </p> <p>As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.</p> <p> </p>"},{"location":"ObjetoNodo/#criando-um-objeto-nodo-filho","title":"Criando um Objeto Nodo filho","text":"<p>Basta atribuir uma tabela a uma propriedade....</p> <p> </p> <p>Exemplo:</p> require(\"ndb.lua\"); local\u00a0nodoRaiz\u00a0=\u00a0ndb.load(\"MeuNodeDatabase.xml\");\u00a0 --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- Ap\u00f3s a linha abaixo, nodoRaiz.nodoFilho ser\u00e1 um Objeto Nodo filho de \"nodoRaiz\" de nome \"nodoFilho\" nodoRaiz.nodoFilho\u00a0=\u00a0{};\u00a0\u00a0\u00a0 -- Na linha abaixo, nodoRaiz.nodoFilho2 ser\u00e1 um Objeto Nodo filho de \"nodoRaiz\" de nome \"nodoFilho2\". -- Al\u00e9m disso, o novo Objeto Nodo j\u00e1 possuir\u00e1 os valores nome=\"Meu Nome\" e idade=7. nodoRaiz.nodoFilho2\u00a0=\u00a0{nome=\"Meu Nome\",\u00a0idade=7}; \u00a0-- Como nodoRaiz.nodoFilho \u00e9 um Objeto Nodo, voc\u00ea pode criar um nodo filho \"nodoNeto\" dentro de  --\"nodoRaiz.nodoFilho\" facilmente: nodoRaiz.nodoFilho.nodoNeto\u00a0=\u00a0{};\u00a0 -- E pode atribuir propriedades a ele normalmente, pois \"nodoNeto\" tamb\u00e9m \u00e9 um Objeto Nodo. nodoRaiz.nodoFilho.nodoNeto.atributoDoNeto\u00a0=\u00a0\"Valor\"; <p> </p> <p>As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.</p> <p> </p>"},{"location":"ObjetoNodo/#deletando-um-objeto-nodo","title":"Deletando um Objeto Nodo","text":"<p>basta atribuir nil ou usar a fun\u00e7\u00e3o \"ndb.deleteNode(nodo)\"</p> <p> </p> <p>Exemplo:</p> require(\"ndb.lua\"); local\u00a0nodoRaiz\u00a0=\u00a0ndb.load(\"MeuNodeDatabase.xml\");\u00a0 --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- apagando o nodo \"nodoFilho\" e todos seus filhos recursivamente do nodo raiz nodoRaiz.nodoFilho\u00a0=\u00a0nil;\u00a0 -- apgando usando a fun\u00e7\u00e3o ndb.deleteNode(node) ndb.deleteNode(nodoRaiz.nodoFilho2); <p> </p> <p>As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.</p> <p> </p> <p> </p>"},{"location":"ObjetoNodo/#duplicando-um-objeto-nodo","title":"Duplicando um Objeto Nodo","text":"<p>Basta fazer uma atribui\u00e7\u00e3o simples...</p> <p> </p> <p>Exemplo:</p> require(\"ndb.lua\"); local\u00a0nodoRaiz\u00a0=\u00a0ndb.load(\"MeuNodeDatabase.xml\");\u00a0 --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- criando um nodo filho com valores padr\u00f5es: nodoRaiz.nodoFilho\u00a0=\u00a0{nome=\"Jos\u00e9\",\u00a0idade=75,\u00a0corFavorita=\"red\",\u00a0nodoNeto={}};\u00a0 -- duplicando o nodo filho. nodoRaiz.nodoClone\u00a0=\u00a0nodoRaiz.nodoFilho; <p> </p> <p>As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.</p> <p> </p> <p> </p>"},{"location":"ObjetoNodo/#outras-operacoes-em-um-objeto-nodo","title":"Outras opera\u00e7\u00f5es em um Objeto Nodo","text":"<ul> <li>Obter o nome do objeto nodo: ndb.getNodeName(nodo);</li> <li>Limpar o conte\u00fado do objeto nodo: ndb.clearNode(nodo);</li> <li>Obter o nodo pai: ndb.getParent(nodo);</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents</p>"},{"location":"ObjetoPersonagem/","title":"Objeto Personagem","text":""},{"location":"ObjetoPersonagem/#objeto-personagem_1","title":"Objeto Personagem","text":"<p>Este objeto representa um personagem na biblioteca de uma mesa no RRPG Firecast.</p> <p> </p>"},{"location":"ObjetoPersonagem/#heranca","title":"Heran\u00e7a","text":"<p>O Objeto Personagem possui todas as caracter\u00edsticas de um Objeto BibliotecaItem. Veja:</p> <ul> <li>Objeto BibliotecaItem</li> <li>Objeto WrappedObject</li> </ul> <p></p>"},{"location":"ObjetoPersonagem/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Personagem tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoPersonagem/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o dataType String Somente leitura, cont\u00e9m o dataType da ficha do personagem, isto \u00e9, em qual formato de dados est\u00e1 a ficha do personagem.\u00a0 escritaBloqueada Boolean\u00a0 Somente leitura, cont\u00e9m true se a ficha do personagem estiver com marcada como edi\u00e7\u00e3o bloqueada.\u00a0 avatar String Somente leitura, cont\u00e9m a URL da imagem do personagem."},{"location":"ObjetoPersonagem/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o personagem:isType(typeName) Retorna true se passado \"personagem\" como par\u00e2metro.\u00a0 personagem:loadSheetNDB(callback) Abre um NodeDatabase do personagem que est\u00e1 fisicamente armazenado no servidor do RRPG.\u00a0 Par\u00e2metros: callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o NodeDatabase for carregado ou quando ocorrer um erro no carregamento. Quando o carregamento for bem sucedido, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo o Objeto Nodo raiz do NodeDatabase no primeiro par\u00e2metro. Este node \u00e9 o mesmo equivalente ao \"sheet\" do lua form de fichas. Quando ocorrer algum erro no carregamento, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo nil no primeiro par\u00e2metro.\u00a0 Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto o NDB \u00e9 carregado em segundo plano. \u00c9 preciso informar o par\u00e2metro \"callback\" para obter o NodeDatabase carregado. Cada personagem possui apenas um NodeDatabase. Altera\u00e7\u00f5es feitas no NodeDatabase aberto por esta fun\u00e7\u00e3o s\u00e3o automaticamente sincronizadas com os outros usu\u00e1rios que tamb\u00e9m abriram o mesmo NodeDatabase, inclusives com a ficha aberta localmente (se tiver aberta). Se o usu\u00e1rio sair da mesa, o NodeDatabase ter\u00e1 sua conex\u00e3o cortada e n\u00e3o mais sincronizar\u00e1 as altera\u00e7\u00f5es. Por padr\u00e3o, os usu\u00e1rios com o modo +mestre e o dono do personagem podem ler e alterar o NodeDatabase enquanto os demais usu\u00e1rios podem apenas ler valores. A fun\u00e7\u00e3o \"callback\" pode demorar um pouco para ser chamada, pois um download precisar\u00e1 ser feito se o nodedatabase do personagem ainda n\u00e3o foi carregado localmente. O que acontece ao executar esta fun\u00e7\u00e3o em um personagem que utiliza SDK 2 ou SDK 1: Um nodedatabase \u00e9 carregado mesmo assim, por\u00e9m as altera\u00e7\u00f5es feitas aqui n\u00e3o s\u00e3o refletidas na ficha pois os dados reais dela est\u00e3o salvos em outro formato e outro lugar.\u00a0 <p>Created with the Personal Edition of HelpNDoc: Free PDF documentation generator</p>"},{"location":"ObjetoRolagem/","title":"Objeto Rolagem","text":""},{"location":"ObjetoRolagem/#objeto-rolagem_1","title":"Objeto Rolagem","text":"<p>Este objeto cont\u00e9m informa\u00e7\u00f5es sobre uma rolagem de dados que ocorreu ou que poder\u00e1 ocorrer.</p> <p> </p> <p>Voc\u00ea pode criar um objeto rolagem utilizando a fun\u00e7\u00e3o rrpg.interpretarRolagem</p>"},{"location":"ObjetoRolagem/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"ObjetoRolagem/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o tipo Enumerado: \"direta\" \"storyteller\" Somente leitura, cont\u00e9m o tipo da rolagem.\u00a0 \"direta\" - Rolagem de dados padr\u00e3o.\u00a0 \"storyteller\" - Rolagem de dados storyteller. Quantidade de dados cuja face seja maior ou igual a algum numero e que um resultado natural 1 anula um sucesso\u00a0 possuiAlgumDado Boolean Somente leitura, cont\u00e9m true se a rolagem possuir pelo menos um dado de qualquer face.\u00a0 Exemplo: Na rolagem \"+5\" a propriedade conteria false, enquanto na rolagem \"d6 + 5\" conteria true.\u00a0 asString String Somente leitura, cont\u00e9m a rolagem como uma cadeia de caracteres.\u00a0 isRolado Boolean Somente leitura, cont\u00e9m true se a rolagem j\u00e1 foi executada e possui o resultado, ou false se ainda n\u00e3o.\u00a0 resultado Integer Somente leitura, cont\u00e9m o valor resultado da rolagem se ela j\u00e1 tiver sido feita. Se a rolagem ainda n\u00e3o tiver executada, cont\u00e9m 0.\u00a0 ops Arranjo de Objetos OperacaoRolagem Cont\u00e9m a lista de opera\u00e7\u00f5es \"aritm\u00e9ticas\" da rolagem.\u00a0 \u00c9 um arranjo de tabelas/objetos, isto \u00e9, uma tabela lua indexada de 1 a N, onde cada posi\u00e7\u00e3o possui uma tabela conforme a opera\u00e7\u00e3o...\u00a0 Veja Lista de Opera\u00e7\u00f5es de Rolagens"},{"location":"ObjetoRolagem/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o rolagem:interpretarString(str) Dado uma cadeia de caracteres representando uma rolagem de dados (Exemplos: \"1d20 + 5\", \"1d20 + 1d10 - 5\", etc..), atualiza as informa\u00e7\u00f5es da rolagem de dados.\u00a0 Observa\u00e7\u00e3o: Se \"str\" n\u00e3o contiver um texto de uma rolagem v\u00e1lida, o objeto rolagem \u00e9 resetado.\u00a0 rolagem:concatenar(outraRolagem) Adiciona ao final desta rolagem de dados as opera\u00e7\u00f5es \"aritm\u00e9ticas\" de outra rolagem, juntando-as.\u00a0 Par\u00e2metros: outraRolagem - uma cadeia de caracteres ou um outro objeto rolagem que ser\u00e1 concatenada.\u00a0 Retorno: Retorna o pr\u00f3prio objeto rolagem.\u00a0 rolagem:rolarLocalmente() Executa a rolagem localmente. Esta fun\u00e7\u00e3o realiza os sorteios e demais opera\u00e7\u00f5es sem haver necessidade do usu\u00e1rio estar em uma mesa. \u00a0 Observa\u00e7\u00f5es: Ap\u00f3s a chamada desta fun\u00e7\u00e3o, o resultado pode ser acessado atrav\u00e9s das propriedades \"resultado\" e \"ops\". Este resultado n\u00e3o ser\u00e1 exibido em lugar algum automaticamente e depende de voc\u00ea trat\u00e1-lo conforme desejar. Se voc\u00ea executar este m\u00e9todo em uma rolagem que j\u00e1 foi rolada, o resultado anterior ser\u00e1 sobrescrito com novos resultados."},{"location":"ObjetoRolagem/#operacoes-de-rolagem-cada-item-do-arranjo-rolagemops","title":"Opera\u00e7\u00f5es de Rolagem (Cada item do arranjo Rolagem.ops)","text":"<p>Cada opera\u00e7\u00e3o de rolagem \u00e9 uma tabela lua com as seguintes propriedades:</p> <p> </p> Propriedade Tipo Descri\u00e7\u00e3o tipo Enumerado: \"dado\" \"imediato\" \"soma\" \"subtracao\" \"comparacao\" \"ordenacao\" \"desconhecido\" Determina qual \u00e9 a opera\u00e7\u00e3o.\u00a0 \"dado\" - Um grupo de dados a serem rolados\u00a0 \"imediato\" - Um n\u00famero constante especificado pelo usu\u00e1rio.\u00a0 \"comparacao\" - Uma compara\u00e7\u00e3o entre n\u00fameros/dados.\u00a0 \"ordenacao\" - Pedido para ordenar o resultado de forma decrescente.\u00a0 Os demais valores s\u00e3o autoexplicativos.\u00a0 quantidade Integer Quando o tipo == \"dado\", determina quantos dados da face informada ser\u00e3o rolados.\u00a0 face Integer ou String Quando tipo == \"dado\", cont\u00e9m qual \u00e9 face dos dados..\u00a0 Exemplos: 4 6 8 10 \"F\"\u00a0 (dado fudge)\u00a0 resultados Arranjo de Integer Quando tipo == \"dado\" e se a rolagem j\u00e1 tiver sido feita, cont\u00e9m um arranjo de n\u00fameros representando o resultado individual de cada dado na opera\u00e7\u00e3o.\u00a0 comparacao String Quando tipo == \"comparacao\", cont\u00e9m qual \u00e9 o comparador.\u00a0 valor Integer Quando tipo == \"imediato\" cont\u00e9m o valor do n\u00famero constante literal informado. \u00a0 <p> </p> <p> </p>"},{"location":"ObjetoRolagem/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoRolagem/#exemplo-1-uma-ficha-que-rola-dados-na-mesa","title":"Exemplo 1 - Uma ficha que rola dados na mesa","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button&gt; \\&lt;event\u00a0name=\"onClick\"&gt; local\u00a0rolagem\u00a0=\u00a0rrpg.interpretarRolagem(sheet.ataqueDoPersonagem);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if not\u00a0rolagem.possuiAlgumDado\u00a0then -- se o usuario n\u00e3o tiver preenchido qual dado rolar, -- vamos adicionar um 1d20 + na \"f\u00f3rmula da rolagem\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 rolagem\u00a0=\u00a0rrpg.interpretarRolagem(\"1d20\"):concatenar(rolagem); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0mesaDoPersonagem\u00a0=\u00a0rrpg.getMesaDe(sheet); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mesaDoPersonagem.chat:rolarDados(rolagem,\u00a0\"Ataque do personagem\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;/form&gt; <p>\u00a0 \u00a0 \\ Exemplo 2 - Rolar localmente e exibir uma mensagem personalizada.</p> local\u00a0msg\u00a0=\u00a0\"\";\u00a0 -- Interpretar uma rolagem, digamos: 4d6 + 2d4 + d20 + 5 local\u00a0rolagem\u00a0=\u00a0rrpg.interpretarRolagem(\"4d6 + 2d4 + d20 + 5\");\u00a0 -- Executar a rolagem localmente rolagem:rolarLocalmente(); -- Loop para navegar em cada uma das opera\u00e7\u00f5es da rolagem for\u00a0i\u00a0=\u00a01,\u00a0#rolagem.ops,\u00a01\u00a0do local\u00a0operacao\u00a0=\u00a0rolagem.ops[i]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Vamos verificar que tipo de opera\u00e7\u00e3o \u00e9 esta. if\u00a0operacao.tipo\u00a0==\u00a0\"dado\"\u00a0then -- Adicionar \u00e0 mensagem informa\u00e7\u00f5es sobre este conjunto de dados. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 msg\u00a0=\u00a0msg\u00a0..\u00a0operacao.quantidade\u00a0..\u00a0\"d\"\u00a0..\u00a0operacao.face\u00a0..\u00a0\":\u00a0\\n\u00a0\u00a0\";\u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- Loop percorrendo cada um dos resultados individuais deste conjunto de dados. for\u00a0j\u00a0=\u00a01,\u00a0#operacao.resultados,\u00a01\u00a0do \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 msg\u00a0=\u00a0msg\u00a0..\u00a0\" \u00a0\"\u00a0..\u00a0operacao.resultados[j]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 msg\u00a0=\u00a0msg\u00a0..\u00a0\"\\n\"; \u00a0 \u00a0 \u00a0 \u00a0\u00a0elseif\u00a0operacao.tipo\u00a0==\u00a0\"imediato\"\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 msg\u00a0=\u00a0msg\u00a0..\u00a0\"Valor imediato: \"\u00a0..\u00a0operacao.valor\u00a0..\u00a0\"\\n\"; \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; end;\u00a0 -- Concatenar \u00e0 mensagem o resultado final da rolagem msg\u00a0=\u00a0msg\u00a0..\u00a0\"-------------------\u00a0\\nResultado Final: \"\u00a0..\u00a0rolagem.resultado;\u00a0 -- Exibir a mensagem que montamos. showMessage(msg); <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p>Exemplo 3 - Uma ficha fazendo um teste (de resist\u00eancia, por exemplo) e postando o resultado na mesa.</p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"&gt; \\&lt;script&gt; local function\u00a0realizarTesteDeResistencia()\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- obter a mesa do personagem local\u00a0mesaDoPersonagem\u00a0=\u00a0rrpg.getMesaDe(sheet);\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- se o usu\u00e1rio n\u00e3o preencheu modificador, vamos usar o valor 0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.modificador\u00a0=\u00a0sheet.modificador\u00a0or\u00a00;\u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mesaDoPersonagem.chat:rolarDados(\"1d20 + \"\u00a0..\u00a0sheet.modificador,\u00a0\"Teste de Resist\u00eancia\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(rolado) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- A dificuldade do teste \u00e9 15 if\u00a0rolado.resultado\u00a0&gt;=\u00a015\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mesaDoPersonagem.chat:enviarMensagem(\"SUCESSO =) voc\u00ea tirou \"\u00a0..\u00a0rolado.resultado); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mesaDoPersonagem.chat:enviarMensagem(\"FALHA =/ voc\u00ea tirou \"\u00a0..\u00a0rolado.resultado); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end);\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/script&gt; \\&lt;button\u00a0onClick=\"realizarTesteDeResistencia()\"/&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Powerful and User-Friendly Help Authoring Tool for Markdown Documents</p>"},{"location":"ObjetoScene/","title":"Objeto Scene","text":""},{"location":"ObjetoScene/#objeto-scene_1","title":"Objeto Scene","text":"<p>O Objeto Scene representa um \"tabuleiro de combate\" aberto pelo usu\u00e1rio e \u00e9 a inst\u00e2ncia principal de um Scene e, atrav\u00e9s deste objeto, o programador consegue acessar todas as propriedades do mesmo.</p> <p> </p> <p>O programador n\u00e3o consegue instanciar um \"Objeto Scene\" atrav\u00e9s do SDK 3, mas:\u00a0</p> <ul> <li>Consegue descobrir todos os Scenes abertos pelo usu\u00e1rio utilizando a fun\u00e7\u00e3o SceneLib.getScenes</li> <li>Consegue instalar um plug-in de Scene para todos os plug-ins abertos (e que vierem a ser abertos depois) utilizando a fun\u00e7\u00e3o SceneLib.registerPlugin.</li> </ul> <p> </p>"},{"location":"ObjetoScene/#heranca","title":"Heran\u00e7a","text":"<p>O objeto Scene herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.</p>"},{"location":"ObjetoScene/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto Scene tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoScene/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o worldWidth Double Define a LARGURA do tabuleiro de combate. O valor desta propriedade contem o valor em M\u00e9trica do Mundo Scene.\u00a0 worldHeight Double Define a ALTURA do tabuleiro de combate. O valor desta propriedade contem o valor em M\u00e9trica do Mundo Scene.\u00a0 worldMetricName String Define o nome da m\u00e9trica do mundo que \u00e9 usada por este scene.\u00a0 Exemplo: \"m\", \"km\", \"cm\", etc..\u00a0 Exemplo2: supondo que a propriedade worldWidth = 60 e worldMetricName = \"km\", intepreta-se que tabuleiro possui uma largura de 60 quil\u00f4metros.\u00a0 bkgColor String de Color Define a cor de fundo do tabuleiro.\u00a0 Exemplo: \"white\", \"black\", \"#FFDE05\"\u00a0 bkgImageURL String Cont\u00e9m a URL da imagem/bitmap que ser\u00e1 renderizada como fundo do tabuleiro.\u00a0 Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201chttp://xxxx.com.br/a.png\u201d)\u00a0 Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado.\u00a0 workingLayer Enumerado: \"background\" \"objects\" \"tokens\"\u00a0 Define qual em que camada do scene o usu\u00e1rio est\u00e1 trabalhando.\u00a0 \"map\" - O usu\u00e1rio est\u00e1 trabalhando na camada Background\u00a0 \"objects\" - O usu\u00e1rio est\u00e1 trabalhando na camada Objetos\u00a0 \"tokens\" - O usu\u00e1rio est\u00e1 trabalhando na camada Tokens.\u00a0 Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene.\u00a0 Saiba mais sobre as camadas em: As camadas do tabuleiro viewport Objeto SceneViewport (Somente Leitura) Objeto viewport do Scene. Objeto que cont\u00e9m propriedades sobre a \"tela\" do Scene, como \"Qual regi\u00e3o do scene o usu\u00e1rio est\u00e1 vendo\", \"Qual o zoom que o usu\u00e1rio aplicou no tabuleiro?\", etc..\u00a0 grid Objeto SceneGridLayer (Somente Leitura) Objeto que cont\u00e9m caracter\u00edsticas, informa\u00e7\u00f5es e utilit\u00e1rios a respeito da GRID do scene.\u00a0 items Objeto SceneGraphicItemList (Somente Leitura) Objeto que re\u00fane os itens visuais do tabuleiro como tokens.\u00a0 fogOfWar Objeto SceneFogOfWar (Somente Leitura) Objeto que re\u00fane informa\u00e7\u00f5es e opera\u00e7\u00f5es com o FogOfWar/N\u00e9voa de Guerra do Tabuleiro de combate.\u00a0 isGM Boolean (Somente Leitura) True se o usu\u00e1rio atual \u00e9 mestre deste scene ou false.\u00a0 isViewingAsGM Boolean True se o usu\u00e1rio atual for mestre e estiver visualizado como mestre do scene.\u00a0 O usu\u00e1rio atual pode ser mestre mas desejar ver como os jogadores est\u00e3o enxergando o scene, ent\u00e3o isGM = true e isViewingAsGM = false.\u00a0 isViewingWalls Boolean True se o usu\u00e1rio atual for mestre e estiver visualizado as paredes/\u00e1reas opacas do tabuleiro.\u00a0 currentUserID String (Somente Leitura) Cont\u00e9m o login do usu\u00e1rio atual que est\u00e1 utilizando o Scene.\u00a0 renderAsPlayer Boolean (Somente Leitura) Uma propriedade bem peculiar e mais dif\u00edcil de explicar. Algumas vezes, mesmo quando \"isGM\" \u00e9 true e \"isViewingAsGM\" \u00e9 true, o tabuleiro deve ser renderizado como \"visualizando como jogador\".\u00a0 Esta propriedade foi feita inicialmente pensando na integra\u00e7\u00e3o do Firecast com o programa \"OBS Studio\" para streaming. Enquanto o mestre est\u00e1 visualizando o tabuleiro como GM, o tabuleiro deve ser renderizado como jogador para o \"OBS Studio\"."},{"location":"ObjetoScene/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o scene:newTransaction() Cria um NodeTransaction que poder\u00e1 ser utilizado para gerenciar as mudan\u00e7as feitas localmente no Scene.\u00a0 Retorna: Um objeto NodeTransaction que poder\u00e1 ser utilizado em scene:pushTransaction()\u00a0 scene:pushTransaction(transaction) Ativa uma transa\u00e7\u00e3o para controlar mudan\u00e7as no Scene.\u00a0 Par\u00e2metros: transaction - um objeto NodeTransaction previamente criado pela fun\u00e7\u00e3o scene:newTransaction que controlar\u00e1 as pr\u00f3ximas mudan\u00e7as no Scene.\u00a0 Observa\u00e7\u00f5es: Ap\u00f3s ativar uma transa\u00e7\u00e3o, todas as altera\u00e7\u00f5es que ocorrerem no Scene ser\u00e3o mantidas localmente e n\u00e3o ser\u00e3o compartilhadas automaticamente com os outros usu\u00e1rios. Voc\u00ea dever\u00e1 controlar o que acontecer\u00e1 com estas mudan\u00e7as ao invocar \"transaction:rollback()\" se quiser desfaz\u00ea-las ou \"transaction:commit()\" para confirm\u00e1-las e compartilhar-lhas com os outros usu\u00e1rios. Para cada chamada de scene:pushTransaction(), deve haver uma chamada de scene:popTransaction().\u00a0 scene:popTransaction() Desativa a \u00faltima transa\u00e7\u00e3o ativada no Scene pela fun\u00e7\u00e3o scene:pushTransaction()\u00a0 Observa\u00e7\u00f5es: Para cada chamada de scene:pushTransaction(), deve haver uma chamada de scene:popTransaction(). Se antes de chamar pushTransaction o Scene j\u00e1 estava sendo controlado por alguma transa\u00e7\u00e3o, esta transa\u00e7\u00e3o \u00e9 restaurada. Apenas invocar este m\u00e9todo n\u00e3o \u00e9 o suficiente para realizar o controle das mudan\u00e7as. Voc\u00ea o invocar o m\u00e9todo \"rollback()\" da transaction se quiser desfazer as mudan\u00e7as capturadas ou invocar o m\u00e9todo \"commit()\" da transaction para confirmar e compartilhar as mudan\u00e7as capturadas. \u00a0 scene:broadcastMessage(messageId, message [, loopBack]) Envia uma mensagem a todos os outros usu\u00e1rios que est\u00e3o com o scene aberto.\u00a0 Par\u00e2metros: messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem. message - A mensagem a ser transmitida. Aqui s\u00e3o aceitos textos, tabelas lua, n\u00fameros e booleanos. (OPICIONAL) loopBack - Informa se quer que esta mensagem seja retransmitida para voc\u00ea mesmo. Valor padr\u00e3o: false \u00a0 Observa\u00e7\u00f5es: A mensagem enviada \u00e9 entregue a todos os outros usu\u00e1rios conectados no scene. Para receber as mensagens recebidas, o usu\u00e1rio destinat\u00e1rio deve ter previamente invocado a fun\u00e7\u00e3o scene:newBroadcastListener scene:newBroadcastListener(messageId, callback) Cria uma escuta de mensagens para receber mensagens postadas pela fun\u00e7\u00e3o scene:broadcastMessage \u00a0 Par\u00e2metros: messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o das mensagens que deseja receber. Deve ser igual ao messageId usado na fun\u00e7\u00e3o scene:broadcastMessage. callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ao receber mensagens. Esta fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: sender - Cadeia de caracteres contendo o login do usu\u00e1rio que enviou a mensagem messageId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem recebida message - A mensagem que foi postada.\u00a0 Retorno: Retorna um objeto representando o Listener.\u00a0 Observa\u00e7\u00f5es: Importante: Mantenha refer\u00eancia ao objeto retornado por esta fun\u00e7\u00e3o enquanto quiser que a escuta esteja ativa. Se o coletor de lixo LUA coletar este objeto, a escuta \u00e9 destru\u00edda e a fun\u00e7\u00e3o callback n\u00e3o ser\u00e1 mais invocada. Se quiser destruir a escuta imediatamente, invoque a fun\u00e7\u00e3o destroy do objeto retornado.... obj:destroy();\u00a0 scene:sendDelayedUpdates() Force the scene to transmit all the pending delayed updates caused by the network transfer optimization"},{"location":"ObjetoScene/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onWorkingLayerChange Evento que \u00e9 chamado quando a propriedade workingLayer for alterada.\u00a0 onGMStateChange Evento que \u00e9 chamado quando as propriedades isGM, isViewingAsGM ou isViewingWalls mudarem."},{"location":"ObjetoScene/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoScene/#exemplo-1-um-plugin-de-scene-que-ao-se-anexar-a-um-tabuleiro-exibe-uma-mensagem-com-algumas-caracteristicas-do-scene","title":"Exemplo 1 - Um Plugin de Scene que, ao se anexar a um tabuleiro, exibe uma mensagem com algumas caracter\u00edsticas do Scene.","text":"require(\"scene.lua\"); require(\"dialogs.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Plugin anexado a um tabuleiro de tamanho \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.worldWidth\u00a0..\u00a0scene.worldMetricName\u00a0..\u00a0\" x \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.worldHeight\u00a0..\u00a0scene.worldMetricName\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\" de cor de fundo \"..\u00a0scene.bkgColor); \u00a0 \u00a0\u00a0end);\u00a0 <p>Created with the Personal Edition of HelpNDoc: Add an Extra Layer of Security to Your PDFs with Encryption</p>"},{"location":"ObjetoSceneBaseObject/","title":"Objeto SceneBaseObject","text":""},{"location":"ObjetoSceneBaseObject/#objeto-scenebaseobject_1","title":"Objeto SceneBaseObject","text":"<p>A classe SceneBaseObject \u00e9 uma abstra\u00e7\u00e3o e todos os outros objetos do SceneLib herdam desta classe. Isto significa que n\u00e3o \u00e9 poss\u00edvel existir um objeto SceneBaseObject diretamente e que sua exist\u00eancia est\u00e1 condicionada \u00e0 exist\u00eancia dos objetos que herdam dele.</p> <p> </p>"},{"location":"ObjetoSceneBaseObject/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Todos os objetos que herdam de SceneBaseObject possuem as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneBaseObject/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String (Somente Leitura) Cadeia de caracteres que informam o tipo do objeto. Exemplos de valores: \"scene\", \"viewport\", \"token\", etc..\u00a0 isObjectAlive Boolean (Somente Leitura) Cont\u00e9m true se o objeto ainda estiver vivo no c\u00f3digo fonte do RRPG ou false se ele j\u00e1 foi destru\u00eddo\u00a0 objectID Integer (Somente Leitura) Cont\u00e9m um n\u00famero \u00fanico que identifica o objeto no RRPG local. \u00a0 userData Objeto Nodo (Somente Leitura) Cont\u00e9m um objeto nodo de um NodeDatabase que armazena dados extras que o programador possa querer armazenar.\u00a0 Cada Objeto do Scene 3 possui seu pr\u00f3prio userData.\u00a0 Saiba mais lendo sobre NodeDatabase e sobre Objeto Nodo."},{"location":"ObjetoSceneBaseObject/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o obj:isType(typeName) Retorna true se o objeto \u00e9 do tipo \"typeName\", sen\u00e3o retorna false.\u00a0 obj:beginUpdate() Coloca o objeto em estado de altera\u00e7\u00e3o. Se voc\u00ea for fazer v\u00e1rias mudan\u00e7as em um objeto de uma \u00fanica vez, talvez seja poss\u00edvel obter uma melhoria de performance usando beginUpdate.\u00a0 para cada chamada de beginUpdate, deve haver 1 chamada de endUpdate\u00a0 obj:endUpdate() Retira o objeto do estado de altera\u00e7\u00e3o que foi previamente configurado pela fun\u00e7\u00e3o beginUpdate.\u00a0 para cada chamada de beginUpdate, deve haver 1 chamada de endUpdate\u00a0 obj:newUserDataLink([field]) Cria e retorna um novo objeto DataLink que monitora um determinado field do\u00a0 objeto nodo \"userData\".\u00a0 Par\u00e2metros: (OPCIONAL) field - Uma cadeia de string contendo o nome/caminho do campo que ser\u00e1 monitorado.\u00a0 Retorna: Um objeto dataLink que monitora o field solicitado do \"userData\" deste objeto.\u00a0 Observa\u00e7\u00f5es: Esta \u00e9 a melhor maneira de capturar mudan\u00e7a de valores nos valores de userData."},{"location":"ObjetoSceneBaseObject/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o <p>Created with the Personal Edition of HelpNDoc: Transform Your Help Documentation Process with a Help Authoring Tool</p>"},{"location":"ObjetoSceneCanvas/","title":"Objeto SceneCanvas","text":""},{"location":"ObjetoSceneCanvas/#objeto-scenecanvas_1","title":"Objeto SceneCanvas","text":"<p>O Objeto SceneCanvas representa como um item do Scene deve ser desenhado na tela do usu\u00e1rio e, no fundo, \u00e9 uma lista de opera\u00e7\u00f5es gr\u00e1ficas que devem ser executadas para compor a apar\u00eancia de um item no tabuleiro.</p> <p>O SceneCanvas de um item gr\u00e1fico pode ser obtido atrav\u00e9s da propriedade \"canvas\" de um que herde de objeto SceneGraphicItem</p> <p> </p> <p>A grande vantagem em utilizar o SceneCanvas \u00e9 que as opera\u00e7\u00f5es gr\u00e1ficas s\u00e3o persistidas no scene e ser\u00e3o executadas no tabuleiro de cada usu\u00e1rio, mesmo que algum n\u00e3o tenha instalado algum determinado plug-in.</p> <p> </p>"},{"location":"ObjetoSceneCanvas/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneCanvas herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.</p> <p> </p>"},{"location":"ObjetoSceneCanvas/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneCanvas tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneCanvas/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o opCount Integer (Somente Leitura) Cont\u00e9m a quantidade de opera\u00e7\u00f5es gr\u00e1ficas que este Canvas possui."},{"location":"ObjetoSceneCanvas/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o canvas:getOp(index) Retorna a opera\u00e7\u00e3o gr\u00e1fica de \u00edndice passado por par\u00e2metro.\u00a0 Par\u00e2metros: index - Um n\u00famero inteiro informando qual opera\u00e7\u00e3o gr\u00e1fica do canvas voc\u00ea deseja obter. Este valor deve estar entre 0 e\u00a0 \"opCount\" - 1\u00a0 Retorno: Um objeto SceneDrawingOp representando a opera\u00e7\u00e3o gr\u00e1fica do \u00edndice informado.\u00a0 Observa\u00e7\u00e3o:\u00a0 O item retornado pode ser uma opera\u00e7\u00e3o gr\u00e1fica de bitmap/imagem (objeto SceneDrawingOpBitmap) ou uma opera\u00e7\u00e3o gr\u00e1fica de caminho/formas/pol\u00edgonos (objeto SceneDrawingOpPath). Para saber qual \u00e9 o tipo da opera\u00e7\u00e3o gr\u00e1fica, verifique a propriedade objectType do objeto retornado.\u00a0 canvas:addBitmap() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de bitmap/imagem ao canvas.\u00a0 Par\u00e2metros: Nenhum\u00a0 Retorno: Um objeto SceneDrawingOpBitmap representando a opera\u00e7\u00e3o gr\u00e1fica criada.\u00a0 canvas:addPath() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de caminho/formas/pol\u00edgonos ao canvas.\u00a0 Par\u00e2metros: Nenhum\u00a0 Retorno: Um objeto SceneDrawingOpPath representando a opera\u00e7\u00e3o gr\u00e1fica criada.\u00a0 canvas:addText() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de texto ao canvas.\u00a0 Par\u00e2metros: Nenhum\u00a0 Retorno: Um objeto SceneDrawingOpText representando a opera\u00e7\u00e3o gr\u00e1fica criada.\u00a0 canvas:findByName(name) Localiza uma opera\u00e7\u00e3o gr\u00e1fica pelo seu nome.\u00a0 Par\u00e2metros: name - Um texto, o nome da opera\u00e7\u00e3o gr\u00e1fica que est\u00e1 procurando neste Canvas/Item do Scene.\u00a0 Retorno: Se o Scene encontrar uma opera\u00e7\u00e3o gr\u00e1fica cuja propriedade name for igual ao texto informado, retorna um objeto SceneDrawingOp representando a opera\u00e7\u00e3o gr\u00e1fica localizada. Se o Scene n\u00e3o encontrar, retorna nil. \u00a0 Observa\u00e7\u00e3o:\u00a0 O item retornado pode ser uma opera\u00e7\u00e3o gr\u00e1fica de bitmap/imagem (objeto SceneDrawingOpBitmap) ou uma opera\u00e7\u00e3o gr\u00e1fica de caminho/formas/pol\u00edgonos (objeto SceneDrawingOpPath). Para saber qual \u00e9 o tipo da opera\u00e7\u00e3o gr\u00e1fica, verifique a propriedade objectType do objeto retornado.\u00a0 canvas:clear() Limpa o canvas excluindo todas as opera\u00e7\u00f5es gr\u00e1ficas contida nele."},{"location":"ObjetoSceneCanvas/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoSceneCanvas/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneCanvas/#exemplo-1-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","title":"Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene.","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento OnMouseDown do Viewport \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseDown\u00a0=\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local\u00a0worldX,\u00a0worldY\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar o item que o usu\u00e1rio clicou local\u00a0item\u00a0=\u00a0scene.items:itemAtPoint(worldX,\u00a0worldY); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0item\u00a0~=\u00a0nil\u00a0then -- Encontrou um item na posi\u00e7\u00e3o clicada.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0NOME_MINHA_MARCA\u00a0=\u00a0\"MarcaExemplo\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local\u00a0opGrafica\u00a0=\u00a0item.canvas:findByName(NOME_MINHA_MARCA); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0opGrafica\u00a0==\u00a0nil\u00a0then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica\u00a0=\u00a0item.canvas:addBitmap(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.name\u00a0=\u00a0NOME_MINHA_MARCA; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- Abaixo, URL da imagem da nossa marca. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.url\u00a0=\u00a0\"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.x\u00a0=\u00a00.25; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.width\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.y\u00a0=\u00a0-0.1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.height\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.z\u00a0=\u00a010;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica:delete(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*);\u00a0  Item sem a marca  Item com a marca"},{"location":"ObjetoSceneCanvas/#exemplo-2-","title":"Exemplo 2 -","text":"<p>Created with the Personal Edition of HelpNDoc: From Word to ePub or Kindle eBook: A Comprehensive Guide</p>"},{"location":"ObjetoSceneDawingOpPath/","title":"Objeto SceneDawingOpPath","text":""},{"location":"ObjetoSceneDawingOpPath/#objeto-scenedrawingoppath","title":"Objeto SceneDrawingOpPath","text":"<p>O Objeto SceneDrawingOpPath representa uma opera\u00e7\u00e3o gr\u00e1fica de um caminho/forma/pol\u00edgono em um SceneCanvas .</p>"},{"location":"ObjetoSceneDawingOpPath/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneDrawingOpPath herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas.</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Objeto SceneDrawingOp</li> <li>Objecto SceneBaseObject</li> </ul> <p> </p>"},{"location":"ObjetoSceneDawingOpPath/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpPath tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneDawingOpPath/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opPath\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\".\u00a0 data, pathData ou path String Define a forma vetorial do path. Este texto deve estar no mesmo padr\u00e3o do path do SVG e do XAML.\u00a0 Consulte a documenta\u00e7\u00e3o deles na internet!\u00a0 Outro link que pode ajudar:\u00a0 http://www.w3schools.com/svg/svg_path.asp\u00a0 Observa\u00e7\u00e3o Importante: Path ser\u00e1 automaticamente redimensionado para ficar com a mesma dimens\u00e3o definida para esta opera\u00e7\u00e3o gr\u00e1fica.\u00a0 color String de Cor Define a cor do conte\u00fado da forma.\u00a0 Veja String de cores para obter a completa de cores e outras formas de uso. Define a cor do conte\u00fado da forma.\u00a0 Valor padr\u00e3o: White\u00a0 strokeColor String de Cor Define a cor do contorno da forma.\u00a0 Veja String de cores para obter a completa de cores e outras formas de uso. Define a cor do conte\u00fado da forma.\u00a0 Valor padr\u00e3o: Black\u00a0 strokeSize Double Define a largura do contorno da forma. O significado deste n\u00famero depende do valor da propriedade \"strokeSizeMetric\"\u00a0 Valor padr\u00e3o: 0.0;\u00a0 strokeSizeMetric Enumerado: \"screenMetric\" \"worldMetric\" \"canvasMetric\" \"cellMetric\" Define em que medida a propriedade \"strokeSize\" est\u00e1 medida.\u00a0 \"screenMetric\" - (Padr\u00e3o) strokeSize est\u00e1 representado em m\u00e9tricas de tela.\u00a0 \"worldMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de mundo.\u00a0 \"canvasMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de canvas, onde, por exemplo, 0.5 = metade da largura/altura do token/desenho e 1.0 = largura/altura do token/desenho.\u00a0 \"cellMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de c\u00e9lulas. (Exemplo, 0.5 = meia c\u00e9lula do grid, 2 = duas c\u00e9lulas do grid)\u00a0 strokeCap Enumerado: \"flat\" \"round\" Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas.\u00a0 \"flat\" - linhas com pontas retangulares \"round\" - linhas com pontas arredondadas.\u00a0 Valor padr\u00e3o: \"flat\"\u00a0 strokeJoin Enumerado: \"miter\" \"round\" \"bevel\" Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma.\u00a0 \"miter\" - As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\".\u00a0 \"round\" - As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas.\u00a0 \"bevel\" - As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal.\u00a0 Valor padr\u00e3o: \"miter\"\u00a0 strokeDash Enumerado: \"solid\" \"dash\" \"dot\" \"dashDot\" \"dashDotDot\" Define o estilo gr\u00e1fico da linha.\u00a0 \"solid\" - A linha \u00e9 s\u00f3lida\u00a0 \"dash\" - A linha \u00e9 tracejada\u00a0 \"dot\" - A linha \u00e9 feita de pontos.\u00a0 \"dashDot\" - A linha \u00e9 alternada entre tra\u00e7os e pontos.\u00a0 \"dashDotDot\" - A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto.\u00a0 Valor padr\u00e3o: \"solid\""},{"location":"ObjetoSceneDawingOpPath/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o"},{"location":"ObjetoSceneDawingOpPath/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoSceneDawingOpPath/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneDawingOpPath/#exemplo-1-um-plug-in-que-adicionaremove-um-triangulo-amarelo-quando-o-usuario-clica-nos-itens-do-scene","title":"Exemplo 1 - Um plug-in que adiciona/remove um tri\u00e2ngulo amarelo quando o usu\u00e1rio clica nos itens do scene.","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento OnMouseDown do Viewport \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseDown\u00a0=\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local\u00a0worldX,\u00a0worldY\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar o item que o usu\u00e1rio clicou local\u00a0item\u00a0=\u00a0scene.items:itemAtPoint(worldX,\u00a0worldY); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0item\u00a0~=\u00a0nil\u00a0then -- Encontrou um item na posi\u00e7\u00e3o clicada.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0NOME_MINHA_MARCA\u00a0=\u00a0\"MarcaExemplo\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local\u00a0opGrafica\u00a0=\u00a0item.canvas:findByName(NOME_MINHA_MARCA); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0opGrafica\u00a0==\u00a0nil\u00a0then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica\u00a0=\u00a0item.canvas:addPath(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.name\u00a0=\u00a0NOME_MINHA_MARCA; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Come\u00e7ar a desenhar no X equivalente a 80% da largura do item -- Come\u00e7ar a desenhar no Y equivalente a 25% da altura do item \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.x\u00a0=\u00a00.8; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.y\u00a0=\u00a00.25;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.width\u00a0=\u00a00.5;\u00a0\u00a0-- Largura do Path: 50% da largura do item\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.height\u00a0=\u00a00.4;\u00a0\u00a0-- Altura do Path: 40% da altura do item \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.z\u00a0=\u00a010;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Cores e estilo do PATH \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.color\u00a0=\u00a0\"yellow\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.strokeSize\u00a0=\u00a01;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- O path data (Um tri\u00e2ngulo apontado para a direita) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.data\u00a0=\u00a0\"M 0 0 L 1 0.5 L 0 1 Z\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica:delete(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end);\u00a0 \u00a0  Item sem a marca  Item com a marca"},{"location":"ObjetoSceneDawingOpPath/#exemplo-2-","title":"Exemplo 2 -","text":"<p>Created with the Personal Edition of HelpNDoc: Easily create EBooks</p>"},{"location":"ObjetoSceneDrawingOp/","title":"Objeto SceneDrawingOp","text":""},{"location":"ObjetoSceneDrawingOp/#objeto-scenedrawingop_1","title":"Objeto SceneDrawingOp","text":"<p>O Objeto SceneDrawingOp representa uma opera\u00e7\u00e3o gr\u00e1fica de um SceneCanvas .</p> <p> </p>"},{"location":"ObjetoSceneDrawingOp/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneDrawingOp herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.</p> <p> </p>"},{"location":"ObjetoSceneDrawingOp/#abstracao","title":"Abstra\u00e7\u00e3o","text":"<p>Esta \u00e9 uma classe abstrata e voc\u00ea nunca encontrar\u00e1 um objeto SceneDrawingOp vivo sem ser uma das seguintes classes:</p> <ul> <li>Objeto SceneDrawingOpBitmap</li> <li>Objeto SceneDrawingOpPath</li> </ul> <p> </p>"},{"location":"ObjetoSceneDrawingOp/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOp tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneDrawingOp/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String: \"opBitmap\" \"opPath\" \"opText\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica e pode conter um dos seguintes valores:\u00a0 \"opBitmap\" -\u00a0 este opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpBitmap, uma imagem/bitmap.\u00a0 \"opPath\" - esta opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpPath, um caminho/forma/pol\u00edgono.\u00a0 \"opText\" - Esta opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpText, um texto.\u00a0 x Double Cont\u00e9m a posi\u00e7\u00e3o X de onde esta opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada.\u00a0 Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto esquerdo do item, 0.5 = centro do item e 1.0 = canto direito do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica)\u00a0 y Double Cont\u00e9m a posi\u00e7\u00e3o Y de onde esta opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada.\u00a0 Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto superior do item, 0.5 = centro do item e 1.0 = canto inferior do item (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica)\u00a0 width Double Cont\u00e9m a largura que a opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada.\u00a0 Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.5 = metade da largura do item, 1.0 = largura do item e 2.0 = duas vezes a largura do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica)\u00a0 height Double Cont\u00e9m a altura que a opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada.\u00a0 Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.5 = metade da altura do item, 1.0 = altura do item e 2.0 = duas vezes a altura do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica)\u00a0 z Double Cont\u00e9m um n\u00famero para definir a ordem Z da opera\u00e7\u00e3o gr\u00e1fica, isto \u00e9, a ordem em que deve ser renderizada.\u00a0 Exemplo: Se A e B forem duas opera\u00e7\u00f5es gr\u00e1ficas de um mesmo Item de Scene e se A possuir ordem Z equivalente a 5 e B possuir ordem Z equivalente a 10, a opera\u00e7\u00e3o gr\u00e1fica A aparecer\u00e1 abaixo da opera\u00e7\u00e3o gr\u00e1fica B na tela.\u00a0 name String Um texto auxiliar qualquer para ajudar a identificar qual \u00e9 esta opera\u00e7\u00e3o gr\u00e1fica.\u00a0 Pode ser utilizado pela fun\u00e7\u00e3o \"canvas:findByName()\" do objeto SceneCanvas para f\u00e1cil localiza\u00e7\u00e3o.\u00a0 opacity Double Define a opacidade da opera\u00e7\u00e3o gr\u00e1fica.\u00a0 Este valor varia de 0.0 a 1.0, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco.\u00a0 rotMode Enumerado: \"default\" \"ignoreCanvasRot\" Define como a opera\u00e7\u00e3o gr\u00e1fica deve se comportar em rela\u00e7\u00e3o \u00e0 rota\u00e7\u00e3o do item/canvas dono da opera\u00e7\u00e3o gr\u00e1fica.\u00a0 \"default\": Padr\u00e3o, a opera\u00e7\u00e3o gr\u00e1fica deve ser rotacionada conforme a rota\u00e7\u00e3o de seu canvas/item do scene.\u00a0 \"ignoreCanvasRot\": A renderiza\u00e7\u00e3o desta opera\u00e7\u00e3o gr\u00e1fica deve ignorar a rota\u00e7\u00e3o de seu canvas/item do scene.\u00a0 visibility Enumerado: \"everyone\" \"gmOnly\"\u00a0 Define quem pode visualizar esta opera\u00e7\u00e3o gr\u00e1fica:\u00a0 \"everyone\": Padr\u00e3o, todos podem visualizar esta opera\u00e7\u00e3o gr\u00e1fica.\u00a0 \"gmOnly\": Apenas o mestre da mesa pode ver esta opera\u00e7\u00e3o gr\u00e1fica.\u00a0 rotation Double Define a rota\u00e7\u00e3o da opera\u00e7\u00e3o gr\u00e1fica em graus.\u00a0 rotCenterX Double Define onde, no eixo X da opera\u00e7\u00e3o gr\u00e1fica, est\u00e1 o piv\u00f4 de rota\u00e7\u00e3o.\u00a0 O valor varia entre 0.0 a 1.0: 0.0 = lado esquerdo do desenho. 0.5 = centro do desenho (Padr\u00e3o) 1.0 = lado direito do desenho.\u00a0 rotCenterY Double Define onde, no eixo Y da opera\u00e7\u00e3o gr\u00e1fica, est\u00e1 o piv\u00f4 de rota\u00e7\u00e3o.\u00a0 O valor varia entre 0.0 a 1.0: 0.0 = parte superior do desenho. 0.5 = centro do desenho (Padr\u00e3o). 1.0 = parte inferior do desenho.\u00a0 drawingTrigger Conjunto: \"hover\" \"selected\"\u00a0 Define gatilhos para esta opera\u00e7\u00e3o ser desenhada.\u00a0 \u00c9 um conjunto, uma tabela contendo um ou mais dos seguintes itens:\u00a0 \"hover\" - Quando o mouse estiver por cima do objeto/token.\u00a0 \"selected\" - Quando o objeto/token estiver selecionado.\u00a0 Exemplos: {} - N\u00e3o h\u00e1 gatilhos, sempre \u00e9 desenhada {\"hover\"} - Quando o mouse estiver por cima do item. {\"hover\", \"selected\"} - Quando o mouse estiver por cima do item ou quando o item estiver selecionado.\u00a0 outOfOrderMode Enumerado: \"noOutOfOrder\" \"afterFogOfWarLayer\" \"beforeOwnerLayer\" \"afterOwnerLayer\" Define se a opera\u00e7\u00e3o gr\u00e1fica possui um comportamento fora da ordem padr\u00e3o.\u00a0 \"noOutOfOrder\" - (Padr\u00e3o) A opera\u00e7\u00e3o n\u00e3o possui comportamento de desenho fora da ordem e \u00e9 desenhado na ordem normal.\u00a0 \"afterFogOfWarLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. \u00c9 desenhada ap\u00f3s a camada de Fog Of War ser desenhada no tabuleiro.\u00a0 \"beforeOwnerLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. Ela \u00e9 desenhada abaixo da camada do item que a possui.\u00a0 \"afterOwnerLayer\" - \"beforeOwnerLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. Ela \u00e9 desenhada acima da camada do item que a possui.\u00a0 xMetric yMetric widthMetric heightMetric Enumerado: \"screenMetric\" \"worldMetric\" \"canvasMetric\" \"cellMetric\"\u00a0 Altera a medida em que as propriedades \"x\", \"y\", \"width\" e \"height\" foram informadas:\u00a0 \"canvasMetric\" - (Padr\u00e3o) A propriedade est\u00e1 representado em m\u00e9tricas de canvas, onde, por exemplo, 0.5 = metade da largura/altura do token/desenho e 1.0 = largura/altura do token/desenho.\u00a0 \"screenMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de tela.\u00a0 \"worldMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de mundo.\u00a0 \"cellMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de c\u00e9lulas. (Exemplo, 0.5 = meia c\u00e9lula do grid, 2 = duas c\u00e9lulas do grid)\u00a0 xOrigin yOrigin Double Cont\u00e9m a posi\u00e7\u00e3o de origem no eixo X e no eixo Y de onde as propriedades \"x\" e \"y\" s\u00e3o relativas.\u00a0 Este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto esquerdo do item, 0.5 = centro do item e 1.0 = canto direito do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica)\u00a0 Observa\u00e7\u00e3o: Estes valores s\u00e3o \u00fateis apenas quando \u00e9 usado xMetric/yMetric diferente de \"canvasMetric\".\u00a0 Exemplo: x = -1; xMetric = \"cellMetric\"; xOrigin = 0.5; width=2 widthMetric=\"cellMetric\"\u00a0 Faz com que a opera\u00e7\u00e3o gr\u00e1fica tenha largura equivalente a 2 c\u00e9lulas do grid e sua posi\u00e7\u00e3o X seja equivalente ao \"centro X do token menos 1 c\u00e9lula do grid\" (Horizontalmente alinhado)"},{"location":"ObjetoSceneDrawingOp/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o drawingOp:delete() Remove/Apaga a opera\u00e7\u00e3o gr\u00e1fica do Canvas do Item no Scene."},{"location":"ObjetoSceneDrawingOp/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoSceneDrawingOp/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneDrawingOp/#exemplo-1-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","title":"Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene.","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento OnMouseDown do Viewport \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseDown\u00a0=\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local\u00a0worldX,\u00a0worldY\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar o item que o usu\u00e1rio clicou local\u00a0item\u00a0=\u00a0scene.items:itemAtPoint(worldX,\u00a0worldY); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0item\u00a0~=\u00a0nil\u00a0then -- Encontrou um item na posi\u00e7\u00e3o clicada.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0NOME_MINHA_MARCA\u00a0=\u00a0\"MarcaExemplo\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local\u00a0opGrafica\u00a0=\u00a0item.canvas:findByName(NOME_MINHA_MARCA); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0opGrafica\u00a0==\u00a0nil\u00a0then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica\u00a0=\u00a0item.canvas:addBitmap(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.name\u00a0=\u00a0NOME_MINHA_MARCA; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- Abaixo, URL da imagem da nossa marca. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.url\u00a0=\u00a0\"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.x\u00a0=\u00a00.25; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.width\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.y\u00a0=\u00a0-0.1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.height\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.z\u00a0=\u00a010;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica:delete(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*);\u00a0  Item sem a marca  Item com a marca"},{"location":"ObjetoSceneDrawingOp/#exemplo-2-","title":"Exemplo 2 -","text":"<p>Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide</p>"},{"location":"ObjetoSceneDrawingOpBitmap/","title":"Objeto SceneDrawingOpBitmap","text":""},{"location":"ObjetoSceneDrawingOpBitmap/#objeto-scenedrawingopbitmap_1","title":"Objeto SceneDrawingOpBitmap","text":"<p>O Objeto SceneDrawingOpBitmap representa uma opera\u00e7\u00e3o gr\u00e1fica de um Bitmap/Imagem em um SceneCanvas .</p>"},{"location":"ObjetoSceneDrawingOpBitmap/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneDrawingOpBitmap herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas.</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Objeto SceneDrawingOp</li> <li>Objecto SceneBaseObject</li> </ul> <p> </p>"},{"location":"ObjetoSceneDrawingOpBitmap/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpBitmap tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneDrawingOpBitmap/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opBitmap\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\".\u00a0 url String Cont\u00e9m a URL da imagem/bitmap que ser\u00e1 renderizada.\u00a0 Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201chttp://xxxx.com.br/a.png\u201d)\u00a0 Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado.\u00a0 flipHorz Boolean Determina se a imagem deve ser desenhada de forma espelhada horizontalmente.\u00a0 flipVert Boolean Determina se a imagem deve ser desenhada de forma espelhada verticalmente.\u00a0 grayscale Boolean Determina se imagem deve ser desenhada usando um filtro de cores que transforma a imagem em uma imagem de escala cinzenta.\u00a0 colorBlend String de Cor Determina se a imagem deve ser desenhada utilizando um filtro que misturando as cores originais com uma cor definida pela propriedade \"colorBlend\".\u00a0 O valor padr\u00e3o \u00e9 \"#00000000\" e significa n\u00e3o realizar misturar de cores.\u00a0 Exemplo: \"Blue\" far\u00e1 com que a imagem seja desenhada misturada com a cor azul.\u00a0 colorMask String de Cor Determina se a imagem deve ser desenhada utilizando um filtro que seleciona as cores da imagem realizando uma multiplica\u00e7\u00e3o das cores da imagem pela cor definida em \"colorMask\".\u00a0 O valor padr\u00e3o \u00e9 \"#FFFFFFFF\" e significa que todas as coras originais da imagem deve ser desenhadas sem altera\u00e7\u00e3o.\u00a0 Exemplo: \"Blue\" far\u00e1 com que a imagem seja desenhada selecionando apenas os tons azuis pois os componentes da cor azul s\u00e3o R = 0, G = 0 e B = 255, o que transformando em nota\u00e7\u00e3o de ponto flutuante fica R = 0.0, G = 0.0, B = 1.0... Para cada pixel da imagem, o Red ser\u00e1 multiplicado por 0, o Green ser\u00e1 multiplicado por 0 e o Blue ser\u00e1 multiplicado por 1.0.\u00a0 filterEx Enumerado: \"none\" (Padr\u00e3o) \"glow\" \"innerGlow\" \"blur\" \"sepia\"\u00a0 Determina se a imagem deve ser desenhada com mais algum filtro de imagem especial.\u00a0 \"none\" - Nenhum filtro especial.\u00a0 \"glow\" - Um filtro que adiciona uma incandesc\u00eancia \u00e0 imagem. N\u00e3o esque\u00e7a de preencher a propriedade \"filterExColor\" ao utilizar este filtro.\u00a0 \"innerGlow\" - Um filtro que adiciona um brilho interno \u00e0 imagem. N\u00e3o esque\u00e7a de preencher a propriedade \"filterExColor\" ao utilizar este filtro.\u00a0 \"blur\" - Um filtro que aplica um \"borr\u00e3o\" na imagem.\u00a0 \"sepia\" - Um filtro que aplica um tom marrom na imagem.\u00a0 filterExColor String de Cor Alguns filtros permitem escolher uma cor como par\u00e2metro.\u00a0 Se a propriedade filterEx for:\u00a0 \"glow\" - Esta propriedade cont\u00e9m a cor da incandesc\u00eancia que ser\u00e1 criada na imagem.\u00a0 \"innerGlow\" - Esta propriedade cont\u00e9m a cor do brilho interno que ser\u00e1 criado na imagem.\u00a0 A cor padr\u00e3o \u00e9 \"Red\"\u00a0 frame Enumerado: \"none\" (Padr\u00e3o) \"boton\" Determina se a imagem deve ser desenhada com alguma borda.\u00a0 \"none\" - A imagem ser\u00e1 desenhada sem bordas.\u00a0 \"boton\" - A imagem ser\u00e1 desenhada com borda de um b\u00f3ton arredondado.\u00a0 sourceRect Estrutura SceneRect Determina, utilizando uma Estrutura SceneRect, qual por\u00e7\u00e3o da imagem original deve ser desenhada.\u00a0 Os valores de left, top, right e bottom v\u00e3o de 0.0 a 1.0, onde 0.0 = representa o inicio e 1.0 o final do eixo.\u00a0 O valor padr\u00e3o \u00e9: {left=0.0, top=0.0, right=1.0, bottom=1.0} ... isto \u00e9, desenhar todo cont\u00e9udo da imagem original.\u00a0 Exemplo:\u00a0 {left=0.5, top=0, right=1.0, bottom=0.5} - Desenhar apenas o quadrante superior-direita da imagem."},{"location":"ObjetoSceneDrawingOpBitmap/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o"},{"location":"ObjetoSceneDrawingOpBitmap/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoSceneDrawingOpBitmap/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneDrawingOpBitmap/#exemplo-1-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","title":"Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene.","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento OnMouseDown do Viewport \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseDown\u00a0=\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local\u00a0worldX,\u00a0worldY\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar o item que o usu\u00e1rio clicou local\u00a0item\u00a0=\u00a0scene.items:itemAtPoint(worldX,\u00a0worldY); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0item\u00a0~=\u00a0nil\u00a0then -- Encontrou um item na posi\u00e7\u00e3o clicada.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0NOME_MINHA_MARCA\u00a0=\u00a0\"MarcaExemplo\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local\u00a0opGrafica\u00a0=\u00a0item.canvas:findByName(NOME_MINHA_MARCA); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0opGrafica\u00a0==\u00a0nil\u00a0then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica\u00a0=\u00a0item.canvas:addBitmap(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.name\u00a0=\u00a0NOME_MINHA_MARCA; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- Abaixo, URL da imagem da nossa marca. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.url\u00a0=\u00a0\"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.x\u00a0=\u00a00.25; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.width\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.y\u00a0=\u00a0-0.1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.height\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.z\u00a0=\u00a010;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica:delete(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*);\u00a0  Item sem a marca  Item com a marca"},{"location":"ObjetoSceneDrawingOpBitmap/#exemplo-2-","title":"Exemplo 2 -","text":"<p>Created with the Personal Edition of HelpNDoc: Transform Your Word Document into a Professional eBook with HelpNDoc</p>"},{"location":"ObjetoSceneDrawingOpText/","title":"Objeto SceneDrawingOpText","text":""},{"location":"ObjetoSceneDrawingOpText/#objeto-scenedrawingoptext_1","title":"Objeto SceneDrawingOpText","text":"<p>O Objeto SceneDrawingOpText representa uma opera\u00e7\u00e3o gr\u00e1fica de um texto em um SceneCanvas .</p>"},{"location":"ObjetoSceneDrawingOpText/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneDrawingOpText herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas.</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Objeto SceneDrawingOp</li> <li>Objecto SceneBaseObject</li> </ul> <p> </p>"},{"location":"ObjetoSceneDrawingOpText/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpText tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneDrawingOpText/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opText\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\".\u00a0 text String O texto a ser desenhado no canvas.\u00a0 color String de Cor Define a cor do texto.\u00a0 Veja String de cores para obter a completa de cores e outras formas de uso.\u00a0 Valor padr\u00e3o: Black.\u00a0 fontStyle Uma tabela contendo de um ou mais dos seguintes valores: \"bold\" \"italic\" \"underline\" \"strikeout\"\u00a0 Define o estilo que ser\u00e1 aplicado ao texto e pode ser a combina\u00e7\u00e3o de 0 ou mais dos seguintes valores:\u00a0 \"bold\" - Texto negrito\u00a0 \"italic\" - Texto em it\u00e1lico\u00a0 \"underline\" - Texto com underline.\u00a0 \"strikeout\" - Texto tachado.\u00a0 Exemplos: {} - (Valor padr\u00e3o) {\"bold\", \"italic\"} -\u00a0 (negrito e it\u00e1lico) {\"bold\"} - (apenas negrito)\u00a0 horzTextAlign Enumerado: \"leading\" \"center\" \"trailing\" Define como ser\u00e1 o alinhamento horizontal do texto.\u00a0 \"leading\" - Alinhado \u00e0 esquerda\u00a0 \"center\" - Alinhado ao centro\u00a0 \"trailing\" - Alinhado \u00e0 direita\u00a0 Valor padr\u00e3o: \"leading\"\u00a0 vertTextAlign Enumerado: \"leading\" \"center\" \"trailing\" Define como ser\u00e1 o alinhamento vertical do texto.\u00a0 \"leading\" - Alinhado ao topo.\u00a0 \"center\" - Alinhado ao centro\u00a0 \"trailing\" - Alinhado ao fundo.\u00a0 Valor padr\u00e3o: \"center\".\u00a0 aspect Double (Somente Leitura) Retorna o aspecto do conte\u00fado do texto, isto \u00e9, a divis\u00e3o entre a largura do texto por sua altura."},{"location":"ObjetoSceneDrawingOpText/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o"},{"location":"ObjetoSceneDrawingOpText/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoSceneDrawingOpText/#exemplos","title":"Exemplos","text":"<p>Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports</p>"},{"location":"ObjetoSceneEffectArea/","title":"Objeto SceneEffectArea","text":"<p>\\&lt; A escrever ...&gt;</p> <p>Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface</p>"},{"location":"ObjetoSceneFogOfWar/","title":"Objeto SceneFogOfWar","text":""},{"location":"ObjetoSceneFogOfWar/#objeto-scenefogofwar_1","title":"Objeto SceneFogOfWar","text":"<p>O Objeto SceneFogOfWar \u00e9 respons\u00e1vel por lidar a n\u00e9voa de guerra do scene.</p>"},{"location":"ObjetoSceneFogOfWar/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneFogOfWar herda de SceneBaseObject e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas.</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Objecto SceneBaseObject</li> </ul> <p> </p>"},{"location":"ObjetoSceneFogOfWar/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpText tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneFogOfWar/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"fogOfWar\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto - \"fogOfWar\"\u00a0 enabled Boolean Define se o Fog of War est\u00e1 ativo no tabuleiro.\u00a0 Apenas o mestre pode alterar esta propriedade.\u00a0 ambientLight Enumerado: \"intense\" \"weak\" \"none\" Define qual \u00e9 a ilumina\u00e7\u00e3o ambiente do scene e pode ser:\u00a0 \"intense\" (Padr\u00e3o) - Todo o tabuleiro recebe uma ilumina\u00e7\u00e3o de ambiente Intensa. Exemplo: Ambiente \u00e0 luz do sol.\u00a0 \"weak\" - Todo o tabuleiro recebe uma ilumina\u00e7\u00e3o de ambiente fraca. Exemplo: Luz do luar.\u00a0 \"none\" - O tabuleiro n\u00e3o recebe nenhum tipo de ilumina\u00e7\u00e3o do ambiente.\u00a0 sharingMode Enumerado: \"individual\" \"group\" Define como ocorre o compartilhamento de vis\u00e3o entre os membros do grupo.\u00a0 \"individual\" (Padr\u00e3o) - Cada membro do grupo enxerga apenas o que seus personagens enxergam.\u00a0 \"group\" - Cada membro do grupo enxerga o que todo o grupo enxerga."},{"location":"ObjetoSceneFogOfWar/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o fogOfWar:setArea(polygon, areaType) Configura uma \u00e1rea do tabuleiro para se comportar como um determinado tipo de \u00e1rea de Fog of War.\u00a0 Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y (em m\u00e9trica de mundo), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 configurado. areaType - O tipo que esta \u00e1rea se comportar\u00e1 como. Pode ser um dos seguintes valores: \"explorable\" - Uma \u00e1rea \u00e0 explorar \"alwaysVisible\" - Uma \u00e1rea sempre vis\u00edvel aos jogadores \"alwaysHidden\" - Uma \u00e1rea sempre escondida dos jogadores \"semiVisible\" - Uma \u00e1rea parcialmente vis\u00edvel aos jogadores\u00a0 Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas do tabuleiro\u00a0 fogOfWar:resetAreas(); Reseta todas as \u00e1reas definidas no tabuleiro. Isto \u00e9, todo o tabuleiro passar\u00e1 a ser uma \u00e1rea do tipo \"explorable\".\u00a0 Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas do tabuleiro\u00a0 fogOfWar:addOpaqueArea(polygon) Adiciona uma \u00e1rea opaca/parede ao tabuleiro.\u00a0 Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y (em m\u00e9trica de mundo), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 configurado.\u00a0 Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro.\u00a0 fogOfWar:removeOpaqueArea(polygon) Remove uma \u00e1rea opaca/parede ao tabuleiro.\u00a0 Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y (em m\u00e9trica de mundo), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 removido das \u00e1reas opacas.\u00a0 Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro.\u00a0 fogOfWar:resetOpaqueAreas(); Remove todas as \u00e1reas opacas do tabuleiro.\u00a0 Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro.\u00a0 fogOfWar:testCircleMovementCollisionVsOpaqueAreas(centerX, centerY, r, offsetX, offsetY) Verifica se um determinado c\u00edrculo movendo colide com alguma \u00e1rea opaca/parede do tabuleiro.\u00a0 Par\u00e2metros: centerX - Centro do c\u00edrculo no eixo X (em m\u00e9trica de mundo) antes de realizar o movimento centerX - Centro do c\u00edrculo no eixo Y (em m\u00e9trica de mundo) antes de realizar o movimento. r - Raio do c\u00edrculo (em m\u00e9trica de mundo) offsetX - Define o sentido e comprimento do movimento do c\u00edrculo no eixo X (em m\u00e9trica de mundo) ... Exemplo: 1.0 significa que o c\u00edrculo andou 1.0 m\u00e9trica mundo para a direita. offsetX - dirX - Define o sentido e comprimento do movimento do c\u00edrculo no eixo Y (em m\u00e9trica de mundo) ... Exemplo: 1.0 significa que o c\u00edrculo andou 1.0 m\u00e9trica mundo para baixo.\u00a0 Retorno: Esta fun\u00e7\u00e3o retorna 3 valores na seguinte ordem: true se o ocorre uma colis\u00e3o durante o movimento ou false Centro do c\u00edrculo no eixo X (em m\u00e9trica de mundo) onde ocorreu a colis\u00e3o. Centro do c\u00edrculo no eixo Y (em m\u00e9trica de mundo) onde ocorreu a colis\u00e3o."},{"location":"ObjetoSceneFogOfWar/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoSceneFogOfWar/#exemplos","title":"Exemplos","text":"<p>Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures</p>"},{"location":"ObjetoSceneGraphicItem/","title":"Objeto SceneGraphicItem","text":""},{"location":"ObjetoSceneGraphicItem/#objeto-scenegraphicitem_1","title":"Objeto SceneGraphicItem","text":"<p>O Objeto GraphicItem representa um \u00fanico item gr\u00e1fico no Scene, como, por exemplo, um token.</p>"},{"location":"ObjetoSceneGraphicItem/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneGraphicItem herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.</p> <p> </p>"},{"location":"ObjetoSceneGraphicItem/#abstracao","title":"Abstra\u00e7\u00e3o","text":"<p>Esta \u00e9 uma classe abstrata e voc\u00ea nunca encontrar\u00e1 um objeto SceneGraphicItem vivo sem ser uma das seguintes classes:</p> <ul> <li>Objeto SceneToken</li> <li>Objeto SceneEffectArea</li> <li>Objeto SceneUserDrawing</li> </ul> <p> </p> <p>Por ser uma abstra\u00e7\u00e3o, um objeto SceneGraphicItem possui todas as caracter\u00edsticas que s\u00e3o comuns aos objetos listados acima.</p>"},{"location":"ObjetoSceneGraphicItem/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneGraphicItem tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneGraphicItem/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene a qual este item gr\u00e1fico pertence.\u00a0 objectType String: \"token\" \"effectArea\" \"userDrawing\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico e pode conter um dos seguintes valores:\u00a0 \"token\" -\u00a0 este item gr\u00e1fico \u00e9 um Objeto SceneToken\u00a0 \"effectArea\" - este item gr\u00e1fico \u00e9 um Objeto SceneEffectArea\u00a0 \"userDrawing\" - este item gr\u00e1fico \u00e9 um Objeto SceneUserDrawing width Double Contem a LARGURA do item em m\u00e9trica de mundo.\u00a0 height Double Contem a ALTURA do item em m\u00e9trica de mundo.\u00a0 layer Enumerado: \"background\" \"objects\" \"tokens\"\u00a0 Define em qual camada do tabuleiro este item se encontra. x Double Cont\u00e9m, em m\u00e9trica de mundo, a posi\u00e7\u00e3o do item no eixo X. \u00a0 y Double Cont\u00e9m, em m\u00e9trica de mundo, a posi\u00e7\u00e3o do item no eixo Y.\u00a0 z Double Cont\u00e9m um n\u00famero para definir a ordem Z do item, isto \u00e9, a ordem em que o item \u00e9 desenhado na tela.\u00a0 Exemplo: Se A e B forem dois items de uma mesma camada do scene e se A possuir ordem Z equivalente a 5 e B possuir ordem Z equivalente a 10, o item A aparecer\u00e1 abaixo do item B na tela.\u00a0 rotation Double Cont\u00e9m um \u00e2ngulo em graus que define a rota\u00e7\u00e3o do item na interface.\u00a0 visible Boolean Se for true, o item deve ser desenhado para todos. Se for false, o item deve ser desenhado apenas para o mestre.\u00a0 snapToGrid Boolean Define como o item deve se posicionar em rela\u00e7\u00e3o ao grid.\u00a0 Se for true, o item deve se ajeitar para se encaixar na grid do tabuleiro. Se for false, o item n\u00e3o deve tentar ajeitar sua posi\u00e7\u00e3o de forma autom\u00e1tica.\u00a0 locked Boolean Se true, os usu\u00e1rios n\u00e3o conseguir\u00e3o mover o item pelo scene. \u00d3timo para, ap\u00f3s o tabuleiro tiver sido montado pelo mestre, evitar que os usu\u00e1rios movam pe\u00e7as sem querer e desmontarem o scene.\u00a0 selected Boolean Indica se o item est\u00e1 contido na lista de itens selecionados do usu\u00e1rio atual.\u00a0 isHover Boolean Indica se o mouse do usu\u00e1rio est\u00e1 em cima do item.\u00a0 isMine Boolean (Somente Leitura) Cont\u00e9m true se o usu\u00e1rio atual do RRPG puder controlar/for dono do item.\u00a0 ownerUserID String Cont\u00e9m o login do usu\u00e1rio do RRPG que \u00e9 dono deste item.\u00a0 canBeRendered Boolean (Somente Leitura) Cont\u00e9m true se o item pode ser renderizado na tela do usu\u00e1rio.\u00a0 O valor desta propriedade considera o Fog of War do tabuleiro.\u00a0 canvas Objeto SceneCanvas (Somente Leitura) Cont\u00e9m o objeto SceneCanvas do item. Este objeto cont\u00e9m as opera\u00e7\u00f5es gr\u00e1ficas que comp\u00f5e a apar\u00eancia do item;\u00a0 Se for um SceneToken, por exemplo, voc\u00ea encontrar\u00e1 um item dentro de canvas que \u00e9 respons\u00e1vel por desenhar a imagem no tabuleiro.\u00a0 Se for um SceneUserDrawing, dentro de canvas voc\u00ea encontrar\u00e1 as informa\u00e7\u00f5es do desenho que o usu\u00e1rio fez."},{"location":"ObjetoSceneGraphicItem/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o item:getCenter([snapToGrid]) Retorna onde no mundo do tabuleiro fica o centro do item.\u00a0 Par\u00e2metros: (OPCIONAL) snapToGrid - Booleano. Se True, o scene retornar\u00e1 a posi\u00e7\u00e3o mais perto do centro do item que se encaixe na grid. False, o scene n\u00e3o tentar\u00e1 fazer nenhum tipo de arredondamento. Se este par\u00e2metro n\u00e3o for informado, o scene usar\u00e1 o valor da propriedade \"snapToGrid\" do item como par\u00e2metro.\u00a0 Retorno: A fun\u00e7\u00e3o retorna dois n\u00fameros na seguinte ordem: worldX - A posi\u00e7\u00e3o central no eixo X em rela\u00e7\u00e3o ao tabuleiro, em m\u00e9trica de mundo. worldY - A posi\u00e7\u00e3o central no eixo Y em rela\u00e7\u00e3o ao tabuleiro, em m\u00e9trica de mundo.\u00a0 Exemplo: local wX, wY = scene.items[1]:getCenter();\u00a0 item:setCenter(worldX, worldY[, snapToGrid]) Move o item de forma que seu centro ocupe a posi\u00e7\u00e3o passada como par\u00e2metro.\u00a0 Par\u00e2metros: worldX - Posi\u00e7\u00e3o no eixo X do tabuleiro, em m\u00e9trica de mundo, onde o centro do item deve ficar. worldY - Posi\u00e7\u00e3o no eixo Y do tabuleiro, em m\u00e9trica de mundo, onde o centro do item deve ficar. (OPCIONAL) snapToGrid - Booleano. Caso seja True, o Scene tentar\u00e1 arredondar a posi\u00e7\u00e3o de forma que o item se encaixe no grid do tabuleiro. Se n\u00e3o informado, o scene utiliza o valor da propriedade \"snapToGrid\" do pr\u00f3prio item.\u00a0 item:getBounds() Retorna as informa\u00e7\u00f5es dos limites do item no scene.\u00a0 Esta fun\u00e7\u00e3o retorna 5 valores na seguinte ordem: left - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x\" do item. top - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y\" do item. right - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x + width\" do item. bottom - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y + height\" do item. rotation - Valor num\u00e9rico contendo o valor da propriedade \"rotation\" do item.\u00a0 item:setBounds(left, top, right, bottom[, rotation]) Altera os limites do item no scene.\u00a0 Par\u00e2metros left - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x\" do item. top - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y\" do item. right - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x + width\" do item. bottom - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y + height\" do item. (OPCIONAL) rotation - Valor num\u00e9rico contendo o valor da propriedade \"rotation\" do item.\u00a0 item:getCellsOccupied() Retorna as c\u00e9lulas do grid que o item est\u00e1 ocupando no momento.\u00a0 Par\u00e2metros: N\u00e3o h\u00e1\u00a0 Retorno: Um array (tabela lua indexada de 1 a #tabela) de tabelas luas, cada uma contendo as propriedades \"i\"e \"j\" das coordenadas Aij de cada c\u00e9lula ocupada pelo item.\u00a0 item:compareZOrder(otherItem) Realiza uma compara\u00e7\u00e3o de ordem Z entre dois graphics itens e retorna a ordem em rela\u00e7\u00e3o aos dois.\u00a0 Par\u00e2metros: otherItem - Outro objeto SceneGraphicItem com o qual deseja comparar\u00a0 Retorno: -1 se item fica abaixo de otherItem 0 se item fica exatamente na mesma ordem z 1 se item fica acima de otherItem\u00a0 item:doSnapToGrid() Ajusta a posi\u00e7\u00e3o atual do item para que fique agarrado ao grid.\u00a0 item:delete() Remove o item do tabuleiro."},{"location":"ObjetoSceneGraphicItem/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onBeforeDraw Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento!\u00a0 Este evento \u00e9 chamado antes do RRPG desenhar o item gr\u00e1fico na tela.\u00a0 onAfterDraw Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento!\u00a0 Este evento \u00e9 chamado depois do RRPG desenhar o item gr\u00e1fico na tela.\u00a0 onBoundsChange Evento que \u00e9 chamado quando os limites do item for alterado (posi\u00e7\u00e3o, largura, altura, rota\u00e7\u00e3o, etc..)\u00a0 Par\u00e2metros: item - objeto SceneGraphicItem que sofreu a altera\u00e7\u00e3o nos limites."},{"location":"ObjetoSceneGraphicItem/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneGraphicItem/#exemplo-1-um-plugin-que-movimenta-de-forma-simples-os-itens-do-scene-com-o-mouse","title":"Exemplo 1 - Um plugin que movimenta de forma simples os itens do Scene com o mouse","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Vari\u00e1veis para armazenar informa\u00e7\u00f5es sobre o \"arrastar\" dos itens local\u00a0objMouseDown\u00a0=\u00a0nil;\u00a0\u00a0-- Qual objeto est\u00e1 sendo arrastado local\u00a0selecaoX,\u00a0selecaoY;\u00a0\u00a0-- \u00a0Em que ponto do item o usu\u00e1rio clicou (em rela\u00e7\u00e3o ao centro do item) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseDown\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Converter para m\u00e9trica de mundo a posi\u00e7\u00e3o do clique local\u00a0wx,\u00a0wy\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Descobrir qual item se encontra neste ponto \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 objMouseDown\u00a0=\u00a0scene.items:itemAtPoint(wx,\u00a0wy); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0objMouseDown\u00a0~=\u00a0nil\u00a0then -- Existe um item nesta posi\u00e7\u00e3o.\u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Vamos obter onde fica a posi\u00e7\u00e3o central deste item local\u00a0centerX,\u00a0centerY\u00a0=\u00a0objMouseDown:getCenter(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0objMouseDown.snapToGrid\u00a0then -- Movimento \"agarrado\" ao grid \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Vamos pegar a posi\u00e7\u00e3o do mundo e arredondar para o centro -- de uma c\u00e9lula mais pr\u00f3xima local\u00a0cellI,\u00a0cellJ\u00a0=\u00a0scene.grid:worldToCell(wx,\u00a0wy);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 wx,\u00a0wy\u00a0=\u00a0scene.grid:cellToWorld(cellI,\u00a0cellJ);\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- calcular onde no item o usu\u00e1rio clicou, em rela\u00e7\u00e3o ao seu centro. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 selecaoX\u00a0=\u00a0wx\u00a0-\u00a0centerX; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 selecaoY\u00a0=\u00a0wy\u00a0-\u00a0centerY;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento onMouseMove para arrastar o item \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseMove\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0objMouseDown\u00a0~=\u00a0nil\u00a0then -- Mouse moveu e existe um item selecionado -- Converter a posi\u00e7\u00e3o clicada para m\u00e9trica de mundo local\u00a0wx,\u00a0wy\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0objMouseDown.snapToGrid\u00a0then -- Movimento agarrado ao grid -- Arredondar a posi\u00e7\u00e3o do mouse para o centro de uma c\u00e9lula mais -- pr\u00f3xima. local\u00a0newCellI,\u00a0newCellJ\u00a0=\u00a0scene.grid:worldToCell(wx,\u00a0wy); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 wx,\u00a0wy\u00a0=\u00a0scene.grid:cellToWorld(newCellI,\u00a0newCellJ); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Calcular o novo centro do item local\u00a0centerX,\u00a0centerY\u00a0=\u00a0objMouseDown:getCenter(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 centerX\u00a0=\u00a0wx\u00a0-\u00a0selecaoX; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 centerY\u00a0=\u00a0wy\u00a0-\u00a0selecaoY;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Setar o novo centro do item. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 objMouseDown:setCenter(centerX,\u00a0centerY);\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento onMouseUp para parar de arrastar o item \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseUp\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Mouse liberou o click, vamos -- sinalizar para o onMouseMove que n\u00e3o estamos mais arrastando -- ninguem \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 objMouseDown\u00a0=\u00a0nil; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*);"},{"location":"ObjetoSceneGraphicItem/#exemplo-2-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","title":"Exemplo 2 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene.","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento OnMouseDown do Viewport \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseDown\u00a0=\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local\u00a0worldX,\u00a0worldY\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar o item que o usu\u00e1rio clicou local\u00a0item\u00a0=\u00a0scene.items:itemAtPoint(worldX,\u00a0worldY); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0item\u00a0~=\u00a0nil\u00a0then -- Encontrou um item na posi\u00e7\u00e3o clicada.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0NOME_MINHA_MARCA\u00a0=\u00a0\"MarcaExemplo\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local\u00a0opGrafica\u00a0=\u00a0item.canvas:findByName(NOME_MINHA_MARCA); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0opGrafica\u00a0==\u00a0nil\u00a0then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica\u00a0=\u00a0item.canvas:addBitmap(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.name\u00a0=\u00a0NOME_MINHA_MARCA; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- Abaixo, URL da imagem da nossa marca. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.url\u00a0=\u00a0\"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.x\u00a0=\u00a00.25; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.width\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.y\u00a0=\u00a0-0.1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.height\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.z\u00a0=\u00a010;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica:delete(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*);\u00a0  Item sem a marca  Item com a marca <p>Created with the Personal Edition of HelpNDoc: Protect Your Confidential PDFs with These Simple Security Measures</p>"},{"location":"ObjetoSceneGraphicItemList/","title":"Objeto SceneGraphicItemList","text":""},{"location":"ObjetoSceneGraphicItemList/#objeto-scenegraphicitemlist_1","title":"Objeto SceneGraphicItemList","text":"<p>O Objeto SceneGraphicItem \u00e9 um objeto que cont\u00e9m a cole\u00e7\u00e3o de todos os itens gr\u00e1ficos/visuais do tabuleiro, como os tokens.</p> <p> </p> <p>O SceneGraphicItemList de um scene pode ser obtido atrav\u00e9s da propriedade \"items\" do objeto Scene</p> <p> </p> <p> </p>"},{"location":"ObjetoSceneGraphicItemList/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneGraphicItemList herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.</p> <p> </p>"},{"location":"ObjetoSceneGraphicItemList/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneGraphicItemList tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneGraphicItemList/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o operador # Integer (Somente Leitura) Contem a quantidade de itens gr\u00e1ficos que existem no scene.\u00a0 Exemplo: local qtDeItens = #scene.items;\u00a0 operador [] Objeto SceneGraphicItem (Somente Leitura) Contem um objeto SceneGraphicItem representando um item gr\u00e1fico do scene, como um token.\u00a0 O valor passado dentro do colchete deve ser um n\u00famero entre 1 a \"count\".\u00a0 Exemplo de uso: local item1 = scene.items[1]; -- Primeiro item local item2 = scene.items[2];\u00a0 -- Percorrendo todos os itens gr\u00e1ficos do scene for i = 1, #scene.items, 1 do \u00a0 local umItem = scene.items[i]; end;\u00a0 count Integer (Somente Leitura), equivale ao operador #. Contem a quantidade de itens gr\u00e1ficos que existem no scene.\u00a0 selection Array de SceneGraphicItem (Somente Leitura) Retorna um array (uma tabela lua indexada de 1 a #array) contendo os itens do scene que est\u00e3o selecionados no momento."},{"location":"ObjetoSceneGraphicItemList/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o list:get(index) Equivalente ao operador [], retorna um SceneGraphicItem representando um item gr\u00e1fico do scene, como um token.\u00a0 Par\u00e2metros: index - um n\u00famero inteiro entre 1 e \"count\"\u00a0 Retorno: Um objeto SceneGraphicItem.\u00a0 list:enumAtPoint(worldX, worldY [, layer]) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo, retorna todos os SceneGraphicItem do scene que podem ser encontrados neste ponto (isto \u00e9, se o ponto for uma posi\u00e7\u00e3o dentro do item).\u00a0 Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo que contem a coordenada X da ponto. worldY - N\u00famero em m\u00e9trica de mundo que contem a coordenada Y do ponto. (OPCIONAL) layer - String contendo uma camada. Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o enumeradas por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto ser\u00e3o retornados, independente de qual camada pertencer.\u00a0 Retorno: Um array (tabela lua com \u00edndices de 1 a #tabela) de objetos SceneGraphicItem. Caso nenhum item seja encontrado na posi\u00e7\u00e3o informada, o array vem vazio.\u00a0 Observa\u00e7\u00e3o:\u00a0 O array retornado pela fun\u00e7\u00e3o vem ordenado pela posi\u00e7\u00e3o Z dos itens quando h\u00e1 sobreposi\u00e7\u00e3o. Isto \u00e9, quando um item ocupa o mesmo espa\u00e7o que outro item ocupa, a fun\u00e7\u00e3o garante que o item que \u00e9 desenhado mais abaixo apare\u00e7a antes no array retornado do que o item que \u00e9 desenhado acima dele.Se um item achado n\u00e3o sobrepor nenhum outro item, sua ordem no array retornado \u00e9 indefinida (Ordena\u00e7\u00e3o Z apenas dos itens em sobreposi\u00e7\u00e3o).\u00a0 list:enumInRect(rect [, layer]) Dado um ret\u00e2ngulo em m\u00e9trica de mundo, retorna todos os SceneGraphicItem do scene que sobrep\u00f5e ao ret\u00e2ngulo (que coincidem, justap\u00f5e, que intercedem, etc..)\u00a0 Par\u00e2metros: rect - Um ret\u00e2ngulo em estrutura SceneRect com valores em m\u00e9trica de mundo. (OPCIONAL) layer - String contendo uma camada. Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o enumeradas por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto ser\u00e3o retornados, independente de qual camada pertencerem.\u00a0 Retorno: Um array (tabela lua com \u00edndices de 1 a #tabela) de objetos SceneGraphicItem. Caso nenhum item seja encontrado no ret\u00e2ngulo informado, o array vem vazio.\u00a0 Observa\u00e7\u00e3o:\u00a0 O array retornado pela fun\u00e7\u00e3o vem ordenado pela posi\u00e7\u00e3o Z dos itens quando h\u00e1 sobreposi\u00e7\u00e3o. Isto \u00e9, quando um item ocupa o mesmo espa\u00e7o que outro item ocupa, a fun\u00e7\u00e3o garante que o item que \u00e9 desenhado mais abaixo apare\u00e7a antes no array retornado do que o item que \u00e9 desenhado acima dele.Se um item achado n\u00e3o sobrepor nenhum outro item, sua ordem no array retornado \u00e9 indefinida (Ordena\u00e7\u00e3o Z apenas dos itens em sobreposi\u00e7\u00e3o).\u00a0 list:itemAtPoint(worldX, worldY [, layer]) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo, retorna um SceneGraphicItem do scene que se encontra neste ponto.\u00a0 Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo que contem a coordenada X da ponto. worldY - N\u00famero em m\u00e9trica de mundo que contem a coordenada Y do ponto. (OPCIONAL) layer - String contendo uma camada. Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o retornados por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto poder\u00e3o ser retornados, independente de qual camada pertencerem.\u00a0 Retorno: Se houver algum item na posi\u00e7\u00e3o informada, retorna um SceneGraphicItem, aquele mais acima na ordem Z, isto \u00e9, o que \u00e9 desenhado acima dos outros. Se n\u00e3o houver item na posi\u00e7\u00e3o informada, retorna nil.\u00a0 list:clearSelection() Deseleciona todos os itens que estavam na lista de sele\u00e7\u00e3o do usu\u00e1rio.\u00a0 list:addToken([layer]) Adiciona um novo Token ao tabuleiro.\u00a0 Par\u00e2metros: (OPCIONAL) layer - Define em qual camada o novo token deve aparecer. Pode conter \"background\", \"objects\" ou \"tokens\".\u00a0 Retorno: Objeto SceneToken representando o novo token.\u00a0 list:addUserDrawing([layer]) Adiciona um novo UserDrawing ao tabuleiro.\u00a0 Par\u00e2metros: (OPCIONAL) layer - Define em qual camada o novo user drawing deve aparecer. Pode conter \"background\", \"objects\" ou \"tokens\".\u00a0 Retorno: Objeto SceneUserDrawing representando o novo desenho de usu\u00e1rio."},{"location":"ObjetoSceneGraphicItemList/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onItemAdded Evento invocado quando um item for adicionado ao scene, seja porque acabou de ser criado ou porque estava invis\u00edvel e se tornou vis\u00edvel agora.\u00a0 Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi adicionado. \u00a0 onItemRemoved Evento invocado quando um item for removido do scene, seja porque foi destru\u00eddo ou porque se tornou invis\u00edvel.\u00a0 Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi removido.\u00a0 onItemSelected Evento invocado quando um item for adicionado \u00e0 sele\u00e7\u00e3o de itens do usu\u00e1rio.\u00a0 Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi selecionado.\u00a0 onItemDeselected Evento invocado quando um item for removido da sele\u00e7\u00e3o de itens do usu\u00e1rio.\u00a0 Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi removido da sele\u00e7\u00e3o.\u00a0 onItemLayerChange Evento invocado quando a camada de um item for alterada.\u00a0 Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que teve a propriedade \"layer\" alterada."},{"location":"ObjetoSceneGraphicItemList/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneGraphicItemList/#exemplo-1-um-plugin-que-descobre-em-qual-item-do-scene-o-usuario-clicou","title":"Exemplo 1 - Um plugin que descobre em qual item do scene o usu\u00e1rio clicou","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseUp\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Converter para m\u00e9trica de mundo a posi\u00e7\u00e3o do clique local\u00a0wx,\u00a0wy\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar o objeto mais acima da posi\u00e7\u00e3o clicada local\u00a0o\u00a0=\u00a0scene.items:itemAtPoint(wx,\u00a0wy); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Exibir uma mensagem if\u00a0o\u00a0~=\u00a0nil\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Clique em um objeto\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Clique em nada\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*); <p>Created with the Personal Edition of HelpNDoc: Create Professional CHM Help Files with HelpNDoc's Easy-to-Use Tool</p>"},{"location":"ObjetoSceneGridLayer/","title":"Objeto SceneGridLayer","text":""},{"location":"ObjetoSceneGridLayer/#objeto-scenegridlayer_1","title":"Objeto SceneGridLayer","text":"<p>O Objeto SceneGridLayer representa o grid do tabuleiro de combate e possui informa\u00e7\u00f5es e utilit\u00e1rios a respeito do mesmo.</p> <p> </p> <p>O SceneGridLayer de um scene pode ser obtido atrav\u00e9s da propriedade \"grid\" do objeto Scene</p> <p> </p> <p> </p>"},{"location":"ObjetoSceneGridLayer/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneGridLayer herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.</p> <p> </p>"},{"location":"ObjetoSceneGridLayer/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneGridLayer/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene a qual este SceneGridLayer pertence.\u00a0 gridType Enumerado: \"square\" \"vertHex\" \"horzHex\" Define o tipo de grid que o tabuleiro de combate utiliza.\u00a0 \"square\": Grid com c\u00e9lulas quadradas \u00a0 \"vertHex\": Grid com c\u00e9lulas hexagonais organizadas verticalmente. \u00a0 \"horzHex\": Grid com c\u00e9lulas hexagonais organizadas horizontalmente.\u00a0  squareDiagonals Enumerado: \"simplified\" \"manhattan\" \"alternated\" \"euclidean\" Quando gridType for \"square\", esta propriedade define como as diagonais do grid quadriculado devem se comportar e pode ser um dos seguintes valores:\u00a0 \"simplified\" - (Valor padr\u00e3o) Movimento pelas diagonais simplificado. Andar pelas diagonais possui o mesmo \"custo\" que andar pelas laterais. \"manhattan\" - O movimento pelas diagonais custam 2x o custo de andar pelas laterais. \"alternated\" - O primeiro movimento diagonal custa 1x, o segundo custa 2x, o terceiro custa 1x, o quarto 2x, e assim por diante. \"euclidean\" - O custo de andar pelas diagonais \u00e9 igual \u00e0 dist\u00e2ncia real.\u00a0 offsetX Double Define o deslocamento em m\u00e9trica de mundo que a primeira c\u00e9lula do grid (i:0, j:0) deve receber no eixo X.\u00a0 Em outras palavras, offsetX e offsetY s\u00e3o usadas para ajuste fino para posicionar corretamente o grid no tabuleiro.\u00a0 O RRPG faz um \"WrapAround\" no offset: Se voc\u00ea especificar um OffsetX que equivalha a 3,3 c\u00e9lulas por exemplo, o RRPG far\u00e1 um deslocamento de apenas 0,3 c\u00e9lulas, pois deslocar 3,3 ou deslocar 0,3 c\u00e9lulas produz o mesmo resultado visual.\u00a0 offsetY Double Define o deslocamento em m\u00e9trica de mundo que a primeira c\u00e9lula do grid (i:0, j:0) deve receber no eixo Y.\u00a0 Em outras palavras, offsetX e offsetY s\u00e3o usadas para ajuste fino para posicionar corretamente o grid no tabuleiro.\u00a0 O RRPG faz um \"WrapAround\" no offset: Se voc\u00ea especificar um OffsetY que equivalha a 3,1 c\u00e9lulas por exemplo, o RRPG far\u00e1 um deslocamento de apenas 0,1 c\u00e9lulas, pois deslocar 3,1 ou deslocar 0,1 c\u00e9lulas produz o mesmo resultado visual.\u00a0 cellSize Double Define o tamanho de cada c\u00e9lula do grid em m\u00e9trica de mundo. Exemplo: 1.5 significa que cada c\u00e9lula do grid ocupam 1.5 metros no espa\u00e7o do mundo do tabuleiro (ou outra unidade de medida, conforme a propriedade scene.worldMetricName). \u00a0 Dimens\u00f5es se o gridType for \"square\":  \u00a0 Dimens\u00f5es se o gridType for \"vertHex\": \u00a0 Dimens\u00f5es se o gridType for \"horzHex\": gridColor String de Cor Define a cor da linha do grid.\u00a0 gridThickness Double Define, em m\u00e9trica de tela, a espessura das linhas do grid.\u00a0 drawGrid Boolean True se as linhas do grid devem ser desenhadas, ou false se as linhas do grid devem ser invis\u00edveis.\u00a0 rowCount Integer (Somente Leitura) Com base no tamanho do tabuleiro (propriedade scene.worldWidth) e no tamanho de cada c\u00e9lula da grid (cellSize), esta propriedade cont\u00e9m quantas linhas a grid/matriz tem.\u00a0 colCount Integer (Somente Leitura) Com base no tamanho do tabuleiro (scene.worldHeight) e no tamanho de cada c\u00e9lula da grid (cellSize), esta propriedade cont\u00e9m quantas colunas a grid/matriz tem."},{"location":"ObjetoSceneGridLayer/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o grid:cellToWorld(i, j) Dada uma coordenada de matriz/grid Aij, retorna qual \u00e9 a posi\u00e7\u00e3o central desta c\u00e9lula em m\u00e9trica de mundo. \u00a0 Par\u00e2metros: i - N\u00famero inteiro contendo qual linha a c\u00e9lula se encontra, o valor \"i\" da coordenada Aij. A primeira linha da grid come\u00e7a no \u00edndice 0. j - N\u00famero inteiro contendo qual coluna a c\u00e9lula se encontra, o valor \"j\" da coordenada Aij. A primeira coluna da grid come\u00e7a no \u00edndice 0.\u00a0 Retorno:\u00a0 Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: worldX - Um n\u00famero em m\u00e9trica de mundo contendo onde, no eixo X, fica o centro da c\u00e9lula informada. worldY - Um n\u00famero em m\u00e9trica de mundo contendo onde, no eixo Y, fica o centro da c\u00e9lula informada.\u00a0 Observa\u00e7\u00f5es: Se a c\u00e9lula n\u00e3o existir de fato na grid, a fun\u00e7\u00e3o retornar\u00e1 a posi\u00e7\u00e3o de onde seria o centro desta c\u00e9lula se ela existisse.\u00a0 Exemplo: local wX, wY = scene.grid:cellToWorld(10, 5);\u00a0 Neste exemplo, o centro da c\u00e9lula [Linha 10, Coluna 5] fica na coordenada (wX, wY) em m\u00e9trica de mundo. \u00a0 grid:worldToCell(worldX, worldY) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo, retorna qual c\u00e9lula da grid que este ponto pertence.\u00a0 Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo contendo a posi\u00e7\u00e3o no eixo X worldY - N\u00famero em m\u00e9trica de mundo contendo a posi\u00e7\u00e3o no eixo Y\u00a0 Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: i - N\u00famero inteiro contendo qual linha a c\u00e9lula se encontra j - N\u00famero inteiro contendo qual coluna a c\u00e9lula se encontra\u00a0 Observa\u00e7\u00f5es: Se o ponto (worldX, worldY) n\u00e3o estiver dentro das dimens\u00f5es do tabuleiro, a fun\u00e7\u00e3o retornar\u00e1 qual c\u00e9lula a posi\u00e7\u00e3o se refere se o tabuleiro fosse maior.\u00a0 Exemplo: local i, j = scene.grid:worldToCell(16, 6);\u00a0 Meste exemplo, a posi\u00e7\u00e3o do mundo (x: 16, y: 6) pertence \u00e0 c\u00e9lula Aij [Linha i, Coluna j].\u00a0 grid:shortestPath(srcI, srcJ, destI, destJ[, options]) Dada duas coordenadas de matriz/grid Aij, calcula e retorna o caminho mais curto entres as duas c\u00e9lulas da grid.\u00a0 Par\u00e2metros: srcI - N\u00famero inteiro contendo qual linha a c\u00e9lula origem se encontra, o valor \"i\" da coordenada Aij. A primeira linha da grid come\u00e7a no \u00edndice 0. srcJ - N\u00famero inteiro contendo qual coluna a c\u00e9lula origem se encontra, o valor \"j\" da coordenada Aij. A primeira coluna da grid come\u00e7a no \u00edndice 0. destI - N\u00famero inteiro contendo qual linha a c\u00e9lula destino se encontra, o valor \"i\" da coordenada Aij. destJ - N\u00famero inteiro contendo qual coluna a c\u00e9lula destino se encontra, o valor \"j\" da coordenada Aij. (OPCIONAL) options - Uma tabela lua contendo op\u00e7\u00f5es de como o caminho mais curto deve ser calculado e pode possuir os seguintes atributos: diagonals - V\u00e1lido apenas para grid do tipo \"square\", Define como o c\u00e1lculo deve se comportar em rela\u00e7\u00e3o \u00e0s diagonais do grid e pode conter um dos seguintes valores: \"simplified\" - (Valor padr\u00e3o) Movimento pelas diagonais simplificado. Andar pelas diagonais possui o mesmo \"custo\" que andar pelas laterais. \"manhattan\" - O movimento pelas diagonais custam 2x o custo de andar pelas laterais. \"alternated\" - O primeiro movimento diagonal custa 1x, o segundo custa 2x, o terceiro custa 1x, o quarto 2x, e assim por diante. \"euclidean\" - O custo de andar pelas diagonais \u00e9 igual \u00e0 dist\u00e2ncia real. endOfGrid - O que acontece quando a c\u00e9lula destino estiver fora dos limites do tabuleiro/grid? Pode conter um dos seguintes valores: \"fail\" - (Valor padr\u00e3o) a busca pelo menor caminho falha. \"continue\" - Ignora o fato e continua como se existisse um grid al\u00e9m dos limites do tabuleiro. \"trunc\" - A busca pelo menor caminho leva at\u00e9 o ponto dentro do tabuleiro mais perto do ponto destino. continuationData - Se quiser emendar caminhos de forma adequada, passe aqui o continuationData retornado pela \u00faltima chamada de shortestPath. trackCollisions - True se quiser que o sistema\u00a0 rastreie colis\u00f5es durante o movimento. O padr\u00e3o \u00e9 false. collisionRadius - Comprimento do raio de um c\u00edrculo (em m\u00e9trica de mundo) que ser\u00e1 utilizado durante o rastreio de colis\u00f5es de movimento.\u00a0 Retorno: Esta fun\u00e7\u00e3o retorna 4 valores na seguinte ordem: success - True se conseguiu encontrar um menor caminho ou false se n\u00e3o foi poss\u00edvel. distance - Quando success for true, cont\u00e9m um n\u00famero contendo a dist\u00e2ncia do caminho encontrado em m\u00e9trica de mundo . steps - Quando success for true, cont\u00e9m os movimentos necess\u00e1rios no grid para chegar ao destino. \u00c9 um array (tabela lua indexada de 1 a #tabela) de tabelas luas, cada uma contendo as propriedades \"i\"e \"j\" das coordenadas Aij de cada c\u00e9lula no caminho. continuationData - Um valor que voc\u00ea pode passar para a pr\u00f3xima chamada de \"grid:shortestPath\" se quiser emendar caminhos de forma adequada."},{"location":"ObjetoSceneGridLayer/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Evento que \u00e9 disparado quando o Grid do scene mudar.\u00a0 As seguintes situa\u00e7\u00f5es disparam este evento: Altera\u00e7\u00e3o no tamanho do Scene (propriedades scene.worldWidth e scene.worldHeight) Altera\u00e7\u00e3o em algumas das seguintes propriedades do grid: gridType, cellSize, offsetX, offsetY, gridColor, gridThickness e drawGrid"},{"location":"ObjetoSceneGridLayer/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneGridLayer/#exemplo-1-um-plug-in-que-descobre-em-qual-celula-do-grid-o-usuario-clicou","title":"Exemplo 1 - Um plug-in que descobre em qual c\u00e9lula do grid o usu\u00e1rio clicou","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseUp\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Converter coordenada de tela do click para coordenada de mundo local\u00a0wx,\u00a0wy\u00a0=\u00a0scene.viewport:screenToWorld(event.x, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Converter coordenada de mundo para coordenada do grid local\u00a0i,\u00a0j\u00a0=\u00a0scene.grid:worldToCell(wx,\u00a0wy); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Exibir uma Mensagem sobre a c\u00e9lula clicada\u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Click na c\u00e9lula [Linha \"\u00a0..\u00a0i\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\", Coluna \"\u00a0..\u00a0j\u00a0..\u00a0\"]\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*); \u00a0 <p>Created with the Personal Edition of HelpNDoc: Free Kindle producer</p>"},{"location":"ObjetoScenePluginAttachment/","title":"Objeto ScenePluginAttachment","text":"<p>\\&lt; A escrever ...&gt;</p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc</p>"},{"location":"ObjetoSceneToken/","title":"Objeto SceneToken","text":""},{"location":"ObjetoSceneToken/#objeto-scenetoken_1","title":"Objeto SceneToken","text":"<p>O Objeto SceneToken representa um \u00fanico item gr\u00e1fico no Scene do tipo token, isto \u00e9, personagens, objetos e outros s\u00edmbolos gr\u00e1ficos.</p>"},{"location":"ObjetoSceneToken/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneToken herda de SceneGraphicItem e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas.</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Objeto SceneGraphicItem</li> <li>Objecto SceneBaseObject</li> </ul> <p> </p>"},{"location":"ObjetoSceneToken/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneToken tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneToken/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"token\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico - \"token\".\u00a0 image Objeto SceneDrawingOpBitmap (Somente Leitura) Cont\u00e9m um Objeto SceneDrawingOpBitmap com os detalhes da imagem principal do token.\u00a0 name String Define o nome do token. Este nome \u00e9 exibido visualmente no Scene.\u00a0 facingMode Enumerado: \"rotate\" \"drawArrow\"\u00a0 Define como o Scene deve indicar visualmente para que lado o token est\u00e1 virado.\u00a0 \"rotate\": Rotacionar a imagem para a dire\u00e7\u00e3o.\u00a0 \"drawArrow\": N\u00e3o rotacionar a imagem e desenhar uma seta para a dire\u00e7\u00e3o.\u00a0 friendOrFoe Enumerado: \"unknown\" \"friend\" \"neutral\" \"foe\" Define se este token \u00e9 hostil ou amig\u00e1vel ao grupo do RRPG.\u00a0 \"unknown\" - Desconhecido, o mestre n\u00e3o definiu ou \u00e9 um objeto.\u00a0 \"friend\" - Este token representa algu\u00e9m/algo amig\u00e1vel aos personagens do grupo.\u00a0 \"neutral\" - Este token representa algu\u00e9m/algo neutro ao grupo.\u00a0 \"foe\" - Este token representa algu\u00e9m/algo hostil aos personagens do grupo.\u00a0 ownerUserID String\u00a0 Cont\u00e9m o login do usu\u00e1rio do RRPG que \u00e9 dono deste token e pode moviment\u00e1-lo.\u00a0 ownerCharacter Inteiro Cont\u00e9m o ID interno do personagem deste token.\u00a0 Este valor \u00e9 equivalente ao valor da propriedade \"codigoIntero\" do objeto \"BibliotecaItem\"\u00a0 0 = N\u00e3o foi definido o personagem.\u00a0 visionIntenseLightRange Double Define, em m\u00e9trica de mundo, o alcance da vis\u00e3o do token sob luz intensa.\u00a0 visionWeakLightRange Double Define, em m\u00e9trica de mundo, o alcance da vis\u00e3o do token sob luz fraca (exemplo: Luz do luar, uma vela fraca, etc..)\u00a0 visionDarknessRange Double Define, em m\u00e9trica de mundo, o alcance da vis\u00e3o do token na escurid\u00e3o total.\u00a0 visionHaveVision Boolean Define se o token possui vis\u00e3o/enxerga coisas no tabuleiro.\u00a0 Padr\u00e3o: False\u00a0 visionAngle Double Define, em graus, o \u00e2ngulo de vis\u00e3o do token.\u00a0 Padr\u00e3o: 360\u00a0 lightIntenseRange Double Define, em m\u00e9trica de mundo, o alcance da luz intensa emitida por este token. \u00a0 Se for igual a 0, este token n\u00e3o emite luz intensa.\u00a0 Padr\u00e3o: 0\u00a0 lightWeakRange Double Define, em m\u00e9trica de mundo, o alcance da luz fraca emitida por este token. \u00a0 Se for igual a 0, este token n\u00e3o emite luz fraca.\u00a0 Padr\u00e3o: 0\u00a0 lightAngle Double Define, em graus, o \u00e2ngulo da luz emitida por este token.\u00a0 Padr\u00e3o: 360\u00a0 barValue1 barValue2 barValue3 String Define o valor atual de uma das barrinhas do token. barMax1 barMax2 barMax3 String Define o valor m\u00e1ximo de uma das barrinhas do token. barColor1 barColor2 barColor3 String de Cor Define a cor de uma das barrinhas do token. isMine Boolean (Somente Leitura) Cont\u00e9m true se o token for controlado pelo usu\u00e1rio atual do RRPG."},{"location":"ObjetoSceneToken/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o token:clearMemoryAreas(); No FogOfWar, limpa a mem\u00f3ria do Token das \u00e1reas que ele j\u00e1 viu em algum momento do passado."},{"location":"ObjetoSceneToken/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoSceneToken/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneToken/#exemplo-1-","title":"Exemplo 1 -","text":""},{"location":"ObjetoSceneToken/#exemplo-2-","title":"Exemplo 2 -","text":"<p>Created with the Personal Edition of HelpNDoc: Elevate your documentation to new heights with HelpNDoc's built-in SEO</p>"},{"location":"ObjetoSceneUnitClass/","title":"Objeto SceneUnitClass","text":""},{"location":"ObjetoSceneUnitClass/#objeto-sceneunitclass_1","title":"Objeto SceneUnitClass","text":"<p>Este objeto representa um item de scene 2 na biblioteca de uma mesa no RRPG Firecast.</p> <p> </p>"},{"location":"ObjetoSceneUnitClass/#heranca","title":"Heran\u00e7a","text":"<p>O Objeto SceneUnitClass possui todas as caracter\u00edsticas de um Objeto BibliotecaItem. Veja:</p> <ul> <li>Objeto BibliotecaItem</li> <li>Objeto WrappedObject</li> </ul> <p></p>"},{"location":"ObjetoSceneUnitClass/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o Objeto SceneUnitClass tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneUnitClass/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o tamanhoX Double (Somente leitura) Cont\u00e9m quantos metros o item ocupa em sua largura no tabuleiro de combate.\u00a0 tamanhoY Double\u00a0 (Somente leitura) Cont\u00e9m quantos metros o item ocupa em sua altura no tabuleiro de combate. \u00a0 camada Enumerado: \"tokens\" \"objects\" \"background\"\u00a0 (Somente leitura) Cont\u00e9m em qual camada o item pertence por padr\u00e3o no tabuleiro de combate. descricao String (Somente leitura) Cont\u00e9m um texto descritivo do item de scene.\u00a0 urlImg String (Somente leitura) Cont\u00e9m a URL da imagem do item de scene.\u00a0 facing Enumerado: \"rotate\" \"drawArrow\" (Somente leitura) Cont\u00e9m como o item deve se comportar quando for rotacionado no tabuleiro de combate.\u00a0 \"rotate\" - Rotacionar tamb\u00e9m a imagem do item.\u00a0 \"drawArrow\" - N\u00e3o rotacionar a imagem e desenhar uma seta indicando a dire\u00e7\u00e3o do item.\u00a0 snapToGrid Boolean (Somente leitura) Cont\u00e9m true se o item deve se alinhar ao grid do tabuleiro de combate.\u00a0 direcaoImg Double (Somente leitura) Cont\u00e9m, em graus, a dire\u00e7\u00e3o do conte\u00fado da imagem... Isto \u00e9, \"para onde a imagem est\u00e1 apontando\"\u00a0 layoutCenterX Double (Somente leitura) Cont\u00e9m onde o CENTRO do token est\u00e1 na imagem no eixo X.\u00a0 Exemplos de valores:\u00a0 0.5 - O centro do token est\u00e1 no centro da imagem.\u00a0 1.0 - O centro do token est\u00e1 no canto da direita da imagem.\u00a0 0.0 - O centro do token est\u00e1 no canto esquerdo da imagem\u00a0 layoutCenterY Double (Somente leitura) Cont\u00e9m onde o CENTRO do token est\u00e1 na imagem no eixo Y.\u00a0 Exemplos de valores:\u00a0 0.5 - O centro do token est\u00e1 no centro da imagem.\u00a0 1.0 - O centro do token est\u00e1 no canto inferior da imagem.\u00a0 0.0 - O centro do token est\u00e1 no canto superior da imagem\u00a0 layoutTamX Double (Somente leitura) Cont\u00e9m o tamanho da imagem em rela\u00e7\u00e3o ao tamanho do token, no eixo X.\u00a0 Exemplos de valores:\u00a0 \u00a0 1.0 - A largura da imagem \u00e9 a mesma que a largura do token.\u00a0 1.5 - A largura da imagem \u00e9 1.5x a largura do token\u00a0 0.5 - A largura da imagem \u00e9 0.5x a largura do token.\u00a0 layoutTamY Double (Somente leitura) Cont\u00e9m o tamanho da imagem em rela\u00e7\u00e3o ao tamanho do token, no eixo Y.\u00a0 Exemplos de valores:\u00a0 \u00a0 1.0 - A altura da imagem \u00e9 a mesma que a altura do token.\u00a0 1.5 - A altura da imagem \u00e9 1.5x a altura do token\u00a0 0.5 - A altura da imagem \u00e9 0.5x a altura do token."},{"location":"ObjetoSceneUnitClass/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o sceneUnitClass:isType(typeName) Retorna true se passado \"sceneUnitClass\" como par\u00e2metro. <p>Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc</p>"},{"location":"ObjetoSceneUserDrawing/","title":"Objeto SceneUserDrawing","text":""},{"location":"ObjetoSceneUserDrawing/#objeto-sceneuserdrawing_1","title":"Objeto SceneUserDrawing","text":"<p>O Objeto SceneUserDrawing representa um \u00fanico item gr\u00e1fico no Scene do tipo \"desenho do usu\u00e1rio\".</p>"},{"location":"ObjetoSceneUserDrawing/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneUserDrawing herda de SceneGraphicItem e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas.</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Objeto SceneGraphicItem</li> <li>Objecto SceneBaseObject</li> </ul> <p> </p>"},{"location":"ObjetoSceneUserDrawing/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneUserDrawing tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneUserDrawing/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"userDrawing\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico - \"userDrawing\"."},{"location":"ObjetoSceneUserDrawing/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o userDrawing:markAsMyDrawing(); Marca o UserDrawing como pertencente ao usu\u00e1rio atual.\u00a0 A marca de dono do userDrawing permite usu\u00e1rios com +jogadores desenhar e controlar seus desenhos no scene. \u00a0 Se o usu\u00e1rio atual for MESTRE, esta fun\u00e7\u00e3o transforma o desenho em um desenho que faz parte do scene e n\u00e3o pertence a ningu\u00e9m.\u00a0 Se o usu\u00e1rio atual for +JOGADOR e se o item tiver acabado de ser criado, esta fun\u00e7\u00e3o marca o desenho como \"desenho de jogador\".\u00a0 Se o usu\u00e1rio atual for +JOGADOR mas o item j\u00e1 existir, a fun\u00e7\u00e3o n\u00e3o faz nada."},{"location":"ObjetoSceneUserDrawing/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o"},{"location":"ObjetoSceneUserDrawing/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneUserDrawing/#exemplo-1-","title":"Exemplo 1 -","text":""},{"location":"ObjetoSceneUserDrawing/#exemplo-2-","title":"Exemplo 2 -","text":"<p>Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?</p>"},{"location":"ObjetoSceneViewport/","title":"Objeto SceneViewport","text":""},{"location":"ObjetoSceneViewport/#objeto-sceneviewport_1","title":"Objeto SceneViewport","text":"<p>O Objeto Viewport representa a tela do usu\u00e1rio, a janela de exibi\u00e7\u00e3o, onde o scene est\u00e1 sendo renderizado.</p> <p> </p> <p>O Viewport de um scene pode ser obtido atrav\u00e9s da propriedade \"viewport\" do objeto Scene</p> <p> </p> <p> </p>"},{"location":"ObjetoSceneViewport/#heranca","title":"Heran\u00e7a","text":"<p>O objeto SceneViewport herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.</p> <p> </p>"},{"location":"ObjetoSceneViewport/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneViewport tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoSceneViewport/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene que este Viewport renderiza.\u00a0 width Double (Somente Leitura) Contem a LARGURA em M\u00e9trica de Tela do viewport, isto \u00e9, da janela onde o scene est\u00e1 sendo renderizado.\u00a0 height Double (Somente Leitura) Contem a ALTURA em M\u00e9trica de Tela do viewport, isto \u00e9, da janela onde o scene est\u00e1 sendo renderizado. \u00a0 worldX Double Define, em M\u00e9trica de Mundo, em qual posi\u00e7\u00e3o do eixo X do mundo o ponto (X: 0, Y: 0) da tela aponta.\u00a0 As propriedades \"worldX\" e \"worldY\" servem para fazer \"scroll\" no scene.\u00a0 Se quiser fazer um scroll para a direita, por exemplo, incrementa-se o valor de worldX. Se quiser fazer um scroll para cima, decrementa-se o valor de worldY;\u00a0 Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene.\u00a0 worldY Double Define, em M\u00e9trica de Mundo, em qual posi\u00e7\u00e3o do eixo Y do mundo o ponto (X: 0, Y: 0) da tela aponta.\u00a0 As propriedades \"worldX\" e \"worldY\" servem para fazer \"scroll\" no scene.\u00a0 Se quiser fazer um scroll para a direita, por exemplo, incrementa-se o valor de worldX. Se quiser fazer um scroll para cima, decrementa-se o valor de worldY;\u00a0 Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene.\u00a0 scale Double Define a escala entre a M\u00e9trica do Mundo e a M\u00e9trica da Tela do Scene.\u00a0 Em outras palavras, esta propriedade controla o \"zoom\" do Scene.\u00a0 Exemplo: Um valor 32.0 significa que cada unidade m\u00e9trica do mundo ocupam 32 unidades m\u00e9tricas de tela.\u00a0 Se quiser, por exemplo, efetuar um zoom+ no scene, incrementa-se \"scale\". Se quiser reduzir o zoom pela metade, divide-se por dois o valor de \"scale\".\u00a0 Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene.\u00a0 cursor Enumerado: \"default\" \"arrow\" \"handPoint\" \"hourGlass\" \"IBeam\" \"size\" \"sizeNESW\" \"sizeNS\" \"sizeNWSE\" \"sizeWE\" \"upArrow\" \"drag\" \"noDrop\" \"hSplit\" \"vSplit\" \"multiDrag\" \"sqlWait\" \"no\" \"appStart\" \"help\" \"cross\" Define qual cursor de mouse deve ser apresentado quando o mouse estiver em em cima do viewport do scene.\u00a0 \"default\" - Cursor padr\u00e3o, uma seta padr\u00e3o. \"arrow\" - Uma seta padr\u00e3o. \"handPoint\" - Uma m\u00e3o com um dedo apontando para cima. Normalmente \u00e9 usado para identificar um item selecion\u00e1vel/clic\u00e1vel \"hourGlass\" - Uma ampulheta para indicar um processo em andamento. \"IBeam\" - Cursor que sinaliza a possibilidade de entrar com texto no controle. \"size\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento. \"sizeNESW\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Nordeste-Sudoeste \"sizeNS\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Norte-Sul \"sizeNWSE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Noroeste-Sudeste \"sizeWE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Leste-Oeste \"upArrow\" - Uma seta apontando para cima. \"drag\" - Um cursor indicando que itens est\u00e3o sendo arrastados. \"noDrop\" - Indica\u00e7\u00e3o de que n\u00e3o \u00e9 poss\u00edvel arrastar para este alvo. \"hSplit\" -\u00a0 Indica\u00e7\u00e3o de splitter horizontal \"vSplit\" - Indica\u00e7\u00e3o de splitter vertical. \"multiDrag\" - Indica\u00e7\u00e3o de que v\u00e1rios itens est\u00e3o sendo arrastados. \"sqlWait\" - Ampulheta indicando um processo de banco de dados em andamento. \"no\" - Uma indica\u00e7\u00e3o de nega\u00e7\u00e3o, de que n\u00e3o \u00e9 poss\u00edvel fazer algo. \"appStart\" - Combina\u00e7\u00e3o de \"default\" e \"hourGlass\", normalmente usado para indicar que um aplicativo est\u00e1 sendo aberto. \"help\" - Uma seta com um ponto de interroga\u00e7\u00e3o. \"cross\" - Um cursor em formato de cruz, usado para indicar um posicionamento preciso."},{"location":"ObjetoSceneViewport/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o viewport:screenToWorld(screenX, screenY) Converte uma posi\u00e7\u00e3o definida em m\u00e9tricas de tela em uma posi\u00e7\u00e3o definida em m\u00e9tricas de mundo.\u00a0 Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ponto (screenX, screenY) da tela do usu\u00e1rio representa qual ponto (worldX, worldY) do tabuleiro?\u00a0 Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport.\u00a0 Par\u00e2metros: screenX - a posi\u00e7\u00e3o do eixo X do ponto da tela screenY - a posi\u00e7\u00e3o do eixo Y do ponto da tela\u00a0 Retorno: Esta fun\u00e7\u00e3o retorna 2 valores na seguinte ordem: worldX e worldY contendo o ponto convertido em m\u00e9tricas de mundo.\u00a0 Exemplo de uso: local worldX, worldY = scene.viewport:screenToWorld(10, 50);\u00a0 viewport:screenToWorld(screenRect) Converte um ret\u00e2ngulo definido em m\u00e9tricas de tela em um ret\u00e2ngulo definido em m\u00e9tricas de mundo.\u00a0 Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ret\u00e2ngulo \"screenRect\" da tela do usu\u00e1rio representa qual ret\u00e2ngulo do tabuleiro?\u00a0 Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport.\u00a0 Par\u00e2metros: screenRect - Uma tabela SceneRect contendo o ret\u00e2ngulo que ser\u00e1 convertido.\u00a0 Retorno: Uma tabela SceneRect contendo o ret\u00e2ngulo convertido em m\u00e9tricas de mundo.\u00a0 viewport:worldToScreen(worldX, worldY) Converte uma posi\u00e7\u00e3o definida em m\u00e9tricas de mundo em uma posi\u00e7\u00e3o definida em m\u00e9tricas de tela.\u00a0 Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ponto (worldX, worldY) do mundo do scene fica em qual posi\u00e7\u00e3o (screenX, screenY) na tela do usu\u00e1rio?\u00a0 Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport.\u00a0 Par\u00e2metros: worldX - a posi\u00e7\u00e3o do eixo X do mundo do scene. worldY - a posi\u00e7\u00e3o do eixo Y do mundo do scene.\u00a0 Retorno: Esta fun\u00e7\u00e3o retorna 2 valores na seguinte ordem: screenX e screenY contendo o ponto convertido em m\u00e9tricas de tela.\u00a0 Exemplo de uso: local screenX, screenY = scene.viewport:worldToScreen(3, 4.5);\u00a0 viewport:worldToScreen(worldRect) Converte um ret\u00e2ngulo definido em m\u00e9tricas de mundo em um ret\u00e2ngulo definido em m\u00e9tricas de tela.\u00a0 Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ret\u00e2ngulo \"worldRect\" do mundo do scene ocupa qual ret\u00e2ngulo da tela do usu\u00e1rio?\u00a0 Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport.\u00a0 Par\u00e2metros: worldRect - Uma tabela SceneRect contendo o ret\u00e2ngulo que ser\u00e1 convertido.\u00a0 Retorno: Uma tabela SceneRect contendo o ret\u00e2ngulo convertido em m\u00e9tricas de tela.\u00a0 viewport:getScrollBounds() Retorna os limites de scroll para os valores worldX e worldY.\u00a0 Retorno: Esta fun\u00e7\u00e3o retorna 4 valores num\u00e9ricos na seguinte ordem e defini\u00e7\u00e3o: minX - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldX ficar menor que este valor. minY - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldY ficar menor que este valor; maxX - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldX ficar maior que este valor. maxY - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldY ficar maior que este valor.\u00a0 Exemplo de uso: local minX, minY, maxX, maxY = viewport:getScrollBounds(); \u00a0 viewport:setupToolCategory(name, title, order) Atualiza ou cria uma categoria de ferramentas no Scene.\u00a0 Par\u00e2metros: name - Uma cadeia de caracteres contendo o nome da categoria. Este nome pode ser referenciado depois pela fun\u00e7\u00e3o addToolButton title - Uma cadeia de caracteres contendo a descri\u00e7\u00e3o/t\u00edtulo da categoria. order - Um n\u00famero definindo a ordem da categoria. Esta categoria ser\u00e1 exibida depois/abaixo de outra categoria de ordem menor. (A grosso modo, quem tiver n\u00famero de ordem menor fica na frente)\u00a0 viewport:addToolButton(categoryName, title, \u00a0 iconURL, order, options, callback [, deactivationCallback]) Adiciona um bot\u00e3o-ferramenta ao Scene.\u00a0 Par\u00e2metros: categoryName - O nome da categoria em que o bot\u00e3o deve ser inserido. Este \u00e9 o mesmo nome usado na fun\u00e7\u00e3o setupToolCategory. Se for especificado uma categoria inexistente, ela ser\u00e1 criada. title - Cadeia de caracteres contendo o t\u00edtulo do bot\u00e3o. iconURL - Cadeia de caracteres contendo o endere\u00e7o/caminho de uma imagem que ser\u00e1 utilizada como \u00edcone da ferramenta. Pode ser um endere\u00e7o de internet (exemplo: \u201chttp://xxxx.com.br/a.png\u201d)\u00a0 Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. order - Um n\u00famero contendo a ordem do bot\u00e3o em sua categoria. A grosso modo, quem tiver um n\u00famero de ordem menor fica na frente. options - nil ou uma tabela LUA podendo conter os seguintes atributos: \"selectable\" - Booleano, onde true significa que a ferramenta \u00e9 uma ferramenta selecion\u00e1vel. Uma ferramenta selecion\u00e1vel permanece ativa at\u00e9 que fique \"n\u00e3o selecionada\". Por padr\u00e3o, este valor \u00e9 false e significa que a ferramenta executa algo que n\u00e3o precisa mudar sele\u00e7\u00e3o da ferramenta ativa. defaultOfCategory - Booleano onde true significa que esta ferramenta \u00e9 a padr\u00e3o da categoria que est\u00e1 e que ela ser\u00e1 utilizada quando o usu\u00e1rio clicar na categoria. O padr\u00e3o \u00e9 false. dontFocus - Booleano onde true significa que a ferramenta n\u00e3o deve ser focada como ferramenta padr\u00e3o da categoria ap\u00f3s o usu\u00e1rio clicar nela. O padr\u00e3o \u00e9 false. DontFocus n\u00e3o funciona se selectable estiver ativo. callback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o usu\u00e1rio ativar/clicar esta ferramenta. (OPCIONAL) deactivationCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando esta ferramenta estava selecionada e o usu\u00e1rio selecionou outra. Este callback \u00e9 chamado apenas se a ferramenta for do tipo \"selecion\u00e1vel\" e o Scene espera que sua ferramenta pare de fazer o que ela faz quando selecionada.\u00a0 Retorno: Esta fun\u00e7\u00e3o retorna um n\u00famero identificador do ToolButton no scene. Este mesmo valor pode ser utilizado posteriormente na fun\u00e7\u00e3o removeToolButton.\u00a0 viewport:removeToolButton(toolID) Remove um bot\u00e3o ferramenta que foi previamente adicionado pela fun\u00e7\u00e3o addToolButton.\u00a0 Par\u00e2metros: toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton.\u00a0 viewport:checkToolButton(toolID[, checked]) Marca ou desmarca um ToolButton. A marca\u00e7\u00e3o \u00e9 uma mera indica\u00e7\u00e3o visual para o usu\u00e1rio entender que o Tool est\u00e1 ativo de alguma forma.\u00a0 Podem existir mais de 1 ToolButton marcados ao mesmo tempo.\u00a0 Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. (OPCIONAL) checked - Um booleano, onde true significa marcar o tool button e false significa desmarcar o tool button. Se n\u00e3o informado, true ser\u00e1 utilizado como padr\u00e3o.\u00a0 viewport:isToolButtonChecked(toolID) Retorna se um determinado ToolButto est\u00e1 marcado. A marca\u00e7\u00e3o \u00e9 uma mera indica\u00e7\u00e3o visual para o usu\u00e1rio entender que o Tool est\u00e1 ativo de alguma forma.\u00a0 Podem existir mais de 1 ToolButton marcados ao mesmo tempo.\u00a0 Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton.\u00a0 Retorno: Um Boolean, onde true significa que o toolbutton est\u00e1 marcado.\u00a0 viewport:selectDefaultToolButton() Seleciona a Ferramenta/Tool Button padr\u00e3o. Pode existir apenas uma ferramenta selecionada ao mesmo tempo e representa a ferramenta que o usu\u00e1rio est\u00e1 trabalhando no momento.\u00a0 A ferramenta padr\u00e3o normalmente \u00e9 a de \"selecionar/movimentar\" itens do scene.\u00a0 viewport:selectToolButton(toolID) Seleciona a Ferramenta/Tool Button especificada pelo padr\u00e3o. Pode existir apenas uma ferramenta selecionada ao mesmo tempo e representa a ferramenta que o usu\u00e1rio est\u00e1 trabalhando no momento.\u00a0 Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton.\u00a0 viewport:showForm(form[, options]) Exibe uma janela na interface do usu\u00e1rio na forma de um Popup flutuante acima do viewport do scene.\u00a0 Par\u00e2metros: form - O formul\u00e1rio a ser exibido na interface. Deve ser um objeto Lua Form j\u00e1 instanciado. (OPCIONAL) options - Uma tabela/objeto LUA contendo as op\u00e7\u00f5es da exibi\u00e7\u00e3o do popup. As op\u00e7\u00f5es s\u00e3o: onClose - [function, padr\u00e3o = nil] - Uma fun\u00e7\u00e3o lua que ser\u00e1 invocada quando o popup for fechado. placement - [string enumerado] - Onde o popup ser\u00e1 exibido.. Os poss\u00edveis valores s\u00e3o: \"center\" - no centro da tela \"bottom\" - na parte de baixo da tela \"top\" - na parte de cima da tela \"left\" - \u00e0 esquerda na tela \"right\" - \u00e0 direita na tela \"topLeft\" -\u00a0 no canto superior esquerdo da tela \"topRight - no canto superior direito da tela \"bottomLeft\" - no canto inferior esquerdo da tela \"bottomRight\" - no canto inferior direito da tela \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. nil ou n\u00e3o informado - Posi\u00e7\u00e3o personalizada.\u00a0 \u00a0 \u00a0 Retorno:\u00a0 \u00a0 \u00a0 Se conseguir exibir o form como um popup no viewport, retorna true; Sen\u00e3o retorna false.\u00a0 Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o popup fechar para retornar. Ap\u00f3s esta chamada, o c\u00f3digo LUA continuar\u00e1 sua execu\u00e7\u00e3o normal enquanto o form \u00e9 mostrado.\u00a0 viewport:closeForm(form) Fecha uma janela popup que foi previamente aberta pela da fun\u00e7\u00e3o viewport:showPopup.\u00a0 Par\u00e2metros: form - O formul\u00e1rio a ser fechado/tirado da interface. Deve ser um objeto Lua Form j\u00e1 instanciado\u00a0 \u00a0 \u00a0 Retorno:\u00a0 \u00a0 \u00a0 Se conseguir fechar o form, retorna true; Sen\u00e3o retorna false.\u00a0 viewport:needRepaint() Informa ao RRPG que o Scene precisa ser redesenhado."},{"location":"ObjetoSceneViewport/#metodos-para-renderizacao","title":"M\u00e9todos para renderiza\u00e7\u00e3o","text":"<p>Todos os m\u00e9todos listados abaixos s\u00e3o v\u00e1lidos APENAS dentro de eventos \"onBeforeDraw\"s e \"OnAfterDraw\"s</p> <p> </p> M\u00e9todo Descri\u00e7\u00e3o viewport:prepareFill(color) Prepara o viewport para renderizar o preenchimento de pol\u00edgonos com uma cor s\u00f3lida.\u00a0 Par\u00e2metros: color - uma cadeia de caracteres contendo uma cor.\u00a0 Observa\u00e7\u00f5es: Ap\u00f3s chamar este m\u00e9todo, os m\u00e9todos viewport:fill*** utilizar\u00e3o esta cor no desenho.\u00a0 viewport:prepareDraw(color [, thickness, strokeCap, strokeJoin, strokeDash]) Prepara o viewport para renderizar o contorno de pol\u00edgonos com uma cor s\u00f3lida.\u00a0 Par\u00e2metros: color -\u00a0 uma cadeia de caracteres contendo uma cor. (OPCIONAL) thickness - A espessura do contorno m\u00e9trica de tela. Se omitido, o valor padr\u00e3o \u00e9 1.0; (OPCIONAL) strokeCap - Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas. Pode ser \"flat\" (linhas com pontas retangulares) ou \"round\" (linhas com pontas arredondadas). Se omitido, o valor padr\u00e3o \u00e9 \"flat\". (OPCIONAL) strokeJoin - Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma. Pode ser \"miter\" (As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\"), \"round\" (As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas) ou \"bevel\" (As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal). Se omitido, o valor padr\u00e3o \u00e9 \"miter\" (OPCIONAL) strokeDash - Define o estilo gr\u00e1fico da linha. Pode ser \"solid\" (A linha \u00e9 s\u00f3lida), \"dash\" (A linha \u00e9 tracejada), \"dot\" (A linha \u00e9 feita de pontos), \"dashDot\" (A linha \u00e9 alternada entre tra\u00e7os e pontos), ou \"dashDotDot\" (A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto). Se omitido, o valor padr\u00e3o \u00e9 \"solid\"\u00a0 Observa\u00e7\u00f5es: Ap\u00f3s chamar este m\u00e9todo, os m\u00e9todos viewport:draw*** utilizar\u00e3o estas configura\u00e7\u00f5es.\u00a0 viewport:prepareFont(size [,fontName, bold, italic, underline]) Prepara o viewport para preencher textos com uma determinada fonte.\u00a0 Par\u00e2metros: size - Um n\u00famero contendo o tamanho da fonte. Ex: 12 (OPCIONAL) fontName - O nome da fonte a ser usada. Se nil, uma fonte padr\u00e3o ser\u00e1 utilizada. (OPCIONAL) bold - True se desejar que a fonte esteja em negrito. (OPCIONAL) italic - True se desejar que a fonte esteja em it\u00e1lico. (OPCIONAL) underline - True se desejar que a fonte esteja sublinhada.\u00a0 viewport:fillRect(left, top, right, bottom[, opacity]) Desenha o preenchimento de um ret\u00e2ngulo na tela do scene.\u00a0 Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareFill\"\u00a0 viewport:fillEllipse(left, top, right, bottom[, opacity]) Desenha o preenchimento de uma elipse/figura oval na tela do scene.\u00a0 Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 Observa\u00e7\u00f5es: Para definir o material/cor da elipse, invoque primeiro o m\u00e9todo \"prepareFill\"\u00a0 viewport:fillPolygon(polygon[, opacity]) Desenha o preenchimento de um pol\u00edgono na tela do scene.\u00a0 Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y, e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 Observa\u00e7\u00f5es: Para definir o material/cor do pol\u00edgono, invoque primeiro o m\u00e9todo \"prepareFill\"\u00a0 viewport:fillACell(i, j [, opacity]) Desenha o preenchimento de uma c\u00e9lula do grid do scene.\u00a0 Par\u00e2metros: i - a posi\u00e7\u00e3o i da c\u00e9lula \"Aij\" j - a posi\u00e7\u00e3o j da c\u00e9lula \"Aij\" (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareFill\"\u00a0 viewport:drawRect(left, top, right, bottom[, opacity]) Desenha o contorno de um ret\u00e2ngulo na tela do scene.\u00a0 Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareDraw\"\u00a0 viewport:drawEllipse(left, top, right, bottom[, opacity]) Desenha o contorno de uma elipse/figura oval na tela do scene.\u00a0 Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 Observa\u00e7\u00f5es: Para definir o material/cor da elipse, invoque primeiro o m\u00e9todo \"prepareDraw\"\u00a0 viewport:drawLine(startX, startY, endX, endY [,opacity]) Desenha uma linha na tela do scene.\u00a0 Par\u00e2metros: startX - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve se originar. startY - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde a linha deve se originar. endX - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve finalizar. endY - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve finalizar. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 viewport:textSize(txt) Calcula o tamanho do texto usando a fonte configurada no viewport.\u00a0 Par\u00e2metros: txt - A cadeia de caracteres que ser\u00e1 medida.\u00a0 Retorno: x - A largura do texto em m\u00e9trica de tela\u00a0 y - A altura do texto em m\u00e9trica de tela \u00a0 Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\"\u00a0 viewport:fillText(x, y, txt [, opacity]) Desenha um texto no scene.\u00a0 Par\u00e2metros: x - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. y - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. txt - A cadeia de caracteres que ser\u00e1 desenhada. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\" Para definir o material/cor do texto, invoque primeiro o m\u00e9todo \"prepareFill\"\u00a0 viewport:fillTextFit(x, y, right, bottom, txt[, horzTextAlign, vertTextAlign, , opacity]) Desenha um texto no scene de forma a fazer cabe-lo da melhor forma em um ret\u00e2ngulo definido.\u00a0 Par\u00e2metros: x - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. y - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. right - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. txt - A cadeia de caracteres que ser\u00e1 desenhada. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0.\u00a0 Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\" Para definir o material/cor do texto, invoque primeiro o m\u00e9todo \"prepareFill\"\u00a0 viewport:pushRenderState() Salva as configura\u00e7\u00f5es atuais de renderiza\u00e7\u00e3o para que possam ser restauradas mais tardes usando popRenderState.\u00a0 Observa\u00e7\u00e3o: Para cada chamada de pushRenderState, deve haver uma chamada de popRenderState.\u00a0 viewport:popRenderState() Restaura as configura\u00e7\u00f5es de renderiza\u00e7\u00e3o previamente salvadas pelo m\u00e9todo pushRenderState.\u00a0 Observa\u00e7\u00e3o: Para cada chamada de pushRenderState, deve haver uma chamada de popRenderState.\u00a0 viewport:pushRotationTransform(angle, centerX, centerY) Empurra uma transforma\u00e7\u00e3o de rota\u00e7\u00e3o no viewport.\u00a0 Par\u00e2metros: angle - Angulo em graus da rota\u00e7\u00e3o que deve ser feita. centerX - Posi\u00e7\u00e3o do piv\u00f4 de rota\u00e7\u00e3o no eixo X em m\u00e9trica de tela. centerY - Posi\u00e7\u00e3o do piv\u00f4 de rota\u00e7\u00e3o no eixo Y em m\u00e9trica de tela.\u00a0 Observa\u00e7\u00f5es: As pr\u00f3ximas renderiza\u00e7\u00f5es ser\u00e3o rotacionadas com esta configura\u00e7\u00e3o at\u00e9 a chamada de popTransform. Para cada chamada de pushRotationTransform deve haver uma chamada de popTransform.\u00a0 viewport:pushWorldToScreenTransform(); Empurra uma transforma\u00e7\u00e3o de coordenadas em m\u00e9trica de mundo para m\u00e9trica de tela no viewport.\u00a0 Ap\u00f3s a chamada desta fun\u00e7\u00e3o, todos os m\u00e9todos de desenho entender\u00e3o que as coordenadas passadas est\u00e3o em m\u00e9trica de mundo.\u00a0 Observa\u00e7\u00f5es: Para cada chamada de pushWorldToScreenTransform deve haver uma chamada de popTransform.\u00a0 viewport:popTransform(); Remove do viewport a \u00faltima transforma\u00e7\u00e3o que havia sido empurrada.\u00a0 <p> </p>"},{"location":"ObjetoSceneViewport/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Evento que \u00e9 disparado quando o Viewport do scene mudar.\u00a0 As seguintes situa\u00e7\u00f5es disparam este evento: Altera\u00e7\u00e3o no tamanho da tela (propriedades width e height) Altera\u00e7\u00e3o no scroll do viewport (propriedades worldX e worldY) Altera\u00e7\u00e3o no zoom do viewport (propriedade scale)\u00a0 onMouseDown Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 pressionado sobre o Viewport ou quando o dedo toca a tela (touchscreen).\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi pressionado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 pressionado (touchscreen), este valor \u00e9 \u201cleft\u201d e isTouch = true. x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde o mouse foi pressionado. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde o mouse foi pressionado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen.\u00a0 onMouseMove Este evento \u00e9 invocado quando o mouse se movimenta pelo viewport ou quando o dedo (touchscreen) \u00e9 arrastado pelo viewport.\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando para onde o mouse moveu. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando para onde o mouse moveu. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen.\u00a0 onMouseUp Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 liberado sobre o Viewport ou quando o dedo solta da tela (touchscreen).\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi liberado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 levantado (touchscreen), este valor \u00e9 \u201cleft\u201d e isTouch = true. x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde o mouse foi liberado. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde o mouse foi liberado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen.\u00a0 onMouseDblClick Este evento \u00e9 invocado quando o usu\u00e1rio realiza a a\u00e7\u00e3o duplo clique com o mouse sobre o Viewport.\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde ocorreu o duplo clique. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde ocorreu o duplo clique. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. \u00a0 Observa\u00e7\u00e3o: Este evento \u00e9 disparado junto com onMouseDown e onMouseUp na seguinte ordem: Mouse Down -&gt; Mouse Up -&gt; Mouse Down -&gt; Dbl Click -&gt; Mouse Up\u00a0 onMouseWheel Este evento \u00e9 invocado quando a \"rodinha\" do mouse \u00e9 \u00e9 rolada sobre o Viewport.\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: delta - Um n\u00famero que indica a distancia que a roda foi rodada. Se for positivo, significa que a rodinha foi rolada para cima e se for negativo significa que ela foi rolada para baixo.\u00a0 shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m.\u00a0 Se seu evento controlou adequadamente este evento e n\u00e3o quer que nenhum outro plug-in tente manipular mais este evento, retorne explicitamente true usando \"return true;\"\u00a0 onFallbackMouseWheel Id\u00eantico ao evento onMouseWheel, por\u00e9m \u00e9 chamado apenas quando nenhum c\u00f3digo tratar o evento onMouseWheel.\u00a0 onGestureBeginZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de zoom.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom.\u00a0 Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou zoom, apenas destacou sua inten\u00e7\u00e3o de o fazer.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGestureZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de zoom.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. delta - Um n\u00famero contendo a dist\u00e2ncia em m\u00e9trica de tela do zoom desejado. Se negativo, \u00e9 um gesto de zoom out. Este valor \u00e9 a varia\u00e7\u00e3o da dist\u00e2ncia deste o \u00faltimo evento onGestureZoom.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGestureEndZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de zoom.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom.\u00a0 Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio j\u00e1 realizou todo zoom que queria fazer.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGestureBeginRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de rota\u00e7\u00e3o.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o.\u00a0 Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou rota\u00e7\u00e3o, apenas destacou sua inten\u00e7\u00e3o de o fazer.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGestureRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de rota\u00e7\u00e3o.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. angle - N\u00famero contendo o \u00e2ngulo da rota\u00e7\u00e3o em graus. Valor positivo significa rota\u00e7\u00e3o em sentido anti-hor\u00e1rio, valor negativo em sentido hor\u00e1rio.\u00a0 Este valor \u00e9 a varia\u00e7\u00e3o do \u00e2ngulo deste o \u00faltimo evento onGestureRotation.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGestureEndRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de rota\u00e7\u00e3o.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o.\u00a0 Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio j\u00e1 realizou toda rota\u00e7\u00e3o que queria fazer.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGestureBeginPan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de deslize/scroll.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado.\u00a0 Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou deslizamento, apenas destacou sua inten\u00e7\u00e3o de o fazer.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGesturePan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de deslize/scroll.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Este representa onde, no viewport, est\u00e1 o ponteiro/dedo. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Este representa onde, no viewport, est\u00e1 o ponteiro/dedo.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGestureEndPan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de deslize/scroll.\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onGestureLongTap Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de longTap (pressionar e segurar por algum tempo)\u00a0 Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi realizado.\u00a0 y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado.\u00a0 Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele.\u00a0 onKeyDown Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 pressionada no Scene.\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos key - Cadeia de caracteres contendo a letra do teclado que foi pressionada keyCode \u2013 C\u00f3digo num\u00e9rico da tecla que foi pressionada (algumas teclas, como F7, por exemplo, n\u00e3o representam uma letra, da\u00ed a necessidade do keyCode) shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m.\u00a0 Observa\u00e7\u00f5es: Se voc\u00ea alterar o valor de key e/ou keyCode, a mudan\u00e7a \u00e9 incorporada. Caso queira suprimir/ignorar a tecla que acabou de ser pressionada, atribua event.key = \"\" e event.keyCode = 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser um atalho, ent\u00e3o event.key vir\u00e1 com valor \"\" (string vazio) e event.keyCode com valor diferente de 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser tratada como um caractere exib\u00edvel, event.key vira com uma string contendo apenas este caracter e event.keyCode vir\u00e1 com valor igual a 0. \u00a0 onKeyUp Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 liberada.\u00a0 Par\u00e2metros: event - uma tabela Lua que cont\u00e9m as mesmas propriedades descritas no evento onKeyDown mas com informa\u00e7\u00f5es sobre a tecla liberada.\u00a0 onBeforeDrawBkgLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento!\u00a0 Este evento \u00e9 invocado antes do RRPG pintar a camada background do scene.\u00a0 onBeforeDrawGridLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento!\u00a0 Este evento \u00e9 invocado depois do RRPG pintar a camada background e antes de pintar o grid do scene.\u00a0 onBeforeDrawObjsLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento!\u00a0 Este evento \u00e9 invocado depois do RRPG pintar o grid e antes de pintar a camada objetos do scene.\u00a0 onBeforeDrawTokensLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento!\u00a0 Este evento \u00e9 invocado depois do RRPG pintar a camada objetos e antes de pintar a camada tokens do scene.\u00a0 onAfterDrawLayers Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento!\u00a0 Este evento \u00e9 invocado depois do RRPG pintar a camada tokens.\u00a0 onStartDrop Evento que \u00e9 chamado quando algu\u00e9m arrasta uma informa\u00e7\u00e3o (drag) em cima do scene e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do tabuleiro.\u00a0 Par\u00e2metros: drop - Objeto Drop o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X, em m\u00e9trica de tela, de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y, em m\u00e9trica de tela, de onde o drop est\u00e1 tentando ser feito. drag - Objeto Drag representando a informa\u00e7\u00e3o que est\u00e1 sendo arrastada. Voc\u00ea n\u00e3o deve alterar as propriedades deste objeto.\u00a0 Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop."},{"location":"ObjetoSceneViewport/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoSceneViewport/#exemplo-1-um-plugin-que-detecta-quando-o-viewport-de-um-scene-muda","title":"Exemplo 1 - Um plugin que detecta quando o Viewport de um scene muda","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onChange\u00a0=\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 function() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0r\u00a0=\u00a0scene.viewport:screenToWorld({left=0,\u00a0top=0, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 right=scene.viewport.width, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 bottom=scene.viewport.height}); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0texto\u00a0=\u00a0\"O Viewport mudou..\\n\"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\"Dimens\u00f5es da tela: \"\u00a0 \u00a0\u00a0..\u00a0scene.viewport.width\u00a0..\u00a0\" por \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.height\u00a0..\u00a0\"\\n\"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\"Posicao do Scroll: \"\u00a0..\u00a0scene.viewport.worldX\u00a0..\u00a0\" por \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.worldY\u00a0..\u00a0\"\\n\"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\"Regi\u00e3o do Scene que \u00e9 exibido neste viewport: \"\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0string.format(\"[(left %f, top %f)(right %f, bottom %f)]\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 r.left,\u00a0r.top,\u00a0r.right,\u00a0r.bottom); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(texto); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end);"},{"location":"ObjetoSceneViewport/#exemplo-2-um-plug-in-que-descobre-em-qual-celula-do-grid-o-usuario-clicou","title":"Exemplo 2 - Um plug-in que descobre em qual c\u00e9lula do grid o usu\u00e1rio clicou","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseUp\u00a0= \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0function\u00a0(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Converter coordenada de tela do click para coordenada de mundo local\u00a0wx,\u00a0wy\u00a0=\u00a0scene.viewport:screenToWorld(event.x, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Converter coordenada de mundo para coordenada do grid local\u00a0i,\u00a0j\u00a0=\u00a0scene.grid:worldToCell(wx,\u00a0wy); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Exibir uma Mensagem sobre a c\u00e9lula clicada\u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Click na c\u00e9lula [Linha \"\u00a0..\u00a0i\u00a0.. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\", Coluna \"\u00a0..\u00a0j\u00a0..\u00a0\"]\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*);"},{"location":"ObjetoSceneViewport/#exemplo-3-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","title":"Exemplo 3 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene.","text":"require(\"scene.lua\"); \u00a0 SceneLib.registerPlugin( \u00a0 \u00a0\u00a0function\u00a0(scene,\u00a0attachment)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Manipular o evento OnMouseDown do Viewport \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 scene.viewport.onMouseDown\u00a0=\u00a0function(event) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local\u00a0worldX,\u00a0worldY\u00a0=\u00a0scene.viewport:screenToWorld(event.x,\u00a0event.y); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar o item que o usu\u00e1rio clicou local\u00a0item\u00a0=\u00a0scene.items:itemAtPoint(worldX,\u00a0worldY); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0item\u00a0~=\u00a0nil\u00a0then -- Encontrou um item na posi\u00e7\u00e3o clicada.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0local\u00a0NOME_MINHA_MARCA\u00a0=\u00a0\"MarcaExemplo\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0-- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local\u00a0opGrafica\u00a0=\u00a0item.canvas:findByName(NOME_MINHA_MARCA); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0opGrafica\u00a0==\u00a0nil\u00a0then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica\u00a0=\u00a0item.canvas:addBitmap(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.name\u00a0=\u00a0NOME_MINHA_MARCA; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 -- Abaixo, URL da imagem da nossa marca. \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.url\u00a0=\u00a0\"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.x\u00a0=\u00a00.25; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.width\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.y\u00a0=\u00a0-0.1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.height\u00a0=\u00a00.3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica.z\u00a0=\u00a010;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 opGrafica:delete(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end*);\u00a0  Item sem a marca  Item com a marca <p>Created with the Personal Edition of HelpNDoc: Simplify Your Help Documentation Process with a Help Authoring Tool</p>"},{"location":"ObjetoStream/","title":"Objeto Stream","text":""},{"location":"ObjetoStream/#objeto-stream_1","title":"Objeto Stream","text":"<p>Um objeto stream cont\u00e9m uma sequ\u00eancia de dados gen\u00e9ricos, possui um in\u00edcio e um fim e voc\u00ea estar\u00e1 sempre em algum lugar entre estes dois pontos.</p> <p>Usando stream, voc\u00ea pode ler e/ou escrever em v\u00e1rios tipos de armazenamentos, como um arquivo, uma mem\u00f3ria din\u00e2mica, etc..</p> <p> </p> <p>Um stream representa uma sequ\u00eancia de BYTES que podem ser acessadas de forma sequencial ou aleat\u00f3ria (isto \u00e9, voc\u00ea pode ler o inicio de um stream, pular para seu final para ler mais dados, voltar ao meio do stream, etc..)</p> <p> </p> <p>Exemplos de opera\u00e7\u00f5es t\u00edpicas em um stream:</p> <ul> <li>Ler 1 byte. Da pr\u00f3xima vez que voc\u00ea ler, voc\u00ea obter\u00e1 o byte posterior, e assim por diante.</li> <li>Ler v\u00e1rios bytes</li> <li>Mover a posi\u00e7\u00e3o atual do cursor no stream para, da pr\u00f3xima vez que voc\u00ea ler, obter os bytes \u00e0 partir desta nova posi\u00e7\u00e3o.</li> <li>Escrever 1 byte.</li> <li>Escrever v\u00e1rios bytes.</li> </ul> <p> </p>"},{"location":"ObjetoStream/#formas-de-instanciar-um-objeto-stream","title":"Formas de instanciar um objeto stream","text":"<p>Existem v\u00e1rias maneiras de obter um objeto stream. Algumas delas s\u00e3o:</p> <p> </p> <ul> <li>Criar um stream tempor\u00e1rio que reside na mem\u00f3ria RAM atrav\u00e9s da fun\u00e7\u00e3o utils.newMemoryStream</li> <li>Criar um stream tempor\u00e1rio que reside no HD do dispositivo atrav\u00e9s da fun\u00e7\u00e3o utils.newTempFileStream</li> <li>Abrir ou criar um arquivo no HD virtual usando a fun\u00e7\u00e3o vhd.openFile</li> <li>Baixar um conte\u00fado da internet atrav\u00e9s da fun\u00e7\u00e3o internet.download</li> <li>Realizar uma requisi\u00e7\u00e3o HTTP e obter a resposta atrav\u00e9s da propriedade responseStream do objeto HTTPRequest</li> </ul> <p> </p>"},{"location":"ObjetoStream/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"ObjetoStream/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o size Integer Cont\u00e9m o tamanho atual do stream em quantidade de bytes.\u00a0 position Integer A posi\u00e7\u00e3o do cursor do stream. onde o valor 0 representa o primeiro byte do stream.\u00a0 Todas as opera\u00e7\u00f5es de leitura e escrita s\u00e3o feitas nesta posi\u00e7\u00e3o.\u00a0 remainingBytes Integer Quantos bytes ainda podem ser lidos no stream \u00e0 partir da posi\u00e7\u00e3o atual.\u00a0 md5 String Uma cadeia de caracteres contendo o Hash MD5 de todo o conte\u00fado do stream. O Hash \u00e9 calculado na hora de obter o valor da propriedade.\u00a0 sha1 String Uma cadeia de caracteres contendo o Hash SHA1 de todo o conte\u00fado do stream. O Hash \u00e9 calculado na hora de obter o valor da propriedade."},{"location":"ObjetoStream/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o stream:read(destArray, qtBytes) Efetua a leitura de bytes \u00e0 partir da position atual do stream. \u00a0 Par\u00e2metros: destArray - Uma tabela lua que receber\u00e1 os bytes lidos do stream. Os valores s\u00e3o armazenados em \u00edndices de 1 a N, onde N = quantidade de bytes lidos. qtBytes - Um n\u00famero contendo a quantidade de bytes que devem ser lidos \u00e0 partir desta posi\u00e7\u00e3o.\u00a0 Retorno: Um n\u00famero contendo quantos bytes realmente foram lidos do stream e preenchidos em destArray\u00a0 Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes lidos. Nem sempre \u00e9 poss\u00edvel ler a quantidade de bytes informada no par\u00e2metro qtBytes. Voc\u00ea DEVE analisar o n\u00famero retornado pela fun\u00e7\u00e3o a fim de saber quantos bytes realmente foram lidos.\u00a0 stream:write(sourceArray [, qtBytes]) Efetua a escrita de bytes na position atual do stream.\u00a0 Par\u00e2metros: sourceArray - Uma tabela lua que cont\u00e9m os bytes que devem ser escritos no stream. Os valores devem estar armazenados em \u00edndices de 1 a N, onde N = quantidade de bytes que ser\u00e3o escritos. (OPCIONAL) qtBytes - Quantos bytes do sourceArray devem ser escritos no stream. Se omitido, o length do array (#sourceArray) ser\u00e1 usado.\u00a0 Retorno: Um n\u00famero contendo quantos bytes realmente foram escritos no stream.\u00a0 Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes escritos. Os valores em sourceArray devem ser n\u00fameros! Para cada valor em sourceArray, se for menor que 0, o byte 0 ser\u00e1 gravado e se for maior que 255, o byte 255 ser\u00e1 gravado. Se em algum dos \u00edndices de sourceArray n\u00e3o contiver um n\u00famero v\u00e1lido, o byte 0 \u00e9 escrito no stream.\u00a0 stream:close() Fecha o stream imediatamente e libera os recursos que foram previamente alocados. Ap\u00f3s esta chamada, nenhuma opera\u00e7\u00e3o do stream estar\u00e1 mais dispon\u00edvel.\u00a0 stream:writeBinary(format, valor1 [, valor2 [, valor3 [, valorN...]]]) Escreve um valor codificado em bin\u00e1rio na posi\u00e7\u00e3o atual do stream.\u00a0 Par\u00e2metros: format - Cadeia de caracteres identificando qual formata\u00e7\u00e3o bin\u00e1ria deve ser usada. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os poss\u00edveis formatos. valor1 - O valor a ser codificado e escrito (OPCIONAL) valor2, valor3, valorN, etc... - Outros valores que tamb\u00e9m devem ser codificados e escritos no stream.\u00a0 Retorno: Um n\u00famero contendo quantos bytes foram escritos no stream.\u00a0 Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes escritos.\u00a0 stream:readBinary(format [, qt]) Efetua a leitura de valores codificados em bin\u00e1rio na posi\u00e7\u00e3o atual do stream.\u00a0 Par\u00e2metros: format - Cadeia de caracteres identificando em qual formata\u00e7\u00e3o bin\u00e1ria o valor est\u00e1 codificado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os poss\u00edveis formatos. (OPCIONAL) qt - Um n\u00famero identificando QUANTOS valores codificados devem ser lidos. Se omitido, o valor 1 ser\u00e1 utilizado.\u00a0 Retorno: Retorna os valores decodificados ou nil se n\u00e3o foi poss\u00edvel decodificar.\u00a0 Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes lidos Se especificado os formatos \"ansi', \"utf8\" ou \"utf16\", todo o restando do stream \u00e9 lido como uma cadeia de caracteres e o par\u00e2metro \"qt\" \u00e9 ignorado como se o valor 1 tivesse sido passado para ele.\u00a0 stream:readAsBase64([qtBytes]) L\u00ea bytes do stream e retorna uma cadeia de caracteres representando os dados codificados em Base64.\u00a0 Par\u00e2metros: (OPCIONAL) qtBytes - Um n\u00famero definindo quantos bytes do stream devem ser lidos \u00e0 partir da posi\u00e7\u00e3o atual e codificados. Se omitido, o restante dos dados do stream ser\u00e1 lido.\u00a0 Retorno: Uma cadeia de caracteres representando os dados codificados em Base64\u00a0 stream:writeBase64(str) Decodifica dados previamente codificados em Base64 e os escreve na posi\u00e7\u00e3o atual do stream.\u00a0 Par\u00e2metros: str - Uma cadeia de caracteres contendo os dados codificados em Base64.\u00a0 Retorno: Um n\u00famero contendo quantos bytes foram escritos no Stream.\u00a0 stream:copyFrom(stream, qtBytes) Copia o conte\u00fado de um outro objeto stream dentro deste stream.\u00a0 Par\u00e2metros: stream - um objeto stream de onde os dados ser\u00e3o copiados. qtBytes - um n\u00famero representando quantos bytes ser\u00e3o copiados \u00e0 partir da posi\u00e7\u00e3o atual do par\u00e2metro \"stream\".\u00a0 Retorno: Um n\u00famero contendo quantos bytes realmente foram copiados para este stream."},{"location":"ObjetoStream/#exemplos","title":"Exemplos","text":""},{"location":"ObjetoStream/#exemplo-1-","title":"Exemplo 1 - .....","text":"<p>Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc</p>"},{"location":"ObjetoWrappedObject/","title":"Objeto WrappedObject","text":""},{"location":"ObjetoWrappedObject/#objeto-wrappedobject_1","title":"Objeto WrappedObject","text":"<p>Objeto que representa algo no RRPG Firecast, \u00e9 como uma classe pai abstrata e n\u00e3o faz sentido sua exist\u00eancia por si s\u00f3.\u00a0</p> <p> </p> <p>Exemplo de objetos que s\u00e3o/herdam de WrappedObject:</p> <ul> <li>O objeto Mesa \u00e9 um WrappedObject</li> <li>O objeto BibliotecaItem \u00e9 um WrappedObject</li> <li>O objeto Personagem \u00e9 um WrappedObject</li> <li>etc...</li> </ul> <p></p>"},{"location":"ObjetoWrappedObject/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Todos objetos que s\u00e3o WrappedObject possuem as seguintes caracter\u00edsticas:</p>"},{"location":"ObjetoWrappedObject/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectID Integer Propriedade somente leitura, cont\u00e9m um n\u00famero \u00fanico \u00e0 qual objeto do RRPG Firecast este WrappedObject representa.\u00a0 objectType String Propriedade somente leitura, cont\u00e9m qual tipo de objeto este WrappedObject representa.\u00a0 Exemplo de valores: \"mesa\" \"jogador\" \"bibliotecaItem\" \"personagem\" \"rolagem\" \"chatBase\" \"object\"\u00a0 isObjectAlive Boolean Propriedade somente leitura, cont\u00e9m \"true\" se o objeto ainda \u00e9 v\u00e1lido no RRPG ou \"false\" se j\u00e1 n\u00e3o \u00e9 mais v\u00e1lido."},{"location":"ObjetoWrappedObject/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o objeto:isType(typeName) Retorna true se o objeto \u00e9 do tipo \"typeName\", sen\u00e3o retorna false.\u00a0 <p>Created with the Personal Edition of HelpNDoc: Free HTML Help documentation generator</p>"},{"location":"OrientacoesaousarcodigoLUAemumLu/","title":"Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form","text":""},{"location":"OrientacoesaousarcodigoLUAemumLu/#usando-codigo-lua-em-um-lua-form","title":"Usando c\u00f3digo LUA em um Lua Form.","text":"<p>Voc\u00ea pode usar c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA) em seus Lua Forms de 2 maneiras:</p> <p> </p> <ul> <li>Manipulando eventos das tags - Saiba mais como em Tratando eventos do Lua Form.</li> <li>Usando a Tag script.</li> </ul> <p> </p> <p>Mas para usar de forma adequada \u00e9 importante voc\u00ea saber as caracter\u00edsticas e comportamento do c\u00f3digo LUA em um Lua Form.</p> <p> </p>"},{"location":"OrientacoesaousarcodigoLUAemumLu/#-instancias","title":"1 - Inst\u00e2ncias","text":"<p>Um Lua Form pode ser instanciado v\u00e1rias vezes (veja Lua Form e Inst\u00e2ncias), isto \u00e9, \u00e9 perfeitamente poss\u00edvel existir mais de 1 \"c\u00f3pia\" de um Lua Form rodando ao mesmo tempo. Seu c\u00f3digo deve estar apto a lidar com esta situa\u00e7\u00e3o!</p> <p> </p> <p>A vari\u00e1vel \"self\" representa a inst\u00e2ncia do Lua Form em que o c\u00f3digo est\u00e1 executado.</p>"},{"location":"OrientacoesaousarcodigoLUAemumLu/#-acessando-as-tagscontroles-via-programacao","title":"2 - Acessando as tags/controles via programa\u00e7\u00e3o.","text":"<p>Cada inst\u00e2ncia do Lua Form possui sua pr\u00f3pria \"c\u00f3pia viva\" das tags e, se voc\u00ea quiser acessar uma tag/controle via programa\u00e7\u00e3o, voc\u00ea precisar\u00e1 identificar de qual Lua Form \u00e9 o controle que deseja ter acesso.</p> <p> </p> <p>Para identificar um controle do pr\u00f3prio Lua Form, voc\u00ea deve usar \"self.\". \\ Em 99% dos casos que precisar acessar as tags via programa\u00e7\u00e3o, voc\u00ea provavelmente usar\u00e1 \"self.\".</p> <p> </p> <p>Exemplo:</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;label\u00a0name=\"labMeuLabel\"\u00a0left=\"20\"\u00a0top=\"20\"\u00a0text=\"Meu Texto!\"\u00a0/&gt; \\&lt;button\u00a0text=\"Clique\"\u00a0left=\"20\"\u00a0top=\"50\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0onClick=\"self.labMeuLabel.text = 'Cliquei no Bot\u00e3o'\"/&gt; \\&lt;/form&gt; <p> </p> <p>Importante: Um erro ocorrer\u00e1 se tentar acessar uma tag/controle sem usar \"self.\" (ou outra forma de identificar o Lua Form).</p> <p> </p>"},{"location":"OrientacoesaousarcodigoLUAemumLu/#-declarando-funcoes","title":"3 - Declarando fun\u00e7\u00f5es","text":"<p>Voc\u00ea pode usar a tag script para declarar fun\u00e7\u00f5es, mas voc\u00ea deve usar o modificador \"local\" nestas fun\u00e7\u00f5es para que n\u00e3o haja confus\u00e3o entre as diversas inst\u00e2ncias do Lua Form.</p> <p>N\u00e3o usar o modificador \"local\" nas declara\u00e7\u00f5es de fun\u00e7\u00f5es causa confus\u00e3o entre as inst\u00e2ncias do form, j\u00e1 que se trataria de uma fun\u00e7\u00e3o global a todas as inst\u00e2ncias.</p> <p> </p> <p>Exemplo de declara\u00e7\u00e3o:</p> <p> </p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;script&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local function exibirMensagem() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local texto = \"\";\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 for i = 1, 5, 1 do \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 texto = texto .. \"Linha \" .. i .. \"\\n\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(texto); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/script&gt; \\&lt;button\u00a0name=\"btnMeuBotao\"\u00a0text=\"Meu Bot\u00e3o\"\u00a0onClick=\"exibirMensagem()\"/&gt; \\&lt;/form&gt; <p> </p> <p> </p> <p>Voc\u00ea tamb\u00e9m pode declarar fun\u00e7\u00f5es ligadas \u00e0 inst\u00e2ncia para evitar os mesmos problemas:</p> <p> </p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;script&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 function self.exibirMensagem() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage('Ol\u00e1 Mundo'); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/script&gt; \\&lt;button\u00a0onClick=\"self.exibirMensagem();\"/&gt; \\&lt;/form&gt; <p> </p> <p> </p>"},{"location":"OrientacoesaousarcodigoLUAemumLu/#-acessando-o-nodo-do-nodedatabase-associado-a-instancia-do-luaform","title":"4 - Acessando o Nodo do NodeDatabase associado \u00e0 inst\u00e2ncia do LuaForm","text":"<p>Cada inst\u00e2ncia de LuaForm pode estar associada a um objeto nodo de um NodeDatabase (ver NodeDatabase e Lua Form e NodeDatabase).\u00a0</p> <p>A vari\u00e1vel \"sheet\" cont\u00e9m este objeto nodo associado e voc\u00ea pode us\u00e1-lo via programa\u00e7\u00e3o.</p> <p> </p> <p>Exemplo de uso:</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button\u00a0onClick=\"sheet.campoDeForca = 8;\"/&gt; \\&lt;/form&gt; <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's WinHelp HLP to CHM conversion feature</p>"},{"location":"Permitirousuarioescolherumaimage/","title":"Permitir o usu\u00e1rio escolher uma imagem dentro da ficha","text":""},{"location":"Permitirousuarioescolherumaimage/#permitir-o-usuario-escolher-uma-imagem-dentro-da-ficha_1","title":"Permitir o usu\u00e1rio escolher uma imagem dentro da ficha","text":"<p>\u00c9 necess\u00e1rio o usar a tag image, colocar sua propriedade \"editable\" para \"true\" e definir um \"field\" para ela.</p> <p>Adicionalmente, voc\u00ea poder\u00e1 definir a propriedade \"style\" da tag como \"autoFit\" para que o a imagem ocupe todo o espa\u00e7o definido para ela.</p> <p> </p> <p>Exemplo:</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"&gt; \\&lt;image\u00a0field=\"imagemDoPersonagem\"\u00a0editable=\"true\"\u00a0style=\"autoFit\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 left=\"20\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0height=\"200\"\u00a0/&gt; \\&lt;/form&gt; <p> </p> <p> </p> <p> </p> <p> </p> <p>O usu\u00e1rio poder\u00e1 alterar a imagem quando clicar nela:</p> <p> </p> <p></p> <p> </p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Interfaces Visuais (Lua Forms)</li> <li>Lua Form e NodeDatabase</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Easily create Qt Help files</p>"},{"location":"PontoLogicovsPixel/","title":"Ponto L\u00f3gico vs Pixel","text":""},{"location":"PontoLogicovsPixel/#ponto-logico-vs-pixel_1","title":"Ponto L\u00f3gico vs Pixel","text":"<p>Todas as dimens\u00f5es ligadas \u00e0 interface do Lua Form s\u00e3o medidas em pontos l\u00f3gicos ao inv\u00e9s de pixels.</p>"},{"location":"PontoLogicovsPixel/#o-que-e-um-ponto-logico","title":"O que \u00e9 um ponto l\u00f3gico?","text":"<p>Ponto l\u00f3gico \u00e9 um \"pixel virtual\" que voc\u00ea deve usar quando estiver definindo as interfaces visuais para expressar tamanho ou posi\u00e7\u00e3o de forma independente da densidade da tela dos dispositivos.</p>"},{"location":"PontoLogicovsPixel/#o-que-e-densidade-da-tela","title":"O que \u00e9 densidade da tela?","text":"<p>Representa a quantidade de pixels dentro de uma \u00e1rea f\u00edsica da tela de um dispositivo. A densidade \u00e9 comumente medida em ppi (points per inch - pontos por polegada).</p> <p> </p> <p>Telas de alta densidade possuem mais pixels em uma \u00e1rea (uma polegada\u00b2 ou cent\u00edmetro\u00b2, por exemplo) do que uma tela de menor densidade em uma mesma \u00e1rea. Quanto maior a densidade de pixels, mais definida e \"bonita\" \u00e9 a tela.</p> <p>Um monitor LED padr\u00e3o de computador desktop possui por volta de 100ppi, um celular Motorolla Moto G possui 326ppi</p>"},{"location":"PontoLogicovsPixel/#a-quanto-equivale-um-ponto-logico","title":"A quanto equivale um ponto l\u00f3gico?","text":"<p>O valor real de um ponto l\u00f3gico varia de dispositivo para dispositivo, conforme sua densidade de pixels.</p> <p> </p> Densidade de Pixels Equival\u00eancia Exemplos de dispositivos Interface de baixa densidade de pixels. 1 ponto l\u00f3gico = 0,75 pixels Celulares Androids de baixa densidade de pixels.\u00a0 Interface de m\u00e9dia densidade de pixels. 1 ponto l\u00f3gico = 1 pixel Computadores padr\u00f5es, dispositivos iOS sem retina. Interface de alta densidade de pixels. 1 ponto l\u00f3gico = 1,5 pixels Computadores configurados para textos ampliados, celulares Androids de alta resolu\u00e7\u00e3o (Moto G ou Zenfone, por exemplo).\u00a0 Interface de alt\u00edssima densidade de pixels. 1 ponto l\u00f3gico = 2 pixels Google Nexus 7, dispositivos iOS com retina.\u00a0 Interface de super densidade de pixels. 1 ponto l\u00f3gico = 3 pixels Google Nexus 5, Galaxy S4. <p> </p>"},{"location":"PontoLogicovsPixel/#o-que-isso-tudo-significa","title":"O que isso tudo significa?","text":"<p>Que o SDK 3 lida automaticamente com as diferentes densidades de telas automaticamente para voc\u00ea.\u00a0</p> <p>Normalmente voc\u00ea pode definir sua interface sem preocupa\u00e7\u00f5es como se 1 ponto l\u00f3gico equivalesse a 1 pixel.\u00a0</p> <p> </p>"},{"location":"PontoLogicovsPixel/#arquivo-de-imagens-e-pontos-logicos","title":"Arquivo de imagens e pontos l\u00f3gicos.","text":"<p>Os arquivos de imagens (.png, jpg, bmp, etc..) possuem dimens\u00f5es medidas em pixels. Ao usar estas imagens em uma interface medida em pontos l\u00f3gicos, o SDK3 poder\u00e1 automaticamente fazer convers\u00f5es de tamanho para voc\u00ea.</p> <p> </p> <p>Exemplo: O comportamento de uma imagem de 64x64 pixels usada em uma tag image de largura 64 e altura 64, ser\u00e1 diferente para cada densidade de pixels:</p> <p> </p> Equival\u00eancia Comportamento 1 ponto l\u00f3gico = 0,75 pixels A imagem ser\u00e1 reduzida para 48x48 pixels antes de ser desenhada.\u00a0 1 ponto l\u00f3gico = 1 pixel A imagem ser\u00e1 desenhada como \u00e9, sem escala.\u00a0 1 ponto l\u00f3gico = 1,5 pixels A imagem ser\u00e1 ampliada para 96x96 pixels antes de ser desenhada.\u00a0 1 ponto l\u00f3gico = 2 pixels A imagem ser\u00e1 ampliada para 128x128 pixels antes de ser desenhada.\u00a0 1 ponto l\u00f3gico = 3 pixels A imagem ser\u00e1 ampliada para 192x192 pixels antes de ser desenhada.\u00a0 <p>Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool</p>"},{"location":"PosicaoeTamanhodosControles/","title":"Posi\u00e7\u00e3o e Tamanho dos Controles","text":""},{"location":"PosicaoeTamanhodosControles/#posicao-e-tamanho-dos-controles_1","title":"Posi\u00e7\u00e3o e Tamanho dos Controles","text":"<p>Toda tag/controle visual possui uma localiza\u00e7\u00e3o expressa com um par de coordenadas left e top, e duas dimens\u00f5es, expressas como width e height (largura e altura), uma geometria que lembra um ret\u00e2ngulo. A unidade destes atributos \u00e9 o \u201cponto l\u00f3gico\u201d (Veja Ponto L\u00f3gico vs Pixel).</p> <p> </p> <p>A posi\u00e7\u00e3o de cada controle \u00e9 relativa \u00e0 posi\u00e7\u00e3o de seus controles/tags pais.</p> <p> </p> <p>\u00a0 \u00a0 Exemplo:</p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;rectangle\u00a0left=\"20\"\u00a0top=\"30\"\u00a0color=\"white\"\u00a0width=\"300\"\u00a0height=\"300\"&gt; \\&lt;rectangle \u00a0left=\"20\"\u00a0top=\"30\"\u00a0color=\"green\"\u00a0width=\"200\"\u00a0height=\"200\"&gt; \\&lt;rectangle\u00a0left=\"0\"\u00a0top=\"40\"\u00a0color=\"red\"\u00a0width=\"50\"/&gt; \\&lt;/rectangle&gt; \\&lt;/rectangle&gt; \\&lt;/form&gt; <p> </p> <p>O exemplo cont\u00e9m 3 ret\u00e2ngulos: Um vermelho, um verde e um branco. O form \u00e9 pai do ret\u00e2ngulo branco, que \u00e9 pai do ret\u00e2ngulo verde, que por sua vez, \u00e9 pai do vermelho.</p> <p> </p> <p></p> <p> </p> <p>A posi\u00e7\u00e3o top final e absoluta do quadrado vermelho \u00e9 100, pois \u00e9 a soma das posi\u00e7\u00f5es top relativas (40 + 30 + 30).</p> <p>Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool</p>"},{"location":"Primeirospassos/","title":"Primeiros passos","text":""},{"location":"Primeirospassos/#primeiros-passos_1","title":"Primeiros passos","text":"<p>Agora que voc\u00ea j\u00e1 instalou um bom editor de texto, voc\u00ea j\u00e1 pode criar seu plug-in. Siga estas orienta\u00e7\u00f5es:</p> <p> </p> <ol> <li>Certifique-se se voc\u00ea j\u00e1 baixou e instalou o Firecast SDK 3, pois, sem ele, este passo-a-passo n\u00e3o funcionar\u00e1. Voc\u00ea pode baix\u00e1-lo em https://firecast.app/para-programadores/\\ \u00a0</li> <li>Crie um novo projeto de plug-in. Saiba como em Criando um novo projeto de plug-in.</li> </ol> <p> </p> <ol> <li>Adicione funcionalidades ao seu projeto de plug-in:</li> <li>Deseja fazer um modelo de ficha? Veja Modelos de Fichas.</li> <li>Deseja converter um PDF para um modelo de ficha? Veja o tutorial: Criar um modelo de ficha \u00e0 partir de um PDF</li> <li>Veja tamb\u00e9m Tutoriais para ter mais ideias =).</li> </ol> <p> </p> <ol> <li>Teste seu plug-in! Saiba como em Testando o projeto de plug-in.</li> </ol> <p> </p> <ol> <li>Distribua seu plug-in</li> </ol> <p> </p>"},{"location":"Primeirospassos/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<ul> <li>FAQ -\u00a0 Perguntas Frequentes</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Upgrade your help files and your workflow with HelpNDoc's WinHelp HLP to CHM conversion</p>"},{"location":"ProjetosdePlugin/","title":"Projetos de Plug-in","text":""},{"location":"ProjetosdePlugin/#projetos-de-plug-in_1","title":"Projetos de Plug-in","text":"<p>Um projeto de plug-in \u00e9 um diret\u00f3rio no computador que cont\u00e9m todo o c\u00f3digo fonte e arquivos auxiliares que s\u00e3o compilados e empacotados sob a forma de um \u00fanico arquivo de extens\u00e3o \u2018.rpk\u2019, o plug-in.</p> <p> </p> <p> </p>"},{"location":"ProjetosdePlugin/#conteudo","title":"Conte\u00fado:","text":"<ul> <li>Criando um novo projeto de plug-in</li> <li>Testando o projeto de plug-in</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Free EBook and documentation generator</p>"},{"location":"Promiseobject/","title":"Promise object","text":""},{"location":"Promiseobject/#promise-object_1","title":"Promise object","text":"<p>This object represents the eventual outcome of an asynchronous operation and its return data.</p> <p> </p> <p>A promise can be in one of the following state:</p> <p> </p> <ul> <li>Pending - The asynchronous operation is still in progress</li> <li>Success - The asynchronous operation concluded with success</li> <li>Failed - The asynchronous operation concluded with error or failure</li> </ul> <p> </p> <p>Once a Promise has been resolved to either \u201cSuccess\u201d or \u201cFailed\u201d, its state is sealed along with its associated data or error message</p>"},{"location":"Promiseobject/#characteristics","title":"Characteristics","text":""},{"location":"Promiseobject/#properties","title":"Properties","text":"Propriedade Tipo Descri\u00e7\u00e3o"},{"location":"Promiseobject/#methods","title":"Methods","text":"M\u00e9todo Descri\u00e7\u00e3o promise:thenDo(successCallback) Set a continuation callback function that will be called when the Promise resolves to success.\u00a0 Arguments: successCallback - A function that will be called when the Promise resolves to success. The first argument of the callback function will receive the associated success data.\u00a0 Remarks: If the Promise is already in a success state, the successCallback will be called as soon as possible\u00a0 Return: A new Promise object that will be resolved asynchronously with the execution of the successCallback.\u00a0 Example:\u00a0 local promise = Firecast.asyncOpenUserNDB(\"name\"); \u00a0 promise:thenDo( \u00a0 \u00a0 function(node) \u00a0 \u00a0 \u00a0 \u00a0 -- This function will be called when the Promise is resolved -- successfully. The first argument, \"node\", contains the -- Promise success data, which in this case is an opened -- nodeDatabse \u00a0 \u00a0 end); \u00a0 promise:thenDo(successCallback, failureCallback) Set continuation callback functions that will be called when the Promise resolves to success or failure.\u00a0 Arguments: successCallback - A function that will be called if the Promise resolves to success. The first argument of the callback function will receive the associated success data failureCallback - A function that will be called if the Promise resolves to failure. The first argument of the callback function will receive the error message.\u00a0 Remarks: This will monitor the Promise for both success and failure states at the same time If the Promise is already in a success state, the successCallback will be called as soon as possible.\u00a0 If the Promise is already in a failure state, the failureCallback will be called as soon as possible If the \u201csuccessCallback\u201d is called, \u201cfailureCallback\u201d will never be called and vice versa.\u00a0 Return: A new Promise object that will be resolved asynchronously with the execution of either the successCallback or failureCallback\u00a0 Example:\u00a0 local promise = Firecast.asyncOpenUserNDB(\"name\"); \u00a0 promise:thenDo( \u00a0 \u00a0 function(node) \u00a0 \u00a0 \u00a0 \u00a0 -- This function will be called when/if the * \u00a0 \u00a0 \u00a0 \u00a0 -- Promise is resolved successfully. The first argument, * \u00a0 \u00a0 \u00a0 \u00a0 -- \"node\", contains the Promise success data, * \u00a0 \u00a0 \u00a0 \u00a0 -- which in this case is an opened nodeDatabase \u00a0 \u00a0 end, \u00a0 \u00a0\u00a0 \u00a0 \u00a0 function(errorMsg) \u00a0 \u00a0 \u00a0 \u00a0 -- This function will be called when/if the * \u00a0 \u00a0 \u00a0 \u00a0 -- Promise is resolved to failure. The first argument, * \u00a0 \u00a0 \u00a0 \u00a0 -- \"errorMsg\", contains the associated error message, -- which in this case is the message explaining why -- it was not possible to open the nodeDatabase* \u00a0 \u00a0 end); \u00a0 promise:onError(failureCallback) Set a continuation callback function that will be called when the Promise resolves to failure.\u00a0 Arguments: failureCallback - A function that will be called if the Promise resolves to failure. The first argument of the callback function will receive the error message.\u00a0 Remarks: If the Promise is already in a failure state, the failureCallback will be called as soon as possible\u00a0 Return: A new Promise object that will be resolved asynchronously with the execution of failureCallback\u00a0 Example:\u00a0 local promise = Firecast.asyncOpenUserNDB(\"name\"); \u00a0 promise:onError( \u00a0 \u00a0 function(errorMsg) \u00a0 \u00a0 \u00a0 \u00a0 -- This function will be called when/if the * \u00a0 \u00a0 \u00a0 \u00a0 -- Promise is resolved to failure. The first argument, * \u00a0 \u00a0 \u00a0 \u00a0 -- \"errorMsg\", contains the associated error message, -- which in this case is the message explaining why -- it was not possible to open the nodeDatabase \u00a0 \u00a0 end); \u00a0 <p>Created with the Personal Edition of HelpNDoc: Qt Help documentation made easy</p>"},{"location":"Referencias/","title":"Refer\u00eancias","text":"<p>Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool</p>"},{"location":"SandboxesdePlugins/","title":"Sandboxes de Plug-ins","text":""},{"location":"SandboxesdePlugins/#sandboxes-de-plug-ins_1","title":"Sandboxes de plug-ins","text":"<p>O SDK3 utiliza sandboxes para a execu\u00e7\u00e3o de plug-ins. Suas principais caracter\u00edsticas s\u00e3o:</p> <ul> <li>Um sandbox \u00e9 um ambiente virtual que representa um plug-in em execu\u00e7\u00e3o. S\u00e3o instanciados/criados quando o Firecast se inicia (e na instala\u00e7\u00e3o de plug-ins) e s\u00e3o destru\u00eddos quando o Firecast \u00e9 fechado (ou na desinstala\u00e7\u00e3o de plug-ins).\u00a0</li> <li>Cada plug-in roda em sua pr\u00f3pria sandbox.</li> <li>Os sandboxes restringem o c\u00f3digo dos plug-ins a fim de proteger o computador/dispositivo do usu\u00e1rio de acessos indevidos.\u00a0</li> <li>Cada plug-in est\u00e1 associado com seu pr\u00f3prio \u201cHD virtual\u201d.<ul> <li>Cada sandbox enxerga APENAS o \u201cHD virtual\u201d do plugin que est\u00e1 em execu\u00e7\u00e3o.</li> <li>N\u00e3o \u00e9 poss\u00edvel acessar arquivos que est\u00e3o fora do \u201cHD virtual\u201d</li> <li>Os arquivos do \u201cHD virtual\u201d s\u00e3o persistentes, isto \u00e9, ficam salvos mesmo quando o sandbox \u00e9 destru\u00eddo.</li> <li>Um sandbox n\u00e3o consegue acessar o \u201cHD virtual\u201d de outro sandbox.</li> <li>Um sandbox n\u00e3o consegue acessar o \u201cHD virtual\u201d de outro plugin.</li> <li>O conte\u00fado do \u201cHD virtual\u201d \u00e9 perdido quando o plugin \u00e9 desinstalado.</li> <li>Saiba mais lendo o t\u00f3pico HD Virtual.</li> </ul> </li> <li>Os objetos, tabelas e vari\u00e1veis vivem isolados. Isto \u00e9, um sandbox n\u00e3o enxerga as vari\u00e1veis e tabelas Lua de outro sandbox.</li> <li>Os objetos, tabelas e vari\u00e1veis de cada sandbox n\u00e3o s\u00e3o persistentes. Isto \u00e9, estas informa\u00e7\u00f5es s\u00e3o perdidas quando o sandbox \u00e9 destru\u00eddo.</li> <li>Durante o carregamento de uma sandbox, todos os arquivos de extens\u00e3o \u201clua\u201d do plug-in s\u00e3o automaticamente carregados.<ul> <li>Se existir o arquivo \"/init.lua\" na raiz do plugin, ele \u00e9 carregado primeiro.</li> <li>A ordem de carregamento dos demais arquivos respeita o uso da fun\u00e7\u00e3o \u201crequire\u201d.</li> <li>Observa\u00e7\u00e3o: A tabela global Lua \u00e9 compartilhada com todos os arquivos Lua do plug-in. Logo, um arquivo Lua enxerga as vari\u00e1veis e tabelas de outro arquivo LUA (se o modificador \u201clocal\u201d n\u00e3o for usado).</li> <li>Apenas arquivos \u201clua\u201d que est\u00e3o na pasta projeto do plug-in s\u00e3o carregados automaticamente.</li> </ul> </li> </ul> <p> </p> <p>Por seguran\u00e7a, o sandbox oferece APENAS as seguintes fun\u00e7\u00f5es nativas LUA:</p> <ul> <li> </li> <li>Vari\u00e1veis:<ul> <li>_G</li> <li>\u00a0_VERSION</li> </ul> </li> <li>Fun\u00e7\u00f5es:<ul> <li>next</li> <li>pairs</li> <li>ipairs</li> <li>pcall</li> <li>select</li> <li>tonumber</li> <li>tostring</li> <li>type</li> <li>unpack</li> <li>xpcall</li> <li>collectgarbage</li> <li>assert</li> <li>error</li> <li>load</li> <li>rawget</li> <li>rawset</li> <li>rawequal</li> <li>setmetatable</li> <li>getmetatable</li> <li>require</li> </ul> </li> <li>Biblioteca String<ul> <li>string.byte</li> <li>string.char</li> <li>string.find</li> <li>string.format</li> <li>string.gmatch</li> <li>string.gsub</li> <li>string.len</li> <li>string.lower</li> <li>string.match</li> <li>string.rep</li> <li>string.reverse</li> <li>string.sub</li> <li>string.upper</li> </ul> </li> <li>Biblioteca Table<ul> <li>table.insert</li> <li>table.maxn</li> <li>table.remove</li> <li>table.sort</li> <li>table.concat</li> <li>table.pack</li> <li>table.unpack</li> </ul> </li> <li>Biblioteca Math<ul> <li>math.abs</li> <li>math.acos</li> <li>math.asin</li> <li>math.atan</li> <li>math.ceil</li> <li>math.cos</li> <li>math.deg</li> <li>math.exp</li> <li>math.floor</li> <li>math.fmod</li> <li>math.huge</li> <li>math.log</li> <li>math.log10</li> <li>math.max</li> <li>math.min</li> <li>math.maxinteger</li> <li>math.mininteger</li> <li>math.modf</li> <li>math.pi</li> <li>math.rad</li> <li>math.random</li> <li>math.randomseed</li> <li>math.sin</li> <li>math.sqrt</li> <li>math.tan</li> <li>math.tointeger</li> <li>math.type</li> <li>math.ult</li> </ul> </li> <li>Biblioteca debug<ul> <li>debug.getmetatable</li> <li>debug.setmetatable</li> <li>debug.traceback</li> </ul> </li> <li>Biblioteca OS<ul> <li>os.clock</li> <li>os.difftime</li> <li>os.time</li> <li>os.date</li> </ul> </li> <li>Biblioteca Package<ul> <li>package.loaded</li> <li>package.config</li> </ul> </li> <li>Biblioteca coroutine<ul> <li>coroutine.create</li> <li>coroutine.resume</li> <li>coroutine.running</li> <li>coroutine.status</li> <li>coroutine.wrap</li> <li>coroutine.yield</li> </ul> </li> <li>Biblioteca utf8<ul> <li>utf8.char</li> <li>utf8.charpattern</li> <li>utf8.codes</li> <li>utf8.codepoint</li> <li>utf8.len</li> <li>utf8.offset</li> </ul> </li> </ul>"},{"location":"SandboxesdePlugins/#veja-tambem","title":"Veja tamb\u00e9m:","text":"<p>\u00a0 \u00a0 O SDK3 j\u00e1 prov\u00ea algumas bibliotecas e fun\u00e7\u00f5es LUA para voc\u00ea utilizar em seus plug-ins! Saiba mais em Bibliotecas LUA.</p> <p>Created with the Personal Edition of HelpNDoc: Add an Extra Layer of Security to Your PDFs with Encryption</p>"},{"location":"StringdecoresnoLuaForm/","title":"String de cores no Lua Form","text":""},{"location":"StringdecoresnoLuaForm/#string-de-cores","title":"String de cores","text":"<p>As cores usadas nas tags do Lua Form s\u00e3o definidas por um string, e podem ter 2 formatos:</p> <ul> <li>Formato hexadecimal</li> <li>Formato literal</li> </ul> <p> </p>"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal","title":"Formato hexadecimal","text":"<p>As cores no formato hexadecimal s\u00e3o uma mistura de RED, GREEN, BLUE e opcionalmente ALPHA no seguintes formatos:</p> <p> </p>"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal-1-dois-caracteres-por-canal-de-cor","title":"Formato hexadecimal 1 \u2014\u00a0 dois caracteres por canal de cor","text":"<p>#RRGGBB ou 0xRRGGBB</p> <p>\\ onde:</p> <ul> <li>RR - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o vermelha</li> <li>GG - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o verde</li> <li>BB - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o azul</li> </ul>"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal-2-dois-caracteres-por-canal-de-cor-opacidade","title":"Formato hexadecimal 2 \u2014\u00a0dois caracteres por canal de cor + opacidade","text":"<p>Tamb\u00e9m poss\u00edvel especificar a opacidade da cor (ALPHA), seguindo o padr\u00e3o:</p> <p> </p> <p>#RRGGBBAA ou 0xRRGGBBAA</p> <p> </p> <p>onde:</p> <ul> <li>RR - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o vermelha</li> <li>GG - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o verde</li> <li>BB - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o azul</li> <li>AA - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) do valor alpha/opacidade, onde 00 = 100% transparente e FF = 100% opaco.</li> </ul>"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal-3-um-caracter-por-canal-de-cor-tambem-conhecido-como-shorthand-hex-color","title":"Formato hexadecimal 3 \u2014\u00a0um caracter por canal de cor (tamb\u00e9m conhecido como shorthand hex color)","text":"<p>#RGB ou 0xRGB</p> <p>\\ onde:</p> <ul> <li>R - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o vermelha</li> <li>G - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o verde</li> <li>B - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o azul</li> </ul>"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal-4-um-caracter-por-canal-de-cor-opacidade-tambem-conhecido-como-shorthand-hex-color","title":"Formato hexadecimal 4 \u2014\u00a0 um caracter por canal de cor + Opacidade (tamb\u00e9m conhecido como shorthand hex color)","text":"<p>#RGBA ou 0xRGBA</p> <p> </p> <p>onde:</p> <ul> <li>R - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o vermelha</li> <li>G - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o verde</li> <li>B - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o azul</li> <li>A - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) do valor alpha/opacidade, onde 0 = 100% transparente e F = 100% opaco.</li> </ul> <p> </p> <p>Exemplos:</p> <ul> <li> </li> <li>#FF0000 - cor vermelha (Formato 1 \u2014 dois caracteres por canal de cor)</li> <li>#F00 - cor vemelha (Formato 3 \u2014 um caracter por canal de cor)</li> <li>#00FF00 - cor verde (Formato 1 \u2014 dois caracteres por canal de cor)</li> <li>#0F0 - cor verde (Formato 3 \u2014 um caracter por canal de cor)</li> <li>#0000FF - cor azul (Formato 1 \u2014 dois caracteres por canal de cor)</li> <li>#00F - cor azul (Formato 3 \u2014 um caracter por canal de cor)</li> <li>#FF00007F - cor vermelha 50% transparente (Formato 2 \u2014 dois caracteres por canal de cor + opacidade)</li> <li>#F007 - cor vermelha 47% transparente (Formato 4 \u2014 um caracter por canal de cor + opacidade)</li> </ul> <p> </p>"},{"location":"StringdecoresnoLuaForm/#formato-literal","title":"Formato literal","text":"<p>O SDK3 tamb\u00e9m prov\u00ea algumas constantes que identificam facilmente algumas cores! S\u00e3o elas:</p> <p> </p> Constante Hexadecimal equivalente Cor AliceBlue\u00a0 #F0F8FF AntiqueWhite\u00a0 #FAEBD7 Aqua\u00a0 #00FFFF Aquamarine #7FFFD4 Azure #F0FFFF Beige #F5F5DC Bisque #FFE4C4 Black #000000 BlanchedAlmond #FFEBCD Blue #0000FF BlueViolet #8A2BE2 Brown #A52A2A BurlyWood #DEB887 CadetBlue #5F9EA0 Chartreuse #7FFF00 Chocolate #D2691E Coral #FF7F50 CornflowerBlue #6495ED Cornsilk #FFF8DC Crimson #DC143C Cyan #00FFFF DarkBlue #00008B DarkCyan #008B8B DarkGoldenRod #B8860B DarkGray #A9A9A9 DarkGreen #006400 DarkKhaki #BDB76B DarkMagenta #8B008B DarkOliveGreen #556B2F DarkOrange #FF8C00 DarkOrchid #9932CC DarkRed #8B0000 DarkSalmon #E9967A DarkSeaGreen #8FBC8F DarkSlateBlue #483D8B DarkSlateGray #2F4F4F DarkTurquoise #00CED1 DarkViolet #9400D3 DeepPink #FF1493 DeepSkyBlue #00BFFF DimGray #696969 DodgerBlue #1E90FF FireBrick #B22222 FloralWhite #FFFAF0 ForestGreen #228B22 Fuchsia #FF00FF Gainsboro #DCDCDC GhostWhite #F8F8FF Gold #FFD700 GoldenRod #DAA520 Gray #808080 Green #008000 GreenYellow #ADFF2F HoneyDew #F0FFF0 HotPink #FF69B4 IndianRed\u00a0 #CD5C5C Indigo\u00a0 #4B0082 Ivory #FFFFF0 Khaki #F0E68C Lavender #E6E6FA LavenderBlush #FFF0F5 LawnGreen #7CFC00 LemonChiffon #FFFACD LightBlue #ADD8E6 LightCoral #F08080 LightCyan #E0FFFF LightGoldenRodYellow #FAFAD2 LightGray #D3D3D3 LightGreen #90EE90 LightPink #FFB6C1 LightSalmon #FFA07A LightSeaGreen #20B2AA LightSkyBlue #87CEFA LightSlateGray #778899 LightSteelBlue #B0C4DE LightYellow #FFFFE0 Lime #00FF00 LimeGreen #32CD32 Linen #FAF0E6 Magenta #FF00FF Maroon #800000 MediumAquaMarine #66CDAA MediumBlue #0000CD MediumOrchid #BA55D3 MediumPurple #9370DB MediumSeaGreen #3CB371 MediumSlateBlue #7B68EE MediumSpringGreen #00FA9A MediumTurquoise #48D1CC MediumVioletRed #C71585 MidnightBlue #191970 MintCream #F5FFFA MistyRose #FFE4E1 Moccasin #FFE4B5 NavajoWhite #FFDEAD Navy #000080 OldLace #FDF5E6 Olive #808000 OliveDrab #6B8E23 Orange #FFA500 OrangeRed #FF4500 Orchid #DA70D6 PaleGoldenRod #EEE8AA PaleGreen #98FB98 PaleTurquoise #AFEEEE PaleVioletRed #DB7093 PapayaWhip #FFEFD5 PeachPuff #FFDAB9 Peru #CD853F Pink #FFC0CB Plum #DDA0DD PowderBlue #B0E0E6 Purple #800080 RebeccaPurple #663399 Red #FF0000 RosyBrown #BC8F8F RoyalBlue #4169E1 SaddleBrown #8B4513 Salmon #FA8072 SandyBrown #F4A460 SeaGreen #2E8B57 SeaShell #FFF5EE Sienna #A0522D Silver #C0C0C0 SkyBlue #87CEEB SlateBlue #6A5ACD SlateGray #708090 Snow #FFFAFA SpringGreen #00FF7F SteelBlue #4682B4 Tan #D2B48C Teal #008080 Thistle #D8BFD8 Tomato #FF6347 Turquoise #40E0D0 Violet #EE82EE Wheat #F5DEB3 White #FFFFFF WhiteSmoke #F5F5F5 Yellow #FFFF00 YellowGreen #9ACD32 None\u00a0 #00000000 Transparent #00000000 Null #00000000 <p> </p> <p>Created with the Personal Edition of HelpNDoc: Experience the power of a responsive website for your documentation</p>"},{"location":"TagactivityIndicator/","title":"Tag activityIndicator","text":""},{"location":"TagactivityIndicator/#tag-activityindicator_1","title":"Tag activityIndicator","text":"<p>A tag/componente activityIndicator representa um controle que exibe uma anima\u00e7\u00e3o na interface com o intuito de indicar ao usu\u00e1rio que alguma atividade est\u00e1 sendo feita, como um carregamento ou uma outra espera qualquer!</p> <p> </p>"},{"location":"TagactivityIndicator/#heranca","title":"Heran\u00e7a","text":"<p>O activityIndicator possui todas as caracter\u00edsticas de uma tag visual qualquer. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul>"},{"location":"TagactivityIndicator/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag activityIndicator tamb\u00e9m possui as seguintes caracter\u00edsticas:</p> <p> </p>"},{"location":"TagactivityIndicator/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o enabled Boolean false Este atributo controla a anima\u00e7\u00e3o do indicador de atividade.\u00a0 Quando true, o indicador apresenta uma anima\u00e7\u00e3o na interface."},{"location":"TagactivityIndicator/#exemplos","title":"Exemplos:","text":""},{"location":"TagactivityIndicator/#exemplo-1-um-indicador-de-atividade-simples","title":"Exemplo 1 - Um indicador de atividade simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"&gt; \\&lt;activityIndicator\u00a0left=\"20\"\u00a0top=\"20\"\u00a0enabled=\"true\"/&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI</p>"},{"location":"Tagbutton/","title":"Tag button","text":""},{"location":"Tagbutton/#tag-button_1","title":"Tag button","text":"<p>A tag/componente button representa um bot\u00e3o na interface. Excelente para executar uma tarefa quando o usu\u00e1rio optar por ela!</p> <p> </p>"},{"location":"Tagbutton/#heranca","title":"Heran\u00e7a","text":"<p>O button possui todas as caracter\u00edsticas de uma tag de texto. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags de textos</li> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul>"},{"location":"Tagbutton/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag button tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"Tagbutton/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onClick Este evento \u00e9 invocado quando ocorre um click com o bot\u00e3o esquerdo do mouse no controle, ou quando ocorre um \u201ctap touch\u201d no controle. <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"Tagbutton/#exemplos","title":"Exemplos:","text":""},{"location":"Tagbutton/#exemplo-1-um-botao-simples","title":"Exemplo 1 - Um bot\u00e3o simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0fame=\"frmFichaTeste\"&gt; \\&lt;button\u00a0left=\"40\"\u00a0top=\"40\"\u00a0text=\"Eu sou um bot\u00e3o\"\u00a0width=\"150\"/&gt; \\&lt;/form&gt;"},{"location":"Tagbutton/#exemplo-2-tratando-o-evento-onclick-estilo-1","title":"Exemplo 2 - Tratando o evento onClick (estilo 1)","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button\u00a0left=\"40\"\u00a0top=\"40\"\u00a0text=\"Clique\"\u00a0onClick=\"showMessage('ol\u00e1 mundo!');\"/&gt; \\&lt;/form&gt; <p>Veja tamb\u00e9m Tratando eventos do Lua Form.</p> <p> </p>"},{"location":"Tagbutton/#exemplo-3-tratando-o-evento-onclick-estilo-2","title":"Exemplo 3 - Tratando o evento onClick (estilo 2)","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button\u00a0left=\"40\"\u00a0top=\"40\"\u00a0text=\"Clique\"&gt; \\&lt;event\u00a0name=\"onClick\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local texto = \"\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 for i = 1, 5, 1 do \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 texto = texto .. \"Linha \" .. i .. \"\\n\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(texto); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;/form&gt; <p>Veja tamb\u00e9m Tratando eventos do Lua Form.</p> <p>Created with the Personal Edition of HelpNDoc: Produce Kindle eBooks easily</p>"},{"location":"TagcheckBox/","title":"Tag checkBox","text":""},{"location":"TagcheckBox/#tag-checkbox_1","title":"Tag checkBox","text":"<p>A tag/componente checkBox representa uma caixa de marca\u00e7\u00e3o na interface.</p> <p> </p>"},{"location":"TagcheckBox/#heranca","title":"Heran\u00e7a","text":"<p>O checkBox possui todas as caracter\u00edsticas de uma tag de texto. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags de textos</li> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul> <p> </p>"},{"location":"TagcheckBox/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag checkBox tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"TagcheckBox/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false) field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o checkBox passa a apresentar e salvar o conte\u00fado no campo informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase"},{"location":"TagcheckBox/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do checkBox sofre altera\u00e7\u00e3o. <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"TagcheckBox/#exemplos","title":"Exemplos:","text":""},{"location":"TagcheckBox/#exemplo-1-checkbox-simples","title":"Exemplo 1 - CheckBox simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;checkBox\u00a0left=\"10\"\u00a0top=\"20\"\u00a0text=\"Caixa de marca\u00e7\u00e3o\"/&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Effortlessly optimize your documentation website for search engines</p>"},{"location":"TagcolorComboBox/","title":"Tag colorComboBox","text":""},{"location":"TagcolorComboBox/#tag-colorcombobox_1","title":"Tag colorComboBox","text":"<p>A tag/componente colorCmboBox representa uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar uma cor qualquer.</p> <p> </p>"},{"location":"TagcolorComboBox/#heranca","title":"Heran\u00e7a","text":"<p>O colorComboBox possui todas as caracter\u00edsticas de uma tag visual. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul> <p> </p>"},{"location":"TagcolorComboBox/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag colorComboBox tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"TagcolorComboBox/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color String de Cor \"Null\" A cor escolhida pelo usu\u00e1rio.\u00a0 Exemplos: \"Red\", \"White\", \"#005623\"\u00a0 useAlpha Boolean True Se true, permite o usu\u00e1rio escolher uma cor com transpar\u00eancia.\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o colorComboBox passa a apresentar e salvar o conte\u00fado no campo informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\&lt;string vazio&gt; Considerando que o componente/tag pai possui um frame (ver Frames), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome.\u00a0 Veja Frames e Regi\u00f5es"},{"location":"TagcolorComboBox/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o colorComboBox:dropDown() \"Abre\" o colorComboBox. Exibe a caixa de sele\u00e7\u00e3o de cores na interface."},{"location":"TagcolorComboBox/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do colorComboBox \u00e9 alterada.\u00a0 onUserChange Este evento \u00e9 disparado quando o valor do campo do objeto Nodo associado (ver atributo \"field\") for alterado porque o usu\u00e1rio alterou o conte\u00fado do colorComboBox.\u00a0 Importante: Este evento \u00e9 disparado APENAS se o atributo \"field\" estiver preenchido corretamente e se a altera\u00e7\u00e3o de valor ocorrer neste colorComboBox mediante a\u00e7\u00e3o do usu\u00e1rio.\u00a0 <p>Veja Tratando eventos do Lua Form</p>"},{"location":"TagcolorComboBox/#exemplos","title":"Exemplos","text":""},{"location":"TagcolorComboBox/#exemplo-1-colorcombobox-simples","title":"Exemplo 1 - colorComboBox simples","text":"<p>Created with the Personal Edition of HelpNDoc: Easy Qt Help documentation editor</p>"},{"location":"TagcomboBox/","title":"Tag comboBox","text":""},{"location":"TagcomboBox/#tag-combobox_1","title":"Tag comboBox","text":"<p>A tag/componente comboBox representa uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar um item entre v\u00e1rios..</p> <p> </p>"},{"location":"TagcomboBox/#heranca","title":"Heran\u00e7a","text":"<p>O comboBox possui todas as caracter\u00edsticas de uma tag de texto. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags de textos</li> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul> <p> </p>"},{"location":"TagcomboBox/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag comboBox tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"TagcomboBox/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text String \\&lt;string vazio&gt; O texto escolhido pelo usu\u00e1rio e apresentado na interface pelo comboBox.\u00a0 Observa\u00e7\u00e3o: Este campo retorna e aceita somente valores que est\u00e3o na propriedade \"items\"\u00a0 value String \\&lt;string vazio&gt;&gt; O valor associado ao item escolhido e apresentado na interface.\u00a0 Observa\u00e7\u00e3o: Este campo retorna e aceita somente valores que est\u00e3o na propriedade \"values\".\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o comboBox passa a apresentar e salvar o conte\u00fado no campo informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\&lt;string vazio&gt; Considerando que o componente/tag pai possui um frame (ver Frames), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome.\u00a0 Veja Frames e Regi\u00f5es transparent Boolean false Quando True, as bordas e o fundo do comboBox n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado.\u00a0 items Arranjo de String {} Lista de itens do qual o usu\u00e1rio poder\u00e1 escolher um.\u00a0 Exemplo: {'Lan\u00e7a', 'Espada', 'Adaga'}\u00a0 values Arranjo de String {} Lista de valores associados aos itens da propriedade \"items\".\u00a0 Cada posi\u00e7\u00e3o deste arranjo \u00e9 \"casado\" com a mesma posi\u00e7\u00e3o do arranjo \"items\".\u00a0 Observa\u00e7\u00e3o 1: N\u00e3o \u00e9 obrigat\u00f3rio o uso desta propriedade;\u00a0 Observa\u00e7\u00e3o 2: Quando esta propriedade e o atributo \"field\" estiverem definidos, este s\u00e3o os valores que ser\u00e3o salvos no NodeDatabase.\u00a0 Exemplo: {'L', 'E', 'A'}"},{"location":"TagcomboBox/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o comboBox:dropDown() \"Abre\" o comboBox. Exibe a lista de sele\u00e7\u00e3o na interface."},{"location":"TagcomboBox/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do comboBox \u00e9 alterada.\u00a0 <p>Veja Tratando eventos do Lua Form</p>"},{"location":"TagcomboBox/#exemplos","title":"Exemplos","text":""},{"location":"TagcomboBox/#exemplo-1-combobox-simples","title":"Exemplo 1 - comboBox simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;comboBox\u00a0left=\"20\"\u00a0top=\"20\"\u00a0items=\"{'Lan\u00e7a', 'Espada', 'Adaga'}\"/&gt; \\&lt;/form&gt;"},{"location":"TagcomboBox/#exemplo-2-combobox-usando-a-propriedade-values-para-escolha-do-item-padrao","title":"Exemplo 2 - comboBox usando a propriedade \"values\" para escolha do item padr\u00e3o.","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;comboBox\u00a0left=\"20\"\u00a0top=\"20\"\u00a0items=\"{'Lan\u00e7a', 'Espada', 'Adaga'}\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0values=\"{'L', 'E', 'A'}\"\u00a0value=\"E\"/&gt; \\&lt;/form&gt; <p>Neste exemplo, devido as propriedades \"items\" e \"values\", houve a associa\u00e7\u00e3o dos seguintes valores e itens:</p> <ul> <li>L = Lan\u00e7a</li> <li>E = Espada</li> <li>A = Adaga</li> </ul> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Elevate your documentation to new heights with HelpNDoc's built-in SEO</p>"},{"location":"TagdataLink/","title":"Tag dataLink","text":""},{"location":"TagdataLink/#tag-datalink_1","title":"Tag dataLink","text":"<p>A tag dataLink representa um componente n\u00e3o visual (n\u00e3o \u00e9 exibido na interface) que monitora mudan\u00e7as em um NodeDatabase.</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>NodeDatabase</li> <li>Lua Form e NodeDatabase</li> </ul> <p> </p>"},{"location":"TagdataLink/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"TagdataLink/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\&lt;string vazio&gt; Define um nome para a componente.\u00a0 O nome deve ser \u00fanico, isto \u00e9, dentro de um form, n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA.\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o dataLink passa a monitorar mudan\u00e7as no campo informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fields Arranjo de String {} // \\&lt;arranjo vazio&gt; Idem \u00e0 propriedade \"field\", por\u00e9m permite monitorar mudan\u00e7as em mais de um campo com um \u00fanico dataLink.\u00a0 Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel utilizar as propriedades \"fields\" e \"field\" ao mesmo tempo, elas s\u00e3o mutualmente exclusivas.\u00a0 defaultValue String \\&lt;String Vazio&gt; Quando definido, se o campo identificado pelo atributo \"field\" estiver vazio, ele ser\u00e1 inicializado com este valor informado.\u00a0 defaultValues Arranjo de String {} // \\&lt;arranjo vazio&gt; Idem \u00e0 propriedade \"defaultValue\", por\u00e9m permite definir valores padr\u00f5es para cada um dos campos informado na propriedade \"fields\"\u00a0 Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel utilizar as propriedades \"defaultValue\" e \"defaultValues\" ao mesmo tempo pois elas s\u00e3o mutualmente exclusivas."},{"location":"TagdataLink/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\"\u00a0 Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor do campo newValue - Novo valor do campo\u00a0 Observa\u00e7\u00f5es: Este evento pode ser invocado em qualquer uma destas ocasi\u00f5es: Os dados do nodedatabase da ficha/form acabaram de ser carregados O usu\u00e1rio local alterou o valor de algum campo monitorado pelo dataLink Algum outro usu\u00e1rio remoto alterou algum dos campos monitrados pelo dataLink.\u00a0 onPersistedChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\" no servidor.\u00a0 Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor conhecido do campo no servidor. newValue - Novo valor do campo no servidor.\u00a0 Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onUserChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\" porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua.\u00a0 Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor do campo newValue - Novo valor do campo.\u00a0 Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos monitorados pelo dataLink.\u00a0 onChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado dentro do field que est\u00e1 sendo monitorado (se o campo for um nodo).\u00a0 Par\u00e2metros: node - O objeto nodo filho que foi criado.\u00a0 onChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 removido de dentro do field que est\u00e1 sendo monitorado (se o campo for um nodo).\u00a0 Par\u00e2metros: node - O objeto nodo filho que foi removido.\u00a0 <p>Veja Tratando eventos do Lua Form</p> <p> </p> <p> </p>"},{"location":"TagdataLink/#exemplos","title":"Exemplos:","text":""},{"location":"TagdataLink/#exemplo-1-calculando-um-modificador-de-atributo-de-dd","title":"Exemplo 1 - Calculando um modificador de atributo de D\\&amp;D","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt;\u00a0 \u00a0 ** \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;!-- Layout da interface --&gt; \\&lt;layout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0height=\"25\"\u00a0width=\"125\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"For\u00e7a: \"\u00a0autoSize=\"true\"/&gt; \\&lt;edit\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0field=\"atributoForca\"/&gt; \\&lt;!-- Modificador --&gt; \\&lt;label\u00a0align=\"right\"\u00a0width=\"30\"\u00a0field=\"modificadorForca\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/layout&gt; \\&lt;!-- C\u00e1lculo de campos / uso de dataLink --&gt; \\&lt;dataLink\u00a0field=\"atributoForca\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt; local\u00a0valorForca\u00a0=\u00a0tonumber(sheet.atributoForca);\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0(valorForca\u00a0~=\u00a0nil)\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.modificadorForca\u00a0=\u00a0math.floor(valorForca\u00a0/\u00a02)\u00a0-\u00a05;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0if\u00a0sheet.modificadorForca\u00a0&gt;\u00a00\u00a0then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.modificadorForca\u00a0=\u00a0\"+\"\u00a0..\u00a0sheet.modificadorForca; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0else \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sheet.modificadorForca\u00a0=\u00a0nil; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0end \\&lt;/event&gt; \\&lt;/dataLink&gt; \\&lt;/form&gt;** <p>Neste exemplo, ligamos um edit ao campo \"atributoForca\" e um label ao campo \"modificadorForca\"... Usamos um dataLink para monitorar mudan\u00e7as em \"atributoForca\" para calcularmos e salvamos o modificador no campo \"modificadorForca\" (para que o label possa exibir o valor).</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Tratando eventos do Lua Form</li> <li>Lua Form e NodeDatabase</li> </ul>"},{"location":"TagdataLink/#exemplo-2-somando-dois-campos-na-interface","title":"Exemplo 2 - Somando dois campos na interface","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;!-- Layout da interface --&gt; \\&lt;layout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0height=\"25\"\u00a0width=\"200\"&gt; \\&lt;edit\u00a0field=\"parcela1\"\u00a0align=\"left\"\u00a0horzTextAlign=\"center\"\u00a0width=\"50\"/&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\" \u00a0+ \u00a0\"\u00a0autoSize=\"true\"/&gt; \\&lt;edit\u00a0field=\"parcela2\"\u00a0align=\"left\"\u00a0horzTextAlign=\"center\"\u00a0width=\"50\"/&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\" \u00a0= \u00a0\"\u00a0autoSize=\"true\"/&gt; \\&lt;!-- Resultado --&gt; \\&lt;label\u00a0align=\"client\"\u00a0field=\"resultadoSoma\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/layout&gt; \\&lt;!-- C\u00e1lculo de campos / uso de dataLink --&gt; \\&lt;dataLink\u00a0fields=\"{'parcela1', 'parcela2'}\"&gt; \\&lt;event\u00a0name=\"onChange\"&gt;\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0sheet.resultadoSoma\u00a0=\u00a0(tonumber(sheet.parcela1)\u00a0or\u00a00)\u00a0+\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 (tonumber(sheet.parcela2)\u00a0or\u00a00); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/dataLink&gt; \\&lt;/form&gt; <p>Neste exemplo, usamos o dataLink para monitorar dois campos ao mesmo tempo: \"parcela1\" e \"parcela2\"</p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Tratando eventos do Lua Form</li> <li>Lua Form e NodeDatabase</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities</p>"},{"location":"TagdataScopeBox/","title":"Tag dataScopeBox","text":""},{"location":"TagdataScopeBox/#tag-datascopebox_1","title":"Tag dataScopeBox","text":"<p>A tag/componente dataScopeBox funciona como a tag layout, por\u00e9m permite definir em qual objeto Nodo seus controles salvar\u00e3o/ler\u00e3o os dados (NodeDatabase);</p> <p>Ap\u00f3s definir o nodo escopo, todos os componentes visuais que est\u00e3o dentro desta tag passar\u00e3o a ler e salvar os dados neste nodo.</p> <p> </p> <p>Saiba mais sobre escopo de dados do NodeDatabase em Lua Form e NodeDatabase.</p> <p> </p> <p>Aten\u00e7\u00e3o: A tag popup n\u00e3o \u00e9 capturada pelo escopo de dados definido pelo dataScopeBox.</p>"},{"location":"TagdataScopeBox/#heranca","title":"Heran\u00e7a","text":"<p>O dataScopeBox possui todas as caracter\u00edsticas de uma tag layout.\u00a0</p> <p> </p> <p>Veja:</p> <ul> <li>Tag layout</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"TagdataScopeBox/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o dataScopeBox possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"TagdataScopeBox/#propriedades","title":"Propriedades","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o scopeNode, nodeObject ou ** node** Objeto Nodo nil Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste dataScopeBox devem salvar os dados.\u00a0 Observa\u00e7\u00f5es:\u00a0 Se for nil, os controles dentro desta tag que salvam/carregam dados no NodeDatabase ficam desabilitados. S\u00f3 \u00e9 poss\u00edvel alterar esta propriedade utilizando c\u00f3digo Lua.\u00a0 Veja tamb\u00e9m:\u00a0 NodeDatabase Escopo de Dados"},{"location":"TagdataScopeBox/#metodos","title":"M\u00e9todos","text":"<p>\u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA.</p> M\u00e9todo Descri\u00e7\u00e3o dataScopeBox:setNodeObject(nodeObject) M\u00e9todo alternativo para alterar a propriedade \"scopeNode\"\u00a0 dataScopeBox:getNodeObject(); M\u00e9todo alternativo que retorna o valor da propriedade \"scopeNode\"\u00a0 <p> </p>"},{"location":"TagdataScopeBox/#eventos-da-tag-datascopebox","title":"Eventos da tag dataScopeBox","text":"Nome do evento Descri\u00e7\u00e3o onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este dataScopeBox est\u00e1 pronto para ser usado.\u00a0 Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do dataScopeBox est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo. O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente.\u00a0 onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este dataScopeBox deixa de estar pronto para ser usado.\u00a0 Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do dataScopeBox n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo.\u00a0 onNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este dataScopeBox.\u00a0 Ver NodeDatabase <p>Veja tamb\u00e9m Tratando eventos do Lua Form.</p>"},{"location":"TagdataScopeBox/#_1","title":"","text":""},{"location":"TagdataScopeBox/#exemplos","title":"Exemplos:","text":""},{"location":"TagdataScopeBox/#exemplo-1-lista-com-painel-de-detalhes","title":"Exemplo 1 - Lista com Painel de Detalhes","text":"<p>Veja o tutorial Criar uma lista din\u00e2mica + painel de detalhes para ver o exemplo completo .</p> <p> </p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Full-featured Kindle eBooks generator</p>"},{"location":"Tagedit/","title":"Tag edit","text":""},{"location":"Tagedit/#tag-edit_1","title":"Tag EDIT","text":"<p>A tag/componente edit representa uma caixa de texto na interface. Um \u00f3timo controle para permitir a entrada de dados!</p> <p> </p>"},{"location":"Tagedit/#heranca","title":"Heran\u00e7a","text":"<p>O edit possui todas as caracter\u00edsticas de uma tag de texto. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags de textos</li> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul>"},{"location":"Tagedit/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag EDIT tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"Tagedit/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o textPrompt String \\&lt;string vazio&gt; Um texto que \u00e9 exibido quando o edit est\u00e1 vazio. Normalmente \u00e9 usado para orientar o usu\u00e1rio qual informa\u00e7\u00e3o ele deve preencher.\u00a0 Exemplo: \"Preencha com seu nome\"\u00a0 transparent Boolean false Quando True, as bordas e o fundo do edit n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado e o cursor de digita\u00e7\u00e3o.\u00a0 isPasswordEdit Boolean false Quando true, o edit conter\u00e1 uma senha e os caracteres do texto ser\u00e3o exibidos como um caractere coringa.\u00a0 readOnly Boolean false Quando true, o edit n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado (somente leitura).\u00a0 type Enumerado: \"text\" \"number\" \"float\" \"text\" Define que tipo de dados o usu\u00e1rio pode digitar neste edit.\u00a0 \"text\" - N\u00e3o h\u00e1 restri\u00e7\u00f5es e o usu\u00e1rio pode digitar qualquer coisa.\u00a0 \"number\" - O usu\u00e1rio pode digitar um valor num\u00e9rico inteiro. Veja tamb\u00e9m as propriedades min e max do edit. A propriedade \"keyboardType\" \u00e9 automaticamente alterada para \"numberPad\" se ela estiver como \"default\" ou \"alphabet\".\u00a0 \"float\" - O usu\u00e1rio pode digitar um valor num\u00e9rico de ponto flutuante (n\u00fameros reais, \"com v\u00edrgula\")\u00a0 min Double -2147483648 Quando o atributo \"type\" for igual a \"number\" ou \"float\", define qual o menor valor num\u00e9rico que este Edit deve aceitar.\u00a0 max Double 2147483647 Quando o atributo \"type\" for igual a \"number\" ou \"float\", define qual o maior valor num\u00e9rico que este Edit deve aceitar.\u00a0 decimalPlaces Integer 2 Quando o atributo \"type\" for igual a \"float\", define quantas casas decimais pode ter o n\u00famero digitado pelo usu\u00e1rio.\u00a0 keyboardType Enumerado: \"default\" \"numbersAndPunctuation\" \"numberPad\" \"phonePad\" \"alphabet\" \"url\" \"email\" \"default\" Quando um teclado virtual for exibido (como aquele nos smartphones e tablets), qual \u00e9 o layout preferencial de teclado para este conte\u00fado?\u00a0 \"default\" e \"alphabet\": Um teclado alfanum\u00e9rico padr\u00e3o.\u00a0 \"numbersAndPunctuation\": Um teclado para entrada de n\u00fameros de s\u00edmbolos de pontua\u00e7\u00e3o.\u00a0 \"numberPad\": Um teclado com apenas n\u00fameros.\u00a0 \"phonePad\": Um teclado para entrada de n\u00famero telef\u00f4nico.\u00a0 \"url\": Um teclado para preencher uma URL da internet.\u00a0 \"email\": Um teclado para preencher endere\u00e7os de e-mail.\u00a0 enterKeyType Enumerado: \"default\" \"done\" \"go\" \"next\" \"search\" \"send\"\u00a0 \"default\" Quando um teclado virtual for exibido (como aqueles nos smartphones e tablets), este atributo define o \u00edcone que aparece na tecla enter.\u00a0 \"default\" - sem tratamento especial.\u00a0 Observa\u00e7\u00e3o importante: Esta propriedade apenas muda a apar\u00eancia do bot\u00e3o ENTER. Caso queira dar uma funcionalidade ao enter, trate o evento onKeyDown verificando se event.keyCode == 13\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o edit passa a apresentar e salvar o conte\u00fado no campo informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\&lt;string vazio&gt; Considerando que o componente/tag pai possui um frame (ver Frames), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome.\u00a0 Veja Frames e Regi\u00f5es asNumber Double 0.0 Cont\u00e9m o texto do edit como um n\u00famero de ponto flutuante (n\u00famero real). Se o texto do edit n\u00e3o for um n\u00famero real v\u00e1lido, a propriedade cont\u00e9m 0."},{"location":"Tagedit/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o conte\u00fado do edit \u00e9 alterado.\u00a0 onUserChange Este evento \u00e9 disparado quando o valor do campo do objeto Nodo associado (ver atributo \"field\") for alterado porque o usu\u00e1rio alterou o conte\u00fado do edit.\u00a0 Importante: Este evento \u00e9 disparado APENAS se o atributo \"field\" estiver preenchido corretamente e se a altera\u00e7\u00e3o de valor ocorrer neste edit mediante a\u00e7\u00e3o do usu\u00e1rio.\u00a0 <p>Veja Tratando eventos do Lua Form</p>"},{"location":"Tagedit/#exemplos","title":"Exemplos:","text":""},{"location":"Tagedit/#exemplo-1-edit-simples","title":"Exemplo 1 - Edit simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;edit\u00a0left=\"10\"\u00a0top=\"10\"/&gt; \\&lt;/form&gt;"},{"location":"Tagedit/#exemplo-2-edit-transparente","title":"Exemplo 2 - Edit transparente","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;edit\u00a0left=\"10\"\u00a0top=\"10\" transparent=\"true\"/&gt; \\&lt;/form&gt;"},{"location":"Tagedit/#exemplo-3-edit-que-le-e-salva-dados-no-nodedatabase","title":"Exemplo 3 - Edit que l\u00ea e salva dados no NodeDatabase","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;edit\u00a0left=\"10\"\u00a0top=\"10\" field=\"Destreza\" width=\"250\"/&gt; \\&lt;/form&gt; <p>Veja tamb\u00e9m:</p> <ul> <li>Lua Form e NodeDatabase</li> <li>NodeDatabase</li> </ul> <p> </p>"},{"location":"Tagedit/#exemplo-4-avancado-uma-mini-ficha-usando-edits-labels-layouts-e-styles-para-evitar-retrabalho","title":"Exemplo 4 - (Avan\u00e7ado) Uma mini ficha, usando edits, labels, layouts e styles para evitar retrabalho.","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;style&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 layout.LayoutCampo { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 width: 64; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 align: left; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins: {left=2, right=2}; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 layout.LayoutCampo edit { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 height:30; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign: center; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 fontSize: 20; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 align: top; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 layout.LayoutCampo label { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 align: top; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign: center; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 vertTextAlign: leading; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 autoSize: true; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/style&gt; \\&lt;layout\u00a0left=\"10\"\u00a0top=\"10\"\u00a0width=\"200\"\u00a0height=\"64\"&gt; \\&lt;layout\u00a0class=\"LayoutCampo\"&gt; \\&lt;edit\u00a0field=\"combate.armadura\"/&gt; \\&lt;label\u00a0text=\"Armadura\"/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0class=\"LayoutCampo\"&gt; \\&lt;edit\u00a0field=\"saude.pontosDeVida\"/&gt; \\&lt;label\u00a0text=\"Pontos de Vida\"/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0class=\"LayoutCampo\"&gt; \\&lt;edit\u00a0field=\"equipamentos.carga\"/&gt; \\&lt;label\u00a0text=\"Carga (kg)\"/&gt; \\&lt;/layout&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p>Neste exemplo, os atributos dos edits, labels e layouts foram definidos por Estilo em Cascata pela tag style.</p> <p> </p> <p>Foram definidos 3 blocos de estilos em cascata:</p> <ul> <li>Um com seletor \"layout.LayoutCampo\" (aplicado a todas as tags layout de class \"LayoutCampo\")</li> <li>Um com seletor \"layout.LayoutCampo edit\" (aplicado a todas as tags edit que est\u00e3o dentro de uma tag layout de class \"LayoutCampo\")</li> <li>Um com seletor \"layout.LayoutCampo label\" (aplicado a todas as tags label que est\u00e3o dentro de uma tag layout de class \"LayoutCampo\")</li> </ul> <p> </p> <p> </p> <p>Veja tamb\u00e9m:</p> <p>Tag STYLE</p> <p>Tag LABEL</p> <p>Tag LAYOUT</p> <p> </p>"},{"location":"Tagedit/#exemplo-5-avancado-o-mesmo-do-exemplo-4-porem-feito-com-tags-templates","title":"Exemplo 5 - (Avan\u00e7ado) O mesmo do exemplo 4, por\u00e9m feito com tags TEMPLATES","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;template\u00a0name=\"LayoutUmCampo\"&gt; \\&lt;layout\u00a0width=\"64\"\u00a0align=\"left\"\u00a0margins=\"{left=2, right=2}\"&gt; \\&lt;edit\u00a0field=\"$(campo)\"\u00a0height=\"30\"\u00a0horzTextAlign=\"center\"\u00a0fontSize=\"20\"\u00a0align=\"top\"/&gt; \\&lt;label text=\"$(titulo)\"\u00a0align=\"top\"\u00a0horzTextAlign=\"center\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 vertTextAlign=\"leading\"\u00a0autoSize=\"true\"/&gt; \\&lt;/layout&gt; \\&lt;/template&gt; \\&lt;layout\u00a0left=\"10\"\u00a0top=\"10\"\u00a0width=\"200\"\u00a0height=\"64\"&gt; \\&lt;LayoutUmCampo\u00a0campo=\"combate.armadura\"\u00a0titulo=\"Armadura\"/&gt; \\&lt;LayoutUmCampo\u00a0campo=\"saude.pontosDeVida\"\u00a0titulo=\"Pontos de Vida\"/&gt; \\&lt;LayoutUmCampo\u00a0campo=\"equipamentos.carga\"\u00a0titulo=\"Carga (kg)\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p>Veja tamb\u00e9m:</p> <p>Tag TEMPLATE</p> <p>Tag LABEL</p> <p>Tag LAYOUT</p> <p>Created with the Personal Edition of HelpNDoc: Make Documentation Review a Breeze with HelpNDoc's Advanced Project Analyzer</p>"},{"location":"Tagevent/","title":"Tag event","text":""},{"location":"Tagevent/#tag-event_1","title":"Tag event","text":"<p>Esta tag especial serve para tratar um evento de uma tag/controle usando a linguagem de programa\u00e7\u00e3o LUA (veja A linguagem de programa\u00e7\u00e3o LUA).</p> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li>O corpo da tag cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o LUA</li> <li>Esta tag n\u00e3o cria nenhum controle.</li> <li>Voc\u00ea deve colocar a tag event dentro da tag que deseja tratar o evento.</li> </ul> <p> </p> <p>Importante: N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</p>"},{"location":"Tagevent/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"Tagevent/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\&lt;N\u00e3o h\u00e1 valor padr\u00e3o&gt; Identifica o nome do evento que deseja manipular.\u00a0 Cada tag/controle possui seu pr\u00f3prio conjunto de eventos que podem ser tratados. Consulte a documenta\u00e7\u00e3o!\u00a0 O preenchimento desta propriedade \u00e9 obrigat\u00f3rio."},{"location":"Tagevent/#exemplos","title":"Exemplos","text":""},{"location":"Tagevent/#exemplo-1-ola-mundo-com-um-botao","title":"Exemplo 1 - Ol\u00e1 mundo com um bot\u00e3o.","text":"<p>A tag event est\u00e1 dentro da tag button, portanto, a tag est\u00e1 manipulando o evento \"onClick\" do button</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button\u00a0left=\"20\"\u00a0top=\"20\"\u00a0text=\"clique\"&gt; \\&lt;event\u00a0name=\"onClick\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Ol\u00e1 mundo!\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;/form&gt; <p> </p> <p></p> <p>\\ Importante: N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</p> <p> </p>"},{"location":"Tagevent/#exemplo-2-centralizando-um-controle-na-interface-visual","title":"Exemplo 2 - Centralizando um controle na interface visual","text":"<p>A tag event est\u00e1 dentro da tag form, portanto ela est\u00e1 manipulando o evento \"onResize\" do form.</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;event\u00a0name=\"onResize\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.btnMeuBotao.left = self.width / 2 - self.btnMeuBotao.width / 2; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 self.btnMeuBotao.top = self.height / 2 - self.btnMeuBotao.height / 2; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;button\u00a0name=\"btnMeuBotao\"\u00a0text=\"Meu bot\u00e3o!\"/&gt; \\&lt;/form&gt; <p> </p> <p> </p> <p></p> <p> </p> <p>Importante: N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</p> <p> </p>"},{"location":"Tagevent/#exemplo-3-definindo-funcoes-e-as-chamando-em-eventos","title":"Exemplo 3\u00a0 - Definindo fun\u00e7\u00f5es e as chamando em eventos","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;script&gt;\\&lt;![CDATA[ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local function rotacionarUmPouco(controle) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local angulo = controle.rotationAngle; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 angulo = angulo + 30;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 while angulo &gt;= 360 do \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 angulo = angulo - 360; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 controle.rotationAngle = angulo; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ]]&gt; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/script&gt; \\&lt;button\u00a0name=\"btnMeuBotao\"\u00a0left=\"20\"\u00a0top=\"30\"\u00a0text=\"Bot\u00e3o 1\"&gt; \\&lt;event\u00a0name=\"onClick\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 rotacionarUmPouco(self.btnMeuBotao); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;button\u00a0name=\"btnMeuBotao2\"\u00a0left=\"20\"\u00a0top=\"100\"\u00a0text=\"Bot\u00e3o 2\"&gt; \\&lt;event\u00a0name=\"onClick\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 rotacionarUmPouco(self.btnMeuBotao2); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/button&gt; \\&lt;/form&gt; <p> ---&gt; </p> <p> </p> <p> </p> <p>Neste exemplo foi usada a Tag script para definir uma fun\u00e7\u00e3o e foi usado um bloco CDATA para lidar com caracteres reservados do XML.</p> <p> </p> <p>Importante: N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</p> <p> </p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Experience the Power and Ease of Use of a Help Authoring Tool</p>"},{"location":"TagflowLayout/","title":"Tag flowLayout","text":""},{"location":"TagflowLayout/#tag-flowlayout_1","title":"Tag flowLayout","text":"<p>A tag/componente flowLayout organiza controles na interface de forma din\u00e2mica. Excelente para criar interfaces que se adaptam a diferentes tamanhos de tela.</p> <p>Os componentes que est\u00e3o dentro de um flowLayout s\u00e3o automaticamente posicionados de forma sequencial e arranjados em linhas quando n\u00e3o houver espa\u00e7o na horizontal.</p> <p> </p> <p>Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel usar a propriedade \"align\" nos controles filhos desta tag.</p> <p> </p>"},{"location":"TagflowLayout/#heranca","title":"Heran\u00e7a","text":"<p>O flowLayout possui todas as caracter\u00edsticas da tag flowPart.\u00a0</p> <p>Veja:</p> <ul> <li>Tag flowPart</li> <li>Tag layout</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"TagflowLayout/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o flowLayout possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"TagflowLayout/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoHeight Boolean false Quando true, o layout automaticamente se expande/contra\u00ed na vertical para caber seu conte\u00fado .\u00a0 horzAlign Enumerado: \"leading\" \"center\" \"trailing\" \"justify\" \"leading\" Define como os controles ser\u00e3o alinhados horizontalmente no layout din\u00e2mico.\u00a0 \"leading\": Alinhados \u00e0 esquerda \"center\": Alinhados ao centro \"trailing\": Alinhados \u00e0 direita \"justify\": Alinhados de forma justificada\u00a0 maxControlsPerLine Integer 0 Quando definido definido (valor maior que zero), o layout din\u00e2mico automaticamente realiza quebra de linhas quando a quantidade m\u00e1xima de controles por linha for atingido.\u00a0 orientation Enumerado: \"horizontal\" \"vertical\" \"horizontal\" Define a orienta\u00e7\u00e3o do layout.\u00a0 \"horizontal\": Os controles s\u00e3o dispostos em linhas.\u00a0 \"vertical\": Os controles s\u00e3o dispostos em colunas\u00a0 maxColumns Integer 0 Quando definido (valor maior que zero) e quando \"orientation\" for vertical, este valor define a quantidade m\u00e1xima de colunas que o layout din\u00e2mico deve ter.\u00a0 lineSpacing Float 0.0 Define o espa\u00e7amento entre as linhas do layout din\u00e2mico.\u00a0 contentWidth Double N/D (Somente Leitura) Ap\u00f3s o c\u00e1lculo do layout, cont\u00e9m a largura do conte\u00fado do layout. Note que a largura do conte\u00fado pode ser diferente da largura do flowLayout.\u00a0 contentHeight Double N/D (Somente Leitura) Ap\u00f3s o c\u00e1lculo do layout, cont\u00e9m a altura do conte\u00fado do layout. Note que a altura do conte\u00fado pode ser diferente da altura do flowLayout."},{"location":"TagflowLayout/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onBeforeLayoutCalc Este evento \u00e9 invocado antes do layout din\u00e2mico ser calculado.\u00a0 onAfterLayoutCalc Este evento \u00e9 invocado ap\u00f3s o layout din\u00e2mico ser calculado."},{"location":"TagflowLayout/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o flowLayout:needRealign() Informa ao flowLayout que ele deve realinhar seu conte\u00fado.\u00a0 <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"TagflowLayout/#exemplos","title":"Exemplos","text":""},{"location":"TagflowLayout/#exemplo-1-layout-dinamico-de-varios-botoes","title":"Exemplo 1 - Layout Din\u00e2mico de v\u00e1rios bot\u00f5es","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;flowLayout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"250\"\u00a0autoHeight=\"true\" orientation=\"horizontal\"&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 1\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 2\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 3\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 4\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 5\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 6\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 7\"/&gt; \\&lt;/flowLayout&gt; \\&lt;/form&gt;  orientation=\"horizontal\"  orientation=\"vertical\""},{"location":"TagflowLayout/#exemplo-2-layout-dinamico-usando-flowpart-para-se-ajustar-a-varios-tamanhos-de-interfaces","title":"Exemplo 2 - Layout Din\u00e2mico usando flowPart para se ajustar a v\u00e1rios tamanhos de interfaces","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;style&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 flowPart { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins: {left=5, right=5, top=5, bottom=5}; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 label { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 width: 75; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign: trailing; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins: {right=5}; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0\u00a0\u00a0 \u00a0 \\&lt;/style&gt; \\&lt;flowLayout\u00a0align=\"client\"\u00a0orientation=\"horizontal\"\u00a0horzAlign=\"justify\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=20, top=20, bottom=20, right=20}\"&gt; \\&lt;flowPart\u00a0minWidth=\"130\"\u00a0maxWidth=\"200\"\u00a0height=\"25\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"For\u00e7a: \"/&gt; \\&lt;edit\u00a0align=\"client\"/&gt; \\&lt;/flowPart&gt; \\&lt;flowPart\u00a0minWidth=\"130\"\u00a0maxWidth=\"200\"\u00a0height=\"25\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Destreza: \"/&gt; \\&lt;edit\u00a0align=\"client\"/&gt; \\&lt;/flowPart&gt; \\&lt;flowPart\u00a0minWidth=\"130\"\u00a0maxWidth=\"200\"\u00a0height=\"25\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Constitui\u00e7\u00e3o: \"/&gt; \\&lt;edit\u00a0align=\"client\"/&gt; \\&lt;/flowPart&gt; \\&lt;flowPart\u00a0minWidth=\"130\"\u00a0maxWidth=\"200\"\u00a0height=\"25\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Intelig\u00eancia: \"/&gt; \\&lt;edit\u00a0align=\"client\"/&gt; \\&lt;/flowPart&gt; \\&lt;/flowLayout&gt; \\&lt;/form&gt; <p>\\ \\ </p> <p> </p> <p></p> <p> </p> <p>Neste exemplo foi utilizada a Tag style para aplicar algumas propriedades a v\u00e1rios controles de uma s\u00f3 vez. Cada Tag flowPart usada pode assumir largura entre 130 e 200.</p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs</p>"},{"location":"TagflowLineBreak/","title":"Tag flowLineBreak","text":""},{"location":"TagflowLineBreak/#tag-flowlinebreak_1","title":"Tag flowLineBreak","text":"<p>A tag/componente flowLineBreak \u00e9 um componente invis\u00edvel e serve apenas para quebrar linha em um layout din\u00e2mico (Ver Tag flowLayout).\u00a0</p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li>Deve ser usado junto com a Tag flowLayout.</li> <li>Se a orienta\u00e7\u00e3o do flowLayout for \"vertical\", esta tag cria uma nova coluna no layout.</li> </ul>"},{"location":"TagflowLineBreak/#heranca","title":"Heran\u00e7a","text":"<p>O flowLineBreak possui todas as caracter\u00edsticas de uma tag visual.\u00a0</p> <p>Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"TagflowLineBreak/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o flowLineBreak possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"TagflowLineBreak/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o horzAlign Enumerado: \"leading\" \"center\" \"trailing\" \"justify\" \\&lt;n\u00e3o definido&gt; Se definido, altera as novas linhas do layout din\u00e2mico ser\u00e3o alinhadas horizontalmente:\u00a0 \"leading\": Alinhados \u00e0 esquerda \"center\": Alinhados ao centro \"trailing\": Alinhados \u00e0 direita \"justify\": Alinhados de forma justificada\u00a0 lineSpacing Float \\&lt;n\u00e3o definido&gt; Se definido, altera o espa\u00e7amento entre as novas linhas do layout din\u00e2mico."},{"location":"TagflowLineBreak/#exemplos","title":"Exemplos","text":""},{"location":"TagflowLineBreak/#exemplo-1-quebra-de-linha","title":"Exemplo 1 - Quebra de linha","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;flowLayout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"250\"\u00a0autoHeight=\"true\"&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 1\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 2\"/&gt; \\&lt;flowLineBreak/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 3\"/&gt; \\&lt;flowLineBreak/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 4\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 5\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 6\"/&gt; \\&lt;button\u00a0text=\"Bot\u00e3o 7\"/&gt; \\&lt;/flowLayout&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Make the switch to CHM with HelpNDoc's hassle-free WinHelp HLP to CHM conversion tool</p>"},{"location":"TagflowPart/","title":"Tag flowPart","text":""},{"location":"TagflowPart/#tag-flowpart_1","title":"Tag flowPart","text":"<p>A tag/componente flowPart representa uma parte din\u00e2mica de um layout din\u00e2mico (Ver Tag flowLayout). \u00c9 um controle similar \u00e0 uma tag layout, mas com a possibilidade de definir uma largura din\u00e2mica, isto \u00e9, um layout que muda sua largura de acordo com a necessidade.</p> <p> </p> <p>Observa\u00e7\u00e3o: Deve ser usado junto com a Tag flowLayout.</p>"},{"location":"TagflowPart/#heranca","title":"Heran\u00e7a","text":"<p>O flowPart possui todas as caracter\u00edsticas da tag layout.\u00a0</p> <p>Veja:</p> <ul> <li>Tag layout</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"TagflowPart/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o flowPart possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"TagflowPart/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o minWidth Float \\&lt;o mesmo que width&gt; Define a largura m\u00ednima que esta parte din\u00e2mica pode assumir.\u00a0 Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, a parte n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica.\u00a0 maxWidth Float \\&lt;o mesmo que width&gt; Define a largura m\u00e1xima que esta parte din\u00e2mica pode assumir.\u00a0 Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, a parte n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica.\u00a0 minScaledWidth Float \\&lt;o mesmo que minWidth&gt; Este valor deve ser menor ou igual \u00e0 propriedade \"minWidth\".\u00a0 Quando definido, o layout din\u00e2mico poder\u00e1 utilizar, para este controle, uma largura menor que \"minWidth\", por\u00e9m escalando o conte\u00fado de forma proporcional at\u00e9 uma largura m\u00ednima de \"minScaledWidth\"\u00a0 maxScaledWidth Float \\&lt;o mesmo que maxWidth&gt; Este valor deve ser maior ou igual \u00e0 propriedade \"maxWidth\".\u00a0 Quando definido, o layout din\u00e2mico poder\u00e1 utilizar, para este controle, uma largura maior que \"maxWidth\", por\u00e9m escalando o conte\u00fado de forma proporcional at\u00e9 uma largura m\u00e1xima de \"maxScaledWidth\"\u00a0 avoidScale Boolean false Quando true e quando alguma das propriedades \"minScaledWidth\" e \"maxScaledWidth\" estiverem definidas, o layout din\u00e2mico assumir\u00e1 uma largura menor que \"minWidth\" ou maior que \"maxWidth\" apenas em \u00faltimo caso (Por exemplo: Quando um controle por si s\u00f3 n\u00e3o caber numa \u00fanica linha).\u00a0 vertAlign Enumerado: \"leading\" \"center\" \"trailing\" \"leading\" Na linha do layout din\u00e2mico que este controle foi alocado, qual ser\u00e1 seu alinhamento vertical?\u00a0 \"leading\" - Este controle estar\u00e1 alinhado no topo de sua linha \"center\" - Este controle estar\u00e1 alinhado no centro de sua linha \"trailing\" - Este controle estar\u00e1 alinhado no rodap\u00e9 de sua linha.\u00a0 stepSizes Arranjo de Float {} Por padr\u00e3o, este controle poder\u00e1 ter qualquer largura entre \"minWidth\" e \"maxWidth\" (uma faixa de n\u00fameros reais).\u00a0 Ao usar \"stepSizes\", este controle assumir\u00e1 apenas alguma das larguras que est\u00e3o no arranjo.\u00a0 Exemplos: {100, 200, 300} - O controle poder\u00e1 assumir larguras 100, 200 ou 300.. N\u00e3o poder\u00e1 assumir, por exemplo, a largura 150. {200, 450} - o controle poder\u00e1 assumir ou a largura de 200 ou de 450.\u00a0 Observa\u00e7\u00e3o: Ao usar esta propriedade, o controle passa a desconsiderar as propriedades \"minWidth\" e \"maxWidth\" (por\u00e9m minScaledWidth e maxScaledWidth continuam sendo respeitados)\u00a0 adjustHeightToLine Boolean false Quando true, este controle pode se redimensionar a fim de ocupar todo o espa\u00e7o vertical da linha em que foi alocado."},{"location":"TagflowPart/#exemplos","title":"Exemplos","text":""},{"location":"TagflowPart/#exemplo-1-layout-dinamico-usando-flowpart-para-se-ajustar-a-varios-tamanhos-de-interfaces","title":"Exemplo 1 - Layout Din\u00e2mico usando flowPart para se ajustar a v\u00e1rios tamanhos de interfaces","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;style&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 flowPart { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins: {left=5, right=5, top=5, bottom=5}; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 label { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 width: 75; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign: trailing; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins: {right=5}; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0\u00a0\u00a0 \u00a0 \\&lt;/style&gt; \\&lt;flowLayout\u00a0align=\"client\"\u00a0orientation=\"horizontal\"\u00a0horzAlign=\"justify\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins=\"{left=20, top=20, bottom=20, right=20}\"&gt; \\&lt;flowPart\u00a0minWidth=\"130\"\u00a0maxWidth=\"200\"\u00a0height=\"25\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"For\u00e7a: \"/&gt; \\&lt;edit\u00a0align=\"client\"/&gt; \\&lt;/flowPart&gt; \\&lt;flowPart\u00a0minWidth=\"130\"\u00a0maxWidth=\"200\"\u00a0height=\"25\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Destreza: \"/&gt; \\&lt;edit\u00a0align=\"client\"/&gt; \\&lt;/flowPart&gt; \\&lt;flowPart\u00a0minWidth=\"130\"\u00a0maxWidth=\"200\"\u00a0height=\"25\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Constitui\u00e7\u00e3o: \"/&gt; \\&lt;edit\u00a0align=\"client\"/&gt; \\&lt;/flowPart&gt; \\&lt;flowPart\u00a0minWidth=\"130\"\u00a0maxWidth=\"200\"\u00a0height=\"25\"&gt; \\&lt;label\u00a0align=\"left\"\u00a0text=\"Intelig\u00eancia: \"/&gt; \\&lt;edit\u00a0align=\"client\"/&gt; \\&lt;/flowPart&gt; \\&lt;/flowLayout&gt; \\&lt;/form&gt; <p>\\ \\ </p> <p> </p> <p></p> <p> </p> <p>Neste exemplo foi utilizada a Tag style para aplicar algumas propriedades a v\u00e1rios controles de uma s\u00f3 vez. Cada tag flowPart usada pode assumir largura entre 130 e 200.</p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Transform Your Word Doc into a Professional-Quality eBook with HelpNDoc</p>"},{"location":"Tagform/","title":"Tag form","text":""},{"location":"Tagform/#tag-form_1","title":"Tag form","text":"<p>A tag/componente form representa uma ficha, um formul\u00e1rio ou uma janela do plug-in.\u00a0</p> <p>As principais caracter\u00edsticas do form s\u00e3o:</p> <ul> <li>Para que alguma interface visual seja apresentada na tela do usu\u00e1rio, \u00e9 necess\u00e1rio existir ao menos 1 form. Sem form, n\u00e3o h\u00e1 apresenta\u00e7\u00e3o da interface.\u00a0</li> <li>Apenas os componentes que est\u00e3o dentro de um form s\u00e3o apresentados na tela.</li> <li>\u00c9 poss\u00edvel existir um form dentro de outro form.</li> <li>\u00c9 poss\u00edvel definir um tema para um form e todos os componentes que est\u00e3o dentro dele. Exemplo: Voc\u00ea quer que o form (e demais componentes) tenha apar\u00eancia escura ou clara?</li> <li>\u00c9 poss\u00edvel associar um Nodo de um NodeDatabase (Ver NodeDatabase) a um form. Quando voc\u00ea faz isso, todos os componentes de edi\u00e7\u00e3o (que est\u00e3o dentro do form) passam a salvar os dados neste nodo.</li> <li>Os modelos de ficha fazem isso! Mas voc\u00ea n\u00e3o precisa se preocupar com isso, pois o SDK 3 faz isso automaticamente para voc\u00ea ;) .</li> </ul>"},{"location":"Tagform/#heranca","title":"Heran\u00e7a","text":"<p>O form possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais.</p>"},{"location":"Tagform/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o form possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"Tagform/#propriedades-e-atributos-da-tag-form","title":"Propriedades e atributos da tag FORM","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o title String \\&lt;string vazio&gt; Define o t\u00edtulo do formul\u00e1rio.\u00a0 Este t\u00edtulo pode ser apresentado em v\u00e1rios lugares, como identifica\u00e7\u00e3o da ficha (se for um modelo de ficha) ou como t\u00edtulo de janela.\u00a0 description String \\&lt;string vazio&gt; Define um texto descritivo do formul\u00e1rio.\u00a0 Se for um modelo de ficha, este valor pode ser apresentado ao usu\u00e1rio durante a cria\u00e7\u00e3o do personagem.\u00a0 dataType String \\&lt;string vazio&gt; Define um tipo de dados que este formul\u00e1rio \u00e9 capaz de editar.\u00a0 Se voc\u00ea est\u00e1 criando uma ficha nova, voc\u00ea deve inventar este texto. A partir de ent\u00e3o, este ser\u00e1 o identificador da sua ficha!\u00a0 Este campo deve ser preenchido se voc\u00ea estiver criando uma janela acopl\u00e1vel de mesa que salve dados em um NodeDatabase armazenado no servidor RRPG. Neste caso, o dataType serve para identificar qual NodeDatabase da mesa dever\u00e1 ser aberto para salvamento de dados.\u00a0 O valor deve possuir ao menos 5 caracteres alfanum\u00e9ricos, \"_\" ou \".\" e n\u00e3o deve come\u00e7ar com um d\u00edgito.\u00a0 Exemplos: \u201cRRPG.MeuNome.DnD5\u201d \u201cbr.com.Meusite.VampiroAMascara\u201d \"br.com.MeuSite.MeuTablesDock\"\u00a0 formType Enumerado: \u201cundefined\u201d \u201csheetTemplate\u201d \"tablesDock\" \u201cundefined\u201d Define a finalidade deste formul\u00e1rio.\u00a0 \u201csheetTemplate\u201d \u2013 Este formul\u00e1rio \u00e9 um modelo de ficha.\u00a0 \"tablesDock\" - Este formul\u00e1rio \u00e9 uma janela acopl\u00e1vel de mesa. Importante: Se voc\u00ea quiser que sua janela acopl\u00e1vel de mesa salve dados em um NodeDatabase armazenado no servidor RRPG, preencha tamb\u00e9m a propriedade \"dataType\". Janelas acopl\u00e1veis s\u00e3o vis\u00edveis apenas para assinantes Gold e/ou em mesas onde seu criador for Gold Plus.\u00a0 \u201cundefined\u201d \u2013 Este formul\u00e1rio n\u00e3o tem uma finalidade bem definida e pode ser usado para v\u00e1rias finalidades diferentes. O RRPG n\u00e3o far\u00e1 nenhum tratamento especial.\u00a0 theme Enumerado: \u201cdefault\u201d \u201clight\u201d \u201cdark\u201d \u201cdefault\u201d Define o tema de cores que os componentes visuais ter\u00e3o neste formul\u00e1rio.\u00a0 \u201cdefault\u201d: Tema padr\u00e3o (cores escuras). \u201clight\u201d: Tema de cores claras. \u201cdark\u201d: Tema de cores escuras.\u00a0 Observa\u00e7\u00e3o: Mesmo que outros temas sejam adicionados futuramente, \"default\" sempre usar\u00e1 cores escuras.\u00a0 lockWhileNodeIsLoading Boolean true Quando true, o form apresenta o texto \u201ccarregando\u201d e trava a interface enquanto o NodeDatabase associado estiver baixando dados.\u00a0 minWidth Float \\&lt;o mesmo que width&gt;\u00a0 Quando dentro de uma tag flowLayout ou quando for um item de uma tag recordList layout \"horizontalTiles\" ou \"verticalTiles\", define a largura m\u00ednima que este form pode assumir, o tornando adapt\u00e1vel ao \"tamanho da tela\".\u00a0 Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, o form n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica.\u00a0 maxWidth Float \\&lt;o mesmo que width&gt;\u00a0 Quando dentro de uma tag flowLayout ou quando for um item de uma tag recordList layout \"horizontalTiles\" ou \"verticalTiles\", define a largura m\u00e1xima que este form pode assumir, o tornando adapt\u00e1vel ao \"tamanho da tela\".\u00a0 Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, o form n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica.\u00a0 isShowing Boolean False (Somente Leitura) Esta propriedade cont\u00e9m True se o form est\u00e1 sendo exibido na interface do usu\u00e1rio ou false se o form n\u00e3o est\u00e1 vis\u00edvel."},{"location":"Tagform/#metodos-da-tag-form","title":"M\u00e9todos da tag FORM","text":"M\u00e9todo Descri\u00e7\u00e3o form:setNodeObject(nodeObject) Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste formul\u00e1rio devem salvar os dados.\u00a0 Par\u00e2metros: nodeObject \u2013 Um objeto Nodo (de um NodeDatabase) ou nil.\u00a0 Ver:\u00a0 NodeDatabase Escopo de Dados form:getNodeObject(); Retorna o objeto nodo (de um NodeDatabase) no qual os controles de edi\u00e7\u00e3o deste formul\u00e1rio devem salvar os dados.\u00a0 nil \u00e9 retornado quando n\u00e3o h\u00e1 nodo associado.\u00a0 Ver:\u00a0 NodeDatabase Escopo de Dados form:lockWithActivity([msg]) Desabilita a intera\u00e7\u00e3o do usu\u00e1rio com o formul\u00e1rio exibindo um indicador de atividade e, opcionalmente, uma mensagem.\u00a0 Ideal quando voc\u00ea quer fazer o usu\u00e1rio aguardar a conclus\u00e3o de algum processo qualquer antes de voltar a interagir com a interface.\u00a0 Par\u00e2metros: (OPCIONAL) msg - uma cadeia de caracteres contendo a mensagem que ser\u00e1 exibida na interface.\u00a0 Observa\u00e7\u00f5es: Este m\u00e9todo segue uma ideia de pilha: Voc\u00ea pode invocar este m\u00e9todo mais de uma vez. Para cada chamada a este m\u00e9todo, deve haver uma chamada do m\u00e9todo unlockWithActivity para destravar a interface. A mensagem exibida ser\u00e1 sempre a da \u00faltima chamada ao m\u00e9todo.\u00a0 form:unlockWithActivity() Volta a habilitar a intera\u00e7\u00e3o entre o usu\u00e1rio e a interface que foi previamente travada pelo m\u00e9todo form:lockWithActivity\u00a0 Retorna true se o form foi realmente liberado, ou false se precisar de mais chamadas de unlockWithActivity para isso."},{"location":"Tagform/#eventos-da-tag-form","title":"Eventos da tag Form","text":"Nome do evento Descri\u00e7\u00e3o onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este formul\u00e1rio est\u00e1 pronto para ser usado.\u00a0 Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a vari\u00e1vel \"sheet\" do LuaForm est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo. O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente.\u00a0 onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este formul\u00e1rio deixa de estar pronto para ser usado.\u00a0 Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a vari\u00e1vel \"sheet\" do LuaForm n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo.\u00a0 onNodeChanged ou onScopeNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este formul\u00e1rio.\u00a0 Ver NodeDatabase onShow Este evento \u00e9 invocado quando o formul\u00e1rio for ficar vis\u00edvel na interface.\u00a0 onHide Este evento \u00e9 invocado quando o formul\u00e1rio for ser escondido/fechado.\u00a0 <p>Veja tamb\u00e9m Tratando eventos do Lua Form.</p> <p>Created with the Personal Edition of HelpNDoc: Make your documentation accessible on any device with HelpNDoc</p>"},{"location":"Taggroup/","title":"Tag group","text":""},{"location":"Taggroup/#tag-group_1","title":"Tag group","text":"<p>Com a\u00a0 tag group, o programador pode agrupar outras tags. Esta tag n\u00e3o faz nada al\u00e9m disso, n\u00e3o afeta a interface visual e nem a interpreta\u00e7\u00e3o do Lua Form.</p> <p>N\u00e3o h\u00e1 propriedades e nem atributos.</p> <p> </p> <p>\u00c9 especialmente \u00fatil para usar com a tag import. Honestamente, sua \u00fanica utilidade \u00e9 essa hehehe =)</p> <p> </p>"},{"location":"Taggroup/#exemplos","title":"Exemplos","text":""},{"location":"Taggroup/#exemplo-1-importacao-de-varias-tags-usando-a-tag-group","title":"Exemplo 1 - Importa\u00e7\u00e3o de v\u00e1rias tags usando a Tag group","text":"<p>Usando a Tag import conseguimos importar um grupo de tags que est\u00e1 em outro documento XML.</p> <p> </p> <p> </p> Arquivo \u201cficha.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;import\u00a0file=\"OutroArquivo.xml\"/&gt; \\&lt;MinhaTag\u00a0titulo=\"Meu Bot\u00e3o\"/&gt; \\&lt;/form&gt; <p> </p> <p> </p> Arquivo \u201cOutroArquivo.xml\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;group&gt; \\&lt;style&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 label { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 fontColor: lime; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/style&gt; \\&lt;template\u00a0name=\"MinhaTag\"&gt; \\&lt;button\u00a0left=\"20\"\u00a0top=\"120\"\u00a0text=\"$(titulo)\"/&gt; \\&lt;/template&gt; \\&lt;layout\u00a0width=\"100\"\u00a0height=\"100\"\u00a0top=\"20\"\u00a0left=\"20\"&gt; \\&lt;label\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 text=\"Estou em outro documento\"/&gt; \\&lt;/layout&gt; \\&lt;/group&gt; <p> </p> <p></p> <p>Created with the Personal Edition of HelpNDoc: Modernize your help files with HelpNDoc's WinHelp HLP to CHM conversion tool</p>"},{"location":"TaghorzLine/","title":"Tag horzLine","text":""},{"location":"TaghorzLine/#tag-horzline_1","title":"Tag horzLine","text":"<p>A tag/componente horzLine representa uma linha na horizontal com cores e espessura personalizada.</p> <p> </p>"},{"location":"TaghorzLine/#heranca","title":"Heran\u00e7a","text":"<p>O horzLine possui todas as caracter\u00edsticas de um controle shape/forma.\u00a0</p> <p> </p> <p>Veja\u00a0</p> <ul> <li>Caracter\u00edsticas de tags shapes</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"TaghorzLine/#exemplos","title":"Exemplos","text":""},{"location":"TaghorzLine/#exemplo-1-uma-linha-simples","title":"Exemplo 1 - Uma linha simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;horzLine\u00a0left=\"10\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0strokeColor=\"red\"/&gt; \\&lt;/form&gt;"},{"location":"TaghorzLine/#exemplo-2-uma-linha-mais-espessa","title":"Exemplo 2 - Uma linha mais espessa","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;horzLine\u00a0left=\"10\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0strokeColor=\"red\" strokeSize=\"7\"/&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Easily convert your WinHelp HLP help files to CHM with HelpNDoc's step-by-step guide</p>"},{"location":"Tagimage/","title":"Tag image","text":""},{"location":"Tagimage/#tag-image_1","title":"Tag IMAGE","text":"<p>\u00a0 \u00a0 A tag/componente image representa uma imagem na interface visual.</p> <p> </p>"},{"location":"Tagimage/#heranca","title":"Heran\u00e7a","text":"<p>O image possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais.</p> <p> </p>"},{"location":"Tagimage/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o image tamb\u00e9m possui as seguintes caracter\u00edsticas:</p> <p> </p>"},{"location":"Tagimage/#propriedades-e-atributos","title":"Propriedades e Atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o animate Boolean false Define se deve executar a anima\u00e7\u00e3o de imagens que s\u00e3o animadas (exemplo: GIF, GIFV) quando suportadas.\u00a0 url, src ou imageURL String \\&lt;string vazio&gt; Define a URL/caminho de onde se encontra a imagem!\u00a0 Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201chttp://xxxx.com.br/a.png\u201d)\u00a0 Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado.\u00a0 style ou showStyle Enumerado: \u201cproportional\u201d \u201cautoFit\u201d \u201coriginalSize\u201d \u201cstretch\u201d \u201cproportional\u201d\u00a0 Define como a imagem ser\u00e1 apresentada na interface:\u00a0 \u201cproportional\u201d: A imagem ser\u00e1 redimensionada, proporcionalmente, para o tamanho do controle, n\u00e3o necessariamente ocupando todo o espa\u00e7o dispon\u00edvel.\u00a0 \u201cautoFit\u201d: A imagem ser\u00e1 exibida de forma que SEMPRE ocupe TODO o espa\u00e7o do controle da forma mais adequada, isto \u00e9, aumentando/diminuindo a imagem, centralizando-a e cortando excessos.\u00a0 \u201coriginalSize\u201d: A imagem ser\u00e1 apresentada no tamanho original, sem redimensionamento.\u00a0 \u201cstretch\u201d: A imagem ser\u00e1 redimensionada de forma que ocupe todo o espa\u00e7o dispon\u00edvel no controle, podendo achatar ou alongar a imagem.\u00a0 center Boolean true Quando true, a imagem ser\u00e1 exibida de forma centralizada no controle.\u00a0 Esta propriedade \u00e9 v\u00e1lida apenas quando a propriedade \u201cshowStyle\u201d for \u201cproportional\u201d ou \u201coriginalSize\u201d\u00a0 optimizeQuality ou ** optimize** Boolean false Quando true, o SDK salvar\u00e1 uma c\u00f3pia da imagem j\u00e1 redimensionada de acordo com a propriedade \u201cstyle\u201d.\u00a0 Utilize este atributo apenas em controles image que n\u00e3o sofrem constante mudan\u00e7a de tamanho.\u00a0 showProgress Boolean true Quando true, o controle exibe uma barra de carregamento para informar que a imagem est\u00e1 sendo baixada.\u00a0 Quando false, a imagem definida pela propriedade \u201cURLWhileLoading\u201d \u00e9 exibida enquanto o download \u00e9 feito.\u00a0 URLWhileLoading String \\&lt;string vazio&gt; Define a URL/caminho da imagem que \u00e9 exibida APENAS enquanto a imagem principal (definida na propriedade \u201curl\u201d) \u00e9 carregada.\u00a0 Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201chttp://xxxx.com.br/a.png\u201d)\u00a0 Pode ser o caminho de um arquivo contido no projeto do plugin Pode ser um arquivo que se encontra no HD Virtual do plugin instalado.\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, a imagem passa a apresentar a imagem de URL contida no campo do NodeDatabase informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase editable Boolean false Quando True, a tag permite o usu\u00e1rio alterar a URL da imagem.\u00a0 Se o atributo \"field\" estiver preenchido, a URL escolhida pelo usu\u00e1rio \u00e9 salva no campo do NodeDatabase.\u00a0 naturalAnimated Boolean false (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a informa\u00e7\u00e3o se ela suporta anima\u00e7\u00e3o.\u00a0 naturalWidth Double 0 (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a largura original da imagem em pixels.\u00a0 \u00a0 naturalHeight Double 0 (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a altura original da imagem em pixels."},{"location":"Tagimage/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onLoad Este evento \u00e9 invocado quando a imagem tiver sido carregada.\u00a0 onPictureLoadedChange Este evento \u00e9 invocado quando a imagem que ser\u00e1 exibida mudou.\u00a0 Este evento \u00e9 chamado quando a imagem \u00e9 carregada 100% ou quando uma imagem \u00e9 descarregada.\u00a0 <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"Tagimage/#exemplos","title":"Exemplos","text":""},{"location":"Tagimage/#exemplo-1-imagem-dentro-do-projeto-de-plug-in","title":"Exemplo 1 - Imagem dentro do projeto de plug-in","text":"<p>Neste exemplo, existe uma pasta chamada \"imagens\" dentro da pasta projeto do plug-in, e dentro desta pasta existe a imagem \"fenix.png\".</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;image\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0height=\"200\"\u00a0src=\"/imagens/fenix.png\"/&gt; \\&lt;/form&gt; <p> </p> <p> </p> <p> </p> <p></p> <p> </p>"},{"location":"Tagimage/#exemplo-2-imagem-baixada-por-url-e-diversos-styles","title":"Exemplo 2 - Imagem baixada por URL e diversos styles","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;image\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"400\"\u00a0height=\"200\"\u00a0style=\"autoFit\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 src=\"http://fc03.deviantart.net/fs70/i/2011/234/5/4/dragon_aspects_by_rattlesnakedefender-d47ii5y.jpg\"/&gt; \\&lt;/form&gt;  style=\"proportional\"  style=\"autoFit\"\u00a0  style=\"originalSize\"  style=\"stretch\" <p>Created with the Personal Edition of HelpNDoc: Free EPub and documentation generator</p>"},{"location":"TagimageCheckBox/","title":"Tag imageCheckBox","text":""},{"location":"TagimageCheckBox/#tag-imagecheckbox_1","title":"Tag imageCheckBox","text":"<p>A tag/componente imageCheckBox representa uma caixa de marca\u00e7\u00e3o na interface no qual \u00e9 poss\u00edvel personalizar a imagem apresentada quando a caixa est\u00e1 marcada e quando est\u00e1 desmarcada.</p> <p> </p>"},{"location":"TagimageCheckBox/#heranca","title":"Heran\u00e7a","text":"<p>O imageCheckBox possui todas as caracter\u00edsticas de uma tag visual. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul> <p> </p>"},{"location":"TagimageCheckBox/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag imageCheckBox tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"TagimageCheckBox/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false)\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o imageCheckBox passa a apresentar e salvar o conte\u00fado no campo informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase checkedImage ou imageChecked String \\&lt;string vazio&gt; Define a URL/caminho de onde se encontra a imagem que ser\u00e1 exibida quando a caixa de marca\u00e7\u00e3o estiver marcada.\u00a0 Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201chttp://xxxx.com.br/a.png\u201d)\u00a0 Pode ser o caminho de um arquivo contido no pacote do plugin Pode ser um arquivo que se encontra no HD Virtual do plugin instalado.\u00a0 uncheckedImage ou imageUnchecked String \\&lt;string vazio&gt; Similar \u00e0 propriedade \"checkedImage\", por\u00e9m cont\u00e9m o endere\u00e7o da imagem que ser\u00e1 exibida quando a caixa de marca\u00e7\u00e3o estiver desmarcada.\u00a0 optimize Boolean false Quando true, o SDK salvar\u00e1 uma c\u00f3pia das imagens de exibi\u00e7\u00e3o j\u00e1 redimensionadas para o melhor tamanho.\u00a0 Utilize este atributo apenas em controles image que n\u00e3o sofrem constante mudan\u00e7a de tamanho.\u00a0 autoChange Boolean true Define se o imageCheckBox ir\u00e1 alternar a propriedade checked automaticamente quando o usu\u00e1rio clicar nele.\u00a0 False significa que voc\u00ea tratar\u00e1 isso por conta pr\u00f3pria e alterar\u00e1 a propriedade checked quando for mais prop\u00edcio."},{"location":"TagimageCheckBox/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do imageCheckBox sofre altera\u00e7\u00e3o."},{"location":"TagimageCheckBox/#exemplos","title":"Exemplos:","text":""},{"location":"TagimageCheckBox/#exemplo-1-usando-icones-de-pocao-no-imagecheckbox","title":"Exemplo 1 - Usando \u00edcones de po\u00e7\u00e3o no imageCheckBox","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0left=\"10\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0height=\"32\"&gt; \\&lt;imageCheckBox\u00a0width=\"32\"\u00a0align=\"left\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 checkedImage=\"/imagens/potion.png\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 uncheckedImage=\"/imagens/potion_off.png\"/&gt; \\&lt;label\u00a0align=\"client\"\u00a0text=\"Po\u00e7\u00e3o de Vida\"\u00a0vertTextAlign=\"center\"\u00a0margins=\"{left=5}\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?</p>"},{"location":"Tagimport/","title":"Tag import","text":""},{"location":"Tagimport/#tag-import_1","title":"Tag import","text":"<p>Com a\u00a0 tag import, o programador pode importar/incluir um outro documento XML ao Lua Form, acarretando na substitui\u00e7\u00e3o da tag pelo conte\u00fado do arquivo especificado.</p> <p> </p> <p>\u00c9 especialmente \u00fatil para:</p> <ul> <li>Organizar o documento Lua form. Exemplo: Quando o arquivo \".lfm\" ficar grande, \u00e9 interessante dividir ele em partes menores, cada parte em seu documento XML separado.</li> <li>Reaproveitar c\u00f3digo. Exemplo: Se voc\u00ea tiver templates ou styles que queira reaproveitar em outros Lua Forms, voc\u00ea pode criar um documento XML que contenha apenas o que queira reaproveitar e o importar nos Lua Forms.</li> </ul> <p> </p>"},{"location":"Tagimport/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"Tagimport/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o file String \\&lt;N\u00e3o h\u00e1 valor padr\u00e3o&gt; Endere\u00e7o de um arquivo XML.\u00a0 Este endere\u00e7o \u00e9 relativo \u00e0 localiza\u00e7\u00e3o do documento atual. Portanto, se o outro arquivo XML estiver na mesma pasta, voc\u00ea s\u00f3 precisa informar o nome dele. \u00a0 Exemplo: \"MeuDocumento.xml\""},{"location":"Tagimport/#exemplos","title":"Exemplos","text":""},{"location":"Tagimport/#exemplo-1-importacao-simples","title":"Exemplo 1 - Importa\u00e7\u00e3o simples","text":"Arquivo \u201cficha.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;import\u00a0file=\"OutroArquivo.xml\"/&gt; \\&lt;/form&gt; Arquivo \u201cOutroArquivo.xml\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;layout\u00a0width=\"100\"\u00a0height=\"100\"\u00a0top=\"20\"\u00a0left=\"20\"&gt; \\&lt;label\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0text=\"Estou em outro documento\"/&gt; \\&lt;/layout&gt;"},{"location":"Tagimport/#exemplo-2-importacao-de-varias-tags-usando-a-tag-group","title":"Exemplo 2 - Importa\u00e7\u00e3o de v\u00e1rias tags usando a Tag group","text":"<p>Usando a Tag group conseguimos importar um grupo de tags que est\u00e1 em outro documento XML.</p> <p> </p> <p> </p> Arquivo \u201cficha.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;import\u00a0file=\"OutroArquivo.xml\"/&gt; \\&lt;MinhaTag\u00a0titulo=\"Meu Bot\u00e3o\"/&gt; \\&lt;/form&gt; <p> </p> <p> </p> Arquivo \u201cOutroArquivo.xml\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;group&gt; \\&lt;style&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 label { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 fontColor: lime; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/style&gt; \\&lt;template\u00a0name=\"MinhaTag\"&gt; \\&lt;button\u00a0left=\"20\"\u00a0top=\"120\"\u00a0text=\"$(titulo)\"/&gt; \\&lt;/template&gt; \\&lt;layout\u00a0width=\"100\"\u00a0height=\"100\"\u00a0top=\"20\"\u00a0left=\"20\"&gt; \\&lt;label\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 text=\"Estou em outro documento\"/&gt; \\&lt;/layout&gt; \\&lt;/group&gt; <p> </p> <p></p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook</p>"},{"location":"Taglabel/","title":"Tag label","text":""},{"location":"Taglabel/#tag-label_1","title":"Tag LABEL","text":"<p>A tag/componente label representa um texto n\u00e3o edit\u00e1vel na interface. Excelente para mostrar informa\u00e7\u00f5es.</p> <p> </p>"},{"location":"Taglabel/#heranca","title":"Heran\u00e7a","text":"<p>O label possui todas as caracter\u00edsticas de uma tag de texto. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags de textos</li> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul> <p> </p>"},{"location":"Taglabel/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag label tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"Taglabel/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoSize Boolean false Se for true, o label automaticamente ajusta seu tamanho (crescendo ou encolhendo) para melhor exibir o seu conte\u00fado. field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o label passa a apresentar o conte\u00fado do campo na interface.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase format String \\&lt;string vazio&gt; Define uma formata\u00e7\u00e3o autom\u00e1tica para o texto do label.\u00a0 Esta propriedade aceita formata\u00e7\u00f5es estilo printf da linguagem C ou Format da linguagem Pascal.\u00a0 Exemplos: --- --- %f N\u00famero float/\"com v\u00edrgula\" %3.3f N\u00famero float apresentando 3 casas decimais %s Texto %.2f kg N\u00famero com duas casas decimais seguidas do texto \"kg\" Carga em %1.1f %% Apresenta um texto como: Carga em 25,3 % \u00a0 Para documenta\u00e7\u00e3o completa, favor procurar a documenta\u00e7\u00e3o da fun\u00e7\u00e3o Format do Delphi.\u00a0 Observa\u00e7\u00f5es: Se a propriedade formatFloat estiver preenchida, a propriedade format \u00e9 ignorada. Apenas 1 par\u00e2metro \u00e9 suportado em format.\u00a0 formatFloat String \\&lt;string vazio&gt; Define uma formata\u00e7\u00e3o autom\u00e1tica para n\u00fameros no label. Esta permite um controle maior do que a propriedade format.\u00a0 Esta propriedade aceita formata\u00e7\u00f5es da fun\u00e7\u00e3o FormatFloat do Delphi.\u00a0 Exemplos: --- --- ,0.00 N\u00famero com 2 casas decimais e separador de milhares 0.0# N\u00famero com 1 ou 2 casas decimais, dependendo do valor. 0.### litros N\u00famero com 0 a 3 casas decimais, dependendo do valor e, no final, a palavra \"litros\" 0.00### kg N\u00famero com 2 a 5 casas decimais, dependendo do valor e, no final, a palavra \"kg\" Total: ,0.00 Palavra \"Total: \" seguida de n\u00famero com 2 casas decimais e separador de milhares. Receita de 0.00;Preju\u00edzo de 0.00 O caracter ; separa se\u00e7\u00f5es para valores positivos, negativos e zero.\u00a0 Se positivo ou maior que zero, usa a formata\u00e7\u00e3o \"Receita de 0.00\", se negativo, utiliza a formatacao \"Preju\u00edzo de 0.00\" +0.00;(0.00);vazio O caracter ; separa se\u00e7\u00f5es para valores positivos, negativos e zero.\u00a0 Se positivo: +0.00 Se negativo: (0.00) Se zero: vazio \u00a0 Para documenta\u00e7\u00e3o completa, favor procurar a documenta\u00e7\u00e3o da fun\u00e7\u00e3o FormatFloat do Delphi.\u00a0 Observa\u00e7\u00f5es: Se a propriedade formatFloat estiver preenchida, a propriedade format \u00e9 ignorada."},{"location":"Taglabel/#exemplos","title":"Exemplos:","text":""},{"location":"Taglabel/#exemplo-1-ola-mundo","title":"Exemplo 1 - Ol\u00e1 Mundo","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;label\u00a0left=\"20\"\u00a0top=\"20\"\u00a0text=\"Ol\u00e1 Mundo\"/&gt; \\&lt;/form&gt;"},{"location":"Taglabel/#exemplo-2-cores","title":"Exemplo 2 - Cores","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;label\u00a0left=\"20\"\u00a0top=\"20\"\u00a0text=\"Label de cor verde com quebra de linha\"\u00a0fontColor=\"lime\"\u00a0autoSize=\"true\"/&gt; \\&lt;/form&gt; <p>Veja tamb\u00e9m String de cores no Lua Form</p> <p> </p> <p> </p>"},{"location":"Taglabel/#exemplo-3-usando-field-para-integrar-com-o-nodedatabase","title":"Exemplo 3 - Usando Field para integrar com o NodeDatabase","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;label\u00a0left=\"20\"\u00a0top=\"20\"\u00a0field=\"campoForca\"\u00a0autoSize=\"true\"\u00a0wordWrap=\"false\"/&gt; \\&lt;button\u00a0left=\"20\"\u00a0top=\"40\"\u00a0width=\"150\"\u00a0text=\"Aumentar For\u00e7a\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 onClick=\"sheet.campoForca = (sheet.campoForca or 0) + 1;\"/&gt; \\&lt;/form&gt; <p>Neste exemplo, um bot\u00e3o que incrementa o valor do field \"campoForca\" enquanto o label, conectado ao mesmo campo, exibe seus valores.</p> <p> </p> <p> \u00a0 -&gt;\u00a0 \u00a0 -&gt; </p> <p> </p> <p>Veja tamb\u00e9m:</p> <ul> <li>Tratando eventos do Lua Form</li> <li>Lua Form e NodeDatabase</li> </ul> <p> </p> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Write eBooks for the Kindle</p>"},{"location":"Taglayout/","title":"Tag layout","text":""},{"location":"Taglayout/#tag-layout_1","title":"Tag LAYOUT","text":"<p>A tag/componente layout representa um componente visual \u201cinvis\u00edvel\u201d. Ele n\u00e3o apresenta nada na tela e \u00e9 usado apenas para organizar outros componentes visuais.</p> <p>As principais caracter\u00edsticas do layout s\u00e3o:</p> <ul> <li>N\u00e3o apresentam nada na tela, s\u00e3o transparentes.</li> <li>S\u00e3o \u00f3timos para organizar e/ou agrupar outros componentes visuais.\u00a0</li> <li>Exemplo: Voc\u00ea pode adicionar 10 outros componentes dentro de um layout e alterar a posi\u00e7\u00e3o de todos, ao mesmo tempo, alterando a apenas posi\u00e7\u00e3o do layout.</li> <li>As tags/controles que est\u00e3o dentro de layout mas visualmente fora de seus limites (largura e altura do layout) n\u00e3o s\u00e3o desenhadas na tela.</li> </ul> <p> </p>"},{"location":"Taglayout/#heranca","title":"Heran\u00e7a","text":"<p>O layout possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais.</p> <p> </p>"},{"location":"Taglayout/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o layout possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"Taglayout/#propriedades-e-atributos-da-tag-layout","title":"Propriedades e atributos da tag LAYOUT","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o frameStyle String \\&lt;string vazio&gt; Aplica um frame a este layout. A string \u00e9 o caminho de um arquivo frame.\u00a0 Veja Frames frameRegion String \\&lt;string vazio&gt; Considerando que o componente/tag pai possui um frame (ver Frames), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome.\u00a0 Veja Frames e Regi\u00f5es"},{"location":"Taglayout/#exemplos","title":"Exemplos","text":""},{"location":"Taglayout/#exemplo-1-uso-simples-de-layout","title":"Exemplo 1 - Uso simples de Layout","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0left=\"60\"\u00a0top=\"50\"\u00a0width=\"300\"\u00a0height=\"300\"&gt; \\&lt;button\u00a0left=\"0\"\u00a0top=\"0\"\u00a0text=\"Bot\u00e3o 1\"/&gt; \\&lt;button\u00a0left=\"0\"\u00a0top=\"32\"\u00a0text=\"Bot\u00e3o 2\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p>O layout \u00e9 um componente invis\u00edvel, mas sua geometria neste exemplo \u00e9:</p> <p></p> <p> </p>"},{"location":"Taglayout/#exemplo-2-uso-de-layouts-aninhados-e-alinhamento-de-controles","title":"Exemplo 2 - Uso de layouts aninhados e alinhamento de controles","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;layout\u00a0left=\"60\"\u00a0top=\"50\"\u00a0width=\"250\"\u00a0height=\"300\"&gt; \\&lt;layout\u00a0align=\"left\"\u00a0width=\"125\"&gt; \\&lt;edit\u00a0align=\"top\"/&gt; \\&lt;edit\u00a0align=\"top\"/&gt; \\&lt;edit\u00a0align=\"top\"/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0align=\"right\"\u00a0width=\"125\"&gt; \\&lt;edit\u00a0align=\"top\"/&gt; \\&lt;edit\u00a0align=\"top\"/&gt; \\&lt;edit\u00a0align=\"top\"/&gt; \\&lt;/layout&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p>O layout \u00e9 um componente invis\u00edvel, mas sua geometria neste exemplo \u00e9:</p> <p></p> <p>Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities</p>"},{"location":"Tagpath/","title":"Tag path","text":""},{"location":"Tagpath/#tag-path_1","title":"Tag PATH","text":"<p>A tag/componente path representa uma forma geom\u00e9trica/shape totalmente personalizada e vetorial. Todas as formas geom\u00e9tricas b\u00e1sicas podem ser criadas usando esta tag.</p> <p> </p>"},{"location":"Tagpath/#heranca","title":"Heran\u00e7a","text":"<p>O path possui todas as caracter\u00edsticas de um controle shape/forma.\u00a0</p> <p> </p> <p>Veja\u00a0</p> <ul> <li>Caracter\u00edsticas de tags shapes</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"Tagpath/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o rectangle possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"Tagpath/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o data ou pathData String \\&lt;String Vazio&gt; Define a forma vetorial do path. Este texto deve estar no mesmo padr\u00e3o do path do SVG e do XAML.\u00a0 mode ou wrapMode Enumerado: \"fit\" \"original\" \"stretch\" \"tile\" \"fit\" Define como a forma ser\u00e1 desenhada na interface.\u00a0 \"fit\" - a forma vai ser redimensionada proporcionalmente para ocupar o tamanho da tag path.\u00a0 \"original\" - a forma ser\u00e1 desenhada sem nenhum tratamento de tamanho e posi\u00e7\u00e3o.\u00a0 \"stretch\" - a forma vai ser esticada para ocupar todo o tamanho da tag path.\u00a0 \"tile\" - a forma ser\u00e1 desenhada v\u00e1rias vezes para ocupar o tamanho da tag path.\u00a0 roundToPixel Boolean false Quando true, as posi\u00e7\u00f5es do shape ser\u00e3o arredondadas para ocuparem pelo\u00a0 menos 1 pixel da tela. Esta op\u00e7\u00e3o pode melhorar o aspecto de alguns paths e pode piorar o aspecto de outros. Teste antes!"},{"location":"Tagpath/#exemplos","title":"Exemplos","text":""},{"location":"Tagpath/#exemplo-1-um-triangulo-laranja","title":"Exemplo 1 - Um tri\u00e2ngulo laranja","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;path\u00a0align=\"client\"\u00a0margins=\"{left=10, right=10, bottom=10, top=10}\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0color=\"orange\"\u00a0data=\"M 100 100 L 300 100 L 200 300 z\"/&gt; \\&lt;/form&gt;"},{"location":"Tagpath/#exemplo-2-outra-forma-com-varios-modos-diferentes","title":"Exemplo 2 - Outra forma com v\u00e1rios modos diferentes","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;path\u00a0align=\"client\"\u00a0margins=\"{left=10, right=10, bottom=10, top=10}\"\u00a0mode=\"fit\"\u00a0color=\"red\"\u00a0data=\"M133,31.8c-0.6,4.3,0.3,9.7,0.3,9.7c0,0,-3.1,-2.3,-6.5,-4.3c-2,-1.1,-3.8,-3.6,-4.8,-5.5c-0.8,-1.3,-1.2,-2.3,-1.2,-2.3c-4.8,5.1,-1.7,11.1,-1.7,11.1c-7.4,-1.6,-12,0.3,-12,0.3c14,9.2,6.6,9.9,-1.5,13.8c-8.1,3.8,-8.7,8.6,-8.7,8.6c9.6,-3.2,13.5,0.9,13.5,0.9c-5.2,4.9,-0.6,12.7,-0.6,12.7c5.1,9.7,17.6,13.8,28.8,15.5c11.1,1.7,21,1,21,1l-25.6,8l-22.9,5.8c0,0,-22.8,-2.5,-31.2,-21.7C71.6,66.1,86.2,50.9,84.7,49.9c-1.4,-1,-3.2,1.1,-3.3,1.4c6.3,-18.2,25.5,-18,26.2,-19.9c0.8,-2,-3.8,-2.1,-3.8,-2.1c19.4,-6.4,29.2,2.5,29.2,2.5Z\"/&gt; \\&lt;/form&gt;  mode=\"fit\"  mode=\"original\"\u00a0  mode=\"stretch\"  mode=\"tile\" <p>Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports</p>"},{"location":"Tagpopup/","title":"Tag popup","text":""},{"location":"Tagpopup/#tag-popup_1","title":"Tag popup","text":"<p>A tag/componente popup representa um componente visual que fica escondido na interface e \u00e9 posteriormente apresentado, tomando a aten\u00e7\u00e3o para si, na forma de um popup.</p> <p> </p>"},{"location":"Tagpopup/#heranca","title":"Heran\u00e7a","text":"<p>O popup possui todas as caracter\u00edsticas da tag layout.\u00a0</p> <p>Veja:</p> <ul> <li>Tag layout</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"Tagpopup/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o popup possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"Tagpopup/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoScopeNode Boolean true Define o comportamento dos campos de edi\u00e7\u00e3o que est\u00e3o dentro deste popup quando a propriedade \"scopeNode\" for nil.\u00a0 true - se scopeNode for nil, os componentes de edi\u00e7\u00e3o usar\u00e3o o scopeNode do formul\u00e1rio.\u00a0 false - se scopeNode for nil, os componentes de edi\u00e7\u00e3o n\u00e3o funcionar\u00e3o, pois n\u00e3o haver\u00e1 um scopeNode.\u00a0 Observa\u00e7\u00e3o: O valor padr\u00e3o destee atributo para plugins que forem compilados com o SDK 3.4 ou inferior \u00e9 false.\u00a0 cancelable Boolean true Indica se o popup pode ser cancelado pelo usu\u00e1rio.\u00a0 Quando false, a \u00fanica maneira de fechar o popup \u00e9 via programa\u00e7\u00e3o ao invocar o m\u00e9todo \"close\" com o par\u00e2metro \"forcar\" igual a true.\u00a0 backOpacity Float \u00a0 0.85 Indica a opacidade do fundo ao exibir este popup.\u00a0 Um valor entre 0.0 e 1.0, onde 0.0 = Fundo totalmente transparente e 1.0 = Fundo totalmente opaco.\u00a0 Esta opacidade se refere ao fundo que \u00e9 aplicado a fim de tirar a aten\u00e7\u00e3o da interface e chamar a aten\u00e7\u00e3o para o popup.\u00a0 drawContainer Boolean true Define se o popup vai automaticamente desenhar uma borda que delimita o conte\u00fado do popup.\u00a0 scopeNode, nodeObject ou ** node** Objeto Nodo nil Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste popup devem salvar os dados.\u00a0 Observa\u00e7\u00f5es:\u00a0 S\u00f3 \u00e9 poss\u00edvel alterar esta propriedade utilizando c\u00f3digo Lua. Se nil, o nodeObject do form ser\u00e1 utilizado para salvar dados se a propriedade autoScopeNode for true. Esta propriedade \u00e9 um \"atalho\" para os m\u00e9todos \"setNodeObject\" e \"getNodeObject\" desta tag.\u00a0 Veja tamb\u00e9m:\u00a0 NodeDatabase Escopo de Dados"},{"location":"Tagpopup/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onClose Este evento \u00e9 invocado quando o popup for fechado.\u00a0 Par\u00e2metros: canceled - Boolean indicando se o popup foi cancelado ou se foi fechado normalmente. onCanClose Este evento \u00e9 invocado quando o popup estiver prestes a ser fechado. Retorne false para impedir o popup de ser fechado ou true para autorizar o fechamento do popup.\u00a0 Par\u00e2metros: canceled - Boolean indicando se o popup ser\u00e1 cancelado ou se ser\u00e1 fechado normalmente.\u00a0 onCalculateSize Se voc\u00ea quiser definir a largura e altura do popup de forma din\u00e2mica, trate este evento.\u00a0 Par\u00e2metros: dueToResize - Booleano indicando se a interface mudou de tamanho e por isso \u00e9 necess\u00e1rio recalcular o tamanho do popup. width - Largura padr\u00e3o height - Altura padr\u00e3o\u00a0 Retorne 2 n\u00fameros, o primeiro contendo a largura e o segundo contendo a altura (Exemplo: return 100, 200;)\u00a0 onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este popup est\u00e1 pronto para ser usado.\u00a0 Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do poup est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo. O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente.\u00a0 onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este popup deixa de estar pronto para ser usado.\u00a0 Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do popup n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo.\u00a0 onNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este popup.\u00a0 Ver NodeDatabase <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"Tagpopup/#metodos","title":"M\u00e9todos","text":"<p>\u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA.</p> M\u00e9todo Descri\u00e7\u00e3o popup:show(); ou popup:showPopup(); Exibe o popup na interface.\u00a0 O popup ser\u00e1 exibido no centro a interface. \u00a0 popup:close(); ou  popup:closePopup(); Fecha o popup.\u00a0 popup:show(placement, control); ou popup:showPopup(placement, control); ou popup:showPopupEx(placement, control); Exibe o popup na interface permitindo o programador definir onde ela ser\u00e1 exibida.\u00a0 Par\u00e2metros: placement - String que define onde o popup ser\u00e1 exibido em rela\u00e7\u00e3o ao \"control\". Pode ser um destes valores: \"bottom\" - abaixo de control \"top\" - acima de control \"left\" - \u00e0 esquerda de control \"right\" - \u00e0 direita de control \"center\" - no centro de control \"bottomCenter\" - abaixo de control e centralizado horizontalmente \"topCenter\" - acima de control e centralizado horizontalmente \"leftCenter\" - \u00e0 esquerda de control e centralizado verticalmente \"rightCenter\" - \u00e0 direita de control e centralizado verticalmente \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente.\u00a0 control - Um controle/tag lua \u00e0 qual o par\u00e2metro \"placement\" se refere. Se nil, o form ser\u00e1 utilizado. popup:close(cancelar, forcar); ou popup:closePopup(cancelar, forcar); Fecha o popup.\u00a0 Par\u00e2metros: cancelar - Booleano indicando se o popup ser\u00e1 cancelado ou se ser\u00e1 fechado normalmente. Caso este par\u00e2metro seja omitido, o valor padr\u00e3o \"false\" ser\u00e1 adotado.\u00a0 forcar - Booleano indicando se \u00e9 para for\u00e7ar o fechamento do popup mesmo se ele tiver atributo \"cancelable\" com true. Caso este par\u00e2metro seja omitido, o valor padr\u00e3o \"false\" ser\u00e1 adotado.\u00a0 popup:setNodeObject(nodeObject) Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste popup devem salvar os dados.\u00a0 Par\u00e2metros: nodeObject \u2013 Um objeto nodo (de um NodeDatabase) ou nil.\u00a0 Observa\u00e7\u00e3o: Se nil, o nodeObject do form ser\u00e1 utilizado para salvar dados.\u00a0 Veja tamb\u00e9m:\u00a0 NodeDatabase Escopo de Dados popup:getNodeObject(); Retorna o objeto nodo (de um NodeDatabase) no qual os controles de edi\u00e7\u00e3o deste popup devem salvar os dados.\u00a0 nil \u00e9 retornado quando n\u00e3o h\u00e1 nodo associado.\u00a0 Observa\u00e7\u00e3o: Se nil, o nodeObject do form ser\u00e1 utilizado para salvar dados.\u00a0 Veja tamb\u00e9m:\u00a0 NodeDatabase Escopo de Dados <p> </p>"},{"location":"Tagpopup/#exemplos","title":"Exemplos","text":""},{"location":"Tagpopup/#exemplo-1-uma-imagem-pequena-que-pode-ser-ampliada-atraves-do-uso-do-popup","title":"Exemplo 1 - Uma imagem pequena que pode ser ampliada atrav\u00e9s do uso do popup","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;!-- Popup --&gt; \\&lt;popup\u00a0name=\"popMeuPopup\"\u00a0width=\"400\"\u00a0height=\"400\"\u00a0backOpacity=\"0.5\"&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Veja s\u00f3 a imagem maior!\"\u00a0autoSize=\"true\"/&gt; \\&lt;image\u00a0align=\"client\"\u00a0src=\"/imagens/fenix.png\"/&gt; \\&lt;/popup&gt; \\&lt;!-- Invocador do Popup --&gt; \\&lt;image\u00a0src=\"/imagens/fenix.png\"\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"80\"\u00a0height=\"80\"/&gt; \\&lt;button\u00a0text=\"Ampliar\"\u00a0width=\"70\"\u00a0left=\"25\"\u00a0top=\"102\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0onClick=\"self.popMeuPopup:show();\"/&gt; \\&lt;/form&gt; <p>Neste exemplo foram usadas tamb\u00e9m:</p> <ul> <li>Tag image</li> <li>Tag label</li> <li>Tag button</li> </ul>"},{"location":"Tagpopup/#exemplo-2-mostrando-o-popup-abaixo-de-um-componente-na-interface","title":"Exemplo 2 -\u00a0 Mostrando o popup abaixo de um componente na interface","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;!-- Popup --&gt; \\&lt;popup\u00a0name=\"popMeuPopup\"\u00a0width=\"100\"\u00a0height=\"100\"\u00a0backOpacity=\"0.5\"&gt; \\&lt;label\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0text=\"Adaga + 1, de tal caracter\u00edstica e outro atributo.\"\u00a0/&gt; \\&lt;/popup&gt; \\&lt;!-- Invocador do Popup --&gt; \\&lt;label\u00a0name=\"labNome\"\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"80\"\u00a0text=\"Adaga + 1\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign=\"trailing\"\u00a0height=\"20\"/&gt; \\&lt;button\u00a0text=\"i\"\u00a0width=\"20\"\u00a0left=\"105\"\u00a0top=\"20\"\u00a0height=\"20\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0onClick=\"self.popMeuPopup:show('bottom', self.labNome);\"/&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?</p>"},{"location":"TagpopupForm/","title":"Tag popupForm","text":""},{"location":"TagpopupForm/#tag-popupform_1","title":"Tag popupForm","text":"<p>A tag/componente popupForm \u00e9 uma especializa\u00e7\u00e3o da tag form que cont\u00e9m propriedades pr\u00f3prias para exibir uma janela popup na interface do usu\u00e1rio .</p> <p>Voc\u00ea pode usar esta tag como tag raiz de um arquivo LFM.</p>"},{"location":"TagpopupForm/#heranca","title":"Heran\u00e7a","text":"<p>O popupForm possui todas as caracter\u00edsticas da Tag form.\u00a0</p> <p> </p> <p>Veja:</p> <ul> <li>Tag form</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul>"},{"location":"TagpopupForm/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o popupForm possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"TagpopupForm/#propriedades-e-atributos-da-tag-popupform","title":"Propriedades e atributos da tag popupForm","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o drawContainer Boolean true Define se o popupForm deve desenhar uma borda que delimita seu conte\u00fado. \u00a0 cancelable Boolean true Define se o popupForm pode ser cancelado pelo usu\u00e1rio.\u00a0 Quando true, o popupForm fecha automaticamente quando o usu\u00e1rio fizer uma a\u00e7\u00e3o de cancelamento de popup (tecla ESC, clique no bot\u00e3o X da janela em desktop, tecla voltar em celulares/tablets, click fora do Popup em dispositivos m\u00f3veis, etc..).\u00a0 Quando false, o popupForm n\u00e3o fecha automaticamente quando o usu\u00e1rio fizer uma a\u00e7\u00e3o padr\u00e3o de cancelamento do popup. Assim, a \u00fanica maneira de fechar o popupForm \u00e9 invocar o m\u00e9todo \"close\" ou \"gui.closePopup\" via programa\u00e7\u00e3o.\u00a0 O evento \"onCancelRequest\" \u00e9 disparado apenas quando \"cancelable\" for false.\u00a0 placement String enumerado: \"center\" \"bottom\" \"top\" \"left\" \"right\" \"topLeft\" \"topRight\" \"bottomLeft\" \"bottomRight\" \"mouse\" \"mouseCenter\" \"center\" Define onde o popupForm deve ser exibido.\u00a0 \"center\" - no centro da tela\u00a0 \"bottom\" - na parte de baixo da tela \"top\" - na parte de cima da tela \"left\" - \u00e0 esquerda na tela \"right\" - \u00e0 direita na tela \"topLeft\" -\u00a0 no canto superior esquerdo da tela \"topRight - no canto superior direito da tela \"bottomLeft\" - no canto inferior esquerdo da tela \"bottomRight\" - no canto inferior direito da tela \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente.\u00a0 resizable Boolean false Define se o usu\u00e1rio pode redimensionar o popup form manualmente.\u00a0 Funciona somente se a propriedade \"drawContainer\" for true.\u00a0 Observa\u00e7\u00f5es: Por enquanto, esta propriedade n\u00e3o possui efeito no Firecast Mobile."},{"location":"TagpopupForm/#metodos-da-tag-popupform","title":"M\u00e9todos da tag popupForm","text":"M\u00e9todo Descri\u00e7\u00e3o popupForm:show(); Exibe o popup na interface do usu\u00e1rio\u00a0 Retorna true se o popupForm n\u00e3o estava vis\u00edvel e passou a ficar vis\u00edvel na interface.\u00a0 popupForm:close(); Fecha o popup da interface do usu\u00e1rio.\u00a0 Retorna true o popupForm estava vis\u00edvel na interface e passou a n\u00e3o ficar vis\u00edvel."},{"location":"TagpopupForm/#eventos-da-tag-popupform","title":"Eventos da tag popupForm","text":"Nome do evento Descri\u00e7\u00e3o onCancelRequest Se o atributo \"cancelable\" for false, este evento \u00e9 invocado quando o usu\u00e1rio fizer uma a\u00e7\u00e3o sinalizando que deseja fechar o popup.\u00a0 Voc\u00ea pode realizar a\u00e7\u00f5es \"bacanas\" aqui, como, por exemplo:\u00a0 Invocar o m\u00e9todo \"close\" apenas se o usu\u00e1rio n\u00e3o tiver preenchido nenhum campo da interface Perguntar ao usu\u00e1rio se ele realmente deseja cancelar (usando dialogs.confirmYesNo) e s\u00f3 depois ent\u00e3o fechar o popup invocando o m\u00e9todo \"close\".\u00a0 <p>Veja tamb\u00e9m Tratando eventos do Lua Form.</p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc</p>"},{"location":"TagprogressBar/","title":"Tag progressBar","text":""},{"location":"TagprogressBar/#tag-progressbar_1","title":"Tag progressBar","text":"<p>A tag/componente progressBar representa uma barra de progresso/estado, \u00f3timo para dar no\u00e7\u00e3o ao usu\u00e1rio do progresso de algo em um formato visual.</p> <p> </p>"},{"location":"TagprogressBar/#heranca","title":"Heran\u00e7a","text":"<p>O progressBar possui todas as caracter\u00edsticas das tags visuais.\u00a0</p> <p>Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"TagprogressBar/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o progressBar possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"TagprogressBar/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color Cor \"green\" Define a cor da barra de progresso.\u00a0 Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso.\u00a0 position ** ou ** value Float 0.0 Define a posi\u00e7\u00e3o atual da barra de progresso.\u00a0 min Float 0.0 Define o valor m\u00ednimo da posi\u00e7\u00e3o da barra de progresso.\u00a0 max Float 100.0 Define o valor m\u00e1ximo da posi\u00e7\u00e3o da barra de progresso.\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o progressBar passa a ler seu \"position/value\" a partir deste campo.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldMin String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o progressBar passa a ler seu \"min\" a partir deste campo.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldMax String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o progressBar passa a ler seu \"max\" a partir deste campo.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase mouseGlow Boolean true Define se a barra deve brilhar quando o usu\u00e1rio passar o mouse em cima.\u00a0 OBS: Este atributo s\u00f3 tem efeito se o valor do atributo hitTest for \"true\"\u00a0 colorMode Enumerado: \"default\" \"hl\" \"default\" Define como o progressBar desenhar\u00e1 sua cor na interface.\u00a0 \"default\" - Modo padr\u00e3o, efeito degrad\u00ea sobre a cor escolhida.\u00a0 \"hl\" - Half Lightness/meia iluminosidade. Aplica efeito degrad\u00ea em cima do tom da cor escolhida com ilumonisade em 50%. As barrinhas de HP/MP/ETC do RRPG utilizam este modo de colora\u00e7\u00e3o. Por fixar a iluminosidade em 50%, cores com diferentes brilhos ser\u00e3o apresentadas da mesma forma (Exemplo: azul claro e azul escuro)"},{"location":"TagprogressBar/#exemplos","title":"Exemplos","text":""},{"location":"TagprogressBar/#exemplo-1-exemplos-de-progressbars-de-varias-cores","title":"Exemplo 1 - Exemplos de ProgressBars de v\u00e1rias cores","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"&gt; \\&lt;progressBar\u00a0width=\"150\"\u00a0color=\"green\"\u00a0top=\"25\"\u00a0left=\"20\"\u00a0value=\"50\"\u00a0max=\"100\"/&gt; \\&lt;/form&gt; color=\"green\" color=\"red\" color=\"black\" color=\"darkorchid\" <p>Created with the Personal Edition of HelpNDoc: Converting Word Documents to eBooks: A Step-by-Step Guide with HelpNDoc</p>"},{"location":"TagradioButton/","title":"Tag radioButton","text":""},{"location":"TagradioButton/#tag-radiobutton_1","title":"Tag radioButton","text":"<p>A tag/componente radioButton representa uma caixa de marca\u00e7\u00e3o na interface que, quando usada em grupo, permite apenas uma esteja marcada por vez.</p> <p> </p>"},{"location":"TagradioButton/#heranca","title":"Heran\u00e7a","text":"<p>O radioButton possui todas as caracter\u00edsticas de uma tag de texto. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags de textos</li> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul> <p> </p>"},{"location":"TagradioButton/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag radioButton tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"TagradioButton/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false)\u00a0 groupName String \\&lt;string vazio&gt; Um texto qualquer usado pelo programador programador para especificar grupos de radioButton.\u00a0 Quando um radioButton \u00e9 marcado, todos os outros radioButtons que possu\u00edrem o mesmo valor de groupName s\u00e3o desmarcados.\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o radioButton passa a apresentar e salvar o conte\u00fado no campo informado.\u00a0 Ao preencher este campo, \u00e9 recomendado que voc\u00ea tamb\u00e9m preencha o atributo \"fieldValue\" abaixo.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldValue String \\&lt;string contendo o mesmo name do controle/tag&gt; Quando usado com o NodeDatabase atrav\u00e9s do \"field\", este atributo cont\u00e9m o valor que \u00e9 salvo no campo do NodeDatabase quando o radioButton estiver selecionado.\u00a0 Na pr\u00e1tica, existir\u00e3o v\u00e1rios radioButtons ligados ao mesmo field, por\u00e9m cada um com um \"fieldValue\" diferente."},{"location":"TagradioButton/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do radioButton sofre altera\u00e7\u00e3o. <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"TagradioButton/#exemplos","title":"Exemplos:","text":""},{"location":"TagradioButton/#exemplo-1-radiobuttons-simples","title":"Exemplo 1 - RadioButtons simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFTeste\"&gt; \\&lt;radioButton\u00a0text=\"For\u00e7a\"\u00a0groupName=\"grupoDeRadios1\"\u00a0field=\"atributoBasico\"\u00a0fieldValue=\"for\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 top=\"10\"\u00a0left=\"20\"/&gt; \\&lt;radioButton\u00a0text=\"Destreza\"\u00a0groupName=\"grupoDeRadios1\"\u00a0field=\"atributoBasico\"\u00a0fieldValue=\"des\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 top=\"32\"\u00a0left=\"20\"\u00a0/&gt; \\&lt;radioButton\u00a0text=\"Intelig\u00eancia\"\u00a0groupName=\"grupoDeRadios1\"\u00a0field=\"atributoBasico\"\u00a0fieldValue=\"int\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 top=\"54\"\u00a0left=\"20\"/&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook</p>"},{"location":"TagrecordList/","title":"Tag recordList","text":""},{"location":"TagrecordList/#tag-recordlist_1","title":"Tag recordList","text":"<p>A tag/componente recordList \u00e9 uma lista de registros na interface. Usada em conjunto com um NodeDatabase, o controle apresenta um painel na interface para cada item/nodo filho de um campo.</p> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li>O painel dos itens \u00e9 customizado pelo programador.</li> <li>O painel dos itens deve ser um form (ver Tag form) e \u00e9 chamado de Template Form.</li> <li>Voc\u00ea vai precisar de ao menos dois arquivos de extens\u00e3o \".lfm\": Um onde se encontra o recordList, e outro representando o painel item.</li> <li>Cada item possui seu pr\u00f3prio objeto nodo, e cada painel de item \u00e9 automaticamente ligado a seu escopo de dados.</li> </ul>"},{"location":"TagrecordList/#heranca","title":"Heran\u00e7a","text":"<p>O recordList possui todas as caracter\u00edsticas da tag layout.\u00a0</p> <p>Veja:</p> <ul> <li>Tag layout</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"TagrecordList/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o recordList possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"TagrecordList/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o recordList passa a usar este campo para salvar e apresentar os itens desta lista.\u00a0 Observa\u00e7\u00f5es: Deve ser preenchido para o recordList funcionar. O campo informado se tornar\u00e1 um nodo no NodeDatabase\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase templateForm String \\&lt;string vazio&gt; Identifica qual \u00e9 o template form do record list, isto \u00e9, o painel que ser\u00e1 exibido para cada item.\u00a0 Deve ser igual ao atributo \"name\" de um form contido em algum arquivo \".lfm\" do projeto do plugin.\u00a0 Sim, voc\u00ea precisar\u00e1 de outro arquivo \".lfm\" para definir fazer esta tag funcionar.\u00a0 itemHeight Float 64.0 Altura padr\u00e3o de cada item do recordList.\u00a0 Este valor \u00e9 usado quando a propriedade \"height\" do Template Form n\u00e3o for definida.\u00a0 minQt Integer 0 Define qual \u00e9 a quantidade m\u00ednima de itens que este recordList deve apresentar na interface.\u00a0 Experimente colocar o valor 1 nesta propriedade. As vezes isto ajuda o usu\u00e1rio =)\u00a0 autoHeight Boolean False Quando true, o recordList automaticamente se expande/contrai na vertical para melhor visualiza\u00e7\u00e3o de seus itens.\u00a0 Quando false, o recordList apresenta barras de rolagens quando o conte\u00fado for maior que sua altura.\u00a0 layout Enumerado: \"vertical\" \"horizontal\" \"horizontalTiles\" \"verticalTiles\" \"vertical\" Define como s\u00e3o organizados visualmente os itens do recordList.\u00a0 \"vertical' - Os itens s\u00e3o empilhados de forma vertical, 1 item por linha. A altura de cada painel \u00e9 definido pela propriedade \"height\" do templateForm e a largura \u00e9 ajustada para equivaler \u00e0 largura do recordList.\u00a0 \"horizontal\" - Os Itens s\u00e3o empilhados lado a lado, de forma horizontal em apenas 1 linha. A largura de cada painel \u00e9 definido pelo atributo \"width\" do templateForm e a altura \u00e9 ajustada para equivaler \u00e0 altura do recordList. A propriedade autoHeight \u00e9 desativada ao usar este layout.\u00a0 \"horizontalTiles\" - Os itens s\u00e3o dispostos na horizontal (lado a lado), podendo quebrar de linha quando for preciso mais espa\u00e7o. Tanto a altura quanto a largura de cada painel s\u00e3o definidos pelas propriedades \"width\" e \"height\" do templateForm.\u00a0 \"verticalTiles\" - Os itens s\u00e3o dispostos na vertical, podendo ocupar mais de 1 coluna quando houver espa\u00e7o para isso. Tanto a altura quanto a largura de cada painel s\u00e3o definidos pelas propriedades \"width\" e \"height\" do templateForm.\u00a0 selectable Boolean False Indica se o recordList deve funcionar visualmente como uma lista de itens selecion\u00e1veis.\u00a0 selectedNode Objeto Nodo \\&lt;\\&lt; N\u00e3o h\u00e1 &gt;&gt; Cont\u00e9m o Objeto Nodo do item atualmente focado/selecionado no recordList.\u00a0 Caso n\u00e3o haja sele\u00e7\u00e3o, cont\u00e9m nil.\u00a0 Ao atribuir um valor, o recordList procura qual de seus itens est\u00e1 associado ao nodo e o seleciona. Caso n\u00e3o encontre, a sele\u00e7\u00e3o ser\u00e1 desfeita e selectedNode passar\u00e1 a ser nil.\u00a0 selectedForm Objeto Form \\&lt;\\&lt; N\u00e3o h\u00e1 &gt;&gt; (Somente Leitura) Cont\u00e9m o Objeto Form do item atualmente focado/selecionado no recordList.\u00a0 Caso n\u00e3o haja sele\u00e7\u00e3o, cont\u00e9m nil."},{"location":"TagrecordList/#metodos","title":"M\u00e9todos","text":"M\u00e9todo Descri\u00e7\u00e3o recordList:append(); Insere um novo item ao recordList.\u00a0 Retorno: Caso consiga inserir um novo item, retorna o novo objeto Nodo do item inserido, sen\u00e3o retorna nil.\u00a0 recordList:sort(); For\u00e7a o recordList a executar uma reordena\u00e7\u00e3o de seus itens.\u00a0 Observa\u00e7\u00e3o: Voc\u00ea deve manipular o evento onCompare para definir como os itens ser\u00e3o ordenados. recordList:scrollToNode(node) Se a propriedade \"autoHeight\" for false, este m\u00e9todo movimenta as barras de rolagem do recordList para que o painel do nodo fique vis\u00edvel na tela do usu\u00e1rio.\u00a0 Par\u00e2metros: node - um objeto Nodo identificando o nodo do item que deseja tornar vis\u00edvel na tela do usu\u00e1rio."},{"location":"TagrecordList/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onSelect Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do recordList muda, isto \u00e9, quando um item for selecionado ou quando nenhum item estiver selecionado.\u00a0 Observa\u00e7\u00f5es:\u00a0 Para descobrir qual item foi selecionado, utilize as propriedades selectedNode e selectedForm Este evento \u00e9 disparado mesmo quando a propriedade \"selectable\" for false.\u00a0 onBeginEnumeration Este evento \u00e9 invocado quando o recordList come\u00e7ar a enumerar as mudan\u00e7as de itens, disparando, logo a seguir, 0 ou mais eventos onItemAdded e/ou onItemRemoved.\u00a0 onItemAdded Evento disparado quando um item for carregado/adicionado visualmente no recordList\u00a0 Par\u00e2metros: node - Objeto Nodo do item adicionado. form - Objeto Form do item adicionado.\u00a0 Observa\u00e7\u00f5es: Este evento representa um item que foi enumerado visualmente na lista e n\u00e3o necessariamente que um novo item foi inserido nos dados salvos. Durante o carregamento dos dados, este evento \u00e9 disparado para cada item carregado.\u00a0 onItemRemoved Evento disparado quando um item for descarregado/removido visualmente do recordList\u00a0 Par\u00e2metros: node - Objeto Nodo do item removido. form - Objeto Form do item removido.\u00a0 Observa\u00e7\u00f5es: Este evento representa um item que deixou de ser enumerado visualmente da lista e n\u00e3o necessariamente que um item foi deletado dos dados salvos.\u00a0 onEndEnumeration Este evento \u00e9 invocado quando o recordList terminar de enumerar as mudan\u00e7as de itens e n\u00e3o houver outro evento onItemAdded e/ou oItemRemoved para disparar a seguir.\u00a0 onCompare Este evento \u00e9 invocado em momentos chaves para garantir a ordena\u00e7\u00e3o dos itens que s\u00e3o mostrados na interface. Quando invocado, o evento traz 2 nodos para que o programador retorne, entre os dois, qual deve aparecer antes.\u00a0 Par\u00e2metros: nodeA - Objeto Nodo contendo um nodo que deve ser comparado. nodeB - Objeto Nodo contendo o outro nodo que deve ser comparado.\u00a0 Retorno: Retorne um n\u00famero menor que 0 se \"nodeA\" deve ser exibido antes de \"nodeB\" Retorne um n\u00famero maior que 0 se \"nodeA\" deve ser exibido depois de \"nodeB\" Retorne 0 se os dois s\u00e3o equivalentes na quest\u00e3o da ordem.\u00a0 Observa\u00e7\u00e3o: Veja o exemplo 2 para entender melhor como este evento funciona.\u00a0 <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"TagrecordList/#exemplos","title":"Exemplos","text":""},{"location":"TagrecordList/#exemplo-1-lista-simples-de-edits","title":"Exemplo 1 - Lista simples de edits","text":"Arquivo \u201cficha.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button\u00a0left=\"20\"\u00a0top=\"20\"\u00a0height=\"25\"\u00a0text=\"Nova Magia\"\u00a0width=\"80\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0onClick=\"self.rclMagias:append();\"/&gt; \\&lt;recordList\u00a0name=\"rclMagias\"\u00a0field=\"magias\"\u00a0templateForm=\"frmItemDeMagia\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0left=\"20\"\u00a0top=\"60\"\u00a0width=\"300\"\u00a0autoHeight=\"true\"/&gt; \\&lt;/form&gt; Arquivo \u201citemDeMagia.lfm\u201d \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmItemDeMagia\"\u00a0height=\"30\"\u00a0margins=\"{top=2,bottom=2}\"&gt; \\&lt;edit\u00a0align=\"client\"\u00a0field=\"nome\"\u00a0margins=\"{right=2}\"/&gt; \\&lt;button\u00a0align=\"right\"\u00a0text=\"Apagar\"\u00a0width=\"80\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0onClick=\"ndb.deleteNode(sheet);\"/&gt; \\&lt;/form&gt; <p>A tag recordList do arquivo \"ficha.lfm\" utiliza o form do arquivo\"itemDeMagia.lfm\" quando \u00e9 definido sua propriedade \"templateForm\".</p> <p> </p> <p> </p> <p> </p> <p>Note que existe uma inst\u00e2ncia de \"frmItemDeMagia\" para cada item existente.</p> <p> </p> <p>Observa\u00e7\u00e3o: No bot\u00e3o apagar foi utilizada a biblioteca \"ndb\" para apagar um item. Leia mais sobre em:</p> <ul> <li>NodeDatabase</li> <li>Lua Form e NodeDatabase</li> </ul> <p> </p> <p>Detalhes que valem prestar a aten\u00e7\u00e3o:</p> <ul> <li>Na tag form do arquivo \"itemDeMagia.lfm\", a propriedade \"height\" foi definida. Esta \u00e9 a altura do painel que se repete para cada item. Provavelmente voc\u00ea precisar\u00e1 definir um valor \"height\" apropriado para seu caso =).</li> <li>A vari\u00e1vel \"sheet\" que foi referenciada no arquivo \"itemDeMagia.lfm\" representa o objeto nodo do item ligado ao painel e n\u00e3o da ficha.</li> </ul> <p> </p> <p> </p>"},{"location":"TagrecordList/#exemplo-2-adicionando-uma-ordenacao-ao-exemplo-1","title":"Exemplo 2 - Adicionando uma ordena\u00e7\u00e3o ao Exemplo 1","text":"<p>Manipulando o evento OnCompare parar ordenar de forma crescente pelo atributo \"nome\" dos itens.</p> <p> </p> ..... ..... \\&lt;recordList\u00a0name=\"rclMagias\"\u00a0field=\"magias\"\u00a0templateForm=\"frmItemDeMagia\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0left=\"20\"\u00a0top=\"60\"\u00a0width=\"300\"\u00a0autoHeight=\"true\"&gt; \\&lt;event\u00a0name=\"onCompare\"&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return utils.compareStringPtBr(nodeA.nome, nodeB.nome); \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/recordList&gt; ... ... <p> </p> <p> </p> <p> </p> <p>Ordenando pelo \\&lt;custo, nome&gt;. Isto \u00e9, ordenar pelo custo e considerar o nome em caso de empate.</p> <p> </p> \\&lt;recordList\u00a0name=\"rclMagias\"\u00a0field=\"magias\"\u00a0templateForm=\"frmItemDeMagia\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0left=\"20\"\u00a0top=\"60\"\u00a0width=\"300\"\u00a0autoHeight=\"true\"&gt; \\&lt;event\u00a0name=\"onCompare\"&gt;\\&lt;![CDATA[\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (nodeA.custo or 0) \\&lt; (nodeB.custo or 0) then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return -1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 elseif (nodeA.custo or 0) &gt; (nodeB.custo or 0) then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return 1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 else\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return utils.compareStringPtBr(nodeA.nome, nodeB.nome); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ]]&gt; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/event&gt; \\&lt;/recordList&gt; <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Maximize Your PDF Protection with These Simple Steps</p>"},{"location":"Tagrectangle/","title":"Tag rectangle","text":""},{"location":"Tagrectangle/#tag-rectangle_1","title":"Tag RECTANGLE","text":"<p>A tag/componente rectangle representa um ret\u00e2ngulo na interface o qual voc\u00ea pode personalizar cores, bordas e outros aspectos da forma.</p> <p> </p>"},{"location":"Tagrectangle/#heranca","title":"Heran\u00e7a","text":"<p>O rectangle possui todas as caracter\u00edsticas de um controle shape/forma.\u00a0</p> <p> </p> <p>Veja\u00a0</p> <ul> <li>Caracter\u00edsticas de tags shapes</li> <li>Caracter\u00edsticas de todas as tags visuais.</li> </ul> <p> </p>"},{"location":"Tagrectangle/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, o rectangle possui tamb\u00e9m as seguintes caracter\u00edsticas:</p>"},{"location":"Tagrectangle/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o corners Conjunto de: \"topLeft\" \"topRight\" \"bottomLeft\" \"bottomRight\"\u00a0 \"topLeft topRight bottomLeft bottomRight\" Identifica quais quinas do controle ser\u00e3o customizadas pela propriedade \"cornerType\"\u00a0 Exemplos: Apenas as duas quinas superiores: \"topLeft topRight\" Apenas as duas quinas da esquerda: \"topLeft bottomLeft\" Todas as quinas: \"topLeft topRight bottomLeft bottomRight\" Nenhuma quina: \"\" cornerType Enumerado: \"round\" \"bevel\" \"innerRound\" \"innerLine\" \"round\" Especifica o tipo de formato que as quinas deste ret\u00e2ngulo ter\u00e3o.\u00a0 Voc\u00ea deve especificar valores das propriedades \"xradius\" e \"yradius\" para o formato das quinas serem vis\u00edveis.\u00a0 Veja o Exemplo 3 para mais detalhes. sides Conjunto de: \"top\" \"left\" \"bottom\" \"right\" \"top left bottom right\" Define quais bordas ser\u00e3o desenhadas na interface.\u00a0 Exemplos: Apenas a borda superior: \"top\" Apenas as bordas laterais: \"left right\" Todas as bordas: \"top left bottom right\" Nenhuma borda: \"\" xradius Float 0.0 Define a \"largura\" do efeito das quinas (propriedade \"cornerType\"\"\u00a0 Veja o Exemplo 3 para mais detalhes. yradius Float 0.0 Define a \"altura\" do efeito das quinas (propriedade \"cornerType\"\"\u00a0 Veja o\u00a0 Exemplo 3 para mais detalhes."},{"location":"Tagrectangle/#exemplos","title":"Exemplos","text":""},{"location":"Tagrectangle/#exemplo-1-retangulo-simples","title":"Exemplo 1 - Ret\u00e2ngulo simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;rectangle\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0height=\"200\"\u00a0color=\"yellow\"/&gt; \\&lt;/form&gt;"},{"location":"Tagrectangle/#exemplo-2-retangulo-com-bordas-simples","title":"Exemplo 2 - Ret\u00e2ngulo com bordas simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form name=\"frmFichaTeste\"&gt; \\&lt;rectangle\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0height=\"200\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 color=\"black\"\u00a0strokeColor=\"red\"\u00a0strokeSize=\"5\"/&gt; \\&lt;/form&gt;"},{"location":"Tagrectangle/#exemplo-3-retangulo-com-quinas-variadas","title":"Exemplo 3 - Ret\u00e2ngulo com quinas variadas","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;rectangle\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0height=\"200\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0color=\"yellow\"\u00a0strokeColor=\"red\"\u00a0strokeSize=\"5\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0xradius=\"25\"\u00a0yradius=\"25\"\u00a0cornerType=\"round\"/&gt; \\&lt;/form&gt;  cornerType=\"round\"\u00a0  cornerType=\"bevel\"\u00a0  cornerType=\"innerRound\"  cornerType=\"innerLine\""},{"location":"Tagrectangle/#exemplo-4-retangulo-com-quinas-variadas-e-sem-bordas","title":"Exemplo 4 - Ret\u00e2ngulo com quinas variadas e sem bordas","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;rectangle\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"200\"\u00a0height=\"200\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0color=\"yellow\"\u00a0xradius=\"25\"\u00a0yradius=\"25\"\u00a0cornerType=\"round\"/&gt; \\&lt;/form&gt;  cornerType=\"round\"\u00a0  cornerType=\"bevel\"\u00a0  cornerType=\"innerRound\"  cornerType=\"innerLine\" <p>Created with the Personal Edition of HelpNDoc: Create HTML Help, DOC, PDF and print manuals from 1 single source</p>"},{"location":"TagrichEdit/","title":"Tag richEdit","text":""},{"location":"TagrichEdit/#tag-richedit_1","title":"Tag richEdit","text":"<p>A tag/componente richEdit representa uma caixa de texto de m\u00faltiplas linhas com possibilidade de adicionar formata\u00e7\u00e3o, cores, alinhamentos, imagens, etc... Um \u00f3timo controle para permitir a entrada de dados \"texto ricos\".</p> <p> </p>"},{"location":"TagrichEdit/#heranca","title":"Heran\u00e7a","text":"<p>O richEdit possui todas as caracter\u00edsticas de uma tag visual. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul>"},{"location":"TagrichEdit/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag richEdit tamb\u00e9m possui as seguintes caracter\u00edsticas:</p> <p> </p>"},{"location":"TagrichEdit/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o animateImages Boolean false Define se o RichEdit deve executar a anima\u00e7\u00e3o de imagens que s\u00e3o animadas (exemplo: GIF, GIFV) quando suportadas.\u00a0 **readOnly ** Boolean false Quando true, o richEdit n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado\u00a0 field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o richEdit passa a apresentar e salvar o conte\u00fado no campo informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase backgroundColor String de Cor \"White\" Define a cor de fundo do RichEdit.\u00a0 Exemplos: Black White #FDFDFD\u00a0 Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso.\u00a0 defaultFontColor String de Cor \"Black\" Define a cor padr\u00e3o para os textos do richEdit\u00a0 Exemplos: Black White #FDFDFD\u00a0 Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso\u00a0 defaultFontSize Float 15\u00a0 Define o tamanho de fonte padr\u00e3o para os textos do richEdit\u00a0 showToolbar Boolean true Define se o richEdit deve apresentar uma baixa de ferramentas para auxiliar o usu\u00e1rio a formatar seu texto.\u00a0 hideSelection Boolean true Define se a sele\u00e7\u00e3o que o usu\u00e1rio fizer (com o mouse ou teclado) ser\u00e1 apresentada quando ele estiver focado em outro controle.\u00a0 True - A sele\u00e7\u00e3o continuar\u00e1 existindo, por\u00e9m n\u00e3o ser\u00e1 exibida visualmente se o usu\u00e1rio estiver focado em outro controle\u00a0 False - A sele\u00e7\u00e3o continuar\u00e1 existindo e ser\u00e1 exibida visualmente mesmo se o usu\u00e1rio estiver focado em outro controle."},{"location":"TagrichEdit/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"TagrichEdit/#exemplos","title":"Exemplos:","text":""},{"location":"TagrichEdit/#exemplo-1-um-richedit-simples","title":"Exemplo 1 - Um richEdit simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form ......&gt; \\&lt;richEdit\u00a0align=\"client\"\u00a0backgroundColor=\"black\"\u00a0defaultFontColor=\"white\"\u00a0field=\"txt\"/&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: From Word to ePub or Kindle eBook: A Comprehensive Guide</p>"},{"location":"Tagscript/","title":"Tag script","text":""},{"location":"Tagscript/#tag-script_1","title":"Tag script","text":"<p>Esta tag especial serve para definir um bloco de c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA) que ser\u00e1 executado quando uma nova inst\u00e2ncia do Lua Form for criada.</p> <p> </p> <p> </p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li>O corpo da tag cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o LUA</li> <li>Esta tag n\u00e3o cria nenhum controle.</li> <li>A ordem que a tag script foi definida no documento Lua Form importa! O c\u00f3digo ser\u00e1 executado logo ap\u00f3s a cria\u00e7\u00e3o da tag/controle que est\u00e1 acima, por\u00e9m antes da cria\u00e7\u00e3o da tag/controle que est\u00e1 abaixo. No momento exato em que o script \u00e9 executado, a vari\u00e1vel \"sheet\" conter\u00e1 valor nil e ser\u00e1 preenchido num momento posterior#8202;.</li> </ul> <p> </p> <p>Importante: N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</p>"},{"location":"Tagscript/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"Tagscript/#propriedades-e-atributos","title":"Propriedades e atributos","text":"<p>Esta tag n\u00e3o possui propriedades e atributos.</p> <p> </p>"},{"location":"Tagscript/#exemplos","title":"Exemplos","text":""},{"location":"Tagscript/#exemplo-1-exibindo-um-ola-mundo-na-hora-da-criacao-de-uma-instancia-do-lua-form","title":"Exemplo 1 - Exibindo um \"ol\u00e1 mundo\" na hora da cria\u00e7\u00e3o de uma inst\u00e2ncia do Lua Form","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;script&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(\"Ol\u00e1 mundo\"); \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/script&gt; \\&lt;/form&gt; <p>Ao criar a interface:</p> <p> </p> <p></p> <p> </p>"},{"location":"Tagscript/#exemplo-2-definindo-funcoes-para-serem-invocadas-depois","title":"Exemplo 2 - Definindo fun\u00e7\u00f5es para serem invocadas depois","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;script&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local function exibirMensagem() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local msg = \"\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 for i = 1, 5, 1 do \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 msg = msg .. \"Linha \" .. i .. \"\\n\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(msg); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/script&gt; \\&lt;button\u00a0text=\"Meu Bot\u00e3o\"\u00a0left=\"20\"\u00a0top=\"20\"\u00a0onClick=\"exibirMensagem();\"/&gt; \\&lt;/form&gt; <p>Veja tamb\u00e9m:</p> <ul> <li>Tratando eventos do Lua Form</li> </ul> <p> </p> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc</p>"},{"location":"TagscrollBox/","title":"Tag scrollBox","text":""},{"location":"TagscrollBox/#tag-scrollbox_1","title":"Tag scrollBox","text":"<p>A tag/componente scrollBox \u00e9 um controle que adiciona barras de rolagem ao seu conte\u00fado, permitindo realizar \u201cscroll\u201d nos componentes que est\u00e3o dentro da caixa.\u00a0</p> <p>Em dispositivos que possuem touch screen, permite tamb\u00e9m o gesto de \u201cpin\u00e7a\u201d para efetuar zoom do conte\u00fado. .</p> <p> </p> <p>Observa\u00e7\u00e3o: As barras de rolagem aparecem apenas for necess\u00e1rio, isto \u00e9, as dimens\u00f5es do conte\u00fado for maior que as dimens\u00f5es da tag scrollBox</p>"},{"location":"TagscrollBox/#heranca","title":"Heran\u00e7a","text":"<p>O scrollBox possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais.</p> <p> </p>"},{"location":"TagscrollBox/#exemplos","title":"Exemplos","text":""},{"location":"TagscrollBox/#exemplo-1","title":"Exemplo 1","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;scrollBox\u00a0left=\"10\"\u00a0top=\"10\"\u00a0width=\"150\"\u00a0height=\"150\"&gt; \\&lt;edit\u00a0top=\"0\"\u00a0text=\"edit 1\"/&gt; \\&lt;edit\u00a0top=\"50\"\u00a0text=\"edit 2\"/&gt; \\&lt;edit\u00a0top=\"100\"\u00a0text=\"edit 3\"/&gt; \\&lt;edit\u00a0top=\"150\"\u00a0text=\"edit 4\"/&gt; \\&lt;edit\u00a0top=\"200\"\u00a0text=\"edit 5\"/&gt; \\&lt;edit\u00a0top=\"250\"\u00a0text=\"edit 6\"/&gt; \\&lt;/scrollBox&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with a Help Authoring Tool</p>"},{"location":"TagssuportadaspeloLuaForm/","title":"Tags suportadas pelo Lua Form","text":""},{"location":"TagssuportadaspeloLuaForm/#tags-suportadas-pelo-lua-form_1","title":"Tags suportadas pelo Lua Form","text":""},{"location":"TagssuportadaspeloLuaForm/#tags-de-componentes","title":"Tags de componentes","text":"Tag Descri\u00e7\u00e3o form Representa um formul\u00e1rio/uma janela gen\u00e9rica.\u00a0 A tag raiz do arquivo LFM deve ser \u201cform\u201d ou \"popupForm\". Pode haver mais de um form no arquivo LFM.\u00a0 Leia mais em: Tag form. popupForm Representa um formul\u00e1rio/uma janela cuja finalidade \u00e9 ser exibida na interface como um popup.\u00a0 Leia mais em: Tag popupForm.\u00a0 layout Componente visual invis\u00edvel. Excelente para agrupar ou organizar um conjunto de outros componentes visuais.\u00a0 Leia mais em: Tag layout button Um bot\u00e3o. Excelente para executar uma tarefa quando o usu\u00e1rio optar por ela!\u00a0 Leia mais em: Tag button label Um componente texto n\u00e3o edit\u00e1vel. Usado apenas para mostrar informa\u00e7\u00f5es.\u00a0 Leia mais em Tag label image Uma imagem.\u00a0 Leia mais em Tag image edit Uma caixa de texto. Componente que permite a edi\u00e7\u00e3o de texto ou n\u00fameros.\u00a0 Leia mais em Tag edit textEditor Uma caixa de texto que permite v\u00e1rias linhas.\u00a0 Leia mais em Tag textEditor tabControl Um componente que permite adicionar abas \u00e0 interface. Deve ser usado em conjunto com \u201ctab\u201d\u00a0 Leia mais em Tag tabControl tab Uma aba. Deve ser usado em conjunto com \u201ctabControl\u201d\u00a0 Leia mais em Tag tab scrollBox Controle que adiciona barras de rolagem, permitindo realizar \u201cscroll\u201d nos componentes que est\u00e3o dentro da caixa. Em dispositivos que possuem touch screen, permite tamb\u00e9m o gesto de \u201cpin\u00e7a\u201d para efetuar zoom do conte\u00fado.\u00a0 Leia mais em Tag scrollBox rectangle Controle para desenhar um ret\u00e2ngulo de cor personalizada na interface.\u00a0 Leia mais em tag rectangle. richEdit Caixa de texto de m\u00faltiplas linhas com possibilidade de adicionar formata\u00e7\u00e3o, cores, alinhamentos, imagens, etc\u00a0 Leia mais em tag richEdit horzLine Uma linha horizontal.\u00a0 Leia mais em Tag horzLine path Uma forma geom\u00e9trica/shape personalizada.\u00a0 Leia mais em\u00a0 Tag path.\u00a0 checkBox Uma caixa de marca\u00e7\u00e3o.\u00a0 Leia mais em Tag checkBox imageCheckBox Uma caixa de marca\u00e7\u00e3o onde \u00e9 poss\u00edvel personalizar a imagem apresentada quando est\u00e1 selecionada e quando n\u00e3o est\u00e1 selecionada.\u00a0 Leia mais em Tag imageCheckBox radioButton Uma caixa de marca\u00e7\u00e3o que, quando usada em grupo, permite apenas uma esteja marcada por vez.\u00a0 Leia mais em Tag radioButton comboBox Uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar um item entre v\u00e1rios.\u00a0 Leia mais em Tag comboBox colorComboBox Uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio escolher uma cor qualquer.\u00a0 Leia mais em Tag colorComboBox popup Controle que permite exibir popups na interface.\u00a0 Leia mais em Tag popup dataLink Controle invis\u00edvel que monitora mudan\u00e7as de valores nos campos do NodeDatabase\u00a0 Leia mais em Tag dataLink flowLayout Controle que organiza controles na interface de forma din\u00e2mica. Excelente para criar interfaces que se adaptam para diferentes tamanhos de tela.\u00a0 Leia mais em Tag flowLayout flowPart Usado em conjunto com \u201cflowLayout\u201d, define uma parte din\u00e2mica do layout din\u00e2mico.\u00a0 Leia mais em Tag flowPart flowLineBreak Usado em conjunto com \u201cflowLayout\u201d, realiza uma quebra de linha no layout din\u00e2mico.\u00a0 Leia mais em Tag flowLineBreak recordList Um controle que permite adicionar uma lista de registros \u00e0 interface.\u00a0 Leia mais em Tag recordList dataScopeBox Um controle que permite definir em qual objeto Nodo seus controles salvar\u00e3o e ler\u00e3o os dados (NodeDatabase).\u00a0 Leia mais em tag dataScopeBox timer Controle invis\u00edvel que executa determinado c\u00f3digo LUA de tempo em tempo.\u00a0 Leia mais em Tag timer activityIndicator Controle que exibe uma anima\u00e7\u00e3o na interface para indicar ao usu\u00e1rio que alguma atividade est\u00e1 sendo feita, como um carregamento ou uma espera.\u00a0 Leia mais em Tag activityIndicator progressBar Controle que exibe uma barra de progresso/estado na interface.\u00a0 Leia mais em Tag progressBar"},{"location":"TagssuportadaspeloLuaForm/#tags-especiais","title":"Tags especiais","text":"Tag Descri\u00e7\u00e3o event Tag que associa um c\u00f3digo lua a um evento de algum componente/tag.\u00a0 Leia mais em Tag event style Tag que permite a entrada de c\u00f3digo de estilo em cascata, muito similar ao CSS em HTML.\u00a0 Estude um pouco esta tag! Ir\u00e1 ajudar muito!\u00a0 Leia mais em Tag style template Tag avan\u00e7ada que permite a cria\u00e7\u00e3o de novas tags para serem usadas no arquivo LFM!\u00a0 Estude um pouco esta tag! Ir\u00e1 ajudar muito!\u00a0 Leia mais em Tag template import Importa um arquivo XML.\u00a0 Leia mais em Tag import group Tag simples cujo \u00fanico prop\u00f3sito \u00e9 organizar o XML do arquivo Lua Form.\u00a0 Leia mais em Tag group script Define um script/bloco de c\u00f3digo em Lua.\u00a0 Leia mais em Tag script <p>Created with the Personal Edition of HelpNDoc: News and information about help authoring tools and software</p>"},{"location":"Tagstyle/","title":"Tag style","text":""},{"location":"Tagstyle/#tag-style_1","title":"Tag style","text":"<p>Esta tag especial serve para definir um estilo em cascata, muito semelhante ao CSS no HTML. Um estilo em cascata \u00e9 um bloco de c\u00f3digos especiais que aplica valores \u00e0 propriedades de 1 ou mais controles de uma vez s\u00f3, em cascata.</p> <p>\u00c9 especialmente \u00fatil para evitar retrabalho e para separar o formato do conte\u00fado principal do Lua Form.</p> <p> </p> <p>Importante: A sintaxe do estilo em cascata \u00e9 muito semelhante ao do CSS, por\u00e9m as propriedades dispon\u00edveis s\u00e3o diferentes..</p> <p> </p>"},{"location":"Tagstyle/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>A tag style n\u00e3o possui nenhum atributo/propriedade e seu corpo cont\u00e9m o c\u00f3digo do estilo em cascata.</p> <p> </p>"},{"location":"Tagstyle/#sintaxe","title":"Sintaxe","text":"<p>A tag style possui uma sintaxe muito parecida com o CSS e seu conte\u00fado consiste de uma lista de regras. Cada regra ou conjunto de regras consiste de um ou mais seletores e um bloco de declara\u00e7\u00e3o. Uma declara\u00e7\u00e3o de bloco \u00e9 composta por uma lista de declara\u00e7\u00f5es entre chaves. Cada declara\u00e7\u00e3o em si \u00e9 uma propriedade, dois pontos (:), um valor, ent\u00e3o um ponto e v\u00edrgula (;).</p> <p> </p> <p>Exemplo que resume as regras acima:</p> <p> </p> seletor1 [, seletor2, ...] { \u00a0 propriedade1: valor;\u00a0 [propriedade2: valor2; \u00a0 ...] } <p> </p>"},{"location":"Tagstyle/#seletores","title":"Seletores","text":"<p>Um seletor \u00e9 uma regra gen\u00e9rica que define \u00e0 quais tags/componentes o estilo ser\u00e1 aplicado, e ele pode as seguintes apar\u00eancias:</p> <p> </p> Seletor Exemplo Descri\u00e7\u00e3o .class .TituloAtributo O estilo ser\u00e1 aplicado a todas as tags que possuam atributo \"class\" equivalente a \"TituloAtributo\".\u00a0 Exemplo de tag que receberia o estilo em cascata: \\&lt;label text=\"Ol\u00e1 Mundo\" class=\"TituloAtributo\"/&gt; \u00a0 #nome #edtNome O estilo ser\u00e1 aplicado \u00e0 tag cujo atributo \"name\" seja igual a \"edtNome\"\u00a0 Exemplo de tag que receberia o estilo em cascata: \\&lt;edit name=\"edtNome\" text=\"Campo de text\"/&gt;\u00a0 * * O estilo ser\u00e1 aplicado a todas as tags.\u00a0 tagName label O estilo \u00e9 aplicado a todas as tags \"tagName\", neste exemplo, todos os labels.\u00a0 Exemplo de tag que receberia este estilo em cascata: \\&lt;label text=\"Ol\u00e1 mundo\"/&gt;\u00a0 tagName.class layout.PainelAtributo O estilo \u00e9 aplicado a todas as tags \"layou\" cujo atributo \"class\" seja \"PainelAtributo\" <p> </p> <p> </p> <p>Al\u00e9m disso, atrav\u00e9s da combina\u00e7\u00e3o dos seletores acima, \u00e9 poss\u00edvel definir um seletor composto que analisa onde a tag est\u00e1. Exemplos:</p> <p> </p> Seletor Exemplo Descri\u00e7\u00e3o .class tagName .PainelAtributo label O estilo ser\u00e1 aplicado a todos as \"label\" que est\u00e3o dentro de alguma tag que contenha o atributo \"class\" equivalente a \"PainelAtributo\"\u00a0 Exemplo:\u00a0 \\&lt;layout class=\"PainelAtributo\"&gt;\u00a0 \u00a0 \\&lt;label text=\"Label de dentro\"/&gt; \\&lt;/layout&gt; \u00a0 \\&lt;label text=\"Label de fora\"/&gt;\u00a0 Neste caso, o label de dentro receber\u00e1 o estilo, por\u00e9m o label de fora n\u00e3o.\u00a0 tagName tagName layout label O estilo ser\u00e1 aplicada a todos \"labels\" que est\u00e3o dentro de algum \"layout\" \u00a0 .class .class .PainelAtributo .TituloAtributo O estilo ser\u00e1 aplicado a todas as tags que possuam atributo \"class\" igual a \"TituloAtributo\" que est\u00e3o dentro de alguma tag que possuam \"class\" igual a \"PainelAtributo\";\u00a0 tagName tagName tagName layout layout label O estilo ser\u00e1 aplicado a todos \"labels\" que est\u00e3o dentro de um \"layout\" que por sua vez est\u00e3o dentro de outro \"layout\".\u00a0 etc.... <p> </p> <p> </p> <p>\u00c9 poss\u00edvel definir m\u00faltiplos seletores a um \u00fanico bloco de estilo utilizando v\u00edrgula, exemplo:</p> <p> </p> .TituloAtributo,\u00a0.TituloPericia,\u00a0.TituloEquipamento\u00a0{ \u00a0 \u00a0 \u00a0 \u00a0 fontSize:\u00a018; \u00a0 \u00a0 \u00a0 \u00a0\u00a0width:\u00a0200; } <p> </p> <p>\"fontSize: 18\" e \"width: 200\" ser\u00e3o aplicados a todas as tags cuja propriedade \"class\" seja \"TituloAtributo\", \"TituloPericia\" e \"TituloEquipamento\".</p> <p> </p>"},{"location":"Tagstyle/#propriedades","title":"Propriedades","text":"<p>As propriedades dispon\u00edveis s\u00e3o aquelas que a tag disponibiliza. Confira a documenta\u00e7\u00e3o da TAG.\u00a0</p> <p> </p> <p>Importante: O conjunto de propriedades \u00e9 diferente daquelas que voc\u00ea pode usar em CSS do HTML.</p> <p> </p>"},{"location":"Tagstyle/#exemplos","title":"Exemplos","text":""},{"location":"Tagstyle/#exemplo-1-aplicando-uma-cor-de-fonte-e-alinhamento-a-todos-labels-de-um-lua-form","title":"Exemplo 1 - Aplicando uma cor de fonte e alinhamento \u00e0 todos labels de um lua form.","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;style&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 label\u00a0{ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 fontColor:\u00a0lime; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign:\u00a0center; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 vertTextAlign:\u00a0center;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0} \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/style&gt; \\&lt;layout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"100\"\u00a0height=\"100\"&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Label 1\"/&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Label 4\"/&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Label 5\"/&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Label 6\"/&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Label 7\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt;"},{"location":"Tagstyle/#exemplo-2-aplicando-uma-cor-e-negrito-a-tags-de-uma-determinada-class","title":"Exemplo 2 - Aplicando uma cor e negrito \u00e0 tags de uma determinada class","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;style&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .Titulo { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 fontColor: lime; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 fontStyle: bold; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/style&gt; \\&lt;layout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"100\"\u00a0height=\"100\"&gt; \\&lt;label\u00a0class=\"Titulo\"\u00a0align=\"top\"\u00a0text=\"Label 1\"/&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Label 4\"/&gt; \\&lt;label\u00a0class=\"Titulo\"\u00a0align=\"top\"\u00a0text=\"Label 5\"/&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Label 6\"/&gt; \\&lt;label\u00a0class=\"Titulo\"\u00a0align=\"top\"\u00a0text=\"Label 7\"/&gt; \\&lt;label\u00a0align=\"top\"\u00a0text=\"Label 8\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt;"},{"location":"Tagstyle/#exemplo-3-avancado-uma-mini-ficha-usando-edits-labels-layouts-e-styles","title":"Exemplo 3 - (Avan\u00e7ado) Uma mini ficha, usando edits, labels, layouts e styles.","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;style&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 layout.LayoutCampo { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 width: 64; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 align: left; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 margins: {left=2, right=2}; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 layout.LayoutCampo edit { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 height:30; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign: center; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 fontSize: 20; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 align: top; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 layout.LayoutCampo label { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 align: top; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign: center; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 vertTextAlign: leading; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 autoSize: true; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/style&gt; \\&lt;layout\u00a0left=\"10\"\u00a0top=\"10\"\u00a0width=\"200\"\u00a0height=\"64\"&gt; \\&lt;layout\u00a0class=\"LayoutCampo\"&gt; \\&lt;edit\u00a0field=\"combate.armadura\"/&gt; \\&lt;label\u00a0text=\"Armadura\"/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0class=\"LayoutCampo\"&gt; \\&lt;edit\u00a0field=\"saude.pontosDeVida\"/&gt; \\&lt;label\u00a0text=\"Pontos de Vida\"/&gt; \\&lt;/layout&gt; \\&lt;layout\u00a0class=\"LayoutCampo\"&gt; \\&lt;edit\u00a0field=\"equipamentos.carga\"/&gt; \\&lt;label\u00a0text=\"Carga (kg)\"/&gt; \\&lt;/layout&gt; \\&lt;/layout&gt; \\&lt;/form&gt; <p>Neste exemplo, os atributos dos edits, labels e layouts foram definidos por Estilo em Cascata pela tag style.</p> <p> </p> <p>Foram definidos 3 blocos de estilos em cascata:</p> <ul> <li>Um com seletor \"layout.LayoutCampo\" (aplicado a todas as tags layout de class \"LayoutCampo\")</li> <li>Um com seletor \"layout.LayoutCampo edit\" (aplicado a todas as tags edit que est\u00e3o dentro de uma tag layout de class \"LayoutCampo\")</li> <li>Um com seletor \"layout.LayoutCampo label\" (aplicado a todas as tags label que est\u00e3o dentro de uma tag layout de class \"LayoutCampo\")</li> </ul> <p> </p> <p>Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports</p>"},{"location":"Tagtab/","title":"Tag tab","text":""},{"location":"Tagtab/#tag-tab_1","title":"Tag TAB","text":"<p>A tag/componente tab representa uma aba dentro de um grupo de abas (Ver Tag tabControl). Excelente para dividir controles em duas ou mais abas.</p> <p> </p> <p>IMPORTANTE: Para usar abas, voc\u00ea deve usar uma Tag tabControl.</p> <p> </p>"},{"location":"Tagtab/#heranca","title":"Heran\u00e7a","text":"<p>O tab possui todas as caracter\u00edsticas de uma tag visual. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul> <p> </p>"},{"location":"Tagtab/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag tab tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"Tagtab/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text ou title string \\&lt;string vazio&gt; Representa o t\u00edtulo da aba."},{"location":"Tagtab/#metodos","title":"M\u00e9todos","text":"<p>\u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA.</p> M\u00e9todo Descri\u00e7\u00e3o tab:activate() Ativa a aba no tabControl."},{"location":"Tagtab/#exemplos","title":"Exemplos","text":""},{"location":"Tagtab/#exemplo-1-uma-aba-simples","title":"Exemplo 1 - Uma aba simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;tabControl\u00a0left=\"20\"\u00a0top=\"20\"&gt; \\&lt;tab\u00a0title=\"Minha aba\"&gt; \\&lt;/tab&gt; \\&lt;/tabControl&gt; \\&lt;/form&gt;"},{"location":"Tagtab/#exemplo-2-duas-abas-com-conteudos-distintos","title":"Exemplo 2 - Duas abas com conte\u00fados distintos","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;tabControl\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"250\"&gt; \\&lt;tab\u00a0title=\"Primeira Aba\"&gt; \\&lt;label\u00a0text=\"Ol\u00e1 Mundo, texto na primeira aba\"\u00a0align=\"client\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0vertTextAlign=\"center\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/tab&gt; \\&lt;tab\u00a0title=\"Segunda Aba\"&gt; \\&lt;edit\u00a0text=\"Edit na segunda aba\"\u00a0width=\"200\"\u00a0left=\"25\"\u00a0top=\"10\"/&gt; \\&lt;/tab&gt; \\&lt;/tabControl&gt; \\&lt;/form&gt; <p>Observa\u00e7\u00e3o: Foram usadas neste exemplo a Tag label e a Tag edit</p> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide</p>"},{"location":"TagtabControl/","title":"Tag tabControl","text":""},{"location":"TagtabControl/#tag-tabcontrol_1","title":"Tag TABCONTROL","text":"<p>A tag/componente tabControl representa um controle que agrupa tabs/abas (Ver Tag tab). Excelente para dividir controles em duas ou mais abas.</p> <p> </p>"},{"location":"TagtabControl/#heranca","title":"Heran\u00e7a","text":"<p>O tabControl possui todas as caracter\u00edsticas de uma tag visual. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul> <p> </p>"},{"location":"TagtabControl/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag tabControl tamb\u00e9m possui as seguintes caracter\u00edsticas:</p>"},{"location":"TagtabControl/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o tabIndex Integer 0 Indica qual o \u00edndice da aba ativa no momento.\u00a0 Este \u00edndice come\u00e7a do 0 e vai at\u00e9 (Quantidade_de_Abas - 1)"},{"location":"TagtabControl/#exemplos","title":"Exemplos","text":"<p>Veja exemplos no t\u00f3pico Tag tab</p> <p>Created with the Personal Edition of HelpNDoc: Easily Add Encryption and Password Protection to Your PDFs</p>"},{"location":"Tagtemplate/","title":"Tag template","text":""},{"location":"Tagtemplate/#tag-template_1","title":"Tag template","text":"<p>Com esta tag, o programador pode criar seu pr\u00f3prio conjunto de tags do Lua Form que sempre que forem usada, ser\u00e3o substitu\u00eddas pelo conte\u00fado do template.</p> <p> </p> <p>Observa\u00e7\u00e3o: Esta tag n\u00e3o representa um componente do lua form e todas as tags que est\u00e3o dentro do template s\u00f3 existir\u00e3o de fato quando o modelo for invocado.</p> <p> </p>"},{"location":"Tagtemplate/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"Tagtemplate/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\&lt;N\u00e3o h\u00e1 valor padr\u00e3o&gt; Nome do template. \u00c9 atrav\u00e9s deste campo que o programador consegue invocar o modelo posteriormente, usando uma tag de mesmo nome.\u00a0 O preenchimento deste campo \u00e9 obrigat\u00f3rio."},{"location":"Tagtemplate/#definindo-e-invocando-templates","title":"Definindo e invocando templates","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;template\u00a0name=\"MinhaTag\"&gt; \\&lt;label\u00a0text=\"Label da Minha Tag\"\u00a0align=\"top\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/template&gt; \\&lt;/form&gt; <p>\\ Neste exemplo, usando template, n\u00f3s definimos um modelo chamado MinhaTag....\u00a0</p> <p>Mas s\u00f3 a defini\u00e7\u00e3o do template n\u00e3o acarreta em nada! Veja como o exemplo acima fica:</p> <p> </p> <p></p> <p> </p> <p>\u00c9 preciso invocar o modelo....\u00a0</p> <p> </p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;template\u00a0name=\"MinhaTag\"&gt; \\&lt;label\u00a0text=\"Label da Minha Tag\"\u00a0align=\"top\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/template&gt; \\&lt;MinhaTag/&gt; \\&lt;MinhaTag/&gt; \\&lt;MinhaTag/&gt; \\&lt;MinhaTag/&gt; \\&lt;/form&gt; <p> </p> <p>Agora invocamos \"MinhaTag\" 4 vezes... Toda vez que usamos a tag \"MinhaTag\" no exemplo, ela foi substitu\u00edda por uma c\u00f3pia do conte\u00fado de template.</p> <p> </p> <p></p> <p> </p> <p> </p> <p>Se adicionarmos um edit ao template, o resultado mudaria para:</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;template\u00a0name=\"MinhaTag\"&gt; \\&lt;label\u00a0text=\"Label da Minha Tag\"\u00a0align=\"top\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;edit\u00a0align=\"top\"/&gt; \\&lt;/template&gt; \\&lt;MinhaTag/&gt; \\&lt;MinhaTag/&gt; \\&lt;MinhaTag/&gt; \\&lt;MinhaTag/&gt; \\&lt;/form&gt; <p> </p> <p> </p> <p></p> <p> </p>"},{"location":"Tagtemplate/#passando-parametros-para-o-template","title":"Passando par\u00e2metros para o template","text":"<p>\u00c9 poss\u00edvel passar par\u00e2metros para o template na hora da substitui\u00e7\u00e3o! Para passar um par\u00e2metro, basta definir um atributo ao invocar o modelo e para usar o par\u00e2metro no modelo, o programador deve usar $(nomeDoAtributo) para a substitui\u00e7\u00e3o parametrizada.</p> <p> </p> <p>Exemplo:</p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;template\u00a0name=\"MinhaTag\"&gt; \\&lt;label\u00a0text=\"Atributo $(titulo)\"\u00a0align=\"top\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;edit\u00a0text=\"$(conteudo)\"\u00a0align=\"top\"\u00a0horzTextAlign=\"center\"/&gt; \\&lt;/template&gt; \\&lt;MinhaTag\u00a0titulo=\"For\u00e7a\"\u00a0conteudo=\"10\"/&gt; \\&lt;MinhaTag\u00a0titulo=\"Destreza\"\u00a0conteudo=\"14\"/&gt; \\&lt;MinhaTag\u00a0titulo=\"Intelig\u00eancia\"\u00a0conteudo=\"17\"/&gt; \\&lt;/form&gt; <p> </p> <p></p> <p> </p> <p>Observa\u00e7\u00e3o: Quando a tag template \u00e9 invocada com um corpo texto (Exemplo: \\&lt;minhaTag&gt;Corpo Texto\\&lt;/minhaTag&gt;), um par\u00e2metro chamado \"body\" \u00e9 criado com este conte\u00fado.</p> <p> </p> <p> </p>"},{"location":"Tagtemplate/#templates-avancados-usando-lua-na-hora-da-substituicao","title":"Templates avan\u00e7ados usando LUA na hora da substitui\u00e7\u00e3o.","text":"<p>\u00c9 poss\u00edvel criar templates avan\u00e7ados usando A linguagem de programa\u00e7\u00e3o LUA na hora da substitui\u00e7\u00e3o.\u00a0</p> <p>Todo coment\u00e1rio de XML dentro de templates s\u00e3o tratados como c\u00f3digos lua que devem ser executado no momento da substitui\u00e7\u00e3o!</p> <p> </p> <p>Exemplo:</p> <p> </p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;template\u00a0name=\"Municao\"&gt; \\&lt;layout\u00a0width=\"$(largura)\"\u00a0height=\"20\"\u00a0align=\"top\"&gt; \\&lt;label\u00a0text=\"$(titulo) :\"\u00a0align=\"left\"\u00a0horzTextAlign=\"center\"\u00a0width=\"60\"/&gt; \\&lt;!-- for \u00a0i = 1, quantidade, 1 do --&gt; \\&lt;checkBox\u00a0align=\"left\"\u00a0width=\"20\"/&gt; \\&lt;!-- end; --&gt; \\&lt;/layout&gt; \\&lt;/template&gt; \\&lt;Municao\u00a0largura=\"300\"\u00a0titulo=\"Flechas\"\u00a0quantidade=\"20\"/&gt; \\&lt;Municao\u00a0largura=\"300\"\u00a0titulo=\"Bombas\"\u00a0quantidade=\"4\"/&gt; \\&lt;Municao\u00a0largura=\"300\"\u00a0titulo=\"Dardos\"\u00a0quantidade=\"10\"/&gt; \\&lt;/form&gt; <p> </p> <p></p> <p> </p> <p>Neste exemplo, o par\u00e2metro \"quantidade\" \u00e9 utilizado em um c\u00f3digo LUA para emitir v\u00e1rias vezes a tag \\&lt;checkBox&gt; durante o tempo de substitui\u00e7\u00e3o. V\u00e1rios checkBox foram emitidos com pouco esfor\u00e7o.</p> <p> </p>"},{"location":"Tagtemplate/#exemplos","title":"Exemplos","text":""},{"location":"Tagtemplate/#exemplo-1-uma-pequena-ficha-usando-templates","title":"Exemplo 1 - Uma pequena ficha usando templates","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;template\u00a0name=\"LayoutUmCampo\"&gt; \\&lt;layout\u00a0width=\"64\"\u00a0align=\"left\"\u00a0margins=\"{left=2, right=2}\"&gt; \\&lt;edit\u00a0field=\"$(campo)\"\u00a0height=\"30\"\u00a0horzTextAlign=\"center\"\u00a0fontSize=\"20\"\u00a0align=\"top\"/&gt; \\&lt;label text=\"$(titulo)\"\u00a0align=\"top\"\u00a0horzTextAlign=\"center\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 vertTextAlign=\"leading\"\u00a0autoSize=\"true\"/&gt; \\&lt;/layout&gt; \\&lt;/template&gt; \\&lt;layout\u00a0left=\"10\"\u00a0top=\"10\"\u00a0width=\"200\"\u00a0height=\"64\"&gt; \\&lt;LayoutUmCampo\u00a0campo=\"combate.armadura\"\u00a0titulo=\"Armadura\"/&gt; \\&lt;LayoutUmCampo\u00a0campo=\"saude.pontosDeVida\"\u00a0titulo=\"Pontos de Vida\"/&gt; \\&lt;LayoutUmCampo\u00a0campo=\"equipamentos.carga\"\u00a0titulo=\"Carga (kg)\"/&gt; \\&lt;/layout&gt; \\&lt;/form&gt;"},{"location":"Tagtemplate/#exemplo-2-lista-de-pericias-de-dd-35-usando-templates","title":"Exemplo 2 - Lista de per\u00edcias de D\\&amp;D 3.5 usando templates","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;template\u00a0name=\"CampoEmUmLayoutDeCampos\"&gt; \\&lt;layout\u00a0align=\"top\"\u00a0height=\"17\"\u00a0margins=\"{bottom=2}\"&gt; \\&lt;checkBox\u00a0width=\"17\"\u00a0align=\"left\"\u00a0margins=\"{right=5}\"/&gt; \\&lt;label\u00a0align=\"left\"\u00a0width=\"120\"\u00a0text=\"$(titulo):\"\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 horzTextAlign=\"trailing\"\u00a0margins=\"{right=5}\"/&gt; \\&lt;edit\u00a0align=\"left\"\u00a0horzTextAlign=\"center\"\u00a0fontSize=\"16\"\u00a0width=\"64\"/&gt; \\&lt;/layout&gt; \\&lt;/template&gt; \\&lt;template\u00a0name=\"LayoutDeCampos\"&gt; \\&lt;layout\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"250\"\u00a0height=\"800\"&gt; \\&lt;!-- listaDeCampos = totable(body); for k, v in pairs(listaDeCampos) do CampoParaGerar = v; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 --&gt; \\&lt;CampoEmUmLayoutDeCampos\u00a0titulo=\"$(CampoParaGerar)\"/&gt; \\&lt;!-- \u00a0 \u00a0* \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; --&gt; \\&lt;/layout&gt; \\&lt;/template&gt; \\&lt;LayoutDeCampos&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\"Abrir Fechaduras\", \"Acrobacia\", \"Adestrar Animais\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"Arte da Fuga\", \"Atua\u00e7\u00e3o\", \"Avalia\u00e7\u00e3o\", \"Blefar\", \"Cavalgar\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"Concentra\u00e7\u00e3o\", \"Conhecimento\", \"Cura\", \"Decifrar Escrita\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"Diplomacia\", \"Disfarce\", \"Equil\u00edbrio\", \"Escalar\", \"Esconder-se\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"Falsifica\u00e7\u00e3o\", \"Furtividade\", \"Identificar Magia\", \"Intimidar\", \"Nata\u00e7\u00e3o\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"Observar\", \"Obter Informa\u00e7\u00e3o\", \"Of\u00edcios\", \"Operar Mecanismo\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"Ouvir\", \"Procurar\", \"Profiss\u00e3o\", \"Prestidigita\u00e7\u00e3o\", \"Saltar\", \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"Sentir Motiva\u00e7\u00e3o\", \"Sobreviv\u00eancia\"} \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/LayoutDeCampos&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: Easily create Qt Help files</p>"},{"location":"TagtextEditor/","title":"Tag textEditor","text":""},{"location":"TagtextEditor/#tag-texteditor_1","title":"Tag textEditor","text":"<p>A tag/componente textEditor representa uma caixa de texto de m\u00faltiplas linhas. Um \u00f3timo controle para permitir a entrada de dados texto com quebra de linhas.</p> <p> </p>"},{"location":"TagtextEditor/#heranca","title":"Heran\u00e7a","text":"<p>O textEditor possui todas as caracter\u00edsticas de uma tag de texto. Veja:</p> <ul> <li>Caracter\u00edsticas de todas as tags de textos</li> <li>Caracter\u00edsticas de todas as tags visuais</li> </ul>"},{"location":"TagtextEditor/#caracteristicas","title":"Caracter\u00edsticas","text":"<p>Al\u00e9m das caracter\u00edsticas herdadas, a tag textEditor tamb\u00e9m possui as seguintes caracter\u00edsticas:</p> <p> </p>"},{"location":"TagtextEditor/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o readOnly Boolean false Quando true, o textEditor n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado (somente leitura). field String \\&lt;string vazio&gt; Caminho de um campo no NodeDatabase.\u00a0 Quando associado, o textEditor passa a apresentar e salvar o conte\u00fado no campo informado.\u00a0 Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase transparent Boolean false Quando True, as bordas e o fundo do textEditor n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado e o cursor de digita\u00e7\u00e3o."},{"location":"TagtextEditor/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o conte\u00fado do textEditor \u00e9 alterado. <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"TagtextEditor/#exemplos","title":"Exemplos:","text":""},{"location":"TagtextEditor/#exemplo-1-um-texteditor-simples","title":"Exemplo 1 - Um textEditor simples","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;textEditor\u00a0left=\"10\"\u00a0top=\"10\"\u00a0width=\"150\"\u00a0height=\"250\"\u00a0text=\"Este \u00e9 um textEditor\\n\\ncom multiplas linhas\"/&gt; \\&lt;/form&gt; <p>Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant</p>"},{"location":"Tagtimer/","title":"Tag timer","text":""},{"location":"Tagtimer/#tag-timer_1","title":"Tag timer","text":"<p>A tag timer representa um componente n\u00e3o visual (n\u00e3o \u00e9 exibido na interface) que executa determinado c\u00f3digo LUA de tempo em tempo.</p>"},{"location":"Tagtimer/#caracteristicas","title":"Caracter\u00edsticas","text":""},{"location":"Tagtimer/#propriedades-e-atributos","title":"Propriedades e atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\&lt;string vazio&gt; Define um nome para a componente.\u00a0 O nome deve ser \u00fanico, isto \u00e9, dentro de um form, n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA.\u00a0 interval Integer 1000 Intervalo, medido em milisegundos, de quando em quando o evento onTimer ser\u00e1 disparado.\u00a0 1000 = 1 segundo 500 = 0,5s 10000 = 10 segundos\u00a0 enabled Boolean true Quando true, o evento onTimer ser\u00e1 disparado de acordo com o atributo interval.\u00a0 Quando false, o evento onTimer n\u00e3o ser\u00e1 disparado."},{"location":"Tagtimer/#eventos","title":"Eventos","text":"Nome do evento Descri\u00e7\u00e3o onTimer Este evento \u00e9 invocado de tempos em tempos, de acordo com o valor da propriedade \"interval\".\u00a0 <p>Veja Tratando eventos do Lua Form</p> <p> </p>"},{"location":"Tagtimer/#exemplos","title":"Exemplos","text":""},{"location":"Tagtimer/#exemplo-1-um-label-piscando","title":"Exemplo 1 - Um label \"piscando\"","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;timer\u00a0interval=\"500\"\u00a0onTimer=\"self.labMeuLabel.visible = not self.labMeuLabel.visible;\"/&gt; \\&lt;label\u00a0name=\"labMeuLabel\"\u00a0align=\"client\"\u00a0horzTextAlign=\"center\"\u00a0text=\"Ol\u00e1!\"/&gt; \\&lt;/form&gt; <p>Veja Tratando eventos do Lua Form</p> <p>\\ \u00a0</p> <p>Created with the Personal Edition of HelpNDoc: Full-featured multi-format Help generator</p>"},{"location":"Testandooprojetodeplugin/","title":"Testando o projeto de plug-in","text":""},{"location":"Testandooprojetodeplugin/#testando-o-projeto-de-plug-in_1","title":"Testando o projeto de plug-in","text":"<p>\u00a0 \u00a0 Para testar seu projeto de plug-in, ele deve ser compilado e instalado no RRPG. Siga estes passos:</p> <ol> <li>Abra o prompt de comando.</li> <li>Navegue pelo prompt at\u00e9 a pasta do projeto de plug-in.</li> <li>Execute o comando \u201crdk i\u201d, sem as aspas, dentro da pasta para compilar e instalar o projeto de plug-in.</li> <li>Teste seu plug-in no RRPG Firecast.</li> </ol> <p> </p> <p>Observa\u00e7\u00f5es:</p> <ul> <li>O comando \u201crdk i\u201d n\u00e3o instala o plug-in caso encontre algum erro no projeto.</li> <li>Se o RRPG Firecast estiver em execu\u00e7\u00e3o, o comando \u201crdk i\u201d automaticamente descarrega o plug-in, instala a nova vers\u00e3o e recarrega o plug-in.</li> <li>Se o RRPG Firecast estiver fechado, o comando \u201crdk i\u201d realiza uma instala\u00e7\u00e3o \u201coff-line\u201d e a nova vers\u00e3o ser\u00e1 carregada quando o RRPG Firecast executar.</li> </ul> <p> </p>"},{"location":"Testandooprojetodeplugin/#exemplo-passo-a-passo","title":"Exemplo passo a passo:","text":"<ol> <li>Abrindo o prompt de comando:\\ \\ \\ \u00a0</li> <li>Navegando pelo prompt at\u00e9 a pasta do projeto de plug-in:\\ \u00a0</li> </ol> <p>\\ \\ \u00a0</p> <ol> <li> </li> <li>Executando o comando \"rdk i\"</li> </ol> <p> </p> <p>\\ \u00a0</p>"},{"location":"Testandooprojetodeplugin/#veja-tambem","title":"Veja tamb\u00e9m","text":"<ul> <li>Comando \u201crdk i\u201d.</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Experience the power of a responsive website for your documentation</p>"},{"location":"TratandoeventosdoLuaForm/","title":"Tratando eventos do Lua Form","text":""},{"location":"TratandoeventosdoLuaForm/#eventos-do-lua-form","title":"Eventos do Lua Form","text":"<p>Um evento \u00e9 um acontecimento espec\u00edfico de alguma tag. \u00c9 poss\u00edvel definir c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA) que ser\u00e3o executados toda vez que determinado evento ocorrer em uma tag!</p> <p> </p> <p>A maioria das tags/controles do Lua Form disparam eventos, mas cada uma possui seu pr\u00f3prio conjunto de eventos. Voc\u00ea deve consultar a documenta\u00e7\u00e3o!</p> <p> </p>"},{"location":"TratandoeventosdoLuaForm/#manipulando-eventos","title":"Manipulando eventos","text":"<p>Existem duas maneiras de manipular eventos do Lua Form:</p> <ul> <li>Associando uma \u00fanica linha de c\u00f3digo ao evento;</li> <li>Usando a tag event para associar v\u00e1rias linhas de c\u00f3digos ao evento.</li> </ul> <p> </p> <p>Importante: N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form</p> <p> </p>"},{"location":"TratandoeventosdoLuaForm/#modo-1-associando-uma-unica-linha-de-codigo-ao-evento","title":"Modo 1 - Associando uma \u00fanica linha de c\u00f3digo ao evento.","text":"<p>Esta \u00e9 a forma mais simples de manipular eventos, por\u00e9m n\u00e3o \u00e9 poss\u00edvel associar um c\u00f3digo de mais de 1 linha aos eventos por este modo.\u00a0</p> <p> </p> <p>Dado um evento de nome NOME_EVENTO de uma tag de nome NOME_TAG, voc\u00ea pode associar um c\u00f3digo Lua assim:</p> <p> </p> \\&lt;NOME_TAG\u00a0NOME_EVENTO=\"\\&lt;CODIGO_LUA_DE_UMA_LINHA&gt;\"/&gt; <p> </p> <p> </p>"},{"location":"TratandoeventosdoLuaForm/#modo-1-exemplo-1-onclick-de-button","title":"Modo 1, Exemplo 1 - OnClick de button","text":"<p>A tag button possui o evento \"onClick\".\u00a0</p> <p> </p> \\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"\"&gt;\u00a0\u00a0 \u00a0 \u00a0 \u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;button\u00a0text=\"Meu Bot\u00e3o\"\u00a0onClick=\"showMessage('Cliquei no bot\u00e3o');\"/&gt; \\&lt;/form&gt; <p> </p> <p></p> <p> </p>"},{"location":"TratandoeventosdoLuaForm/#modo-1-exemplo-2-onmouseenter-e-onmouseleave-de-button","title":"Modo 1, Exemplo 2 - OnMouseEnter e OnMouseLeave de button","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;button\u00a0name=\"btnMeuBotao\"\u00a0text=\"Meu Bot\u00e3o\"\u00a0left=\"20\"\u00a0top=\"20\"\u00a0width=\"200\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0onMouseEnter=\"self.btnMeuBotao.text = 'Mouse dentro do bot\u00e3o'\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0onMouseLeave=\"self.btnMeuBotao.text = 'Meu Bot\u00e3o'\"/&gt; \\&lt;/form&gt; <p>\u00a0 ----&gt;  ----&gt; </p> <p> </p>"},{"location":"TratandoeventosdoLuaForm/#modo-1-exemplo-3-definindo-funcao-e-a-chamando-no-evento-onclick-de-button","title":"Modo 1, Exemplo 3 - Definindo fun\u00e7\u00e3o e a chamando no evento OnClick de button","text":"\\&lt;?xml\u00a0version=\"1.0\"\u00a0encoding=\"UTF-8\"?&gt; \\&lt;form\u00a0name=\"frmFichaTeste\"&gt; \\&lt;script&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local function exibirMensagem() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 local texto = \"\";\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 for i = 1, 5, 1 do \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 texto = texto .. \"Linha \" .. i .. \"\\n\"; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end;\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 showMessage(texto); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 end; \u00a0 \u00a0 \u00a0 \u00a0\u00a0\\&lt;/script&gt; \\&lt;button\u00a0name=\"btnMeuBotao\"\u00a0text=\"Meu Bot\u00e3o\"\u00a0onClick=\"exibirMensagem()\"/&gt; \\&lt;/form&gt; <p>Foi usada a Tag script neste exemplo.\u00a0</p> <p> </p>"},{"location":"TratandoeventosdoLuaForm/#modo-2-usando-a-tag-event-para-manipular-eventos","title":"Modo 2 - Usando a tag event para manipular eventos.","text":"<p>Saiba como usar a tag event e exemplos em: Tag event.</p> <p>Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework</p>"},{"location":"Tutoriais/","title":"Tutoriais","text":""},{"location":"Tutoriais/#tutoriais_1","title":"Tutoriais:","text":"<ul> <li>Como criar um modelo de ficha \u00e0 partir de um PDF edit\u00e1vel.</li> <li>Criar campos calculados em fichas</li> <li>Criar abas para a ficha</li> <li>Permitir o usu\u00e1rio escolher uma imagem dentro da ficha</li> <li>Criar uma lista din\u00e2mica na ficha</li> <li>Fazer uma ficha enviar rolagens para a mesa</li> <li>Criar uma lista din\u00e2mica + painel de detalhes</li> <li>Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios</li> <li>Criar uma janela acopl\u00e1vel de mesa</li> <li>Criando um plug-in para v\u00e1rios idiomas</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook</p>"},{"location":"VisaogeraldaSceneLib/","title":"Vis\u00e3o geral da SceneLib","text":"<p>\\&lt; A Escrever .... &gt;</p> <p>Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports</p>"},{"location":"comandordkc/","title":"comando \"rdk c\"","text":"<p>Este comando compila o diret\u00f3rio corrente e empacota todo o conte\u00fado em um \u00fanico arquivo de extens\u00e3o \u2018.rpk\u2019 em \u201c\\&lt;DiretorioCorrente&gt;\\output\\\\&lt;NomeDoModulo&gt;.rpk\u201d</p> <p>\u00a0 \u00a0 Observa\u00e7\u00f5es:</p> <ul> <li>O comando percorre todos os arquivos de extens\u00e3o \u201clfm\u201d e gera arquivos de extens\u00e3o \u201clua\u201d equivalentes.</li> <li>O comando realiza valida\u00e7\u00f5es antes de empacotar o conte\u00fado do diret\u00f3rio, como:</li> <li>O arquivo \u201cmodule.xml\u201d deve existir e estar preenchido corretamente (O arquivo \u201cmodule.xml\u201d) .</li> <li>Os arquivos de extens\u00e3o \u201clua\u201d devem estar sintaticamente corretos.</li> <li>Os arquivos de extens\u00e3o \u201clfm\u201d devem estar sintaticamente corretos, e possuir tags e atributos v\u00e1lidos.</li> <li>Os arquivos e subdiret\u00f3rios de nomes iniciados com dois underlines (\u201c__\u201d) e o diret\u00f3rio \u201coutput\u201d s\u00e3o ignorados por este comando.\u00a0</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Transform Your CHM Help File Creation Process with HelpNDoc</p>"},{"location":"comandordki/","title":"comando \"rdk i\"","text":"<p>Este comando compila o diret\u00f3rio corrente (ver Comando \u201crdk c\u201d ) e instala o plugin gerado.</p> <p>Observa\u00e7\u00f5es:\u00a0</p> <ul> <li>Se for encontrado algum erro de valida\u00e7\u00e3o durante a compila\u00e7\u00e3o, o plug-in n\u00e3o \u00e9 instalado.</li> <li>Se o RRPG Firecast estiver em execu\u00e7\u00e3o, o comando \u201crdk i\u201d automaticamente descarrega o plug-in, instala a nova vers\u00e3o e recarrega o plug-in no RRPG Firecast.</li> <li>Se o RRPG Firecast estiver fechado, o comando \u201crdk i\u201d realiza uma instala\u00e7\u00e3o \u201coff-line\u201d e a nova vers\u00e3o ser\u00e1 carregada quando o RRPG Firecast for executado</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI</p>"},{"location":"comandordklfm/","title":"comando \"rdk lfm\"","text":"<p>rdk lfm \\&lt;arquivo&gt;</p> <p> </p> <p>Converte o arquivo informado para um Lua Form .</p> <p> </p> <p>Formatos aceitos:\u00a0</p> <ul> <li>Arquivos .svg</li> <li>Arquivos .zip que cont\u00e9m arquivos .svg</li> </ul> <p> </p> <p>Se voc\u00ea deseja converter um .PDF para Lua Form, utilize a ferramenta \"rdk pdf\" para extrair o conte\u00fado do PDF como SVG antes =)</p> <p> </p> <p> </p> <p>Leia mais em:</p> <ul> <li>Criar um modelo de ficha \u00e0 partir de um PDF</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Review with HelpNDoc's Project Analyzer</p>"},{"location":"comandordkp/","title":"comando \"rdk p\"","text":"<p>Este comando prepara o diret\u00f3rio corrente para o uso da ferramenta \u201crdk\u201d mais nova.\u00a0</p> <p>Observa\u00e7\u00f5es:</p> <ul> <li>Quando baixar uma nova vers\u00e3o do SDK 3, voc\u00ea deve executar este comando em cada um do seus projetos de plug-ins a fim de atualiz\u00e1-los.</li> <li>Voc\u00ea pode preparar um diret\u00f3rio mais de uma vez sem causar nenhum problema.</li> <li>Este comando cria/atualiza o arquivo \u201cmodule.xml\u201d (O arquivo \u201cmodule.xml\u201d) .</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Effortlessly optimize your documentation website for search engines</p>"},{"location":"comandordkpdf/","title":"comando \"rdk pdf\"","text":"<p>Este comando abre uma ferramenta que converte arquivos no formato .PDF para o formato .SVG. Esta ferramenta funciona no navegador de internet.</p> <p> </p> <p>Ap\u00f3s a convers\u00e3o, voc\u00ea poder\u00e1 utilizar o comando \"rdk lfm\" para converter o conte\u00fado do .pdf para um Lua Form</p> <p> </p> <p>Leia mais em:</p> <ul> <li>Criar um modelo de ficha \u00e0 partir de um PDF</li> </ul> <p>Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool</p>"}]}