{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Firecast SDK 3 Table of contents Introdu\u00e7\u00e3o Primeiros passos Hist\u00f3rico de Vers\u00f5es Tutoriais Criar um modelo de ficha \u00e0 partir de um PDF Criar campos calculados em fichas Criar abas para a ficha Permitir o usu\u00e1rio escolher uma imagem dentro da ficha Criar uma lista din\u00e2mica na ficha Fazer uma ficha enviar rolagens para a mesa Criar uma lista din\u00e2mica + painel de detalhes Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica Criar uma janela acopl\u00e1vel de mesa Criando um plug-in para v\u00e1rios idiomas Refer\u00eancias Projetos de Plug-in Criando um novo projeto de plug-in Testando o projeto de plug-in Disponibilizando um plug-in Arquivos em um projeto de plug-in O arquivo \"module.xml\" Ferramentas do SDK 3 Ferramenta rdk comando \"rdk p\" comando \"rdk c\" comando \"rdk i\" comando \"rdk pdf\" comando \"rdk lfm\" Sandboxes de Plug-ins Modelos de Fichas HD Virtual NodeDatabase Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop Interfaces Visuais (Lua Forms) Guias Posi\u00e7\u00e3o e Tamanho dos Controles Ponto L\u00f3gico vs Pixel Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Tratando eventos do Lua Form String de cores no Lua Form Lua Form e NodeDatabase Lua Form e Inst\u00e2ncias Estilos em Cascata Dividindo o arquivo Lua Form em documentos menores Tags suportadas pelo Lua Form Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de tags shapes Tag activityIndicator Tag button Tag colorComboBox Tag comboBox Tag checkBox Tag dataLink Tag dataScopeBox Tag edit Tag event Tag flowLayout Tag flowLineBreak Tag flowPart Tag form Tag group Tag horzLine Tag image Tag imageCheckBox Tag import Tag label Tag layout Tag path Tag popup Tag popupForm Tag progressBar Tag radioButton Tag recordList Tag rectangle Tag richEdit Tag script Tag scrollBox Tag style Tag tab Tag tabControl Tag template Tag textEditor Tag timer Frames Arquivo de Defini\u00e7\u00e3o de Frame Frames e Regi\u00f5es Exemplos de frames 1 - Background que estica para o novo tamanho 2 - Background que se repete para preencher o tamanho 3 - Frame com 2 partes fixas e 1 parte que se estica 4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens 5 - Frame com regi\u00f5es Bibliotecas LUA Async.Promise library Promise object Biblioteca Dialogs Biblioteca FireDrive Biblioteca GUI Objeto InertialMovement Objeto Drag Objeto Drop Biblioteca Locale Biblioteca Internet Objeto HTTPRequest Biblioteca NDB Objeto Nodo Objeto NodeObserver Objeto NodeTransaction Objeto NodeUndoData Biblioteca Firecast Objeto Mesa Objeto Jogador Objeto Rolagem Objeto BibliotecaItem Objeto Personagem Objeto SceneUnitClass Objeto Chat Objeto WrappedObject Biblioteca Firecast.Messaging Lista de Mensagens-Eventos do RRPG Mensagens de Conex\u00e3o Mensagens do Gerenciador de Plugins Mensagens de Chat Mensagens de Estado das Mesas Biblioteca Firecast.Plugins Biblioteca Firecast.Requests Biblioteca SceneLib Vis\u00e3o geral da SceneLib M\u00e9trica do Mundo vs M\u00e9trica da Tela As camadas do tabuleiro Objeto Scene Objeto SceneBaseObject Objeto SceneCanvas Objeto SceneDrawingOp Objeto SceneDrawingOpBitmap Objeto SceneDawingOpPath Objeto SceneDrawingOpText Objeto SceneEffectArea Objeto SceneFogOfWar Objeto SceneGraphicItem Objeto SceneGraphicItemList Objeto SceneGridLayer Objeto ScenePluginAttachment Objeto SceneUserDrawing Objeto SceneToken Objeto SceneViewport Estrutura SceneRect Biblioteca System Biblioteca Utils Objeto Stream Biblioteca VHD Log library Macros Biblioteca para Macros em Lua Ap\u00eandice A linguagem de programa\u00e7\u00e3o LUA Documentos XML FAQ - Perguntas Frequentes","title":"Firecast SDK 3"},{"location":"#firecast-sdk-3","text":"","title":"Firecast SDK 3"},{"location":"#table-of-contents","text":"Introdu\u00e7\u00e3o Primeiros passos Hist\u00f3rico de Vers\u00f5es Tutoriais Criar um modelo de ficha \u00e0 partir de um PDF Criar campos calculados em fichas Criar abas para a ficha Permitir o usu\u00e1rio escolher uma imagem dentro da ficha Criar uma lista din\u00e2mica na ficha Fazer uma ficha enviar rolagens para a mesa Criar uma lista din\u00e2mica + painel de detalhes Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica Criar uma janela acopl\u00e1vel de mesa Criando um plug-in para v\u00e1rios idiomas Refer\u00eancias Projetos de Plug-in Criando um novo projeto de plug-in Testando o projeto de plug-in Disponibilizando um plug-in Arquivos em um projeto de plug-in O arquivo \"module.xml\" Ferramentas do SDK 3 Ferramenta rdk comando \"rdk p\" comando \"rdk c\" comando \"rdk i\" comando \"rdk pdf\" comando \"rdk lfm\" Sandboxes de Plug-ins Modelos de Fichas HD Virtual NodeDatabase Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop Interfaces Visuais (Lua Forms) Guias Posi\u00e7\u00e3o e Tamanho dos Controles Ponto L\u00f3gico vs Pixel Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Tratando eventos do Lua Form String de cores no Lua Form Lua Form e NodeDatabase Lua Form e Inst\u00e2ncias Estilos em Cascata Dividindo o arquivo Lua Form em documentos menores Tags suportadas pelo Lua Form Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de tags shapes Tag activityIndicator Tag button Tag colorComboBox Tag comboBox Tag checkBox Tag dataLink Tag dataScopeBox Tag edit Tag event Tag flowLayout Tag flowLineBreak Tag flowPart Tag form Tag group Tag horzLine Tag image Tag imageCheckBox Tag import Tag label Tag layout Tag path Tag popup Tag popupForm Tag progressBar Tag radioButton Tag recordList Tag rectangle Tag richEdit Tag script Tag scrollBox Tag style Tag tab Tag tabControl Tag template Tag textEditor Tag timer Frames Arquivo de Defini\u00e7\u00e3o de Frame Frames e Regi\u00f5es Exemplos de frames 1 - Background que estica para o novo tamanho 2 - Background que se repete para preencher o tamanho 3 - Frame com 2 partes fixas e 1 parte que se estica 4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens 5 - Frame com regi\u00f5es Bibliotecas LUA Async.Promise library Promise object Biblioteca Dialogs Biblioteca FireDrive Biblioteca GUI Objeto InertialMovement Objeto Drag Objeto Drop Biblioteca Locale Biblioteca Internet Objeto HTTPRequest Biblioteca NDB Objeto Nodo Objeto NodeObserver Objeto NodeTransaction Objeto NodeUndoData Biblioteca Firecast Objeto Mesa Objeto Jogador Objeto Rolagem Objeto BibliotecaItem Objeto Personagem Objeto SceneUnitClass Objeto Chat Objeto WrappedObject Biblioteca Firecast.Messaging Lista de Mensagens-Eventos do RRPG Mensagens de Conex\u00e3o Mensagens do Gerenciador de Plugins Mensagens de Chat Mensagens de Estado das Mesas Biblioteca Firecast.Plugins Biblioteca Firecast.Requests Biblioteca SceneLib Vis\u00e3o geral da SceneLib M\u00e9trica do Mundo vs M\u00e9trica da Tela As camadas do tabuleiro Objeto Scene Objeto SceneBaseObject Objeto SceneCanvas Objeto SceneDrawingOp Objeto SceneDrawingOpBitmap Objeto SceneDawingOpPath Objeto SceneDrawingOpText Objeto SceneEffectArea Objeto SceneFogOfWar Objeto SceneGraphicItem Objeto SceneGraphicItemList Objeto SceneGridLayer Objeto ScenePluginAttachment Objeto SceneUserDrawing Objeto SceneToken Objeto SceneViewport Estrutura SceneRect Biblioteca System Biblioteca Utils Objeto Stream Biblioteca VHD Log library Macros Biblioteca para Macros em Lua Ap\u00eandice A linguagem de programa\u00e7\u00e3o LUA Documentos XML FAQ - Perguntas Frequentes","title":"Table of contents"},{"location":"1Backgroundqueesticaparaonovotam/","text":"1 - Background que estica para o novo tamanho Frame - Background que se estica conforme o novo tamanho. Arquivo de imagem: background1.png (tamanho 256x223) \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"256\" height=\"223\" > \\<draw> \\<!-- Imagem de fundo --> \\<image left=\"0\" top=\"0\" right=\"256\" bottom=\"223\" overflowX=\"stretch\" overflowY=\"stretch\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"background1.png\" left=\"0\" right=\"256\" top=\"0\" bottom=\"223\" /> \\</image> \\</draw> \\</frame> \\ \\ Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework","title":"1 - Background que estica para o novo tamanho"},{"location":"1Backgroundqueesticaparaonovotam/#1-background-que-estica-para-o-novo-tamanho","text":"","title":"1 - Background que estica para o novo tamanho"},{"location":"1Backgroundqueesticaparaonovotam/#frame-background-que-se-estica-conforme-o-novo-tamanho","text":"Arquivo de imagem: background1.png (tamanho 256x223) \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"256\" height=\"223\" > \\<draw> \\<!-- Imagem de fundo --> \\<image left=\"0\" top=\"0\" right=\"256\" bottom=\"223\" overflowX=\"stretch\" overflowY=\"stretch\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"background1.png\" left=\"0\" right=\"256\" top=\"0\" bottom=\"223\" /> \\</image> \\</draw> \\</frame> \\ \\ Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework","title":"Frame - Background que se estica conforme o novo tamanho."},{"location":"2Backgroundqueserepeteparapreenc/","text":"2 - Background que se repete para preencher o tamanho Frame - Background que se repete para preencher o novo tamanho. Arquivo de imagem: background1.png (tamanho 256x223) \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"256\" height=\"223\" > \\<draw> \\<!-- Imagem de fundo --> \\<image left=\"0\" top=\"0\" right=\"256\" bottom=\"223\" overflowX=\"tile\" overflowY=\"tile\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"background1.png\" left=\"0\" right=\"256\" top=\"0\" bottom=\"223\" /> \\</image> \\</draw> \\</frame> \\ Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant","title":"2 - Background que se repete para preencher o tamanho"},{"location":"2Backgroundqueserepeteparapreenc/#2-background-que-se-repete-para-preencher-o-tamanho","text":"","title":"2 - Background que se repete para preencher o tamanho"},{"location":"2Backgroundqueserepeteparapreenc/#frame-background-que-se-repete-para-preencher-o-novo-tamanho","text":"Arquivo de imagem: background1.png (tamanho 256x223) \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"256\" height=\"223\" > \\<draw> \\<!-- Imagem de fundo --> \\<image left=\"0\" top=\"0\" right=\"256\" bottom=\"223\" overflowX=\"tile\" overflowY=\"tile\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"background1.png\" left=\"0\" right=\"256\" top=\"0\" bottom=\"223\" /> \\</image> \\</draw> \\</frame> \\ Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant","title":"Frame - Background que se repete para preencher o novo tamanho."},{"location":"3Framecom2partesfixase1parteques/","text":"3 - Frame com 2 partes fixas e 1 parte que se estica Frame - Background com 2 partes fixas e uma parte que se estica Dada a seguinte imagem (header0_smaller.png) de tamanho 468x100: Criamos um frame que se escala na vertical (autoScaleY = true) e que possui 3 partes: A parte da esquerda, \u00e2ncora \u00e0 esquerda, desenha uma por\u00e7\u00e3o da imagem (um ret\u00e2ngulo de 84x100) A parte da direita, \u00e2ncora \u00e0 direita, desenha uma outra por\u00e7\u00e3o da imagem (um ret\u00e2ngulo 40x100) A parte central, \u00e2ncora \u00e0 esquerda e \u00e0 direita, desenha uma outra por\u00e7\u00e3o da imagem (um ret\u00e2ngulo 341x100) de forma esticada. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"468\" height=\"100\" autoScaleY=\"true\" > \\<borders left=\"12\" top=\"24\" bottom=\"24\" right=\"20\" /> \\<draw> \\<!-- Parte Esquerda (FIXA) --> \\<image left=\"0\" top=\"0\" right=\"84\" bottom=\"100\"zOrder=\"0\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" /> \\<source url=\"header0_smaller.png\" left=\"0\" right=\"84\" top=\"0\" bottom=\"100\" /> \\</image> \\<!-- Parte Direita (FIXA) --> \\<image left=\"425\" top=\"0\" right=\"468\" bottom=\"100\" zOrder=\"0\" > \\<anchors left=\"false\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"header0_smaller.png\" left=\"425\" right=\"468\" top=\"0\" bottom=\"100\" /> \\</image> \\<!-- Parte Central (ESTICA) --> \\<image left=\"84\" top=\"0\" right=\"425\" bottom=\"100\" overflowX=\"stretch\" overflowY=\"stretch\" zOrder=\"-1\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"header0_smaller.png\" left=\"84\" right=\"425\" top=\"0\" bottom=\"100\" /> \\</image> \\</draw> \\</frame> \\ \\ Created with the Personal Edition of HelpNDoc: Transform Your CHM Help File Creation Process with HelpNDoc","title":"3 - Frame com 2 partes fixas e 1 parte que se estica"},{"location":"3Framecom2partesfixase1parteques/#3-frame-com-2-partes-fixas-e-1-parte-que-se-estica","text":"","title":"3 - Frame com 2 partes fixas e 1 parte que se estica"},{"location":"3Framecom2partesfixase1parteques/#frame-background-com-2-partes-fixas-e-uma-parte-que-se-estica","text":"Dada a seguinte imagem (header0_smaller.png) de tamanho 468x100: Criamos um frame que se escala na vertical (autoScaleY = true) e que possui 3 partes: A parte da esquerda, \u00e2ncora \u00e0 esquerda, desenha uma por\u00e7\u00e3o da imagem (um ret\u00e2ngulo de 84x100) A parte da direita, \u00e2ncora \u00e0 direita, desenha uma outra por\u00e7\u00e3o da imagem (um ret\u00e2ngulo 40x100) A parte central, \u00e2ncora \u00e0 esquerda e \u00e0 direita, desenha uma outra por\u00e7\u00e3o da imagem (um ret\u00e2ngulo 341x100) de forma esticada. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"468\" height=\"100\" autoScaleY=\"true\" > \\<borders left=\"12\" top=\"24\" bottom=\"24\" right=\"20\" /> \\<draw> \\<!-- Parte Esquerda (FIXA) --> \\<image left=\"0\" top=\"0\" right=\"84\" bottom=\"100\"zOrder=\"0\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" /> \\<source url=\"header0_smaller.png\" left=\"0\" right=\"84\" top=\"0\" bottom=\"100\" /> \\</image> \\<!-- Parte Direita (FIXA) --> \\<image left=\"425\" top=\"0\" right=\"468\" bottom=\"100\" zOrder=\"0\" > \\<anchors left=\"false\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"header0_smaller.png\" left=\"425\" right=\"468\" top=\"0\" bottom=\"100\" /> \\</image> \\<!-- Parte Central (ESTICA) --> \\<image left=\"84\" top=\"0\" right=\"425\" bottom=\"100\" overflowX=\"stretch\" overflowY=\"stretch\" zOrder=\"-1\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"header0_smaller.png\" left=\"84\" right=\"425\" top=\"0\" bottom=\"100\" /> \\</image> \\</draw> \\</frame> \\ \\ Created with the Personal Edition of HelpNDoc: Transform Your CHM Help File Creation Process with HelpNDoc","title":"Frame - Background com 2 partes fixas e uma parte que se estica"},{"location":"4Frameretangulardinamicousandova/","text":"4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens Deseja-se formar um frame com a seguinte apar\u00eancia: Para isso, dividimos a figura em 8 partes leftLine.png (12x66) rightLine.png (12x66) lowerDir.png (29x32) lowerEsq.png (29x32) upperDir.png (29x32) upperEsq.png (29x32) lowerLine.png (80x5) upperLine.png (80x5) e usamos o seguinte arquivo de defini\u00e7\u00e3o de frame: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"138\" height=\"130\" > \\<borders left=\"12\" top=\"10\" bottom=\"10\" right=\"12\" /> \\<draw> \\<!-- QUINAS --> \\<!-- quina superior esquerda --> \\<image left=\"0\" top=\"0\" right=\"29\" bottom=\"32\" overflowX=\"stretch\" > \\<anchors left=\"true\" top=\"true\" /> \\<source url=\"upperEsq.png\" left=\"0\" right=\"29\" top=\"0\" bottom=\"32\" /> \\</image> \\<!-- quina superior direita --> \\<image left=\"109\" top=\"0\" right=\"138\" bottom=\"32\" overflowX=\"stretch\" overflowY=\"stretch\" > \\<anchors left=\"false\" right=\"true\" top=\"true\" /> \\<source url=\"upperDir.png\" left=\"0\" right=\"29\" top=\"0\" bottom=\"32\" /> \\</image> \\<!-- quina inferior esquerda --> \\<image left=\"0\" top=\"98\" right=\"29\" bottom=\"130\" > \\<anchors left=\"true\" top=\"false\" bottom=\"true\" /> \\<source url=\"lowerEsq.png\" left=\"0\" right=\"29\" top=\"0\" bottom=\"32\" /> \\</image> \\<!-- quina inferior direita --> \\<image left=\"109\" top=\"98\" right=\"138\" bottom=\"130\" > \\<anchors left=\"false\" right=\"true\" top=\"false\" bottom=\"true\" /> \\<source url=\"lowerDir.png\" left=\"0\" right=\"29\" top=\"0\" bottom=\"32\" /> \\</image> \\<!-- LINHAS --> \\<!-- linha horizontal superior --> \\<image left=\"29\" top=\"0\" right=\"109\" bottom=\"5\" zOrder=\"-1\" overflowX=\"stretch\" > \\<anchors left=\"true\" right=\"true\" top=\"true\" /> \\<source url=\"upperLine.png\" left=\"0\" right=\"80\" top=\"0\" bottom=\"5\" /> \\</image> \\<!-- linha horizontal inferior --> \\<image left=\"29\" top=\"125\" right=\"109\" bottom=\"130\" zOrder=\"-1\" overflowX=\"stretch\" > \\<anchors left=\"true\" right=\"true\" top=\"false\" bottom=\"true\" /> \\<source url=\"lowerLine.png\" left=\"0\" right=\"80\" top=\"0\" bottom=\"5\" /> \\</image> \\<!-- linha vertical esquerda --> \\<image left=\"0\" top=\"32\" right=\"12\" bottom=\"98\" zOrder=\"-1\" overflowY=\"stretch\" overflowX=\"stretch\" > \\<anchors left=\"true\" right=\"false\" bottom=\"true\" top=\"true\" /> \\<source url=\"leftLine.png\" left=\"0\" right=\"12\" top=\"0\" bottom=\"66\" /> \\</image> \\<!-- linha vertical direita --> \\<image left=\"126\" top=\"32\" right=\"138\" bottom=\"98\" zOrder=\"-1\" overflowY=\"stretch\" overflowX=\"stretch\" > \\<anchors left=\"false\" right=\"true\" bottom=\"true\" top=\"true\" /> \\<source url=\"rightLine.png\" left=\"0\" right=\"12\" top=\"0\" bottom=\"66\" /> \\</image> \\</draw> \\</frame> \\ \\ \\ Created with the Personal Edition of HelpNDoc: Effortlessly Edit and Export Markdown Documents","title":"4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens"},{"location":"4Frameretangulardinamicousandova/#4-frame-retangular-dinamico-usando-varios-arquivos-de-imagens","text":"","title":"4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens"},{"location":"4Frameretangulardinamicousandova/#frame-retangular-dinamico-usando-varios-arquivos-de-imagens","text":"Deseja-se formar um frame com a seguinte apar\u00eancia: Para isso, dividimos a figura em 8 partes leftLine.png (12x66) rightLine.png (12x66) lowerDir.png (29x32) lowerEsq.png (29x32) upperDir.png (29x32) upperEsq.png (29x32) lowerLine.png (80x5) upperLine.png (80x5) e usamos o seguinte arquivo de defini\u00e7\u00e3o de frame: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"138\" height=\"130\" > \\<borders left=\"12\" top=\"10\" bottom=\"10\" right=\"12\" /> \\<draw> \\<!-- QUINAS --> \\<!-- quina superior esquerda --> \\<image left=\"0\" top=\"0\" right=\"29\" bottom=\"32\" overflowX=\"stretch\" > \\<anchors left=\"true\" top=\"true\" /> \\<source url=\"upperEsq.png\" left=\"0\" right=\"29\" top=\"0\" bottom=\"32\" /> \\</image> \\<!-- quina superior direita --> \\<image left=\"109\" top=\"0\" right=\"138\" bottom=\"32\" overflowX=\"stretch\" overflowY=\"stretch\" > \\<anchors left=\"false\" right=\"true\" top=\"true\" /> \\<source url=\"upperDir.png\" left=\"0\" right=\"29\" top=\"0\" bottom=\"32\" /> \\</image> \\<!-- quina inferior esquerda --> \\<image left=\"0\" top=\"98\" right=\"29\" bottom=\"130\" > \\<anchors left=\"true\" top=\"false\" bottom=\"true\" /> \\<source url=\"lowerEsq.png\" left=\"0\" right=\"29\" top=\"0\" bottom=\"32\" /> \\</image> \\<!-- quina inferior direita --> \\<image left=\"109\" top=\"98\" right=\"138\" bottom=\"130\" > \\<anchors left=\"false\" right=\"true\" top=\"false\" bottom=\"true\" /> \\<source url=\"lowerDir.png\" left=\"0\" right=\"29\" top=\"0\" bottom=\"32\" /> \\</image> \\<!-- LINHAS --> \\<!-- linha horizontal superior --> \\<image left=\"29\" top=\"0\" right=\"109\" bottom=\"5\" zOrder=\"-1\" overflowX=\"stretch\" > \\<anchors left=\"true\" right=\"true\" top=\"true\" /> \\<source url=\"upperLine.png\" left=\"0\" right=\"80\" top=\"0\" bottom=\"5\" /> \\</image> \\<!-- linha horizontal inferior --> \\<image left=\"29\" top=\"125\" right=\"109\" bottom=\"130\" zOrder=\"-1\" overflowX=\"stretch\" > \\<anchors left=\"true\" right=\"true\" top=\"false\" bottom=\"true\" /> \\<source url=\"lowerLine.png\" left=\"0\" right=\"80\" top=\"0\" bottom=\"5\" /> \\</image> \\<!-- linha vertical esquerda --> \\<image left=\"0\" top=\"32\" right=\"12\" bottom=\"98\" zOrder=\"-1\" overflowY=\"stretch\" overflowX=\"stretch\" > \\<anchors left=\"true\" right=\"false\" bottom=\"true\" top=\"true\" /> \\<source url=\"leftLine.png\" left=\"0\" right=\"12\" top=\"0\" bottom=\"66\" /> \\</image> \\<!-- linha vertical direita --> \\<image left=\"126\" top=\"32\" right=\"138\" bottom=\"98\" zOrder=\"-1\" overflowY=\"stretch\" overflowX=\"stretch\" > \\<anchors left=\"false\" right=\"true\" bottom=\"true\" top=\"true\" /> \\<source url=\"rightLine.png\" left=\"0\" right=\"12\" top=\"0\" bottom=\"66\" /> \\</image> \\</draw> \\</frame> \\ \\ \\ Created with the Personal Edition of HelpNDoc: Effortlessly Edit and Export Markdown Documents","title":"Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens"},{"location":"5Framecomregioes/","text":"5 - Frame com regi\u00f5es Frame com regi\u00f5es Deseja-se montar um frame com 2 regi\u00f5es com a seguinte apar\u00eancia: O exemplo utiliza um arquivo de imagem \"pecaCobre.png\" de tamanho 228x94 Arquivo de defini\u00e7\u00e3o de frame: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"228\" height=\"94\" autoScaleY=\"true\" autoScaleX=\"true\" > \\<borders left=\"6\" top=\"7\" bottom=\"6\" right=\"39\" /> \\<draw> \\<!-- fundo --> \\<image left=\"0\" top=\"0\" right=\"228\" bottom=\"94\" overflowX=\"stretch\" overflowY=\"stretch\" zOrder=\"-1\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"pecaCobreBckBlack.png\" left=\"0\" right=\"228\" top=\"0\" bottom=\"94\" /> \\</image> \\</draw> \\<regions> \\<region name=\"RegiaoSmallTitulo\" left=\"15\" top=\"30\" right=\"45\" bottom=\"64\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\</region> \\<region name=\"RegiaoValor\" left=\"85\" top=\"7\" right=\"187\" bottom=\"89\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\</region> \\</regions> \\</frame> Uso no Lua Form: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"top\" frameStyle=\"/frames/meuframe.xml\" margins=\"{left=30, top=30, right=30, bottom=5}\" > \\<label horzTextAlign=\"center\" text=\"PO\" frameRegion=\"RegiaoSmallTitulo\" /> \\<label horzTextAlign=\"center\" text=\"500\" frameRegion=\"RegiaoValor\" /> \\</layout> \\<layout align=\"top\" frameStyle=\"/frames/meuframe.xml\" margins=\"{left=30, top=5, right=30, bottom=5}\" > \\<label horzTextAlign=\"center\" text=\"PP\" frameRegion=\"RegiaoSmallTitulo\" /> \\<label horzTextAlign=\"center\" text=\"8\" frameRegion=\"RegiaoValor\" /> \\</layout> \\</form> \\ \\ \\ Os labels foram automaticamente alinhados \u00e0s regi\u00f5es definidas no frame. Created with the Personal Edition of HelpNDoc: Elevate Your CHM Help Files with HelpNDoc's Advanced Customization Options","title":"5 - Frame com regi\u00f5es"},{"location":"5Framecomregioes/#5-frame-com-regioes","text":"","title":"5 - Frame com regi\u00f5es"},{"location":"5Framecomregioes/#frame-com-regioes","text":"Deseja-se montar um frame com 2 regi\u00f5es com a seguinte apar\u00eancia: O exemplo utiliza um arquivo de imagem \"pecaCobre.png\" de tamanho 228x94 Arquivo de defini\u00e7\u00e3o de frame: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<frame width=\"228\" height=\"94\" autoScaleY=\"true\" autoScaleX=\"true\" > \\<borders left=\"6\" top=\"7\" bottom=\"6\" right=\"39\" /> \\<draw> \\<!-- fundo --> \\<image left=\"0\" top=\"0\" right=\"228\" bottom=\"94\" overflowX=\"stretch\" overflowY=\"stretch\" zOrder=\"-1\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\<source url=\"pecaCobreBckBlack.png\" left=\"0\" right=\"228\" top=\"0\" bottom=\"94\" /> \\</image> \\</draw> \\<regions> \\<region name=\"RegiaoSmallTitulo\" left=\"15\" top=\"30\" right=\"45\" bottom=\"64\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\</region> \\<region name=\"RegiaoValor\" left=\"85\" top=\"7\" right=\"187\" bottom=\"89\" > \\<anchors left=\"true\" top=\"true\" bottom=\"true\" right=\"true\" /> \\</region> \\</regions> \\</frame> Uso no Lua Form: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"top\" frameStyle=\"/frames/meuframe.xml\" margins=\"{left=30, top=30, right=30, bottom=5}\" > \\<label horzTextAlign=\"center\" text=\"PO\" frameRegion=\"RegiaoSmallTitulo\" /> \\<label horzTextAlign=\"center\" text=\"500\" frameRegion=\"RegiaoValor\" /> \\</layout> \\<layout align=\"top\" frameStyle=\"/frames/meuframe.xml\" margins=\"{left=30, top=5, right=30, bottom=5}\" > \\<label horzTextAlign=\"center\" text=\"PP\" frameRegion=\"RegiaoSmallTitulo\" /> \\<label horzTextAlign=\"center\" text=\"8\" frameRegion=\"RegiaoValor\" /> \\</layout> \\</form> \\ \\ \\ Os labels foram automaticamente alinhados \u00e0s regi\u00f5es definidas no frame. Created with the Personal Edition of HelpNDoc: Elevate Your CHM Help Files with HelpNDoc's Advanced Customization Options","title":"Frame com regi\u00f5es"},{"location":"AlinguagemdeprogramacaoLUA/","text":"A linguagem de programa\u00e7\u00e3o LUA LUA \u00e9 uma linguagem de programa\u00e7\u00e3o interpretada/script poderosa, r\u00e1pida e leve, projetada por brasileiros para estender aplica\u00e7\u00f5es e \u00e9 usada vastamente pelo mundo (inclusive em projetos famosos como o jogo World of Warcraft, por exemplo). A vers\u00e3o utilizada da linguagem LUA no SDK 3 \u00e9 a 5.3 Segue abaixo uma lista de links \u00fateis para o aprendizado da linguagem LUA: Site oficial da linguagem LUA: http://www.lua.org/ Manual de refer\u00eancia da linguagem: http://www.lua.org/manual/5.3/ LUA na Wikipedia: http://pt.wikipedia.org/wiki/Lua_%28linguagem_de_programa%C3%A7%C3%A3o%29 Livros sobre Lua: http://www.lua.org/pil/ Observa\u00e7\u00e3o importante: Visando a prote\u00e7\u00e3o dos usu\u00e1rios contra plug-ins maliciosos, os c\u00f3digos LUA rodam em uma sandbox e nem todas as fun\u00e7\u00f5es nativas do LUA est\u00e3o dispon\u00edveis para o plug-in SDK 3. Saiba mais sobre sandboxes e sobre as fun\u00e7\u00f5es nativas LUA dispon\u00edveis lendo o t\u00f3pico: Sandboxes de Plug-ins Veja tamb\u00e9m: O SDK3 j\u00e1 prov\u00ea algumas bibliotecas e fun\u00e7\u00f5es LUA para voc\u00ea utilizar em seus plug-ins! Saiba mais em Bibliotecas LUA .","title":"A linguagem de programa\u00e7\u00e3o LUA"},{"location":"AlinguagemdeprogramacaoLUA/#a-linguagem-de-programacao-lua","text":"LUA \u00e9 uma linguagem de programa\u00e7\u00e3o interpretada/script poderosa, r\u00e1pida e leve, projetada por brasileiros para estender aplica\u00e7\u00f5es e \u00e9 usada vastamente pelo mundo (inclusive em projetos famosos como o jogo World of Warcraft, por exemplo). A vers\u00e3o utilizada da linguagem LUA no SDK 3 \u00e9 a 5.3 Segue abaixo uma lista de links \u00fateis para o aprendizado da linguagem LUA: Site oficial da linguagem LUA: http://www.lua.org/ Manual de refer\u00eancia da linguagem: http://www.lua.org/manual/5.3/ LUA na Wikipedia: http://pt.wikipedia.org/wiki/Lua_%28linguagem_de_programa%C3%A7%C3%A3o%29 Livros sobre Lua: http://www.lua.org/pil/ Observa\u00e7\u00e3o importante: Visando a prote\u00e7\u00e3o dos usu\u00e1rios contra plug-ins maliciosos, os c\u00f3digos LUA rodam em uma sandbox e nem todas as fun\u00e7\u00f5es nativas do LUA est\u00e3o dispon\u00edveis para o plug-in SDK 3. Saiba mais sobre sandboxes e sobre as fun\u00e7\u00f5es nativas LUA dispon\u00edveis lendo o t\u00f3pico: Sandboxes de Plug-ins","title":"A linguagem de programa\u00e7\u00e3o LUA"},{"location":"AlinguagemdeprogramacaoLUA/#veja-tambem","text":"O SDK3 j\u00e1 prov\u00ea algumas bibliotecas e fun\u00e7\u00f5es LUA para voc\u00ea utilizar em seus plug-ins! Saiba mais em Bibliotecas LUA .","title":"Veja tamb\u00e9m:"},{"location":"Apendice/","text":"Ap\u00eandice Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc","title":"Ap\u00eandice"},{"location":"Apendice/#apendice","text":"Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc","title":"Ap\u00eandice"},{"location":"ArquivodeDefinicaodeFrame/","text":"Arquivo de Defini\u00e7\u00e3o de Frame Arquivo de Defini\u00e7\u00e3o de Frame Todo frame \u00e9 definido por um documento XML que segue o padr\u00e3o descrito neste t\u00f3pico. Importante : N\u00e3o \u00e9 poss\u00edvel utilizar as tags do Lua Form na defini\u00e7\u00e3o de frames. O documento de defini\u00e7\u00e3o de frames possui seu pr\u00f3prio conjunto de tags e atributos. Estrutura do documento XML de defini\u00e7\u00e3o de frame Todo documento de XML de defini\u00e7\u00e3o de frame deve ter a tag frame como tag raiz. Tag frame Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o width Float \\<N\u00e3o h\u00e1 valor padr\u00e3o e deve ser preenchido> A largura em que o frame foi definido. Todo o restante do frame ser\u00e1 interpretado usando esta largura como base. height Float \\<N\u00e3o h\u00e1 valor padr\u00e3o e deve ser preenchido> A altura em que o frame foi definido. Todo o restante do frame ser\u00e1 interpretado usando esta altura como base. autoScaleX Boolean false Indica como o frame deve se comportar ao ser apresentado em um tamanho diferente do que foi definido. true - O conte\u00fado do frame ser\u00e1 esticado ou comprimido no eixo X para equivaler \u00e0 nova largura. false - O conte\u00fado do frame ser\u00e1 reposicionado no eixo X, respeitando o ancoramento de cada item do conte\u00fado do frame. autoScaleY Boolean false Indica como o frame deve se comportar ao ser apresentado em um tamanho diferente do que foi definido. true - O conte\u00fado do frame ser\u00e1 esticado ou comprimido no eixo Y para equivaler \u00e0 nova altura. false - O conte\u00fado do frame ser\u00e1 reposicionado no eixo Y, respeitando o ancoramento de cada item do conte\u00fado do frame. Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o borders 0 ou 1. (opcional) Descreve o tamanho das bordas que o frame possui. Leia mais em Tag borders draw 0 ou 1. (opcional) Define os itens que ser\u00e3o desenhados no frame. Leia mais em Tag draw . Estes itens s\u00e3o desenhados embaixo dos controles Lua Form de onde o frame for aplicado. postdraw 0 o ou 1. (opcional) Define os itens que ser\u00e3o desenhados ap\u00f3s o conte\u00fado do frame ser desenhado. Leia mais em Tag postdraw . Estes itens s\u00e3o desenhados em cima dos controles Lua Form de onde o frame for aplicado. regions 0 ou 1. (opcional) Define as regi\u00f5es que este frame possui . Usado para alinhar controles Lua Form no lugar correto do frame. Leia mais em Tag regions . Tag borders Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Float 0.0 Define o tamanho da borda esquerda do frame. top Float 0.0 Define o tamanho da borda superior do frame. right Float 0.0 Define o tamanho da borda da direita do frame. bottom Float 0.0 Define o tamanho da borda inferior do frame. Tag draw Esta tag cont\u00e9m todos os elementos que s\u00e3o desenhados no frame. \\ Atributos: Esta tag n\u00e3o possui atributos Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o image 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma imagem que ser\u00e1 desenhada. Leia mais em Tag image . Tag postdraw Esta tag cont\u00e9m todos os elementos que s\u00e3o desenhados no frame. \\ Atributos: Esta tag n\u00e3o possui atributos Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o image 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma imagem que ser\u00e1 desenhada acima do controles Lua Form. Leia mais em Tag image . Tag image Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define onde, no eixo X, a imagem ser\u00e1 desenhada. top Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define onde, no eixo Y, a imagem ser\u00e1 desenhada. right Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define onde, no eixo X, a borda direita da imagem ser\u00e1 desenhada. A largura da imagem ser\u00e1 equivalente a (\"right\" - \"left\") bottom Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define onde, no eixo Y, a borda inferior da imagem ser\u00e1 desenhada. A altura da imagem ser\u00e1 equivalente a (\"bottom\" - \"top\") overflowX Enumerado: \"none\" \"tile\" \"stretch\" \"center\" \"tile\" Define como a imagem ser\u00e1 desenhada no eixo X quando a largura a desenhar for diferente da largura definida. \"none\": A imagem ser\u00e1 desenhada apenas uma vez, a cortando se o tamanho diminuir. \"tile\": A imagem ser\u00e1 desenhada v\u00e1rias vezes para que ocupe o novo tamanho. \"stretch\": A imagem ser\u00e1 encolhida ou espichada para o novo tamanho. \"center\": A imagem ser\u00e1 desenhada apenas uma vez no centro. overflowY BoEnumerado: \"none\" \"tile\" \"stretch\" \"center\" \"tile\" Idem ao atributo \"overflowX\", por\u00e9m agora analisando a altura e o eixo Y da imagem. zOrder Float 0.0 Define a ordem em que esta imagem ser\u00e1 desenhada. A image que tiver o menor zOrder ser\u00e1 desenhada embaixo das outras, enquanto a que tiver maior zOrder ser\u00e1 desenhada acima. Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o source 1 vez (preenchimento obrigat\u00f3rio) A tag source cont\u00e9m informa\u00e7\u00f5es sobre qual imagem ser\u00e1 desenhada. Leia mais em tag source . Observa\u00e7\u00e3o: Enquanto a tag image possui informa\u00e7\u00f5es relacionadas ao \"onde a imagem ser\u00e1 desenhada\", a tag source possui informa\u00e7\u00f5es de qual imagem ser\u00e1 desenhada. anchors 0 ou 1 (opcional). Define como a imagem ser\u00e1 ancorada quando o frame for desenhado com um tamanho maior ou menor do que o definido. Leia mais em tag anchors A aus\u00eancia desta tag implica no ancoramento \"left e top\". Tag source Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o url String \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Caminho do arquivo da imagem que ser\u00e1 desenhada na tela. Cont\u00e9m um caminho relativo \u00e0 pasta em que se encontra o arquivo \".xml\" de defini\u00e7\u00e3o deste frame. left Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Este atributo \u00e9 usado para definir qual parte da imagem, informada pelo atributo \"url\", ser\u00e1 desenhada na tela. \u00c9 poss\u00edvel desenhar a imagem inteira, ou apenas um peda\u00e7o/ret\u00e2ngulo dela (o que \u00e9 bastante \u00fatil). Medido em pixels, informa a posi\u00e7\u00e3o esquerda do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela. top Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Medido em pixels, informa a posi\u00e7\u00e3o superior do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela. Veja a descri\u00e7\u00e3o do atributo \"left\". right Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Medido em pixels, informa a posi\u00e7\u00e3o da direita do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela. Veja a descri\u00e7\u00e3o do atributo \"left\". bottom Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Medido em pixels, informa a posi\u00e7\u00e3o inferior do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela. Veja a descri\u00e7\u00e3o do atributo \"left\". Tags filhas: N\u00e3o h\u00e1 tags filhas. Tag anchors Define o ancoramento do componente. \\ Quando o frame for desenhado com um tamanho diferente do desenhado, o componente mant\u00e9m sua posi\u00e7\u00e3o relativa baseada em sua \u00e2ncora. Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Boolean false Quando true, define um \u00e2ncora \u00e0 esquerda. Leia as observa\u00e7\u00f5es abaixo desta tabela. top Boolean false Quando true, define um \u00e2ncora acima. Leia as observa\u00e7\u00f5es abaixo desta tabela. right Boolean false Quando true, define um \u00e2ncora \u00e0 direita. Leia as observa\u00e7\u00f5es abaixo desta tabela. bottom Boolean false Quando true, define um \u00e2ncora abaixo. Leia as observa\u00e7\u00f5es abaixo desta tabela. Comportamento de \u00e2ncora: \u201cleft\u201d = true, \u201dright\u201d = false: O componente manter\u00e1 sempre a mesma posi\u00e7\u00e3o left/X. \u201cleft\u201d = false, \u201cright\u201d = true: A posi\u00e7\u00e3o left ser\u00e1 calculada automaticamente para manter sempre a mesma dist\u00e2ncia entre sua borda direita e a borda direita do pai/frame. \u201cleft\u201d e \u201cright\u201d ambos = true: O controle manter\u00e1 tanto a dist\u00e2ncia entre (1) sua borda esquerda com a borda esquerda do pai/frame; (2) como sua borda direita com a borda direita do pai/frame. Para isso, a largura do componente ser\u00e1 alterada conforme o tamanho de visualiza\u00e7\u00e3o do frame. \u201cleft\u201d e \u201cright\u201d ambos = false: O controle n\u00e3o est\u00e1 ancorado e ocorrer\u00e1 um efeito similar ao de centraliza\u00e7\u00e3o. O comportamento das \u00e2ncoras \u201ctop\u201d e \u201cbottom\u201d \u00e9 o mesmo das \u00e2ncoras \u201cleft\u201d e \u201cright\u201d, por\u00e9m agora no eixo Y. Tags filhas: N\u00e3o h\u00e1 tags filhas. Tag regions Esta tag cont\u00e9m uma lista de tags region, que define regi\u00f5es no frame que poder\u00e3o ser usadas para alinhar tags/controles Lua Form posteriormente. Saiba mais em Frames e Regi\u00f5es . \\ Atributos: Esta tag n\u00e3o possui atributos Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o region 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma regi\u00e3o do frame Leia mais em Tag region . Tag region Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define um nome para esta regi\u00e3o para que possa ser usada posteriormente por um controle Lua Form. Saiba mais em Frames e Regi\u00f5es . left Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define, onde no eixo X, \u00e9 a posi\u00e7\u00e3o esquerda desta regi\u00e3o no frame. top Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define, onde no eixo Y, \u00e9 a posi\u00e7\u00e3o superior desta regi\u00e3o no frame. right Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define, onde no eixo X, \u00e9 a posi\u00e7\u00e3o da direita desta regi\u00e3o no frame. A largura da regi\u00e3o ser\u00e1 equivalente a (\"right\" - \"left\") bottom Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define, onde no eixo Y, \u00e9 a posi\u00e7\u00e3o inferior desta regi\u00e3o no frame. A altura da regi\u00e3o ser\u00e1 equivalente a (\"bottom\" - \"top\") autoScaleX Boolean false Indica como as sub-regi\u00f5es desta regi\u00e3o devem se comportar ao ser apresentadas em um tamanho de frame diferente do que foi definido. true - As sub-regi\u00f5es ser\u00e3o esticadas ou comprimidas no eixo X para equivaler \u00e0 nova largura. false - As sub-regi\u00f5es ser\u00e3o reposicionadas no eixo X, respeitando seus ancoramentos. autoScaleY Boolean false Indica como as sub-regi\u00f5es desta regi\u00e3o devem se comportar ao ser apresentadas em um tamanho de frame diferente do que foi definido. true - As sub-regi\u00f5es ser\u00e3o esticadas ou comprimidas no eixo Y para equivaler \u00e0 nova altura. false - As sub-regi\u00f5es ser\u00e3o reposicionadas no eixo Y, respeitando seus ancoramentos Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o anchors 0 ou 1 (opcional). Define como a regi\u00e3o ser\u00e1 ancorada quando o frame for desenhado com um tamanho maior ou menor do que o definido. Leia mais em tag anchors A aus\u00eancia desta tag implica no ancoramento \"left e top\". regions 0 ou 1 (opcional). Define as sub-regi\u00f5es desta regi\u00e3o. Leia mais em Tag regions . Exemplos Veja os exemplos em Exemplos de frames. Created with the Personal Edition of HelpNDoc: Create cross-platform Qt Help files","title":"Arquivo de Defini\u00e7\u00e3o de Frame"},{"location":"ArquivodeDefinicaodeFrame/#arquivo-de-definicao-de-frame","text":"","title":"Arquivo de Defini\u00e7\u00e3o de Frame"},{"location":"ArquivodeDefinicaodeFrame/#arquivo-de-definicao-de-frame_1","text":"Todo frame \u00e9 definido por um documento XML que segue o padr\u00e3o descrito neste t\u00f3pico. Importante : N\u00e3o \u00e9 poss\u00edvel utilizar as tags do Lua Form na defini\u00e7\u00e3o de frames. O documento de defini\u00e7\u00e3o de frames possui seu pr\u00f3prio conjunto de tags e atributos.","title":"Arquivo de Defini\u00e7\u00e3o de Frame"},{"location":"ArquivodeDefinicaodeFrame/#estrutura-do-documento-xml-de-definicao-de-frame","text":"Todo documento de XML de defini\u00e7\u00e3o de frame deve ter a tag frame como tag raiz.","title":"Estrutura do documento XML de defini\u00e7\u00e3o de frame"},{"location":"ArquivodeDefinicaodeFrame/#tag-frame","text":"Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o width Float \\<N\u00e3o h\u00e1 valor padr\u00e3o e deve ser preenchido> A largura em que o frame foi definido. Todo o restante do frame ser\u00e1 interpretado usando esta largura como base. height Float \\<N\u00e3o h\u00e1 valor padr\u00e3o e deve ser preenchido> A altura em que o frame foi definido. Todo o restante do frame ser\u00e1 interpretado usando esta altura como base. autoScaleX Boolean false Indica como o frame deve se comportar ao ser apresentado em um tamanho diferente do que foi definido. true - O conte\u00fado do frame ser\u00e1 esticado ou comprimido no eixo X para equivaler \u00e0 nova largura. false - O conte\u00fado do frame ser\u00e1 reposicionado no eixo X, respeitando o ancoramento de cada item do conte\u00fado do frame. autoScaleY Boolean false Indica como o frame deve se comportar ao ser apresentado em um tamanho diferente do que foi definido. true - O conte\u00fado do frame ser\u00e1 esticado ou comprimido no eixo Y para equivaler \u00e0 nova altura. false - O conte\u00fado do frame ser\u00e1 reposicionado no eixo Y, respeitando o ancoramento de cada item do conte\u00fado do frame. Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o borders 0 ou 1. (opcional) Descreve o tamanho das bordas que o frame possui. Leia mais em Tag borders draw 0 ou 1. (opcional) Define os itens que ser\u00e3o desenhados no frame. Leia mais em Tag draw . Estes itens s\u00e3o desenhados embaixo dos controles Lua Form de onde o frame for aplicado. postdraw 0 o ou 1. (opcional) Define os itens que ser\u00e3o desenhados ap\u00f3s o conte\u00fado do frame ser desenhado. Leia mais em Tag postdraw . Estes itens s\u00e3o desenhados em cima dos controles Lua Form de onde o frame for aplicado. regions 0 ou 1. (opcional) Define as regi\u00f5es que este frame possui . Usado para alinhar controles Lua Form no lugar correto do frame. Leia mais em Tag regions .","title":"Tag frame"},{"location":"ArquivodeDefinicaodeFrame/#_1","text":"","title":"&nbsp;"},{"location":"ArquivodeDefinicaodeFrame/#tag-borders","text":"Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Float 0.0 Define o tamanho da borda esquerda do frame. top Float 0.0 Define o tamanho da borda superior do frame. right Float 0.0 Define o tamanho da borda da direita do frame. bottom Float 0.0 Define o tamanho da borda inferior do frame.","title":"Tag borders"},{"location":"ArquivodeDefinicaodeFrame/#tag-draw","text":"Esta tag cont\u00e9m todos os elementos que s\u00e3o desenhados no frame. \\ Atributos: Esta tag n\u00e3o possui atributos Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o image 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma imagem que ser\u00e1 desenhada. Leia mais em Tag image .","title":"Tag draw"},{"location":"ArquivodeDefinicaodeFrame/#tag-postdraw","text":"Esta tag cont\u00e9m todos os elementos que s\u00e3o desenhados no frame. \\ Atributos: Esta tag n\u00e3o possui atributos Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o image 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma imagem que ser\u00e1 desenhada acima do controles Lua Form. Leia mais em Tag image .","title":"Tag postdraw"},{"location":"ArquivodeDefinicaodeFrame/#tag-image","text":"Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define onde, no eixo X, a imagem ser\u00e1 desenhada. top Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define onde, no eixo Y, a imagem ser\u00e1 desenhada. right Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define onde, no eixo X, a borda direita da imagem ser\u00e1 desenhada. A largura da imagem ser\u00e1 equivalente a (\"right\" - \"left\") bottom Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define onde, no eixo Y, a borda inferior da imagem ser\u00e1 desenhada. A altura da imagem ser\u00e1 equivalente a (\"bottom\" - \"top\") overflowX Enumerado: \"none\" \"tile\" \"stretch\" \"center\" \"tile\" Define como a imagem ser\u00e1 desenhada no eixo X quando a largura a desenhar for diferente da largura definida. \"none\": A imagem ser\u00e1 desenhada apenas uma vez, a cortando se o tamanho diminuir. \"tile\": A imagem ser\u00e1 desenhada v\u00e1rias vezes para que ocupe o novo tamanho. \"stretch\": A imagem ser\u00e1 encolhida ou espichada para o novo tamanho. \"center\": A imagem ser\u00e1 desenhada apenas uma vez no centro. overflowY BoEnumerado: \"none\" \"tile\" \"stretch\" \"center\" \"tile\" Idem ao atributo \"overflowX\", por\u00e9m agora analisando a altura e o eixo Y da imagem. zOrder Float 0.0 Define a ordem em que esta imagem ser\u00e1 desenhada. A image que tiver o menor zOrder ser\u00e1 desenhada embaixo das outras, enquanto a que tiver maior zOrder ser\u00e1 desenhada acima. Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o source 1 vez (preenchimento obrigat\u00f3rio) A tag source cont\u00e9m informa\u00e7\u00f5es sobre qual imagem ser\u00e1 desenhada. Leia mais em tag source . Observa\u00e7\u00e3o: Enquanto a tag image possui informa\u00e7\u00f5es relacionadas ao \"onde a imagem ser\u00e1 desenhada\", a tag source possui informa\u00e7\u00f5es de qual imagem ser\u00e1 desenhada. anchors 0 ou 1 (opcional). Define como a imagem ser\u00e1 ancorada quando o frame for desenhado com um tamanho maior ou menor do que o definido. Leia mais em tag anchors A aus\u00eancia desta tag implica no ancoramento \"left e top\".","title":"Tag image"},{"location":"ArquivodeDefinicaodeFrame/#tag-source","text":"Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o url String \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Caminho do arquivo da imagem que ser\u00e1 desenhada na tela. Cont\u00e9m um caminho relativo \u00e0 pasta em que se encontra o arquivo \".xml\" de defini\u00e7\u00e3o deste frame. left Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Este atributo \u00e9 usado para definir qual parte da imagem, informada pelo atributo \"url\", ser\u00e1 desenhada na tela. \u00c9 poss\u00edvel desenhar a imagem inteira, ou apenas um peda\u00e7o/ret\u00e2ngulo dela (o que \u00e9 bastante \u00fatil). Medido em pixels, informa a posi\u00e7\u00e3o esquerda do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela. top Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Medido em pixels, informa a posi\u00e7\u00e3o superior do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela. Veja a descri\u00e7\u00e3o do atributo \"left\". right Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Medido em pixels, informa a posi\u00e7\u00e3o da direita do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela. Veja a descri\u00e7\u00e3o do atributo \"left\". bottom Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Medido em pixels, informa a posi\u00e7\u00e3o inferior do peda\u00e7o/ret\u00e2ngulo que ser\u00e1 desenhado na tela. Veja a descri\u00e7\u00e3o do atributo \"left\". Tags filhas: N\u00e3o h\u00e1 tags filhas.","title":"Tag source"},{"location":"ArquivodeDefinicaodeFrame/#tag-anchors","text":"Define o ancoramento do componente. \\ Quando o frame for desenhado com um tamanho diferente do desenhado, o componente mant\u00e9m sua posi\u00e7\u00e3o relativa baseada em sua \u00e2ncora. Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o left Boolean false Quando true, define um \u00e2ncora \u00e0 esquerda. Leia as observa\u00e7\u00f5es abaixo desta tabela. top Boolean false Quando true, define um \u00e2ncora acima. Leia as observa\u00e7\u00f5es abaixo desta tabela. right Boolean false Quando true, define um \u00e2ncora \u00e0 direita. Leia as observa\u00e7\u00f5es abaixo desta tabela. bottom Boolean false Quando true, define um \u00e2ncora abaixo. Leia as observa\u00e7\u00f5es abaixo desta tabela. Comportamento de \u00e2ncora: \u201cleft\u201d = true, \u201dright\u201d = false: O componente manter\u00e1 sempre a mesma posi\u00e7\u00e3o left/X. \u201cleft\u201d = false, \u201cright\u201d = true: A posi\u00e7\u00e3o left ser\u00e1 calculada automaticamente para manter sempre a mesma dist\u00e2ncia entre sua borda direita e a borda direita do pai/frame. \u201cleft\u201d e \u201cright\u201d ambos = true: O controle manter\u00e1 tanto a dist\u00e2ncia entre (1) sua borda esquerda com a borda esquerda do pai/frame; (2) como sua borda direita com a borda direita do pai/frame. Para isso, a largura do componente ser\u00e1 alterada conforme o tamanho de visualiza\u00e7\u00e3o do frame. \u201cleft\u201d e \u201cright\u201d ambos = false: O controle n\u00e3o est\u00e1 ancorado e ocorrer\u00e1 um efeito similar ao de centraliza\u00e7\u00e3o. O comportamento das \u00e2ncoras \u201ctop\u201d e \u201cbottom\u201d \u00e9 o mesmo das \u00e2ncoras \u201cleft\u201d e \u201cright\u201d, por\u00e9m agora no eixo Y. Tags filhas: N\u00e3o h\u00e1 tags filhas.","title":"Tag anchors"},{"location":"ArquivodeDefinicaodeFrame/#tag-regions","text":"Esta tag cont\u00e9m uma lista de tags region, que define regi\u00f5es no frame que poder\u00e3o ser usadas para alinhar tags/controles Lua Form posteriormente. Saiba mais em Frames e Regi\u00f5es . \\ Atributos: Esta tag n\u00e3o possui atributos Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o region 0 ou v\u00e1rias vezes. (lista) Cada tag image representa uma regi\u00e3o do frame Leia mais em Tag region .","title":"Tag regions"},{"location":"ArquivodeDefinicaodeFrame/#tag-region","text":"Atributos: Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define um nome para esta regi\u00e3o para que possa ser usada posteriormente por um controle Lua Form. Saiba mais em Frames e Regi\u00f5es . left Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define, onde no eixo X, \u00e9 a posi\u00e7\u00e3o esquerda desta regi\u00e3o no frame. top Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define, onde no eixo Y, \u00e9 a posi\u00e7\u00e3o superior desta regi\u00e3o no frame. right Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define, onde no eixo X, \u00e9 a posi\u00e7\u00e3o da direita desta regi\u00e3o no frame. A largura da regi\u00e3o ser\u00e1 equivalente a (\"right\" - \"left\") bottom Float \\<N\u00e3o h\u00e1, preenchimento obrigat\u00f3rio> Define, onde no eixo Y, \u00e9 a posi\u00e7\u00e3o inferior desta regi\u00e3o no frame. A altura da regi\u00e3o ser\u00e1 equivalente a (\"bottom\" - \"top\") autoScaleX Boolean false Indica como as sub-regi\u00f5es desta regi\u00e3o devem se comportar ao ser apresentadas em um tamanho de frame diferente do que foi definido. true - As sub-regi\u00f5es ser\u00e3o esticadas ou comprimidas no eixo X para equivaler \u00e0 nova largura. false - As sub-regi\u00f5es ser\u00e3o reposicionadas no eixo X, respeitando seus ancoramentos. autoScaleY Boolean false Indica como as sub-regi\u00f5es desta regi\u00e3o devem se comportar ao ser apresentadas em um tamanho de frame diferente do que foi definido. true - As sub-regi\u00f5es ser\u00e3o esticadas ou comprimidas no eixo Y para equivaler \u00e0 nova altura. false - As sub-regi\u00f5es ser\u00e3o reposicionadas no eixo Y, respeitando seus ancoramentos Tags filhas: Tag filha Quantidade Descri\u00e7\u00e3o anchors 0 ou 1 (opcional). Define como a regi\u00e3o ser\u00e1 ancorada quando o frame for desenhado com um tamanho maior ou menor do que o definido. Leia mais em tag anchors A aus\u00eancia desta tag implica no ancoramento \"left e top\". regions 0 ou 1 (opcional). Define as sub-regi\u00f5es desta regi\u00e3o. Leia mais em Tag regions .","title":"Tag region"},{"location":"ArquivodeDefinicaodeFrame/#exemplos","text":"Veja os exemplos em Exemplos de frames. Created with the Personal Edition of HelpNDoc: Create cross-platform Qt Help files","title":"Exemplos"},{"location":"Arquivosemumprojetodeplugin/","text":"Arquivos em um projeto de plug-in Created with the Personal Edition of HelpNDoc: Save time and frustration with HelpNDoc's WinHelp HLP to CHM conversion feature","title":"Arquivos em um projeto de plug-in"},{"location":"Arquivosemumprojetodeplugin/#arquivos-em-um-projeto-de-plug-in","text":"Created with the Personal Edition of HelpNDoc: Save time and frustration with HelpNDoc's WinHelp HLP to CHM conversion feature","title":"Arquivos em um projeto de plug-in"},{"location":"ArrastandoeSoltandoInformacoesDr/","text":"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop Arrastando e Soltando informa\u00e7\u00f5es / Drag and Drop Arrastar e Soltar, do ingl\u00eas \"Drag and Drop\", \u00e9 a a\u00e7\u00e3o de clicar em um objeto virtual e \"arrast\u00e1-lo\" a uma posi\u00e7\u00e3o diferente ou sobre um outro objeto virtual. De maneira geral, ele pode ser usado para invocar diversos tipos de a\u00e7\u00f5es, ou criar v\u00e1rios tipos de associa\u00e7\u00f5es entre dois objetos abstratos. A sequ\u00eancia b\u00e1sica de a\u00e7\u00f5es relacionadas ao drag-and-drop \u00e9: Clicar, e manter o bot\u00e3o do mouse apertado para \"agarrar\" o objeto, \"Arrastar\" (drag) o objeto/cursor \u00e0 posi\u00e7\u00e3o ou localiza\u00e7\u00e3o desejada, \"Soltar\" (drop) o objeto, soltando o bot\u00e3o pressionado. Fluxo de acontecimento No exemplo a seguir, o usu\u00e1rio iniciou o processo drag-and-drop agarrando o objeto preto (1 na figura), arrastando o mouse at\u00e9 o objeto vermelho (3 na figura) e soltando o bot\u00e3o. O fluxo segue na seguinte ordem: O Usu\u00e1rio clica e mant\u00eam o bot\u00e3o do mouse pressionado sobre o objeto 1 para iniciar um processo de drag-and-drop. O Firecast, atrav\u00e9s do evento onStartDrag do objeto 1, pede para que o objeto 1 informe as informa\u00e7\u00f5es que o usu\u00e1rio pode arrastar dele. O Plugin SDK3, dentro da chamada do evento onStartDrag , informa ao Firecast o que o usu\u00e1rio pode arrastar do objeto 1. Os dados s\u00e3o adicionados a um objeto Drag (2 na figura) que o Firecast cria automaticamente para esta opera\u00e7\u00e3o de drag-and-drop espec\u00edfica. O Firecast interage com o usu\u00e1rio at\u00e9 que ele passe o mouse sobre uma \u00e1rea de Drop, isto \u00e9, de um objeto que aceite que opera\u00e7\u00f5es drag-and-drop sejam \"largadas\" sobre ele. O objeto 3 possui uma \u00e1rea de drop. O Firecast, atrav\u00e9s do evento onStartDrop do objeto 3, pede para que o objeto 3 informe o quais informa\u00e7\u00f5es o usu\u00e1rio pode \"largar\" sobre ele. O Plugin SDK3, dentro da chamada do evento onStartDrop , informa ao Firecast o que o usu\u00e1rio pode largar sobre o objeto 3. Os dados s\u00e3o adicionados a um objeto Drop que o Firecast cria automaticamente para receber estas informa\u00e7\u00f5es. O Firecast, com base nas informa\u00e7\u00f5es do objeto Drag preenchidas pelo objeto 1 e nas informa\u00e7\u00f5es do objeto Drop preenchidas pelo objeto 3, decide se a opera\u00e7\u00e3o drag-and-drop pode acontecer. Se um n\u00e3o conseguir lidar com as informa\u00e7\u00f5es do outro, a opera\u00e7\u00e3o drag-and-drop n\u00e3o poder\u00e1 ser conclu\u00edda. Caso a opera\u00e7\u00e3o Drag-and-Drop puder ser finalizada, o Firecast chama a a\u00e7\u00e3o do objeto 3 ou objeto 1 que melhor puder lidar com esta opera\u00e7\u00e3o. Informa\u00e7\u00f5es e A\u00e7\u00f5es em uma opera\u00e7\u00e3o drag-and-drop Para que uma opera\u00e7\u00e3o Drag-And-Drop aconte\u00e7a, \u00e9 necess\u00e1rio haver ao menos uma informa\u00e7\u00e3o e ao menos uma a\u00e7\u00e3o capaz de lidar com ela. Informa\u00e7\u00f5es e a\u00e7\u00f5es podem existir tanto no objeto Drag quanto no objeto Drop: Informa\u00e7\u00f5es existentes no objeto Drag s\u00e3o combinadas com a\u00e7\u00f5es existentes no objeto Drop Informa\u00e7\u00f5es existentes no objeto Drop s\u00e3o combinadas com a\u00e7\u00f5es existentes no objeto Drag Informa\u00e7\u00f5es e a\u00e7\u00f5es est\u00e3o atreladas a um DataType, isto \u00e9, a uma cadeia de caracteres que define o tipo de dados que \u00e9 arrastado. DataTypes padr\u00f5es do Firecast O programador pode inventar qualquer DataType, por\u00e9m existem os seguintes que s\u00e3o padr\u00f5es do Firecast: DataType padr\u00e3o Valor transportado text Uma cadeia de caracteres, um texto qualquer. imageURL Uma cadeia de caracteres que cont\u00e9m uma URL de uma imagem. player Um objeto Jogador players Array de objeto Jogador character Um objeto Personagem characters Array de objeto Personagem libraryItem Um objeto BibliotecaItem libraryItens Array de objeto BibliotecaItem sceneUnitClass Um objeto SceneUnitClass sceneUnitClasses Array de objeto SceneUnitClass imageFile A table containing the following attributes: name - String with the name of the file. mimeType - String with the MIME type of the image (examples: image/jpeg, image/png) stream - A read-only Stream object containing the image file bytes. imageFiles An array of tables with the same structure as the \"imageFile\". Observa\u00e7\u00e3o: Ao utilizar os dataTypes padr\u00f5es, o RRPG valida e exige que sejam transportados valores adequados conforme a tabela acima. Exemplos Exemplo 1 - Arrastando um texto de um Label Experimente arrastar o label para a caixa de digita\u00e7\u00e3o de mensagens e comandos do RRPG. \\<label text=\"Me arraste!\" top=\"150\" hitTest=\"true\" > \\<event name=\"OnStartDrag\" > drag:addData(\"text\", \"Texto que ser\u00e1 arrastado deste label!\"); \\</event> \\</label> Exemplo 2 - Arrastando uma imagem e um texto de um Label Experimente arrastar o label para o log do chat do RRPG! \\<label text=\"Me arraste!\" top=\"150\" hitTest=\"true\" > \\<event name=\"OnStartDrag\" > drag:addData(\"text\", \"Texto que ser\u00e1 arrastado deste label!\"); drag:addData(\"imageURL\", \"http://www.rrpg.com.br/wp-content/uploads/2013/05/cropped-Untitled-2.png\"); \\</event> \\</label> Exemplo 3 - Um controle que captura arraste de imagens. Arraste uma imagem do browser Chrome ou do jogador para este controle. \\<rectangle left=\"150\" top=\"150\" width=\"150\" height=\"150\" strokeColor=\"yellow\" strokeSize=\"1\" color=\"none\" > \\<image name=\"imgImagem\" align=\"client\" hitTest=\"true\" > \\<event name=\"OnStartDrop\" > drop:addAction(\"imageURL\", function(value) self.imgImagem.src = value; end); \\</event> \\</image> \\</rectangle> Exemplo 4 - Um controle que captura arraste de Jogadores. Arraste um jogador da mesa para este controle! \\<rectangle left=\"150\" top=\"150\" width=\"150\" height=\"150\" strokeColor=\"yellow\" strokeSize=\"1\" color=\"none\" hitTest=\"true\" > \\<event name=\"OnStartDrop\" > drop:addAction(\"player\", function(value) showMessage(\"O login deste jogador \u00e9: \" .. value.login); end); \\</event> \\</rectangle> Exemplo 5 - Arrastando uma a\u00e7\u00e3o \u00e0 partir de um bot\u00e3o Arraste este bot\u00e3o para um jogador da mesa! \\<button left=\"150\" top=\"150\" text=\"meArraste\" > \\<event name=\"OnStartDrag\" > drag:addAction(\"player\", function(destValue) showMessage(\"Voc\u00ea me arrastou para o jogador: \" .. destValue.login); end); \\</event> \\</button> Created with the Personal Edition of HelpNDoc: Generate EPub eBooks with ease","title":"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop"},{"location":"ArrastandoeSoltandoInformacoesDr/#arrastando-e-soltando-informacoes-drag-and-drop","text":"","title":"Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop"},{"location":"ArrastandoeSoltandoInformacoesDr/#arrastando-e-soltando-informacoes-drag-and-drop_1","text":"Arrastar e Soltar, do ingl\u00eas \"Drag and Drop\", \u00e9 a a\u00e7\u00e3o de clicar em um objeto virtual e \"arrast\u00e1-lo\" a uma posi\u00e7\u00e3o diferente ou sobre um outro objeto virtual. De maneira geral, ele pode ser usado para invocar diversos tipos de a\u00e7\u00f5es, ou criar v\u00e1rios tipos de associa\u00e7\u00f5es entre dois objetos abstratos. A sequ\u00eancia b\u00e1sica de a\u00e7\u00f5es relacionadas ao drag-and-drop \u00e9: Clicar, e manter o bot\u00e3o do mouse apertado para \"agarrar\" o objeto, \"Arrastar\" (drag) o objeto/cursor \u00e0 posi\u00e7\u00e3o ou localiza\u00e7\u00e3o desejada, \"Soltar\" (drop) o objeto, soltando o bot\u00e3o pressionado.","title":"Arrastando e Soltando informa\u00e7\u00f5es / Drag and Drop"},{"location":"ArrastandoeSoltandoInformacoesDr/#fluxo-de-acontecimento","text":"No exemplo a seguir, o usu\u00e1rio iniciou o processo drag-and-drop agarrando o objeto preto (1 na figura), arrastando o mouse at\u00e9 o objeto vermelho (3 na figura) e soltando o bot\u00e3o. O fluxo segue na seguinte ordem: O Usu\u00e1rio clica e mant\u00eam o bot\u00e3o do mouse pressionado sobre o objeto 1 para iniciar um processo de drag-and-drop. O Firecast, atrav\u00e9s do evento onStartDrag do objeto 1, pede para que o objeto 1 informe as informa\u00e7\u00f5es que o usu\u00e1rio pode arrastar dele. O Plugin SDK3, dentro da chamada do evento onStartDrag , informa ao Firecast o que o usu\u00e1rio pode arrastar do objeto 1. Os dados s\u00e3o adicionados a um objeto Drag (2 na figura) que o Firecast cria automaticamente para esta opera\u00e7\u00e3o de drag-and-drop espec\u00edfica. O Firecast interage com o usu\u00e1rio at\u00e9 que ele passe o mouse sobre uma \u00e1rea de Drop, isto \u00e9, de um objeto que aceite que opera\u00e7\u00f5es drag-and-drop sejam \"largadas\" sobre ele. O objeto 3 possui uma \u00e1rea de drop. O Firecast, atrav\u00e9s do evento onStartDrop do objeto 3, pede para que o objeto 3 informe o quais informa\u00e7\u00f5es o usu\u00e1rio pode \"largar\" sobre ele. O Plugin SDK3, dentro da chamada do evento onStartDrop , informa ao Firecast o que o usu\u00e1rio pode largar sobre o objeto 3. Os dados s\u00e3o adicionados a um objeto Drop que o Firecast cria automaticamente para receber estas informa\u00e7\u00f5es. O Firecast, com base nas informa\u00e7\u00f5es do objeto Drag preenchidas pelo objeto 1 e nas informa\u00e7\u00f5es do objeto Drop preenchidas pelo objeto 3, decide se a opera\u00e7\u00e3o drag-and-drop pode acontecer. Se um n\u00e3o conseguir lidar com as informa\u00e7\u00f5es do outro, a opera\u00e7\u00e3o drag-and-drop n\u00e3o poder\u00e1 ser conclu\u00edda. Caso a opera\u00e7\u00e3o Drag-and-Drop puder ser finalizada, o Firecast chama a a\u00e7\u00e3o do objeto 3 ou objeto 1 que melhor puder lidar com esta opera\u00e7\u00e3o.","title":"Fluxo de acontecimento"},{"location":"ArrastandoeSoltandoInformacoesDr/#informacoes-e-acoes-em-uma-operacao-drag-and-drop","text":"Para que uma opera\u00e7\u00e3o Drag-And-Drop aconte\u00e7a, \u00e9 necess\u00e1rio haver ao menos uma informa\u00e7\u00e3o e ao menos uma a\u00e7\u00e3o capaz de lidar com ela. Informa\u00e7\u00f5es e a\u00e7\u00f5es podem existir tanto no objeto Drag quanto no objeto Drop: Informa\u00e7\u00f5es existentes no objeto Drag s\u00e3o combinadas com a\u00e7\u00f5es existentes no objeto Drop Informa\u00e7\u00f5es existentes no objeto Drop s\u00e3o combinadas com a\u00e7\u00f5es existentes no objeto Drag Informa\u00e7\u00f5es e a\u00e7\u00f5es est\u00e3o atreladas a um DataType, isto \u00e9, a uma cadeia de caracteres que define o tipo de dados que \u00e9 arrastado.","title":"Informa\u00e7\u00f5es e A\u00e7\u00f5es em uma opera\u00e7\u00e3o drag-and-drop"},{"location":"ArrastandoeSoltandoInformacoesDr/#datatypes-padroes-do-firecast","text":"O programador pode inventar qualquer DataType, por\u00e9m existem os seguintes que s\u00e3o padr\u00f5es do Firecast: DataType padr\u00e3o Valor transportado text Uma cadeia de caracteres, um texto qualquer. imageURL Uma cadeia de caracteres que cont\u00e9m uma URL de uma imagem. player Um objeto Jogador players Array de objeto Jogador character Um objeto Personagem characters Array de objeto Personagem libraryItem Um objeto BibliotecaItem libraryItens Array de objeto BibliotecaItem sceneUnitClass Um objeto SceneUnitClass sceneUnitClasses Array de objeto SceneUnitClass imageFile A table containing the following attributes: name - String with the name of the file. mimeType - String with the MIME type of the image (examples: image/jpeg, image/png) stream - A read-only Stream object containing the image file bytes. imageFiles An array of tables with the same structure as the \"imageFile\". Observa\u00e7\u00e3o: Ao utilizar os dataTypes padr\u00f5es, o RRPG valida e exige que sejam transportados valores adequados conforme a tabela acima.","title":"DataTypes padr\u00f5es do Firecast"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplos","text":"","title":"Exemplos"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-1-arrastando-um-texto-de-um-label","text":"Experimente arrastar o label para a caixa de digita\u00e7\u00e3o de mensagens e comandos do RRPG. \\<label text=\"Me arraste!\" top=\"150\" hitTest=\"true\" > \\<event name=\"OnStartDrag\" > drag:addData(\"text\", \"Texto que ser\u00e1 arrastado deste label!\"); \\</event> \\</label>","title":"Exemplo 1 - Arrastando um texto de um Label"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-2-arrastando-uma-imagem-e-um-texto-de-um-label","text":"Experimente arrastar o label para o log do chat do RRPG! \\<label text=\"Me arraste!\" top=\"150\" hitTest=\"true\" > \\<event name=\"OnStartDrag\" > drag:addData(\"text\", \"Texto que ser\u00e1 arrastado deste label!\"); drag:addData(\"imageURL\", \"http://www.rrpg.com.br/wp-content/uploads/2013/05/cropped-Untitled-2.png\"); \\</event> \\</label>","title":"Exemplo 2 - Arrastando uma imagem e um texto de um Label"},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-3-um-controle-que-captura-arraste-de-imagens","text":"Arraste uma imagem do browser Chrome ou do jogador para este controle. \\<rectangle left=\"150\" top=\"150\" width=\"150\" height=\"150\" strokeColor=\"yellow\" strokeSize=\"1\" color=\"none\" > \\<image name=\"imgImagem\" align=\"client\" hitTest=\"true\" > \\<event name=\"OnStartDrop\" > drop:addAction(\"imageURL\", function(value) self.imgImagem.src = value; end); \\</event> \\</image> \\</rectangle>","title":"Exemplo 3 - Um controle que captura arraste de imagens."},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-4-um-controle-que-captura-arraste-de-jogadores","text":"Arraste um jogador da mesa para este controle! \\<rectangle left=\"150\" top=\"150\" width=\"150\" height=\"150\" strokeColor=\"yellow\" strokeSize=\"1\" color=\"none\" hitTest=\"true\" > \\<event name=\"OnStartDrop\" > drop:addAction(\"player\", function(value) showMessage(\"O login deste jogador \u00e9: \" .. value.login); end); \\</event> \\</rectangle>","title":"Exemplo 4 - Um controle que captura arraste de Jogadores."},{"location":"ArrastandoeSoltandoInformacoesDr/#exemplo-5-arrastando-uma-acao-a-partir-de-um-botao","text":"Arraste este bot\u00e3o para um jogador da mesa! \\<button left=\"150\" top=\"150\" text=\"meArraste\" > \\<event name=\"OnStartDrag\" > drag:addAction(\"player\", function(destValue) showMessage(\"Voc\u00ea me arrastou para o jogador: \" .. destValue.login); end); \\</event> \\</button> Created with the Personal Edition of HelpNDoc: Generate EPub eBooks with ease","title":"Exemplo 5 - Arrastando uma a\u00e7\u00e3o \u00e0 partir de um bot\u00e3o"},{"location":"Ascamadasdotabuleiro/","text":"As camadas do tabuleiro \\< A escrever ...> Created with the Personal Edition of HelpNDoc: Produce electronic books easily","title":"As camadas do tabuleiro"},{"location":"Ascamadasdotabuleiro/#as-camadas-do-tabuleiro","text":"\\< A escrever ...> Created with the Personal Edition of HelpNDoc: Produce electronic books easily","title":"As camadas do tabuleiro"},{"location":"AsyncPromiselibrary/","text":"Async.Promise library Async.Promise library The Async.Promise library provides functions for handling asynchronous operations, such as loading a remote node database. All of these functions are contained in the \u201cAsync.Promise\u201d and/or \u201cPromise\u201d Lua tables found in the \u201casync.lua\u201d unit. Usage example: -- First, you need to use the \u201casync.lua\u201d unit require(\"async.lua\"); -- Now you can access the functions of the library. Async.Promise.LIBRARY_FUNCTION(Argument1, Argument2, ...); or Promise.LIBRARY_FUNCTION(Argument1, Argument2, ...); Async.Promise library functions function Async.Promise.resolved(data) function Promise.resolved(data) Creates and returns a Promise object that has already been successfully resolved with the provided \u201cdata\u201d argument Arguments: data - the value that was successfully resolved. This can be any information you want to pass as a successful return value Return: The new Promise object function Async.Promise.withError(errorMsg) function Async.Promise.withException(errorMsg) function Promise.withError(errorMsg) function Promise.withException(errorMsg) Creates and returns a Promise object that has already been resolved with a failure state and the provided error message Arguments: errorMsg - The error message that describes why the Promise resolved to a failed state. Return: The new Promise object Created with the Personal Edition of HelpNDoc: Eliminate the Struggles of Documentation with a Help Authoring Tool","title":"Async.Promise library"},{"location":"AsyncPromiselibrary/#asyncpromise-library","text":"","title":"Async.Promise library"},{"location":"AsyncPromiselibrary/#asyncpromise-library_1","text":"The Async.Promise library provides functions for handling asynchronous operations, such as loading a remote node database. All of these functions are contained in the \u201cAsync.Promise\u201d and/or \u201cPromise\u201d Lua tables found in the \u201casync.lua\u201d unit. Usage example: -- First, you need to use the \u201casync.lua\u201d unit require(\"async.lua\"); -- Now you can access the functions of the library. Async.Promise.LIBRARY_FUNCTION(Argument1, Argument2, ...); or Promise.LIBRARY_FUNCTION(Argument1, Argument2, ...);","title":"Async.Promise library"},{"location":"AsyncPromiselibrary/#asyncpromise-library-functions","text":"function Async.Promise.resolved(data) function Promise.resolved(data) Creates and returns a Promise object that has already been successfully resolved with the provided \u201cdata\u201d argument Arguments: data - the value that was successfully resolved. This can be any information you want to pass as a successful return value Return: The new Promise object function Async.Promise.withError(errorMsg) function Async.Promise.withException(errorMsg) function Promise.withError(errorMsg) function Promise.withException(errorMsg) Creates and returns a Promise object that has already been resolved with a failure state and the provided error message Arguments: errorMsg - The error message that describes why the Promise resolved to a failed state. Return: The new Promise object Created with the Personal Edition of HelpNDoc: Eliminate the Struggles of Documentation with a Help Authoring Tool","title":"Async.Promise library functions"},{"location":"BibliotecaDialogs/","text":"Biblioteca Dialogs Biblioteca Dialogs A biblioteca dialogs prov\u00ea fun\u00e7\u00f5es para exibir mensagens e interagir com o usu\u00e1rio atrav\u00e9s de di\u00e1logos. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Dialogs\" da unidade \"dialogs.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"dialogs.lua\" require(\"dialogs.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Dialogs.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca Dialogs function Dialogs.showMessage(msg [, callback]) ou function showMessage(msg [, callback]) Exibe uma mensagem de informa\u00e7\u00e3o para o usu\u00e1rio (um simples di\u00e1logo com o bot\u00e3o \"OK\"). Par\u00e2metros: msg \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio clicar em OK. Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser executar algo ap\u00f3s o usu\u00e1rio confirmar o di\u00e1logo, informe o par\u00e2metro \"callback\" function Dialogs.alert(msg [, callback]) ou function alert(msg [, callback]) Exibe uma mensagem de alerta para o usu\u00e1rio (um simples di\u00e1logo com \u00edcone de alerta e bot\u00e3o \"OK\"). Par\u00e2metros: msg \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio clicar em OK. Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser executar algo ap\u00f3s o usu\u00e1rio confirmar o di\u00e1logo, informe o par\u00e2metro \"callback\" function Dialogs.confirmOkCancel(question [, callback]) Exibe uma informa\u00e7\u00e3o na interface com os bot\u00f5es OK e CANCEL, permitindo o usu\u00e1rio optar por continuar ou por cancelar alguma a\u00e7\u00e3o. Par\u00e2metros: question \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro o valor true se o usu\u00e1rio tiver optado por \"OK\" ou false caso contr\u00e1rio. Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\". Exemplo: Dialogs.confirmOkCancel(\"Continuar ir\u00e1 acontecer X coisa\", function (confirmado) if confirmado then -- usuario escolheu OK else -- usu\u00e1rio escolheu CANCEL end ; end ); function Dialogs.confirmYesNo(question [, callback]) Exibe uma informa\u00e7\u00e3o na interface com os bot\u00f5es YES e NO, permitindo o usu\u00e1rio responder \"sim\" ou \"n\u00e3o\" a alguma pergunta. Par\u00e2metros: question \u2013 Uma cadeia de caracteres contendo a pergunta que dever\u00e1 ser exibida na interface. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro o valor true se o usu\u00e1rio tiver optado por \"SIM\" ou false caso contr\u00e1rio. Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\". Exemplo: Dialogs.confirmYesNo(\"Deseja realmente apagar este item?\", function (confirmado) if confirmado then -- usuario escolheu SIM else -- usu\u00e1rio escolheu NAO end ; end ); function Dialogs.showMessageDlg(message, dialogType, dialogButtons [, callback]) Exibe um di\u00e1logo customizado pelo programador na interface. Par\u00e2metros: message \u2013 Uma cadeia de caracteres contendo a mensagem que ser\u00e1 exibida na interface dialogType - O tipo de di\u00e1logo. Pode ser um dos seguintes valores: dialogs.DT_INFORMATION - uma informa\u00e7\u00e3o dialogs.DT_ERROR - um erro dialogs.DT_WARNING - um alerta dialogs.DT_CONFIRMATION - uma confirma\u00e7\u00e3o dialogButtons - Quais bot\u00f5es ser\u00e3o exibidos na interface. \u00c9 um arranjo/tabela lua contendo a combina\u00e7\u00e3o dos seguintes valores: dialogs.DB_YES dialogs.DB_NO dialogs.DB_OK dialogs.DB_CANCEL dialogs.DB_ABORT dialogs.DB_RETRY dialogs.DB_IGNORE dialogs.DB_CLOSE (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro qual bot\u00e3o foi pressionado. (Este valor \u00e9 um daqueles informados no par\u00e2metro dialogButtons). Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\". Nem toda combina\u00e7\u00e3o de bot\u00f5es s\u00e3o v\u00e1lidas. As combina\u00e7\u00f5es de bot\u00f5es v\u00e1lidas s\u00e3o: {dialogs.DB_OK} {dialogs.DB_OK, dialogs.DB_CANCEL} {dialogs.DB_YES, dialogs.DB_NO} {dialogs.DB_YES, dialogs.DB_NO, dialogs.DB_CANCEL} {dialogs.DB_ABORT, dialogs.DB_IGNORE, dialogs.DB_RETRY} {dialogs.DB_ABORT, dialogs.DB_IGNORE} Exemplo: Dialogs.showMessageDlg(\"O que fazer?\", dialogs.DT_WARNING, {dialogs.DB_ABORT, dialogs.DB_IGNORE, dialogs.DB_RETRY}, function (escolha) if escolha == dialogs.DB_ABORT then -- usuario escolheu ABORT elseif escolha == dialogs.DB_IGNORE then -- usu\u00e1rio escolheu IGNORE elseif escolha == dialogs.DB_RETRY then -- usu\u00e1rio escolheu RETRY * end ; end *); function Dialogs.inputQuery(caption, prompt[, initialValue [, confirmCallback [, cancelCallback, [, allowEmptyString]]]]) Exibe um di\u00e1logo para que o usu\u00e1rio preencha alguma informa\u00e7\u00e3o. Par\u00e2metros: caption \u2013 Cadeia de caracteres contendo o t\u00edtulo do di\u00e1logo prompt - Cadeia de caracteres que cont\u00e9m uma orienta\u00e7\u00e3o para que o usu\u00e1rio saiba o que deve digitar. Exemplo: \"Informe seu nome\". (OPCIONAL) initialValue - Cadeia de caracteres contendo o valor que j\u00e1 vir\u00e1 preenchido no di\u00e1logo. (OPCIONAL) confirmCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ap\u00f3s o usu\u00e1rio confirmar o preenchimento. O valor que foi informado pelo usu\u00e1rio \u00e9 passado no primeiro par\u00e2metro desta fun\u00e7\u00e3o. (OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada se o usu\u00e1rio cancelar o di\u00e1logo. (OPCIONAL) allowEmptyString - Um booleano indicando se o usu\u00e1rio pode informar uma cadeia de caracteres vazia. Se omitido, este par\u00e2metro \u00e9 interpretado como false . Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser saber qual foi a informa\u00e7\u00e3o preenchida pelo usu\u00e1rio, utilize os par\u00e2metros \"confirmCallback\" e/ou \"cancelCallback\". Exemplo: Dialogs.inputQuery(\"Cadastro\", \"Informe Seu Nome\", \"\", function (valorPreenchido) showMessage(\"O usuario preencheu: \" .. valorPreenchido); end , function () showMessage(\"O usu\u00e1rio cancelou\"); end ); function Dialogs.openFile(prompt[, accept [, multiple [, callback [, cancelCallback]]]]) Exibe um di\u00e1logo para que o usu\u00e1rio escolha um ou mais arquivos do seu computador/dispositivo para abrir. Par\u00e2metros: prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre qual arquivo ele deve selecionar. Exemplo: \"Escolha uma imagem\". (OPCIONAL) accept - Uma cadeia de caracteres usada para filtrar quais arquivos o usu\u00e1rio pode selecionar. Voc\u00ea pode passar aqui: \".\\<EXTENS\u00c3O>\" para filtrar arquivos de uma determinada extens\u00e3o. Exemplo: \".txt\", \".mp3\", \".png\", etc.. \"\\<MIME_TYPE>\" para filtrar arquivos pelo Media/Mime Type. Exemplos: \"image/png\", \"application/xml\", \"text/plain\", etc.. \"image/*\" para filtrar todos os formatos de imagens suportados pelo RRPG. \"*.*\" ou nil - Para aceitar qualquer tipo de arquivo. Uma lista das op\u00e7\u00f5es anteriores separadas por v\u00edrgula. Exemplos: \".png, .txt, .bmp\" - para aceitar arquivos de extens\u00f5es PNG, TXT e BMP \".html, text/plain, image/*\" - para aceitar arquivos HTML, arquivos de media type text/plain e tamb\u00e9m qualquer imagem. (OPCIONAL) multiple - true para permitir o usu\u00e1rio selecionar mais de um arquivo ao mesmo tempo ou false para permitir selecionar apenas um arquivo. Se omitido este valor, o padr\u00e3o \u00e9 \"false\". (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a sele\u00e7\u00e3o do(s) arquivo(s). Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um array de tabelas luas que cont\u00e9m cada uma: name - Uma propriedade contendo o nome curto do arquivo selecionado. Exemplos: \"Arquivo.txt\", \"Minha imagem de f\u00e9rias.png\", etc.. stream - Um objeto stream somente leitura contendo os dados do arquivo selecionado. (OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a sele\u00e7\u00e3o de arquivos. Observa\u00e7\u00f5es: Esta \u00e9 a \u00fanica maneira que o plug-in tem de obter acesso a arquivos do dispositivo do usu\u00e1rio. Se o par\u00e2metro \"multiple\" for false, a fun\u00e7\u00e3o \"callback\" sempre receber\u00e1 um array contendo 1 tabela lua descrevendo o arquivo selecionado. Se o par\u00e2metro \"multiple\" for true, o n\u00famero de tabelas neste array varia conforme a quantidade de arquivos selecionados. No FirecastMobile: Esta fun\u00e7\u00e3o s\u00f3 consegue abrir imagens da galeria do celular/tablet do usu\u00e1rio. Se o conte\u00fado do par\u00e2metro \"accept\" n\u00e3o aceitar imagens, o evento \"cancelCallback\" ser\u00e1 chamado imediatamente depois. Exemplos: Selecionando m\u00faltiplos arquivos de extens\u00e3o .txt e .html: Dialogs.openFile(\"Selecione os arquivos\", \".txt, .html\", true, function (arquivos) for i = 1, #arquivos, 1 do local arq = arquivos[i]; -- arq.name possui o nome do arquivo -- arq.stream possui o objeto stream do conte\u00fado end ; end ); Selecionando 1 arquivo de imagem: Dialogs.openFile(\"Selecione o arquivo de imagem\", \"image/*\", false, function (arquivos) local arq = arquivos[1]; -- arq.name possui o nome do arquivo -- arq.stream possui o objeto stream do conte\u00fado * end *); function Dialogs.saveFile(prompt, stream, [suggestedFileName [, mimeType [, callback [, cancelCallback]]]]) Exibe um di\u00e1logo para que o usu\u00e1rio possa salvar um arquivo em seu dispositivo. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre qual arquivo ele vai salvar. Exemplo: \"Salvar imagem do personagem\". stream - Um Um objeto stream contendo o que ser\u00e1 salvo no dispositivo do usu\u00e1rio. (OPCIONAL) suggestedFileName - Uma cadeia de caracteres contendo uma sugest\u00e3o de nome de arquivo para o usu\u00e1rio. Exemplo: \"novoArquivo.txt\" (OPCIONAL) mimeType - Uma cadeia de caracteres usada para definir o tipo de conte\u00fado que \"stream\" poss\u00fai. Exemplos: \"text/plain\" \"image/png\" \"image/jpeg\" \"application/octet-stream\" (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a grava\u00e7\u00e3o do arquivo (OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a grava\u00e7\u00e3o do arquivo. Alerta: Ap\u00f3s chamar saveFile, n\u00e3o altere e nem feche o objeto \"stream\" antes que \"callback\" ou \"cancelCallback\" seja invocado. O SDK mant\u00e9m uma refer\u00eancia ao stream at\u00e9 que o usu\u00e1rio decida gravar o arquivo e n\u00e3o \u00e9 seguro alter\u00e1-lo neste meio tempo. Observa\u00e7\u00f5es: Esta \u00e9 a \u00fanica maneira de salvar um arquivo no dispositivo do usu\u00e1rio. Recomenda-se informar os par\u00e2metros \"mimeType\" e \"suggestedFileName\" quando poss\u00edvel para que o SDK possa interagir com o usu\u00e1rio da melhor forma poss\u00edvel. Se voc\u00ea n\u00e3o informar mimeType, o SDK automaticamente o sugere conforme a extens\u00e3o de suggestedFileName. Se voc\u00ea n\u00e3o informar suggestedFileName, o SDK automaticamente sugere a extens\u00e3o do arquivo conforme mimeType. No Android: Esta fun\u00e7\u00e3o apresenta aquela cl\u00e1ssifca interface de \"compartilhar\" do sistema operacional. A fun\u00e7\u00e3o \"callback\" \u00e9 invocada imediatamente, n\u00e3o sendo poss\u00edvel saber se o usu\u00e1rio compartilhou ou n\u00e3o o conte\u00fado de stream. function Dialogs.selectImageURL(defaultURL, [, callback [, cancelCallback]]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma URL de uma imagem. Par\u00e2metros defaultURL - Uma cadeia de caracteres contendo uma URL que ser\u00e1 sugerida para o usu\u00e1rio. Pode ser nil ou vazia. (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a sele\u00e7\u00e3o de uma imagem. O primeiro par\u00e2metro desta fun\u00e7\u00e3o cont\u00e9m a URL escolhida pelo usu\u00e1rio. (OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a sele\u00e7\u00e3o de imagem. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o abre a tradicional interface de escolha de imagens do RRPG. Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe a imagem. A \u00fanica maneira de obter a URL escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\". Exemplo: Dialogs.selectImageURL(\"http://www.google.com/imagem_sugerida.png\", function (url) showMessage(\"Imagem selecionada: \" .. url); end , function () showMessage(\"O usu\u00e1rio cancelou a janela\"); end ); function Dialogs.choose(prompt, options, callback [, defaultOptionIndex, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma op\u00e7\u00e3o dentre uma lista de op\u00e7\u00f5es. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. options - Um array/arranjo de cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio. callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio fizer a escolha ou quando ele cancelar a escolha. A fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: selected - Um valor booleano (true ou false) indicando se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o ou se cancelou o di\u00e1logo selectedIndex - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um n\u00famero representando o \u00edndice do array \"options\" que representa qual op\u00e7\u00e3o o usu\u00e1rio escolheu. Lembre-se que em Lua o \u00edndice de arrays come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0. Se o usu\u00e1rio cancelou o di\u00e1logo, este par\u00e2metro conter\u00e1 nil . selectedText - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe o texto da op\u00e7\u00e3o escolhida conforme o par\u00e2metro \"options\". Se o usu\u00e1rio cancelou o dialogo, este par\u00e2metro conter\u00e1 nil . (OPCIONAL) defaultOptionIndex - Um n\u00famero contendo um \u00edndice informado qual dos itens de \"options\" deve ser apresentado como a escolha padr\u00e3o. Se n\u00e3o informado, nenhuma op\u00e7\u00e3o ser\u00e1 mostrada como padr\u00e3o. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas uma op\u00e7\u00e3o a ser mostrada ao usuario, a interface n\u00e3o \u00e9 exibida e esta op\u00e7ao \u00e9 automaticamente selecionada. Se n\u00e3o informado, este par\u00e2metro assume o valor false. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe. A \u00fanica maneira de obter a resposta escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\". Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a fun\u00e7\u00e3o callback ser\u00e1 imediatamente chamada como se o usu\u00e1rio tivesse cancelado a escolha. Exemplo: Dialogs.choose(\"Selecione uma das op\u00e7\u00f5es\", {\"Op\u00e7\u00e3o 1\", \"Op\u00e7\u00e3o 2\", \"Op\u00e7\u00e3o 3\"}, function (selected, selectedIndex, selectedText) if selected then showMessage(\"O usu\u00e1rio selecionou \u00edndice \" .. tostring(selectedIndex) .. \": \" .. selectedText); else showMessage(\"O usu\u00e1rio cancelou\"); end ; end ) function Dialogs.chooseMultiple(prompt, options, callback) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma ou mais op\u00e7\u00f5es dentre uma lista de op\u00e7\u00f5es. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. options - Um array/arranjo de cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio. callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio fizer a escolha ou quando ele cancelar a escolha. A fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: selected - Um valor booleano (true ou false) indicando se o usu\u00e1rio selecionou ao menos uma op\u00e7\u00e3o ou se cancelou o di\u00e1logo selectedIndexes - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um array de n\u00fameros representando os \u00edndices do array \"options\" que representa quais op\u00e7\u00f5es o usu\u00e1rio escolheu. Lembre-se que em Lua o \u00edndice de arrays come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0. Se o usu\u00e1rio cancelou o di\u00e1logo, este par\u00e2metro conter\u00e1 nil . selectedText - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um array de textos das op\u00e7\u00f5es escolhida conforme o par\u00e2metro \"options\". Se o usu\u00e1rio cancelou o dialogo, este par\u00e2metro conter\u00e1 nil . Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe. A \u00fanica maneira de obter a resposta escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\". Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a fun\u00e7\u00e3o callback ser\u00e1 imediatamente chamada como se o usu\u00e1rio tivesse cancelado a escolha. Exemplo: Dialogs.chooseMultiple(\"Selecione uma ou mais op\u00e7\u00f5es\", {\"Op\u00e7\u00e3o 1\", \"Op\u00e7\u00e3o 2\", \"Op\u00e7\u00e3o 3\"}, function (selected, selectedIndexes, selectedTexts) if selected then showMessage(\"O usu\u00e1rio selecionou os \u00edndices \" .. tableToStr(selectedIndexes) .. \": \" .. tableToStr(selectedTexts)); else showMessage(\"O usu\u00e1rio cancelou\"); end ; end ) Created with the Personal Edition of HelpNDoc: Effortlessly create a professional-quality documentation website with HelpNDoc","title":"Biblioteca Dialogs"},{"location":"BibliotecaDialogs/#biblioteca-dialogs","text":"","title":"Biblioteca Dialogs"},{"location":"BibliotecaDialogs/#biblioteca-dialogs_1","text":"A biblioteca dialogs prov\u00ea fun\u00e7\u00f5es para exibir mensagens e interagir com o usu\u00e1rio atrav\u00e9s de di\u00e1logos. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Dialogs\" da unidade \"dialogs.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"dialogs.lua\" require(\"dialogs.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Dialogs.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca Dialogs"},{"location":"BibliotecaDialogs/#funcoes-da-biblioteca-dialogs","text":"function Dialogs.showMessage(msg [, callback]) ou function showMessage(msg [, callback]) Exibe uma mensagem de informa\u00e7\u00e3o para o usu\u00e1rio (um simples di\u00e1logo com o bot\u00e3o \"OK\"). Par\u00e2metros: msg \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio clicar em OK. Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser executar algo ap\u00f3s o usu\u00e1rio confirmar o di\u00e1logo, informe o par\u00e2metro \"callback\" function Dialogs.alert(msg [, callback]) ou function alert(msg [, callback]) Exibe uma mensagem de alerta para o usu\u00e1rio (um simples di\u00e1logo com \u00edcone de alerta e bot\u00e3o \"OK\"). Par\u00e2metros: msg \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio clicar em OK. Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser executar algo ap\u00f3s o usu\u00e1rio confirmar o di\u00e1logo, informe o par\u00e2metro \"callback\" function Dialogs.confirmOkCancel(question [, callback]) Exibe uma informa\u00e7\u00e3o na interface com os bot\u00f5es OK e CANCEL, permitindo o usu\u00e1rio optar por continuar ou por cancelar alguma a\u00e7\u00e3o. Par\u00e2metros: question \u2013 Uma cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida na interface. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro o valor true se o usu\u00e1rio tiver optado por \"OK\" ou false caso contr\u00e1rio. Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\". Exemplo: Dialogs.confirmOkCancel(\"Continuar ir\u00e1 acontecer X coisa\", function (confirmado) if confirmado then -- usuario escolheu OK else -- usu\u00e1rio escolheu CANCEL end ; end ); function Dialogs.confirmYesNo(question [, callback]) Exibe uma informa\u00e7\u00e3o na interface com os bot\u00f5es YES e NO, permitindo o usu\u00e1rio responder \"sim\" ou \"n\u00e3o\" a alguma pergunta. Par\u00e2metros: question \u2013 Uma cadeia de caracteres contendo a pergunta que dever\u00e1 ser exibida na interface. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro o valor true se o usu\u00e1rio tiver optado por \"SIM\" ou false caso contr\u00e1rio. Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\". Exemplo: Dialogs.confirmYesNo(\"Deseja realmente apagar este item?\", function (confirmado) if confirmado then -- usuario escolheu SIM else -- usu\u00e1rio escolheu NAO end ; end ); function Dialogs.showMessageDlg(message, dialogType, dialogButtons [, callback]) Exibe um di\u00e1logo customizado pelo programador na interface. Par\u00e2metros: message \u2013 Uma cadeia de caracteres contendo a mensagem que ser\u00e1 exibida na interface dialogType - O tipo de di\u00e1logo. Pode ser um dos seguintes valores: dialogs.DT_INFORMATION - uma informa\u00e7\u00e3o dialogs.DT_ERROR - um erro dialogs.DT_WARNING - um alerta dialogs.DT_CONFIRMATION - uma confirma\u00e7\u00e3o dialogButtons - Quais bot\u00f5es ser\u00e3o exibidos na interface. \u00c9 um arranjo/tabela lua contendo a combina\u00e7\u00e3o dos seguintes valores: dialogs.DB_YES dialogs.DB_NO dialogs.DB_OK dialogs.DB_CANCEL dialogs.DB_ABORT dialogs.DB_RETRY dialogs.DB_IGNORE dialogs.DB_CLOSE (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada ap\u00f3s o usu\u00e1rio se decidir. Esta fun\u00e7\u00e3o receber\u00e1 no primeiro par\u00e2metro qual bot\u00e3o foi pressionado. (Este valor \u00e9 um daqueles informados no par\u00e2metro dialogButtons). Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser saber qual foi a escolha do usu\u00e1rio, utilize o par\u00e2metro \"callback\". Nem toda combina\u00e7\u00e3o de bot\u00f5es s\u00e3o v\u00e1lidas. As combina\u00e7\u00f5es de bot\u00f5es v\u00e1lidas s\u00e3o: {dialogs.DB_OK} {dialogs.DB_OK, dialogs.DB_CANCEL} {dialogs.DB_YES, dialogs.DB_NO} {dialogs.DB_YES, dialogs.DB_NO, dialogs.DB_CANCEL} {dialogs.DB_ABORT, dialogs.DB_IGNORE, dialogs.DB_RETRY} {dialogs.DB_ABORT, dialogs.DB_IGNORE} Exemplo: Dialogs.showMessageDlg(\"O que fazer?\", dialogs.DT_WARNING, {dialogs.DB_ABORT, dialogs.DB_IGNORE, dialogs.DB_RETRY}, function (escolha) if escolha == dialogs.DB_ABORT then -- usuario escolheu ABORT elseif escolha == dialogs.DB_IGNORE then -- usu\u00e1rio escolheu IGNORE elseif escolha == dialogs.DB_RETRY then -- usu\u00e1rio escolheu RETRY * end ; end *); function Dialogs.inputQuery(caption, prompt[, initialValue [, confirmCallback [, cancelCallback, [, allowEmptyString]]]]) Exibe um di\u00e1logo para que o usu\u00e1rio preencha alguma informa\u00e7\u00e3o. Par\u00e2metros: caption \u2013 Cadeia de caracteres contendo o t\u00edtulo do di\u00e1logo prompt - Cadeia de caracteres que cont\u00e9m uma orienta\u00e7\u00e3o para que o usu\u00e1rio saiba o que deve digitar. Exemplo: \"Informe seu nome\". (OPCIONAL) initialValue - Cadeia de caracteres contendo o valor que j\u00e1 vir\u00e1 preenchido no di\u00e1logo. (OPCIONAL) confirmCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ap\u00f3s o usu\u00e1rio confirmar o preenchimento. O valor que foi informado pelo usu\u00e1rio \u00e9 passado no primeiro par\u00e2metro desta fun\u00e7\u00e3o. (OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada se o usu\u00e1rio cancelar o di\u00e1logo. (OPCIONAL) allowEmptyString - Um booleano indicando se o usu\u00e1rio pode informar uma cadeia de caracteres vazia. Se omitido, este par\u00e2metro \u00e9 interpretado como false . Retorno: \\ N\u00e3o retorna nenhum valor. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o usu\u00e1rio responder o di\u00e1logo para continuar, Isto \u00e9, o di\u00e1logo \u00e9 apresentado na interface e o c\u00f3digo LUA continua a sua execu\u00e7\u00e3o normal enquanto isso. Se quiser saber qual foi a informa\u00e7\u00e3o preenchida pelo usu\u00e1rio, utilize os par\u00e2metros \"confirmCallback\" e/ou \"cancelCallback\". Exemplo: Dialogs.inputQuery(\"Cadastro\", \"Informe Seu Nome\", \"\", function (valorPreenchido) showMessage(\"O usuario preencheu: \" .. valorPreenchido); end , function () showMessage(\"O usu\u00e1rio cancelou\"); end ); function Dialogs.openFile(prompt[, accept [, multiple [, callback [, cancelCallback]]]]) Exibe um di\u00e1logo para que o usu\u00e1rio escolha um ou mais arquivos do seu computador/dispositivo para abrir. Par\u00e2metros: prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre qual arquivo ele deve selecionar. Exemplo: \"Escolha uma imagem\". (OPCIONAL) accept - Uma cadeia de caracteres usada para filtrar quais arquivos o usu\u00e1rio pode selecionar. Voc\u00ea pode passar aqui: \".\\<EXTENS\u00c3O>\" para filtrar arquivos de uma determinada extens\u00e3o. Exemplo: \".txt\", \".mp3\", \".png\", etc.. \"\\<MIME_TYPE>\" para filtrar arquivos pelo Media/Mime Type. Exemplos: \"image/png\", \"application/xml\", \"text/plain\", etc.. \"image/*\" para filtrar todos os formatos de imagens suportados pelo RRPG. \"*.*\" ou nil - Para aceitar qualquer tipo de arquivo. Uma lista das op\u00e7\u00f5es anteriores separadas por v\u00edrgula. Exemplos: \".png, .txt, .bmp\" - para aceitar arquivos de extens\u00f5es PNG, TXT e BMP \".html, text/plain, image/*\" - para aceitar arquivos HTML, arquivos de media type text/plain e tamb\u00e9m qualquer imagem. (OPCIONAL) multiple - true para permitir o usu\u00e1rio selecionar mais de um arquivo ao mesmo tempo ou false para permitir selecionar apenas um arquivo. Se omitido este valor, o padr\u00e3o \u00e9 \"false\". (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a sele\u00e7\u00e3o do(s) arquivo(s). Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um array de tabelas luas que cont\u00e9m cada uma: name - Uma propriedade contendo o nome curto do arquivo selecionado. Exemplos: \"Arquivo.txt\", \"Minha imagem de f\u00e9rias.png\", etc.. stream - Um objeto stream somente leitura contendo os dados do arquivo selecionado. (OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a sele\u00e7\u00e3o de arquivos. Observa\u00e7\u00f5es: Esta \u00e9 a \u00fanica maneira que o plug-in tem de obter acesso a arquivos do dispositivo do usu\u00e1rio. Se o par\u00e2metro \"multiple\" for false, a fun\u00e7\u00e3o \"callback\" sempre receber\u00e1 um array contendo 1 tabela lua descrevendo o arquivo selecionado. Se o par\u00e2metro \"multiple\" for true, o n\u00famero de tabelas neste array varia conforme a quantidade de arquivos selecionados. No FirecastMobile: Esta fun\u00e7\u00e3o s\u00f3 consegue abrir imagens da galeria do celular/tablet do usu\u00e1rio. Se o conte\u00fado do par\u00e2metro \"accept\" n\u00e3o aceitar imagens, o evento \"cancelCallback\" ser\u00e1 chamado imediatamente depois. Exemplos: Selecionando m\u00faltiplos arquivos de extens\u00e3o .txt e .html: Dialogs.openFile(\"Selecione os arquivos\", \".txt, .html\", true, function (arquivos) for i = 1, #arquivos, 1 do local arq = arquivos[i]; -- arq.name possui o nome do arquivo -- arq.stream possui o objeto stream do conte\u00fado end ; end ); Selecionando 1 arquivo de imagem: Dialogs.openFile(\"Selecione o arquivo de imagem\", \"image/*\", false, function (arquivos) local arq = arquivos[1]; -- arq.name possui o nome do arquivo -- arq.stream possui o objeto stream do conte\u00fado * end *); function Dialogs.saveFile(prompt, stream, [suggestedFileName [, mimeType [, callback [, cancelCallback]]]]) Exibe um di\u00e1logo para que o usu\u00e1rio possa salvar um arquivo em seu dispositivo. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre qual arquivo ele vai salvar. Exemplo: \"Salvar imagem do personagem\". stream - Um Um objeto stream contendo o que ser\u00e1 salvo no dispositivo do usu\u00e1rio. (OPCIONAL) suggestedFileName - Uma cadeia de caracteres contendo uma sugest\u00e3o de nome de arquivo para o usu\u00e1rio. Exemplo: \"novoArquivo.txt\" (OPCIONAL) mimeType - Uma cadeia de caracteres usada para definir o tipo de conte\u00fado que \"stream\" poss\u00fai. Exemplos: \"text/plain\" \"image/png\" \"image/jpeg\" \"application/octet-stream\" (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a grava\u00e7\u00e3o do arquivo (OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a grava\u00e7\u00e3o do arquivo. Alerta: Ap\u00f3s chamar saveFile, n\u00e3o altere e nem feche o objeto \"stream\" antes que \"callback\" ou \"cancelCallback\" seja invocado. O SDK mant\u00e9m uma refer\u00eancia ao stream at\u00e9 que o usu\u00e1rio decida gravar o arquivo e n\u00e3o \u00e9 seguro alter\u00e1-lo neste meio tempo. Observa\u00e7\u00f5es: Esta \u00e9 a \u00fanica maneira de salvar um arquivo no dispositivo do usu\u00e1rio. Recomenda-se informar os par\u00e2metros \"mimeType\" e \"suggestedFileName\" quando poss\u00edvel para que o SDK possa interagir com o usu\u00e1rio da melhor forma poss\u00edvel. Se voc\u00ea n\u00e3o informar mimeType, o SDK automaticamente o sugere conforme a extens\u00e3o de suggestedFileName. Se voc\u00ea n\u00e3o informar suggestedFileName, o SDK automaticamente sugere a extens\u00e3o do arquivo conforme mimeType. No Android: Esta fun\u00e7\u00e3o apresenta aquela cl\u00e1ssifca interface de \"compartilhar\" do sistema operacional. A fun\u00e7\u00e3o \"callback\" \u00e9 invocada imediatamente, n\u00e3o sendo poss\u00edvel saber se o usu\u00e1rio compartilhou ou n\u00e3o o conte\u00fado de stream. function Dialogs.selectImageURL(defaultURL, [, callback [, cancelCallback]]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma URL de uma imagem. Par\u00e2metros defaultURL - Uma cadeia de caracteres contendo uma URL que ser\u00e1 sugerida para o usu\u00e1rio. Pode ser nil ou vazia. (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio confirmar a sele\u00e7\u00e3o de uma imagem. O primeiro par\u00e2metro desta fun\u00e7\u00e3o cont\u00e9m a URL escolhida pelo usu\u00e1rio. (OPCIONAL) cancelCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio cancelar a sele\u00e7\u00e3o de imagem. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o abre a tradicional interface de escolha de imagens do RRPG. Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe a imagem. A \u00fanica maneira de obter a URL escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\". Exemplo: Dialogs.selectImageURL(\"http://www.google.com/imagem_sugerida.png\", function (url) showMessage(\"Imagem selecionada: \" .. url); end , function () showMessage(\"O usu\u00e1rio cancelou a janela\"); end ); function Dialogs.choose(prompt, options, callback [, defaultOptionIndex, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma op\u00e7\u00e3o dentre uma lista de op\u00e7\u00f5es. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. options - Um array/arranjo de cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio. callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio fizer a escolha ou quando ele cancelar a escolha. A fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: selected - Um valor booleano (true ou false) indicando se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o ou se cancelou o di\u00e1logo selectedIndex - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um n\u00famero representando o \u00edndice do array \"options\" que representa qual op\u00e7\u00e3o o usu\u00e1rio escolheu. Lembre-se que em Lua o \u00edndice de arrays come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0. Se o usu\u00e1rio cancelou o di\u00e1logo, este par\u00e2metro conter\u00e1 nil . selectedText - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe o texto da op\u00e7\u00e3o escolhida conforme o par\u00e2metro \"options\". Se o usu\u00e1rio cancelou o dialogo, este par\u00e2metro conter\u00e1 nil . (OPCIONAL) defaultOptionIndex - Um n\u00famero contendo um \u00edndice informado qual dos itens de \"options\" deve ser apresentado como a escolha padr\u00e3o. Se n\u00e3o informado, nenhuma op\u00e7\u00e3o ser\u00e1 mostrada como padr\u00e3o. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas uma op\u00e7\u00e3o a ser mostrada ao usuario, a interface n\u00e3o \u00e9 exibida e esta op\u00e7ao \u00e9 automaticamente selecionada. Se n\u00e3o informado, este par\u00e2metro assume o valor false. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe. A \u00fanica maneira de obter a resposta escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\". Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a fun\u00e7\u00e3o callback ser\u00e1 imediatamente chamada como se o usu\u00e1rio tivesse cancelado a escolha. Exemplo: Dialogs.choose(\"Selecione uma das op\u00e7\u00f5es\", {\"Op\u00e7\u00e3o 1\", \"Op\u00e7\u00e3o 2\", \"Op\u00e7\u00e3o 3\"}, function (selected, selectedIndex, selectedText) if selected then showMessage(\"O usu\u00e1rio selecionou \u00edndice \" .. tostring(selectedIndex) .. \": \" .. selectedText); else showMessage(\"O usu\u00e1rio cancelou\"); end ; end ) function Dialogs.chooseMultiple(prompt, options, callback) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma ou mais op\u00e7\u00f5es dentre uma lista de op\u00e7\u00f5es. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. options - Um array/arranjo de cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio. callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o usu\u00e1rio fizer a escolha ou quando ele cancelar a escolha. A fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: selected - Um valor booleano (true ou false) indicando se o usu\u00e1rio selecionou ao menos uma op\u00e7\u00e3o ou se cancelou o di\u00e1logo selectedIndexes - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um array de n\u00fameros representando os \u00edndices do array \"options\" que representa quais op\u00e7\u00f5es o usu\u00e1rio escolheu. Lembre-se que em Lua o \u00edndice de arrays come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0. Se o usu\u00e1rio cancelou o di\u00e1logo, este par\u00e2metro conter\u00e1 nil . selectedText - Se o usu\u00e1rio selecionou alguma op\u00e7\u00e3o, este par\u00e2metro recebe um array de textos das op\u00e7\u00f5es escolhida conforme o par\u00e2metro \"options\". Se o usu\u00e1rio cancelou o dialogo, este par\u00e2metro conter\u00e1 nil . Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona. Ou seja, o c\u00f3digo continua sua execu\u00e7\u00e3o enquanto o usu\u00e1rio escolhe. A \u00fanica maneira de obter a resposta escolhida pelo usu\u00e1rio \u00e9 atrav\u00e9s do par\u00e2metro \"callback\". Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a fun\u00e7\u00e3o callback ser\u00e1 imediatamente chamada como se o usu\u00e1rio tivesse cancelado a escolha. Exemplo: Dialogs.chooseMultiple(\"Selecione uma ou mais op\u00e7\u00f5es\", {\"Op\u00e7\u00e3o 1\", \"Op\u00e7\u00e3o 2\", \"Op\u00e7\u00e3o 3\"}, function (selected, selectedIndexes, selectedTexts) if selected then showMessage(\"O usu\u00e1rio selecionou os \u00edndices \" .. tableToStr(selectedIndexes) .. \": \" .. tableToStr(selectedTexts)); else showMessage(\"O usu\u00e1rio cancelou\"); end ; end ) Created with the Personal Edition of HelpNDoc: Effortlessly create a professional-quality documentation website with HelpNDoc","title":"Fun\u00e7\u00f5es da biblioteca Dialogs"},{"location":"BibliotecaFireDrive/","text":"Biblioteca FireDrive Biblioteca FireDrive A biblioteca fireDrive prov\u00ea fun\u00e7\u00f5es para manipular e gerenciar o fireDrive do usu\u00e1rio. O FireDrive \u00e9 um recurso do Firecast que permite armazenar arquivos na nuvem, compartilhar e utilizar arquivos compartilhados por outros usu\u00e1rios. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"FireDrive\" da unidade \"fireDrive.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"fireDrive.lua\" require(\"fireDrive.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca FireDrive.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Estrutura FireDriveItem Algumas fun\u00e7\u00f5es desta biblioteca retornam um ou mais FireDriveItem(s). Um FireDriveItem \u00e9 tabela lua cont\u00e9m detalhes de um arquivo/diret\u00f3rio existente no FireDrive do usu\u00e1rio. O FireDriveItem \u00e9 uma tabela Lua que cont\u00e9m as seguintes propriedades/atributos: id - N\u00famero que identifica unicamente este item. name - Cadeia de caracteres contendo o nome do arquivo/diret\u00f3rio. Se o caminho do arquivo for \"/diretorio/subpasta/arquivo.txt\", esta propriedade conter\u00e1 \"arquivo.txt\" isDir - Um booleano, onde true significa que o item \u00e9 um diret\u00f3rio e false significa que o item \u00e9 um arquivo. kind - Uma cadeia de caracteres que identifica o tipo deste item. Pode conter um dos seguintes valores: \"dir\" - Um diret\u00f3rio \"file\" - Um arquivo simples \"plugin\" - Um arquivo de plug-in parentId - Id \u00fanico que identifica em qual diret\u00f3rio este item se encontra. Se o arquivo estiver na raiz do FireDrive (exemplo: \"/arquivo.txt\"), este atributo cont\u00e9m nil . size - N\u00famero identificando quantos bytes este arquivo ocupa no FireDrive do usu\u00e1rio. isShared - Booleano, onde true significa que este item est\u00e1 compartilhado com todos do Firecast, ou false significando que o item n\u00e3o est\u00e1 acess\u00edvel para outros. isMine - Booleano, onde true significa que o usu\u00e1rio criou o item, e false significa que o item foi criado por outra pessoa e foi importado. sharedId - N\u00famero que identifica este item unicamente e globalmente no Firecast. \u00c9 utilizado para compartilhar arquivos com outras pessoas do programa. keyWords - Cadeia de caracteres contendo as palavras chaves do item description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do item url - Se for um arquivo, cont\u00e9m a URL para baixar seus dados. mimeType - Se for um arquivo, cont\u00e9m o MIME/Content-Type do arquivo. (Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc..); urlThumb64 - Se preenchido, cont\u00e9m A URL de uma imagem thumbnail do item. Este thumbnail cabe em quadrado de 64x64 de forma a manter o aspecto da imagem. Fun\u00e7\u00f5es da biblioteca FireDrive function FireDrive.getFiles(directory[, callback[, failureCallback]]) Obt\u00e9m a lista de arquivos e diret\u00f3rios que est\u00e3o dentro de uma pasta no FireDrive do usu\u00e1rio. Par\u00e2metros: directory - Uma cadeia de caracteres contendo um caminho de uma pasta que existe no FireDrive do usu\u00e1rio. O conte\u00fado desta pasta ser\u00e1 enumerada. Exemplos: Se quiser enumerar o conte\u00fado da raiz do FireDrive, utilize \"/\" Se quiser enumerar o conte\u00fado da pasta \"imagens\", utilize \"/imagens\". Se quiser enumerar o conte\u00fado da subpasta \"medievais\" da pasta \"imagens\", utilize \"/imagens/medievais\" (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a lista de arquivos/diret\u00f3rios tiver sido obtida com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um arranjo de FireDriveItem (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a lista de arquivos/diret\u00f3rios n\u00e3o puder ser obtida. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. function FireDrive.refresh([, callback[, failureCallback]]) Durante a execu\u00e7\u00e3o, o FireDrive mant\u00e9m algumas informa\u00e7\u00f5es em cache na mem\u00f3ria, como a lista dos arquivos de cada pasta do FireDrive. Esta fun\u00e7\u00e3o for\u00e7a a atualiza\u00e7\u00e3o destas informa\u00e7\u00f5es que est\u00e3o guardas em cache na mem\u00f3ria. Par\u00e2metros: (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a atualiza\u00e7\u00e3o tiver sido executada com sucesso. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a atualiza\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. function FireDrive.getFileInfo(fileName[, callback[, failureCallback]]) Obt\u00e9m informa\u00e7\u00f5es de um arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio. Par\u00e2metros: fileName - Uma cadeia de caracteres contendo o caminho de um arquivo/diret\u00f3rio que existe no FireDrive do usu\u00e1rio. Ser\u00e3o retornadas as informa\u00e7\u00f5es deste arquivo. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando as informa\u00e7\u00f5es tiverem sido obtidas com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo ou nil caso n\u00e3o exista. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. function FireDrive.upload(destFileName, stream[, successCallback[, progressCallback[, failureCallback[, mimeType]]]]) Efetua o upload de um conte\u00fado/arquivo para o FireDrive do usu\u00e1rio. Par\u00e2metros: destFileName - Uma cadeia de caracteres contendo o caminho de um arquivo no FireDrive do usu\u00e1rio onde os dados ser\u00e3o salvos. stream - Um objeto Stream contendo os dados que ser\u00e3o enviados e salvos no servidor. (OPCIONAL) successCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o upload tiver sido feito com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo no servidor. (OPCIONAL) progressCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada de tempos em tempos informando o progresso do envio do arquivo. A fun\u00e7\u00e3o recebe 2 par\u00e2metros: currentBytes e maxBytes, representando, respectivamente, quantos bytes j\u00e1 foram enviados e quantos bytes ser\u00e3o enviados no final das contas. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. (OPCIONAL) mimeType - Uma cadeia de caracteres contendo o mimeType/contentType do dados. Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc... Se n\u00e3o informado, o fireDrive automaticamente definir\u00e1 o mimeType com base na extens\u00e3o do arquivo destino. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"successCallback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. Se o arquivo j\u00e1 existir no FireDrive do usu\u00e1rio, esta fun\u00e7\u00e3o sobrescreve seu conte\u00fado e n\u00e3o reporta falha. function FireDrive.quickUpload(suggestedFileName, mimeType, stream[, successCallback[, progressCallback[, failureCallback]]]) Efetua o upload de um conte\u00fado/arquivo para o FireDrive do Firecast de forma descomplicada que ser\u00e1 armazenado temporariamente . Par\u00e2metros: suggestedFileName - Uma cadeia de caracteres contendo uma sugest\u00e3o de nome de arquivo para ser armazenado. \\ Pode ser nil : neste caso, o FireDrive criar\u00e1 um nome aleat\u00f3rio para o upload. mimeType - Uma cadeia de caracteres contendo o mimeType/contentType do dados. Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc... \\ Pode ser passado nil como par\u00e2metro: Neste caso, o fireDrive automaticamente definir\u00e1 o mimeType com base na extens\u00e3o de \" suggestedFileName \". stream - Um objeto Stream contendo os dados que ser\u00e3o enviados e salvos no servidor. (OPCIONAL) successCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o upload tiver sido feito com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo no servidor. (OPCIONAL) progressCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada de tempos em tempos informando o progresso do envio do arquivo. A fun\u00e7\u00e3o recebe 2 par\u00e2metros: currentBytes e maxBytes, representando, respectivamente, quantos bytes j\u00e1 foram enviados e quantos bytes ser\u00e3o enviados no final das contas. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"successCallback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. O upload \u00e9 armazenado em um espa\u00e7o tempor\u00e1rio do Firecast. Ele n\u00e3o ser\u00e1 visto na pasta FireDrive do usu\u00e1rio. Lembre-se: Este upload tem caracter\u00edsticas tempor\u00e1rias. O Firecast poder\u00e1 excluir o upload, sem aviso pr\u00e9vio, ap\u00f3s algum tempo. N\u00e3o \u00e9 poss\u00edvel fazer o upload se ambos os par\u00e2metros \" suggestedFileName \" e \" mimeType \" n\u00e3o forem informados corretamente. Ao menos um deles deve ser informado corretamente. function FireDrive.createDirectory(directoryName, [, callback[, failureCallback]]) Cria um diret\u00f3rio no FireDrive do usu\u00e1rio. Par\u00e2metros: directoryName - Uma cadeia de caracteres contendo o caminho do diret\u00f3rio que ser\u00e1 criado no FireDrive do usu\u00e1rio. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o diret\u00f3rio tiver sido criado com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do diret\u00f3rio no servidor. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. Se o diret\u00f3rio j\u00e1 existir no FireDrive do usu\u00e1rio, ele \u00e9 preservado no servidor sem altera\u00e7\u00f5es e a fun\u00e7\u00e3o \"callback\" \u00e9 invocada sinalizando \u00eaxito. function FireDrive.delete(destFileName, [, callback[, failureCallback]]) Exclui um arquivo ou diret\u00f3rio do FireDrive do usu\u00e1rio. Par\u00e2metros: destFileName - Uma cadeia de caracteres contendo o caminho do arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio que ser\u00e1 removido; (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a opera\u00e7\u00e3o tiver sido realizada com sucesso. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. Se for removido um diret\u00f3rio, todo seu conte\u00fado, pastas e sub-pastas ser\u00e3o exclu\u00eddos juntos com esta opera\u00e7\u00e3o. function FireDrive.rename(existingFileName, newFileName [, callback[, failureCallback]]) Renomeia/move um arquivo ou diret\u00f3rio do FireDrive do usu\u00e1rio. Par\u00e2metros: existingFileName - Uma cadeia de caracteres contendo o caminho do arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio que ser\u00e1 renomeado/movido; newFileName - Uma cadeia de caracteres contendo o novo caminho do arquivo/diret\u00f3rio. Este par\u00e2metro deve conter o novo caminho completo do arquivo/diret\u00f3rio. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a opera\u00e7\u00e3o tiver sido realizada com sucesso. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. O valor \"newFileName\" deve conter o novo caminho completo do arquivo. \u00c9 poss\u00edvel mover o arquivo atrav\u00e9s deste m\u00e9todo, basta especificar uma outra pasta para o par\u00e2metro \"newFileName\", exemplo: existingFileName=\"/pasta1/x.txt\" e newFileName=\"/nova_pasta/x.txt\". function FireDrive.getSpaceInfo(callback[, failureCallback]); Retorna as informa\u00e7\u00f5es de espa\u00e7o do FireDrive do usu\u00e1rio. Par\u00e2metros: callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando as informa\u00e7\u00f5es de espa\u00e7o do FireDrive forem obtidas. A fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro uma tabela Lua com as seguintes propriedades: used - Quantidade de bytes usados no armazenamento do FireDrive do usu\u00e1rio total - Quantidade total de bytes que o usu\u00e1rio pode armazenar no FireDrive. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. Created with the Personal Edition of HelpNDoc: Revolutionize Your CHM Help File Output with HelpNDoc","title":"Biblioteca FireDrive"},{"location":"BibliotecaFireDrive/#biblioteca-firedrive","text":"","title":"Biblioteca FireDrive"},{"location":"BibliotecaFireDrive/#biblioteca-firedrive_1","text":"A biblioteca fireDrive prov\u00ea fun\u00e7\u00f5es para manipular e gerenciar o fireDrive do usu\u00e1rio. O FireDrive \u00e9 um recurso do Firecast que permite armazenar arquivos na nuvem, compartilhar e utilizar arquivos compartilhados por outros usu\u00e1rios. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"FireDrive\" da unidade \"fireDrive.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"fireDrive.lua\" require(\"fireDrive.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca FireDrive.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca FireDrive"},{"location":"BibliotecaFireDrive/#estrutura-firedriveitem","text":"Algumas fun\u00e7\u00f5es desta biblioteca retornam um ou mais FireDriveItem(s). Um FireDriveItem \u00e9 tabela lua cont\u00e9m detalhes de um arquivo/diret\u00f3rio existente no FireDrive do usu\u00e1rio. O FireDriveItem \u00e9 uma tabela Lua que cont\u00e9m as seguintes propriedades/atributos: id - N\u00famero que identifica unicamente este item. name - Cadeia de caracteres contendo o nome do arquivo/diret\u00f3rio. Se o caminho do arquivo for \"/diretorio/subpasta/arquivo.txt\", esta propriedade conter\u00e1 \"arquivo.txt\" isDir - Um booleano, onde true significa que o item \u00e9 um diret\u00f3rio e false significa que o item \u00e9 um arquivo. kind - Uma cadeia de caracteres que identifica o tipo deste item. Pode conter um dos seguintes valores: \"dir\" - Um diret\u00f3rio \"file\" - Um arquivo simples \"plugin\" - Um arquivo de plug-in parentId - Id \u00fanico que identifica em qual diret\u00f3rio este item se encontra. Se o arquivo estiver na raiz do FireDrive (exemplo: \"/arquivo.txt\"), este atributo cont\u00e9m nil . size - N\u00famero identificando quantos bytes este arquivo ocupa no FireDrive do usu\u00e1rio. isShared - Booleano, onde true significa que este item est\u00e1 compartilhado com todos do Firecast, ou false significando que o item n\u00e3o est\u00e1 acess\u00edvel para outros. isMine - Booleano, onde true significa que o usu\u00e1rio criou o item, e false significa que o item foi criado por outra pessoa e foi importado. sharedId - N\u00famero que identifica este item unicamente e globalmente no Firecast. \u00c9 utilizado para compartilhar arquivos com outras pessoas do programa. keyWords - Cadeia de caracteres contendo as palavras chaves do item description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do item url - Se for um arquivo, cont\u00e9m a URL para baixar seus dados. mimeType - Se for um arquivo, cont\u00e9m o MIME/Content-Type do arquivo. (Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc..); urlThumb64 - Se preenchido, cont\u00e9m A URL de uma imagem thumbnail do item. Este thumbnail cabe em quadrado de 64x64 de forma a manter o aspecto da imagem.","title":"Estrutura FireDriveItem"},{"location":"BibliotecaFireDrive/#funcoes-da-biblioteca-firedrive","text":"","title":"Fun\u00e7\u00f5es da biblioteca FireDrive"},{"location":"BibliotecaFireDrive/#_1","text":"function FireDrive.getFiles(directory[, callback[, failureCallback]]) Obt\u00e9m a lista de arquivos e diret\u00f3rios que est\u00e3o dentro de uma pasta no FireDrive do usu\u00e1rio. Par\u00e2metros: directory - Uma cadeia de caracteres contendo um caminho de uma pasta que existe no FireDrive do usu\u00e1rio. O conte\u00fado desta pasta ser\u00e1 enumerada. Exemplos: Se quiser enumerar o conte\u00fado da raiz do FireDrive, utilize \"/\" Se quiser enumerar o conte\u00fado da pasta \"imagens\", utilize \"/imagens\". Se quiser enumerar o conte\u00fado da subpasta \"medievais\" da pasta \"imagens\", utilize \"/imagens/medievais\" (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a lista de arquivos/diret\u00f3rios tiver sido obtida com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um arranjo de FireDriveItem (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a lista de arquivos/diret\u00f3rios n\u00e3o puder ser obtida. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer.","title":"&nbsp;"},{"location":"BibliotecaFireDrive/#_2","text":"function FireDrive.refresh([, callback[, failureCallback]]) Durante a execu\u00e7\u00e3o, o FireDrive mant\u00e9m algumas informa\u00e7\u00f5es em cache na mem\u00f3ria, como a lista dos arquivos de cada pasta do FireDrive. Esta fun\u00e7\u00e3o for\u00e7a a atualiza\u00e7\u00e3o destas informa\u00e7\u00f5es que est\u00e3o guardas em cache na mem\u00f3ria. Par\u00e2metros: (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a atualiza\u00e7\u00e3o tiver sido executada com sucesso. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a atualiza\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. function FireDrive.getFileInfo(fileName[, callback[, failureCallback]]) Obt\u00e9m informa\u00e7\u00f5es de um arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio. Par\u00e2metros: fileName - Uma cadeia de caracteres contendo o caminho de um arquivo/diret\u00f3rio que existe no FireDrive do usu\u00e1rio. Ser\u00e3o retornadas as informa\u00e7\u00f5es deste arquivo. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando as informa\u00e7\u00f5es tiverem sido obtidas com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo ou nil caso n\u00e3o exista. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. function FireDrive.upload(destFileName, stream[, successCallback[, progressCallback[, failureCallback[, mimeType]]]]) Efetua o upload de um conte\u00fado/arquivo para o FireDrive do usu\u00e1rio. Par\u00e2metros: destFileName - Uma cadeia de caracteres contendo o caminho de um arquivo no FireDrive do usu\u00e1rio onde os dados ser\u00e3o salvos. stream - Um objeto Stream contendo os dados que ser\u00e3o enviados e salvos no servidor. (OPCIONAL) successCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o upload tiver sido feito com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo no servidor. (OPCIONAL) progressCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada de tempos em tempos informando o progresso do envio do arquivo. A fun\u00e7\u00e3o recebe 2 par\u00e2metros: currentBytes e maxBytes, representando, respectivamente, quantos bytes j\u00e1 foram enviados e quantos bytes ser\u00e3o enviados no final das contas. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. (OPCIONAL) mimeType - Uma cadeia de caracteres contendo o mimeType/contentType do dados. Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc... Se n\u00e3o informado, o fireDrive automaticamente definir\u00e1 o mimeType com base na extens\u00e3o do arquivo destino. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"successCallback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. Se o arquivo j\u00e1 existir no FireDrive do usu\u00e1rio, esta fun\u00e7\u00e3o sobrescreve seu conte\u00fado e n\u00e3o reporta falha. function FireDrive.quickUpload(suggestedFileName, mimeType, stream[, successCallback[, progressCallback[, failureCallback]]]) Efetua o upload de um conte\u00fado/arquivo para o FireDrive do Firecast de forma descomplicada que ser\u00e1 armazenado temporariamente . Par\u00e2metros: suggestedFileName - Uma cadeia de caracteres contendo uma sugest\u00e3o de nome de arquivo para ser armazenado. \\ Pode ser nil : neste caso, o FireDrive criar\u00e1 um nome aleat\u00f3rio para o upload. mimeType - Uma cadeia de caracteres contendo o mimeType/contentType do dados. Exemplos: \"image/jpeg\", \"image/png\", \"text/plain\", etc... \\ Pode ser passado nil como par\u00e2metro: Neste caso, o fireDrive automaticamente definir\u00e1 o mimeType com base na extens\u00e3o de \" suggestedFileName \". stream - Um objeto Stream contendo os dados que ser\u00e3o enviados e salvos no servidor. (OPCIONAL) successCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o upload tiver sido feito com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do arquivo no servidor. (OPCIONAL) progressCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada de tempos em tempos informando o progresso do envio do arquivo. A fun\u00e7\u00e3o recebe 2 par\u00e2metros: currentBytes e maxBytes, representando, respectivamente, quantos bytes j\u00e1 foram enviados e quantos bytes ser\u00e3o enviados no final das contas. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"successCallback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. O upload \u00e9 armazenado em um espa\u00e7o tempor\u00e1rio do Firecast. Ele n\u00e3o ser\u00e1 visto na pasta FireDrive do usu\u00e1rio. Lembre-se: Este upload tem caracter\u00edsticas tempor\u00e1rias. O Firecast poder\u00e1 excluir o upload, sem aviso pr\u00e9vio, ap\u00f3s algum tempo. N\u00e3o \u00e9 poss\u00edvel fazer o upload se ambos os par\u00e2metros \" suggestedFileName \" e \" mimeType \" n\u00e3o forem informados corretamente. Ao menos um deles deve ser informado corretamente. function FireDrive.createDirectory(directoryName, [, callback[, failureCallback]]) Cria um diret\u00f3rio no FireDrive do usu\u00e1rio. Par\u00e2metros: directoryName - Uma cadeia de caracteres contendo o caminho do diret\u00f3rio que ser\u00e1 criado no FireDrive do usu\u00e1rio. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o diret\u00f3rio tiver sido criado com sucesso. Esta fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro um FireDriveItem com as informa\u00e7\u00f5es do diret\u00f3rio no servidor. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. Se o diret\u00f3rio j\u00e1 existir no FireDrive do usu\u00e1rio, ele \u00e9 preservado no servidor sem altera\u00e7\u00f5es e a fun\u00e7\u00e3o \"callback\" \u00e9 invocada sinalizando \u00eaxito. function FireDrive.delete(destFileName, [, callback[, failureCallback]]) Exclui um arquivo ou diret\u00f3rio do FireDrive do usu\u00e1rio. Par\u00e2metros: destFileName - Uma cadeia de caracteres contendo o caminho do arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio que ser\u00e1 removido; (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a opera\u00e7\u00e3o tiver sido realizada com sucesso. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. Se for removido um diret\u00f3rio, todo seu conte\u00fado, pastas e sub-pastas ser\u00e3o exclu\u00eddos juntos com esta opera\u00e7\u00e3o. function FireDrive.rename(existingFileName, newFileName [, callback[, failureCallback]]) Renomeia/move um arquivo ou diret\u00f3rio do FireDrive do usu\u00e1rio. Par\u00e2metros: existingFileName - Uma cadeia de caracteres contendo o caminho do arquivo ou diret\u00f3rio existente no FireDrive do usu\u00e1rio que ser\u00e1 renomeado/movido; newFileName - Uma cadeia de caracteres contendo o novo caminho do arquivo/diret\u00f3rio. Este par\u00e2metro deve conter o novo caminho completo do arquivo/diret\u00f3rio. (OPCIONAL) callback - uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a opera\u00e7\u00e3o tiver sido realizada com sucesso. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. O valor \"newFileName\" deve conter o novo caminho completo do arquivo. \u00c9 poss\u00edvel mover o arquivo atrav\u00e9s deste m\u00e9todo, basta especificar uma outra pasta para o par\u00e2metro \"newFileName\", exemplo: existingFileName=\"/pasta1/x.txt\" e newFileName=\"/nova_pasta/x.txt\". function FireDrive.getSpaceInfo(callback[, failureCallback]); Retorna as informa\u00e7\u00f5es de espa\u00e7o do FireDrive do usu\u00e1rio. Par\u00e2metros: callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando as informa\u00e7\u00f5es de espa\u00e7o do FireDrive forem obtidas. A fun\u00e7\u00e3o recebe em seu primeiro par\u00e2metro uma tabela Lua com as seguintes propriedades: used - Quantidade de bytes usados no armazenamento do FireDrive do usu\u00e1rio total - Quantidade total de bytes que o usu\u00e1rio pode armazenar no FireDrive. (OPCIONAL) failureCallback - uma fun\u00e7\u00e3o que ser\u00e1 chamada se a opera\u00e7\u00e3o falhar. Ela recebe em seu primeiro par\u00e2metro o motivo da falha. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, ela retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Se quiser obter o resultado, voc\u00ea deve informar uma fun\u00e7\u00e3o \"callback\" que ser\u00e1 chamada quando a opera\u00e7\u00e3o em segundo plano for bem sucedida. Se quiser tratar erros, voc\u00ea deve informar uma fun\u00e7\u00e3o \"failureCallback\" que ser\u00e1 chamada quando alguma falha ocorrer. Created with the Personal Edition of HelpNDoc: Revolutionize Your CHM Help File Output with HelpNDoc","title":"&nbsp;"},{"location":"BibliotecaFirecast/","text":"Biblioteca Firecast Biblioteca Firecast A biblioteca firecast cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0s mesas, personagens, envio de mensagens, rolagem de dados, etc.. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Firecast\" da unidade \"firecast.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"firecast.lua\" require(\"firecast.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca Firecast function Firecast.asyncOpenUserNDB(name[, options]) Asynchronously open a per-user NodeDatabase that is physically stored in the Firecast server. Arguments: name - A string identifying which remote user NodeDatabase should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false skipLoad - a boolean. If true , the returned Promise will be resolved before the load process is finished. If true , you will receive a \u201cLoading node\u201d instead of a \u201cLoaded node\u201d. Default: false Return: a Promise of a Node Object . As default behavior, the Promise will be resolved after all data is downloaded and available to be used. Remarks: The content of NodeDatabases opened by this function is stored separately per-user. Each user will have their own copy of the NodeDatabase identified by the \u201cname\u201d argument Example: local promise = Firecast.asyncOpenUserNDB(\"exampleNodeDatabase\", {create=true}); promise:thenDo( function(node) *-- This function will be called when/if the * *-- load completes. The first argument, * -- \"node\", contains the root node of the opened nodedatabase end, function(errorMsg) *-- This function will be called when/if the * *-- load fails. The first argument, * -- \"errorMsg\", contains the message explaining why -- it was not possible to open the nodeDatabase end); function Firecast.getMesas() Retorna a lista de objetos mesas representando as mesas em que o usu\u00e1rio est\u00e1 no momento. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um arranjo de objeto mesa , isto \u00e9, uma tabela lua indexada de 1 a N. Exemplo - Exibindo uma mensagem contendo o nome e o sistema de todas as mesas em que o usu\u00e1rio est\u00e1:\\ local mesas = Firecast.getMesas(); local msg = \"\"; for i = 1, #mesas, 1 do local objMesa = mesas[i]; msg = msg .. objMesa.nome .. \" (\" .. objMesa.sistema .. \") \\n \"; end ; showMessage(msg); function Firecast.findMesa(codigoInterno) Dado o c\u00f3digo interno de uma mesa, localiza o objeto mesa de c\u00f3digo interno correspondente. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um objeto mesa ou nil caso n\u00e3o encontre. function Firecast.interpretarRolagem(stringDaRolagem) Dado uma cadeia de caracteres representando uma rolagem de dados (Exemplos: \"1d20 + 5\", \"1d20 + 1d10 - 5\", etc..), retorna um objeto rolagem que cont\u00e9m as informa\u00e7\u00f5es sobre a mesma. Par\u00e2metros: stringDaRolagem - cadeia de caracteres que deseja interpretar como um objeto rolagem. Retorno: Um Objeto Rolagem contendo a interpreta\u00e7\u00e3o. Observa\u00e7\u00e3o: Se stringDaRolagem n\u00e3o possuir uma cadeia de caracteres v\u00e1lida, o novo objeto rolagem ainda ser\u00e1 retornado, por\u00e9m vazio. function Firecast.getRoomOf(object) Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto mesa ele est\u00e1 ligado. Par\u00e2metros: object - O objeto que deseja tentar determinar \u00e0 qual objeto mesa ele pertence ou est\u00e1 ligado. Retorno: Um Objeto Mesa , caso a fun\u00e7\u00e3o consiga determinar nil , caso a fun\u00e7\u00e3o n\u00e3o consiga determinar Observa\u00e7\u00f5es: Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o: objeto Nodo . Se o NodeDatabase for de um personagem ou estiver ligado \u00e0 uma mesa, a fun\u00e7\u00e3o retorna o objeto mesa. objeto BibliotecaItem . A fun\u00e7\u00e3o retorna \u00e0 qual mesa o item da biblioteca pertence. objeto Personagem . objeto Jogador. objeto Chat objeto form de formType Table's Dock objeto Scene Outros objetos que possam estar ligados \u00e0 alguma mesa. Tamb\u00e9m \u00e9 poss\u00edvel passar um valor num\u00e9rico para esta fun\u00e7\u00e3o. Se for passado um valor num\u00e9rico, esta fun\u00e7\u00e3o se comporta como a fun\u00e7\u00e3o rrpg.findMesa. function Firecast.getBibliotecaItemDe(objeto) Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto BibliotecaItem ele est\u00e1 ligado. Par\u00e2metros: objeto - O objeto que deseja tentar determinar \u00e0 qual objeto BibliotecaItem ele pertence ou est\u00e1 ligado. Retorno: Um Objeto BibliotecaItem caso a fun\u00e7\u00e3o consiga determinar nil , caso a fun\u00e7\u00e3o n\u00e3o consiga determinar Observa\u00e7\u00f5es: Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o: objeto Nodo . Se o NodeDatabase for de um item na biblioteca, a fun\u00e7\u00e3o retorna o objeto biblioteca item. Outros objetos que possam estar ligados \u00e0 biblioteca da mesa. function Firecast.getPersonagemDe(object) Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto Personagem ele est\u00e1 ligado. Par\u00e2metros: object - O objeto que deseja tentar determinar \u00e0 qual objeto Personagem ele pertence ou est\u00e1 ligado. Retorno: Um Objeto Personagem caso a fun\u00e7\u00e3o consiga determinar nil , caso a fun\u00e7\u00e3o n\u00e3o consiga determinar Observa\u00e7\u00f5es: Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o: objeto Nodo . Se o NodeDatabase for de um personagem, a fun\u00e7\u00e3o retorna o objeto personagem. Outros objetos que possam estar ligados aos personagens da mesa. function Firecast.getCurrentUser() Retorna uma tabela contendo informa\u00e7\u00f5es do usu\u00e1rio logado atualmente no Firecast. Retorno: Um tabela LUA contendo as seguintes propriedades/atributos: isLogged - Boleano (true ou false) indicando se possui um usu\u00e1rio logado no momento. login - Se o usu\u00e1rio tiver logado, cont\u00e9m uma cadeia de caracteres contendo seu login/username. isGold - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Gold isGoldPlus - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Platinum / RRPG Gold Plus isRuby - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Ruby function Firecast.registerChatToolButton(params) Registra um bot\u00e3o-ferramenta que ser\u00e1 apresentado nos chats do Firecast. Par\u00e2metros: params - Uma tabela Lua contendo as seguintes propriedades do bot\u00e3o: \"hint\" - Um string que ser\u00e1 apresentado ao usu\u00e1rio quando ele arrastar o mouse em cima do bot\u00e3o. \"icon\" - Um string contendo o endere\u00e7o da imagem que ser\u00e1 apresentada como \u00edcone do bot\u00e3o. \"callback\" - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o usu\u00e1rio clicar no bot\u00e3o. Seu primeiro par\u00e2metro recebe um objeto Chat representado em qual chat o usu\u00e1rio clicou no bot\u00e3o. (OPCIONAL) \"priority\" - Se quiser sugerir a ordem dos bot\u00f5es, informe um n\u00famero em priority. Bot\u00f5es com prioridade maior aparecem antes dos com prioridade menor. (OPCIONAL) \"group\" - Um string. Se quiser v\u00e1rios bot\u00f5es ficarem juntos, voc\u00ea pode especificar o mesmo valor em group para eles. (OPCIONAL) \"groupPriority\" - Se quiser sugerir a ordem do grupo de bot\u00f5es, informe um n\u00famero nesta propriedade. Grupos de bot\u00f5es com maior prioridade aparecem antes dos grupos com menor prioridade. Retorno: Um identificador do bot\u00e3o criado. Este valor pode ser usado na fun\u00e7\u00e3o Firecast.unregisterChatToolButton se quiser remover o bot\u00e3o. Observa\u00e7\u00f5es: O \u00edcone informado poder\u00e1 sofrer tratamento visual para se encaixar no tema do Firecast. Use \u00edcones com transpar\u00eancia e cuja \"sombra\" seja capaz de remeter seu significado. O bot\u00e3o s\u00f3 ser\u00e1 apresentado se: O usu\u00e1rio for assinante Gold. Ou o usu\u00e1rio n\u00e3o for pagante e estiver em mesa cujo dono seja assinante Gold+/Platina. Exemplo: local params = {}; params.hint = \"This button do @@localized.text.id\"; params.icon = \"/icons/myIcon.png\"; params.priority = 10; params.group = \"myButtonGroup\"; params.callback = function (chat) -- the param \"chat\" contains good information to handle =) showMessage(\"User clicked the button\"); end ; Firecast.registerChatToolButton(params); function Firecast.unregisterChatToolButton(toolButtonId) Desregistra um bot\u00e3o-ferramenta de chat previamente instalado pela fun\u00e7\u00e3o Firecast.registerChatToolButton . Par\u00e2metros: toolButtonId - O identificador retornado pela fun\u00e7\u00e3o Firecast.registerChatToolButton . Created with the Personal Edition of HelpNDoc: Easily create EBooks","title":"Biblioteca Firecast"},{"location":"BibliotecaFirecast/#biblioteca-firecast","text":"","title":"Biblioteca Firecast"},{"location":"BibliotecaFirecast/#biblioteca-firecast_1","text":"A biblioteca firecast cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0s mesas, personagens, envio de mensagens, rolagem de dados, etc.. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Firecast\" da unidade \"firecast.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"firecast.lua\" require(\"firecast.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca Firecast"},{"location":"BibliotecaFirecast/#funcoes-da-biblioteca-firecast","text":"function Firecast.asyncOpenUserNDB(name[, options]) Asynchronously open a per-user NodeDatabase that is physically stored in the Firecast server. Arguments: name - A string identifying which remote user NodeDatabase should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false skipLoad - a boolean. If true , the returned Promise will be resolved before the load process is finished. If true , you will receive a \u201cLoading node\u201d instead of a \u201cLoaded node\u201d. Default: false Return: a Promise of a Node Object . As default behavior, the Promise will be resolved after all data is downloaded and available to be used. Remarks: The content of NodeDatabases opened by this function is stored separately per-user. Each user will have their own copy of the NodeDatabase identified by the \u201cname\u201d argument Example: local promise = Firecast.asyncOpenUserNDB(\"exampleNodeDatabase\", {create=true}); promise:thenDo( function(node) *-- This function will be called when/if the * *-- load completes. The first argument, * -- \"node\", contains the root node of the opened nodedatabase end, function(errorMsg) *-- This function will be called when/if the * *-- load fails. The first argument, * -- \"errorMsg\", contains the message explaining why -- it was not possible to open the nodeDatabase end); function Firecast.getMesas() Retorna a lista de objetos mesas representando as mesas em que o usu\u00e1rio est\u00e1 no momento. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um arranjo de objeto mesa , isto \u00e9, uma tabela lua indexada de 1 a N. Exemplo - Exibindo uma mensagem contendo o nome e o sistema de todas as mesas em que o usu\u00e1rio est\u00e1:\\ local mesas = Firecast.getMesas(); local msg = \"\"; for i = 1, #mesas, 1 do local objMesa = mesas[i]; msg = msg .. objMesa.nome .. \" (\" .. objMesa.sistema .. \") \\n \"; end ; showMessage(msg); function Firecast.findMesa(codigoInterno) Dado o c\u00f3digo interno de uma mesa, localiza o objeto mesa de c\u00f3digo interno correspondente. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um objeto mesa ou nil caso n\u00e3o encontre. function Firecast.interpretarRolagem(stringDaRolagem) Dado uma cadeia de caracteres representando uma rolagem de dados (Exemplos: \"1d20 + 5\", \"1d20 + 1d10 - 5\", etc..), retorna um objeto rolagem que cont\u00e9m as informa\u00e7\u00f5es sobre a mesma. Par\u00e2metros: stringDaRolagem - cadeia de caracteres que deseja interpretar como um objeto rolagem. Retorno: Um Objeto Rolagem contendo a interpreta\u00e7\u00e3o. Observa\u00e7\u00e3o: Se stringDaRolagem n\u00e3o possuir uma cadeia de caracteres v\u00e1lida, o novo objeto rolagem ainda ser\u00e1 retornado, por\u00e9m vazio. function Firecast.getRoomOf(object) Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto mesa ele est\u00e1 ligado. Par\u00e2metros: object - O objeto que deseja tentar determinar \u00e0 qual objeto mesa ele pertence ou est\u00e1 ligado. Retorno: Um Objeto Mesa , caso a fun\u00e7\u00e3o consiga determinar nil , caso a fun\u00e7\u00e3o n\u00e3o consiga determinar Observa\u00e7\u00f5es: Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o: objeto Nodo . Se o NodeDatabase for de um personagem ou estiver ligado \u00e0 uma mesa, a fun\u00e7\u00e3o retorna o objeto mesa. objeto BibliotecaItem . A fun\u00e7\u00e3o retorna \u00e0 qual mesa o item da biblioteca pertence. objeto Personagem . objeto Jogador. objeto Chat objeto form de formType Table's Dock objeto Scene Outros objetos que possam estar ligados \u00e0 alguma mesa. Tamb\u00e9m \u00e9 poss\u00edvel passar um valor num\u00e9rico para esta fun\u00e7\u00e3o. Se for passado um valor num\u00e9rico, esta fun\u00e7\u00e3o se comporta como a fun\u00e7\u00e3o rrpg.findMesa. function Firecast.getBibliotecaItemDe(objeto) Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto BibliotecaItem ele est\u00e1 ligado. Par\u00e2metros: objeto - O objeto que deseja tentar determinar \u00e0 qual objeto BibliotecaItem ele pertence ou est\u00e1 ligado. Retorno: Um Objeto BibliotecaItem caso a fun\u00e7\u00e3o consiga determinar nil , caso a fun\u00e7\u00e3o n\u00e3o consiga determinar Observa\u00e7\u00f5es: Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o: objeto Nodo . Se o NodeDatabase for de um item na biblioteca, a fun\u00e7\u00e3o retorna o objeto biblioteca item. Outros objetos que possam estar ligados \u00e0 biblioteca da mesa. function Firecast.getPersonagemDe(object) Dado um objeto qualquer, a fun\u00e7\u00e3o tenta determinar \u00e0 qual objeto Personagem ele est\u00e1 ligado. Par\u00e2metros: object - O objeto que deseja tentar determinar \u00e0 qual objeto Personagem ele pertence ou est\u00e1 ligado. Retorno: Um Objeto Personagem caso a fun\u00e7\u00e3o consiga determinar nil , caso a fun\u00e7\u00e3o n\u00e3o consiga determinar Observa\u00e7\u00f5es: Os objetos que costumam ser passados como par\u00e2metro \u00e0 esta fun\u00e7\u00e3o, s\u00e3o: objeto Nodo . Se o NodeDatabase for de um personagem, a fun\u00e7\u00e3o retorna o objeto personagem. Outros objetos que possam estar ligados aos personagens da mesa. function Firecast.getCurrentUser() Retorna uma tabela contendo informa\u00e7\u00f5es do usu\u00e1rio logado atualmente no Firecast. Retorno: Um tabela LUA contendo as seguintes propriedades/atributos: isLogged - Boleano (true ou false) indicando se possui um usu\u00e1rio logado no momento. login - Se o usu\u00e1rio tiver logado, cont\u00e9m uma cadeia de caracteres contendo seu login/username. isGold - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Gold isGoldPlus - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Platinum / RRPG Gold Plus isRuby - Booleano (true ou false) indicando se o usu\u00e1rio \u00e9 assinante Firecast Ruby function Firecast.registerChatToolButton(params) Registra um bot\u00e3o-ferramenta que ser\u00e1 apresentado nos chats do Firecast. Par\u00e2metros: params - Uma tabela Lua contendo as seguintes propriedades do bot\u00e3o: \"hint\" - Um string que ser\u00e1 apresentado ao usu\u00e1rio quando ele arrastar o mouse em cima do bot\u00e3o. \"icon\" - Um string contendo o endere\u00e7o da imagem que ser\u00e1 apresentada como \u00edcone do bot\u00e3o. \"callback\" - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o usu\u00e1rio clicar no bot\u00e3o. Seu primeiro par\u00e2metro recebe um objeto Chat representado em qual chat o usu\u00e1rio clicou no bot\u00e3o. (OPCIONAL) \"priority\" - Se quiser sugerir a ordem dos bot\u00f5es, informe um n\u00famero em priority. Bot\u00f5es com prioridade maior aparecem antes dos com prioridade menor. (OPCIONAL) \"group\" - Um string. Se quiser v\u00e1rios bot\u00f5es ficarem juntos, voc\u00ea pode especificar o mesmo valor em group para eles. (OPCIONAL) \"groupPriority\" - Se quiser sugerir a ordem do grupo de bot\u00f5es, informe um n\u00famero nesta propriedade. Grupos de bot\u00f5es com maior prioridade aparecem antes dos grupos com menor prioridade. Retorno: Um identificador do bot\u00e3o criado. Este valor pode ser usado na fun\u00e7\u00e3o Firecast.unregisterChatToolButton se quiser remover o bot\u00e3o. Observa\u00e7\u00f5es: O \u00edcone informado poder\u00e1 sofrer tratamento visual para se encaixar no tema do Firecast. Use \u00edcones com transpar\u00eancia e cuja \"sombra\" seja capaz de remeter seu significado. O bot\u00e3o s\u00f3 ser\u00e1 apresentado se: O usu\u00e1rio for assinante Gold. Ou o usu\u00e1rio n\u00e3o for pagante e estiver em mesa cujo dono seja assinante Gold+/Platina. Exemplo: local params = {}; params.hint = \"This button do @@localized.text.id\"; params.icon = \"/icons/myIcon.png\"; params.priority = 10; params.group = \"myButtonGroup\"; params.callback = function (chat) -- the param \"chat\" contains good information to handle =) showMessage(\"User clicked the button\"); end ; Firecast.registerChatToolButton(params); function Firecast.unregisterChatToolButton(toolButtonId) Desregistra um bot\u00e3o-ferramenta de chat previamente instalado pela fun\u00e7\u00e3o Firecast.registerChatToolButton . Par\u00e2metros: toolButtonId - O identificador retornado pela fun\u00e7\u00e3o Firecast.registerChatToolButton . Created with the Personal Edition of HelpNDoc: Easily create EBooks","title":"Fun\u00e7\u00f5es da biblioteca Firecast"},{"location":"BibliotecaFirecastMessaging/","text":"Biblioteca Firecast.Messaging Biblioteca Firecast.Messaging A biblioteca Firecast.Messaging cont\u00e9m fun\u00e7\u00f5es que tratam as notifica\u00e7\u00f5es que o Firecast dispara para todos os plug-ins atrav\u00e9s de mensagens. Em resumo, existem 2 tipos de eventos que o SDK 3 permite o programador \"tratar\": Eventos de tags/controles - S\u00e3o eventos espec\u00edficos de cada controle. Mensagens do Firecast - S\u00e3o acontecimentos que s\u00e3o compartilhado com todos os plugins instalados, pois podem ser de interesse de todos. Exemplos: Quando a conex\u00e3o do RRPG cai, quando o usu\u00e1rio entra em uma nova mesa, etc.. Esta biblioteca auxilia na manipula\u00e7\u00e3o do segundo tipo de evento descrito acima. Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"firecast.lua\" require(\"firecast.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Messaging.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca Firecast.Messaging function Firecast.Messaging.newReceiver(messageName, callbackFunction [, filters]) Cria e retorna um objeto que representa a \"escuta\" de mensagens eventos. Par\u00e2metros: messageName - uma cadeia de caracteres definindo qual mensagem-evento a escuta deve ouvir. Para saber quais mensagens voc\u00ea pode escutar, veja Lista de Mensagens Eventos do Firecast . callbackFunction - uma fun\u00e7\u00e3o que ser\u00e1 invocada sempre que a escuta captar uma mensagem. Quando invocada, a fun\u00e7\u00e3o recebe no primeiro par\u00e2metro uma tabela/objeto lua contendo as propriedades da mensagem. Cada mensagem-evento possui sua pr\u00f3pria lista de atributos e voc\u00ea deve, portanto, consultar Lista de Mensagens-Eventos do Firecast para mais detalhes.. (OPCIONAL) filters - Uma tabela/objeto Lua contendo filtros que a escuta deve verificar para decidir se deve invocar \"callbackFunction\" ou n\u00e3o. Exemplo: Filters= {from=\"Login\"}. A escuta s\u00f3 disparar\u00e1 \"callbackFunction\" se a mensagem possuir um atributo de nome \"from\" com conte\u00fado igual a \"Login\". Retorno: Um objeto representando a escuta instalada ou nil caso falhe Observa\u00e7\u00f5es: Mantenha refer\u00eancia ao objeto retornado enquanto a escuta for necess\u00e1ria. Se o objeto for liberado da mem\u00f3ria pelo coletor de lixo, a escuta ser\u00e1 desinstalada automaticamente. A fun\u00e7\u00e3o n\u00e3o falha se voc\u00ea informar, no par\u00e2metro \"messageName\", uma identifica\u00e7\u00e3o de mensagem n\u00e3o esteja na lista Lista de Mensagens-Eventos do Firecast, mas, provavelmente, a escuta nunca ir\u00e1 disparar\u00e1 a fun\u00e7\u00e3o \"callbackFunction\". \u00c9 poss\u00edvel cancelar a escuta de 3 maneiras: Invocar a fun\u00e7\u00e3o receiverObj:disable() do objeto retornado, conforme exemplo abaixo Retornar explicitamente false na \"callbackFunction\" Deixar o coletor de lixo do Lua coletar o objeto, eventualmente. A diferen\u00e7a b\u00e1sica entre Firecast.Messaging.newReceiver e Firecast.Messaging.listen \u00e9 a forma de gerenciar o ciclo de vida da escuta. Exemplo: require(\"firecast.lua\"); local receiverObj = Firecast.Messaging.newReceiver(\"SessionLost\", function (msg) -- This function will be called when the Firecast connection is lost showMessage(\"The connect was lost!\"); end ); -- To disable the receiver: receiverObj:disable(); -- disable right now receiverObj = nil; -- let the garbage collector disable the receiver function Firecast.listen(messageName, callbackFunction [, filters]) ou function Firecast.Messaging.listen(messageName, callbackFunction [, filters]) Instala uma \"escuta\" de mensagens eventos. Par\u00e2metros: messageName - uma cadeia de caracteres definindo qual mensagem-evento a escuta deve ouvir. Para saber quais mensagens voc\u00ea pode escutar, veja Lista de Mensagens Eventos do Firecast . callbackFunction - uma fun\u00e7\u00e3o que ser\u00e1 invocada sempre que a escuta captar uma mensagem. Quando invocada, a fun\u00e7\u00e3o recebe no primeiro par\u00e2metro uma tabela/objeto lua contendo as propriedades da mensagem. Cada mensagem-evento possui sua pr\u00f3pria lista de atributos e voc\u00ea deve, portanto, consultar Lista de Mensagens-Eventos do Firecast para mais detalhes.. (OPCIONAL) filters - Uma tabela/objeto Lua contendo filtros que a escuta deve verificar para decidir se deve invocar \"callbackFunction\" ou n\u00e3o. Exemplo: Filters= {from=\"Login\"}. A escuta s\u00f3 disparar\u00e1 \"callbackFunction\" se a mensagem possuir um atributo de nome \"from\" com conte\u00fado igual a \"Login\". Retorno: Um n\u00famero identificando a escuta instalada ou nil caso falhe. Voc\u00ea pode utilizar este valor na fun\u00e7\u00e3o Firecast.Messaging.unlisten para cancelar a escuta . Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o falha se voc\u00ea informar, no par\u00e2metro \"messageName\", uma identifica\u00e7\u00e3o de mensagem n\u00e3o esteja na lista Lista de Mensagens-Eventos do Firecast, mas, provavelmente, a escuta nunca ir\u00e1 disparar\u00e1 a fun\u00e7\u00e3o \"callbackFunction\". \u00c9 poss\u00edvel cancelar a escuta de 2 maneiras: Invocar a fun\u00e7\u00e3o Firecast.Messaging.unlisten passando o valor retornado por esta fun\u00e7\u00e3o (rrpg.messaging.listen) como par\u00e2metro; Retornar explicitamente false na \"callbackFunction\" A diferen\u00e7a b\u00e1sica entre Firecast.Messaging.newReceiver e Firecast.Messaging.listen \u00e9 a forma de gerenciar o ciclo de vida da escuta. Exemplo: require(\"firecast.lua\"); Firecast.Messaging.listen(\"SessionLost\", function (detalhesDaMensagem) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando a conex\u00e3o do RRPG for perdida showMessage(\"A conex\u00e3o foi perdida!\"); end ); function Firecast.listenOnce(messageName, callbackFunction [, filters]) ou function Firecast.Messaging.listenOnce(messageName, callbackFunction [, filters]) Instala uma \"escuta\" de mensagens eventos. O funcionamento \u00e9 id\u00eantico \u00e0 da fun\u00e7\u00e3o Firecast.Messaging.listen , por\u00e9m a escuta \u00e9 automaticamente desinstalada ap\u00f3s captar 1 mensagem. function Firecast.unlisten(listenerId) ou function Firecast.Messaging.unlisten(listenerId) Desinstala uma \"escuta\" que foi previamente instalada pela fun\u00e7\u00e3o Firecast.Messaging.listen ou pela fun\u00e7\u00e3o Firecast.Messaging.listenOnce . Par\u00e2metros: listenerId - Identifica\u00e7\u00e3o da escuta a ser desinstalada. A identifica\u00e7\u00e3o da escuta \u00e9 retornada pela fun\u00e7\u00e3o que instala escutas ( Firecast.Messaging.listen ou Firecast.Messaging.listenOnce ) function Firecast.groupOnceListeners(listenerId1 [, listenerId2 [, listenerId3 [, listenerIdN...]]]) ou function Firecast.Messaging.groupOnceListeners(listenerId1 [, listenerId2 [, listenerId3 [, listenerIdN...]]]) Agrupa \"escuta\" de mensagens-eventos do tipo once (\u00e0quela que capta somente 1 mensagem). Quando OnceListeners s\u00e3o agrupados, a caracter\u00edstica de se desinstalar automaticamente ap\u00f3s receber a primeira mensagem \u00e9 \"expandida\" para o grupo. Isto \u00e9, quando o Listener1 captar uma mensagem e se desinstalar, o Listener2, Listener3 e ListenerN s\u00e3o automaticamente desinstalados juntos. Esta fun\u00e7\u00e3o \u00e9 especialmente \u00fatil em situa\u00e7\u00f5es que possam resultar 2 ou mais mensagens-eventos distintas. Exemplo: O c\u00f3digo requisitou a cria\u00e7\u00e3o de 1 novo personagem em uma mesa... duas coisas podem acontecer: O servidor pode responder \u00e0 requisi\u00e7\u00e3o ou a conex\u00e3o com o rrpg pode cair. Nesta situa\u00e7\u00e3o, devemos instalar uma escuta \"Quando o servidor responder\", uma escuta \"Quando a conex\u00e3o cair\" e agrup\u00e1-las. Note que se o servidor responder, n\u00e3o estaremos mais interessados se a conex\u00e3o cair e vice-versa. Par\u00e2metros: listenerId1, listenerId2, listenerId3, listenerId4, listenerId5, listenerIdN... As identifica\u00e7\u00f5es de escuta que queira agrupar. Este valor \u00e9 retornado pela fun\u00e7\u00e3o Firecast.Messaging.listenOnce . Este \u00e9 um par\u00e2metro \"vararg\", isto \u00e9, voc\u00ea pode passar quantos valores quiser. Exemplo de chamadas v\u00e1lidas: Firecast.Messaging.groupOnceListeners(id1, id2) ou rrpg.messaging.groupOnceListeners(id1, id2, id3, id4, id5, id7, id8). Created with the Personal Edition of HelpNDoc: Make your documentation accessible on any device with HelpNDoc","title":"Biblioteca Firecast.Messaging"},{"location":"BibliotecaFirecastMessaging/#biblioteca-firecastmessaging","text":"","title":"Biblioteca Firecast.Messaging"},{"location":"BibliotecaFirecastMessaging/#biblioteca-firecastmessaging_1","text":"A biblioteca Firecast.Messaging cont\u00e9m fun\u00e7\u00f5es que tratam as notifica\u00e7\u00f5es que o Firecast dispara para todos os plug-ins atrav\u00e9s de mensagens. Em resumo, existem 2 tipos de eventos que o SDK 3 permite o programador \"tratar\": Eventos de tags/controles - S\u00e3o eventos espec\u00edficos de cada controle. Mensagens do Firecast - S\u00e3o acontecimentos que s\u00e3o compartilhado com todos os plugins instalados, pois podem ser de interesse de todos. Exemplos: Quando a conex\u00e3o do RRPG cai, quando o usu\u00e1rio entra em uma nova mesa, etc.. Esta biblioteca auxilia na manipula\u00e7\u00e3o do segundo tipo de evento descrito acima. Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"firecast.lua\" require(\"firecast.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Messaging.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca Firecast.Messaging"},{"location":"BibliotecaFirecastMessaging/#funcoes-da-biblioteca-firecastmessaging","text":"function Firecast.Messaging.newReceiver(messageName, callbackFunction [, filters]) Cria e retorna um objeto que representa a \"escuta\" de mensagens eventos. Par\u00e2metros: messageName - uma cadeia de caracteres definindo qual mensagem-evento a escuta deve ouvir. Para saber quais mensagens voc\u00ea pode escutar, veja Lista de Mensagens Eventos do Firecast . callbackFunction - uma fun\u00e7\u00e3o que ser\u00e1 invocada sempre que a escuta captar uma mensagem. Quando invocada, a fun\u00e7\u00e3o recebe no primeiro par\u00e2metro uma tabela/objeto lua contendo as propriedades da mensagem. Cada mensagem-evento possui sua pr\u00f3pria lista de atributos e voc\u00ea deve, portanto, consultar Lista de Mensagens-Eventos do Firecast para mais detalhes.. (OPCIONAL) filters - Uma tabela/objeto Lua contendo filtros que a escuta deve verificar para decidir se deve invocar \"callbackFunction\" ou n\u00e3o. Exemplo: Filters= {from=\"Login\"}. A escuta s\u00f3 disparar\u00e1 \"callbackFunction\" se a mensagem possuir um atributo de nome \"from\" com conte\u00fado igual a \"Login\". Retorno: Um objeto representando a escuta instalada ou nil caso falhe Observa\u00e7\u00f5es: Mantenha refer\u00eancia ao objeto retornado enquanto a escuta for necess\u00e1ria. Se o objeto for liberado da mem\u00f3ria pelo coletor de lixo, a escuta ser\u00e1 desinstalada automaticamente. A fun\u00e7\u00e3o n\u00e3o falha se voc\u00ea informar, no par\u00e2metro \"messageName\", uma identifica\u00e7\u00e3o de mensagem n\u00e3o esteja na lista Lista de Mensagens-Eventos do Firecast, mas, provavelmente, a escuta nunca ir\u00e1 disparar\u00e1 a fun\u00e7\u00e3o \"callbackFunction\". \u00c9 poss\u00edvel cancelar a escuta de 3 maneiras: Invocar a fun\u00e7\u00e3o receiverObj:disable() do objeto retornado, conforme exemplo abaixo Retornar explicitamente false na \"callbackFunction\" Deixar o coletor de lixo do Lua coletar o objeto, eventualmente. A diferen\u00e7a b\u00e1sica entre Firecast.Messaging.newReceiver e Firecast.Messaging.listen \u00e9 a forma de gerenciar o ciclo de vida da escuta. Exemplo: require(\"firecast.lua\"); local receiverObj = Firecast.Messaging.newReceiver(\"SessionLost\", function (msg) -- This function will be called when the Firecast connection is lost showMessage(\"The connect was lost!\"); end ); -- To disable the receiver: receiverObj:disable(); -- disable right now receiverObj = nil; -- let the garbage collector disable the receiver function Firecast.listen(messageName, callbackFunction [, filters]) ou function Firecast.Messaging.listen(messageName, callbackFunction [, filters]) Instala uma \"escuta\" de mensagens eventos. Par\u00e2metros: messageName - uma cadeia de caracteres definindo qual mensagem-evento a escuta deve ouvir. Para saber quais mensagens voc\u00ea pode escutar, veja Lista de Mensagens Eventos do Firecast . callbackFunction - uma fun\u00e7\u00e3o que ser\u00e1 invocada sempre que a escuta captar uma mensagem. Quando invocada, a fun\u00e7\u00e3o recebe no primeiro par\u00e2metro uma tabela/objeto lua contendo as propriedades da mensagem. Cada mensagem-evento possui sua pr\u00f3pria lista de atributos e voc\u00ea deve, portanto, consultar Lista de Mensagens-Eventos do Firecast para mais detalhes.. (OPCIONAL) filters - Uma tabela/objeto Lua contendo filtros que a escuta deve verificar para decidir se deve invocar \"callbackFunction\" ou n\u00e3o. Exemplo: Filters= {from=\"Login\"}. A escuta s\u00f3 disparar\u00e1 \"callbackFunction\" se a mensagem possuir um atributo de nome \"from\" com conte\u00fado igual a \"Login\". Retorno: Um n\u00famero identificando a escuta instalada ou nil caso falhe. Voc\u00ea pode utilizar este valor na fun\u00e7\u00e3o Firecast.Messaging.unlisten para cancelar a escuta . Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o falha se voc\u00ea informar, no par\u00e2metro \"messageName\", uma identifica\u00e7\u00e3o de mensagem n\u00e3o esteja na lista Lista de Mensagens-Eventos do Firecast, mas, provavelmente, a escuta nunca ir\u00e1 disparar\u00e1 a fun\u00e7\u00e3o \"callbackFunction\". \u00c9 poss\u00edvel cancelar a escuta de 2 maneiras: Invocar a fun\u00e7\u00e3o Firecast.Messaging.unlisten passando o valor retornado por esta fun\u00e7\u00e3o (rrpg.messaging.listen) como par\u00e2metro; Retornar explicitamente false na \"callbackFunction\" A diferen\u00e7a b\u00e1sica entre Firecast.Messaging.newReceiver e Firecast.Messaging.listen \u00e9 a forma de gerenciar o ciclo de vida da escuta. Exemplo: require(\"firecast.lua\"); Firecast.Messaging.listen(\"SessionLost\", function (detalhesDaMensagem) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando a conex\u00e3o do RRPG for perdida showMessage(\"A conex\u00e3o foi perdida!\"); end ); function Firecast.listenOnce(messageName, callbackFunction [, filters]) ou function Firecast.Messaging.listenOnce(messageName, callbackFunction [, filters]) Instala uma \"escuta\" de mensagens eventos. O funcionamento \u00e9 id\u00eantico \u00e0 da fun\u00e7\u00e3o Firecast.Messaging.listen , por\u00e9m a escuta \u00e9 automaticamente desinstalada ap\u00f3s captar 1 mensagem. function Firecast.unlisten(listenerId) ou function Firecast.Messaging.unlisten(listenerId) Desinstala uma \"escuta\" que foi previamente instalada pela fun\u00e7\u00e3o Firecast.Messaging.listen ou pela fun\u00e7\u00e3o Firecast.Messaging.listenOnce . Par\u00e2metros: listenerId - Identifica\u00e7\u00e3o da escuta a ser desinstalada. A identifica\u00e7\u00e3o da escuta \u00e9 retornada pela fun\u00e7\u00e3o que instala escutas ( Firecast.Messaging.listen ou Firecast.Messaging.listenOnce ) function Firecast.groupOnceListeners(listenerId1 [, listenerId2 [, listenerId3 [, listenerIdN...]]]) ou function Firecast.Messaging.groupOnceListeners(listenerId1 [, listenerId2 [, listenerId3 [, listenerIdN...]]]) Agrupa \"escuta\" de mensagens-eventos do tipo once (\u00e0quela que capta somente 1 mensagem). Quando OnceListeners s\u00e3o agrupados, a caracter\u00edstica de se desinstalar automaticamente ap\u00f3s receber a primeira mensagem \u00e9 \"expandida\" para o grupo. Isto \u00e9, quando o Listener1 captar uma mensagem e se desinstalar, o Listener2, Listener3 e ListenerN s\u00e3o automaticamente desinstalados juntos. Esta fun\u00e7\u00e3o \u00e9 especialmente \u00fatil em situa\u00e7\u00f5es que possam resultar 2 ou mais mensagens-eventos distintas. Exemplo: O c\u00f3digo requisitou a cria\u00e7\u00e3o de 1 novo personagem em uma mesa... duas coisas podem acontecer: O servidor pode responder \u00e0 requisi\u00e7\u00e3o ou a conex\u00e3o com o rrpg pode cair. Nesta situa\u00e7\u00e3o, devemos instalar uma escuta \"Quando o servidor responder\", uma escuta \"Quando a conex\u00e3o cair\" e agrup\u00e1-las. Note que se o servidor responder, n\u00e3o estaremos mais interessados se a conex\u00e3o cair e vice-versa. Par\u00e2metros: listenerId1, listenerId2, listenerId3, listenerId4, listenerId5, listenerIdN... As identifica\u00e7\u00f5es de escuta que queira agrupar. Este valor \u00e9 retornado pela fun\u00e7\u00e3o Firecast.Messaging.listenOnce . Este \u00e9 um par\u00e2metro \"vararg\", isto \u00e9, voc\u00ea pode passar quantos valores quiser. Exemplo de chamadas v\u00e1lidas: Firecast.Messaging.groupOnceListeners(id1, id2) ou rrpg.messaging.groupOnceListeners(id1, id2, id3, id4, id5, id7, id8). Created with the Personal Edition of HelpNDoc: Make your documentation accessible on any device with HelpNDoc","title":"Fun\u00e7\u00f5es da biblioteca Firecast.Messaging"},{"location":"BibliotecaFirecastPlugins/","text":"Biblioteca Firecast.Plugins Biblioteca Firecast.Plugins A biblioteca Firecast.Plugins cont\u00e9m fun\u00e7\u00f5es relacionadas aos plug-ins instalados no Firecast. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Firecast.Plugins\" da unidade \"plugins.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"plugins.lua\" require(\"plugins.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Plugins.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es de Gerenciamento de Plugins function Firecast.Plugins.getInstalledDataTypes() Retorna a lista de DataTypes instalados no Firecast. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um DataType instalado e possuem, cada um, os seguintes atributos: moduleId - Cadeia de caracteres identificando qual plug-in instalou o dataType. dataType - Cadeia de caracteres identificando o dataType formType - Cadeia de caracteres identificando o formType. Veja atributo formType da tag form para saber quais s\u00e3o os poss\u00edveis valores deste atributo. title - Cadeia de caracteres que identifica o dataType de forma intuitiva para o usu\u00e1rio. function Firecast.Plugins.getInstalledPlugins() Retorna a lista de plug-ins SDK 3 instalados no Firecast. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um Plug-in instalado e possuem, cada um, os seguintes atributos: moduleId - Cadeia de caracteres com a identifica\u00e7\u00e3o \u00fanica do plug-in. name - Cadeia de caracteres contendo o nome do plug-in. version - Cadeia de caracteres contendo a vers\u00e3o do plug-in. description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do plug-in. author - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre o autor do plug-in. site - Cadeia de caracteres contendo informa\u00e7\u00f5es do website relacionado ao plug-in. contact - Cadeia de caracteres contendo informa\u00e7\u00f5es sober como entra em contato com o autor do plug-in. fileName - Cadeia de caracteres contendo o nome do arquivo \".rpk\" relacionado a este plug-in. Este atributo cont\u00e9m apenas o nome curto do arquivo e n\u00e3o descreve sua localiza\u00e7\u00e3o no HD. Exemplos: \"DnD.rpk\", \"Vampiros.rpk\", etc.. compilationTimestamp - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado por um n\u00famero inteiro, contendo quantos segundos se passaram desde UNIX Epoch (01 de janeiro de 1970) compilationTimestampStr - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado em uma cadeia de caracteres de tamanho fixo no formato \"ddmmyyyyhhnnss\" (onde \"nn\" s\u00e3o os minutos) compilationDigest - Uma cadeia de caracteres contento o hash SHA-1 do conte\u00fado do plugin. Um plugin pode ser compilado mais de uma vez, e, por isso, compilationTimestamp pode variar sem que o conte\u00fado do plugin mude. \u00c9 seguro afirmar que se compilationDigest n\u00e3o mudar, ent\u00e3o o conte\u00fado do plugin n\u00e3o mudou. Este campo est\u00e1 presente em plugins compilados com o SDK 3.5+. function Firecast.Plugins.getInstalledTablesDock() Retorna a lista de \"Table's Dock\"/janelas acopl\u00e1veis instalados no Firecast. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um Table's Dock que o usu\u00e1rio pode utilizar em suas mesas, cada um, os seguintes atributos: moduleId - Cadeia de caracteres identificando qual plug-in instalou o TablesDock. name - Cadeia de caracteres contendo o nome do formul\u00e1rio dataType - Cadeia de caracteres identificando o dataType do formul\u00e1rio TablesDock title - Cadeia de caracteres que identifica o Table's Dock de forma intuitiva para o usu\u00e1rio. function Firecast.Plugins.getRPKDetails(stream) Retorna algumas informa\u00e7\u00f5es sobre um stream contendo um plug-in SDK3 (arquivo de extens\u00e3o .rpk). Par\u00e2metros: stream - Um objeto Stream que possui o conte\u00fado do arquivo \".rpk\" Retorno: Se o par\u00e2metro \"stream\" contiver um arquivo .rpk v\u00e1lido, a fun\u00e7\u00e3o retorna uma tabela lua com os seguintes atributos: moduleId - Cadeia de caracteres contendo o identificador \u00fanico do plug-in name - Cadeia de caracteres contendo o nome do plug-in version - Cadeia de caracteres contendo a vers\u00e3o do plug-in description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do plug-in. author - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do autor do plug-in. site - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre o website do plug-in. contact - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre como contatar o autor do plug-in. minApiVersion - N\u00famero contendo qual a vers\u00e3o de API do SDK3 m\u00ednima para este plug-in rodar. sdkVersion - Cadeia de caracteres contendo qual a vers\u00e3o do SDK3 o plug-in foi compilado. compilationTimestamp - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado por um n\u00famero inteiro, contendo quantos segundos se passaram desde UNIX Epoch (01 de janeiro de 1970) compilationTimestampStr - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado em uma cadeia de caracteres de tamanho fixo no formato \"ddmmyyyyhhnnss\" (onde \"nn\" s\u00e3o os minutos) compilationDigest - Uma cadeia de caracteres contento o hash SHA-1 do conte\u00fado do plugin. Um plugin pode ser compilado mais de uma vez, e, por isso, compilationTimestamp pode variar sem que o conte\u00fado do plugin mude. \u00c9 seguro afirmar que se compilationDigest n\u00e3o mudar, ent\u00e3o o conte\u00fado do plugin n\u00e3o mudou. Este campo est\u00e1 presente em plugins compilados com o SDK 3.5+. Se o par\u00e2metro \"stream\" n\u00e3o contiver um arquivo rpk v\u00e1lido, a fun\u00e7\u00e3o retorna nil . Observa\u00e7\u00f5es: A fun\u00e7\u00e3o come\u00e7a a ler o stream \u00e0 partir da posi\u00e7\u00e3o 0. function Firecast.Plugins.installPlugin(stream [, ignoreIfOlder]) Instala um plug-in SDK3 no Firecast. Par\u00e2metros: stream - Um objeto Stream que possui o conte\u00fado do arquivo \".rpk\" que deseja instalar. (OPCIONAL) ignoreIfOlder - Booleano indicando se a fun\u00e7\u00e3o deve ignorar a instala\u00e7\u00e3o caso exista uma vers\u00e3o mais nova j\u00e1 instalada deste plug-in. Se omitido, o par\u00e2metro possui valor false. Retorno: Se a instala\u00e7\u00e3o for bem sucedida, a fun\u00e7\u00e3o retorna \"true\". Se a instala\u00e7\u00e3o n\u00e3o for bem sucedida, retorna \"false\" e uma cadeia de caracteres contendo o motivo da falha. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o come\u00e7a a ler o stream \u00e0 partir da posi\u00e7\u00e3o 0. Por motivo de seguran\u00e7a, apenas plug-ins autorizados conseguem gerenciar os plug-ins do Firecast. Se o plug-in j\u00e1 estiver instalado: o plug-in \u00e9 descarregado, a atualiza\u00e7\u00e3o \u00e9 instalada, e a nova vers\u00e3o \u00e9 carregada novamente. function Firecast.Plugins.uninstallPlugin(moduleId) Desinstala um plug-in SDK3 que est\u00e1 atualmente instalado no Firecast. Par\u00e2metros: moduleId - Cadeia de caracteres identificando qual plug-in deseja desinstalar. Cada plug-in possui um moduleId, que \u00e9 uma identifica\u00e7\u00e3o \u00fanica do mesmo. Retorno: Se a instala\u00e7\u00e3o for bem sucedida, a fun\u00e7\u00e3o retorna \"true\". Se a instala\u00e7\u00e3o n\u00e3o for bem sucedida, retorna \"false\" e uma cadeia de caracteres contendo o motivo da falha. Observa\u00e7\u00f5es: Por motivo de seguran\u00e7a, apenas plug-ins autorizados conseguem gerenciar os plug-ins do Firecast. Intercomunica\u00e7\u00e3o de plug-ins. Os plug-ins do Firecast podem comunicar entre si afim de realizar pedidos, coordenar a\u00e7\u00f5es, informar algum ocorrido, etc.. Todas as mensagens de plugins s\u00e3o compostas por: identifica\u00e7\u00e3o do plug-in destinat\u00e1rio. nome da mensagem. conte\u00fado da mensagem. Antes de receber mensagens, o plug-in deve registrar uma \"escuta\" atrav\u00e9s da fun\u00e7\u00e3o Firecast.Plugins.listenPM informando o nome da mensagem que ouvir\u00e1 e uma fun\u00e7\u00e3o que ser\u00e1 chamada para trat\u00e1-la.. Durante o tratamento da mensagem recebida, o plug-in receptor pode enviar uma resposta para o plug-in emissor. Para enviar uma mensagem a outro plug-in, este deve utilizar a fun\u00e7\u00e3o Firecast.Plugins.sendPM informando a identifica\u00e7\u00e3o do plug-in destinat\u00e1rio, o nome da mensagem, conte\u00fado, uma fun\u00e7\u00e3o callback de sucesso e uma fun\u00e7\u00e3o callback de falha. function Firecast.Plugins.sendPM(moduleId, pmName, data [, callback, failureCallback]) Envia uma mensagem a outro plug-in instalado no Firecast. Par\u00e2metros: moduleId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o \u00fanica do m\u00f3dulo/plugin que receber\u00e1 a mensagem. Este \u00e9 o mesmo valor encontrado no arquivo module.xml de cada plug-in. Tamb\u00e9m \u00e9 poss\u00edvel obter este valor atrav\u00e9s da fun\u00e7\u00e3o Firecast.Plugins.getInstalledPlugins. pmName - Uma cadeia de caracteres contendo o nome da mensagem. data - O corpo da mensagem, uma tabela lua que ser\u00e1 transmitida ao plug-in destinat\u00e1rio. (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o plug-in destinat\u00e1rio responder a esta mensagem. O primeiro par\u00e2metro da fun\u00e7\u00e3o recebe os dados enviados pelo plug-in destinat\u00e1rio. (OPCIONAL) failureCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando ocorrer algum erro no envio e/ou processamento da mensagem. O primeiro par\u00e2metro da fun\u00e7\u00e3o recebe os dados sobre a falha. Observa\u00e7\u00f5es: Para saber se o envio foi bem sucedido, utilize o par\u00e2metro \"callback\". Para saber se o envio n\u00e3o foi bem sucedido, utilize o par\u00e2metro \"failureCallback\". A fun\u00e7\u00e3o failureCallback \u00e9 invocada se o plugin destinat\u00e1rio n\u00e3o estiver instalado no Firecsat, se o plug-in destinat\u00e1rio n\u00e3o souber tratar mensagens de nome \"pmName\" ou se o ocorrer alguma falha de execu\u00e7\u00e3o no plug-in que recebeu a mensagem. function Firecast.Plugins.listenPM(pmName, callback) Instala uma escuta de mensagens de plugins. Par\u00e2metros: pmName - Uma cadeia de caracteres contendo o nome da mensagem que esta escuta trata. callback - Uma fun\u00e7\u00e3o que ser\u00e1 disparada quando a escuta capturar uma mensagem de nome igual a \"pmName\" e recebe, no primeiro par\u00e2metro, o corpo da mensagem. Esta informa\u00e7\u00e3o \u00e9 uma tabela LUA contendo os mesmos dados que foram enviados pela fun\u00e7\u00e3o Firecast.Plugins.sendPM acrescida da propriedade \"moduleId\" (a identifica\u00e7\u00e3o de qual plug-in enviou a mensagem). Observa\u00e7\u00f5es: Um plug-in s\u00f3 pode ter uma escuta para cada \"pmName\". N\u00e3o \u00e9 poss\u00edvel instalar 2 escutas para a mensagem \"TESTE\", por exemplo. Para enviar uma resposta a quem enviou a mensagem, a fun\u00e7\u00e3o \"callback\" deve: Se j\u00e1 tiver a resposta pronta, usar \"return VALOR\"; ... Este valor ser\u00e1 transmitido para a fun\u00e7\u00e3o callback do plug-in emissor. Se ainda n\u00e3o tiver a resposta pronta, deve, dentro da fun\u00e7\u00e3o \"callback\", invocar o m\u00e9todo Firecast.Plugins.setLatePMReply() e, posteriormente, utilizar as fun\u00e7\u00f5es Firecast.Plugins.replyPM ou Firecast.Plugins.replyPMFailure para enviar a resposta ao plug-in emissor. function Firecast.Plugins.setLatePMReply(message) Ao receber uma mensagem, a escuta, instalada previamente pela fun\u00e7\u00e3o Firecast.Plugins.listenPM, pode invocar este m\u00e9todo para sinalizar que ainda n\u00e3o tem a resposta para a mensagem e que a enviar\u00e1 posteriormente. Par\u00e2metros: message - A mensagem cuja resposta deseja postergar. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM ). Observa\u00e7\u00f5es: Voc\u00ea deve, em algum momento, invocar Firecast.Plugins.replyPM ou Firecast.Plugins.replyPMFailure para enviar uma resposta ao plug-in remetente. Utilizar setLatePMReply e n\u00e3o invocar Firecast.Plugins.replyPM e nem Firecast.Plugins.replyPMFailure faz com que o Firecast n\u00e3o libere os recursos envolvidos na comunica\u00e7\u00e3o, tornando seu plug-in um \"devorador de mem\u00f3ria RAM\" ao longo do tempo. function Firecast.Plugins.replyPM(message, data) Envia uma resposta ao remetente da mensagem inter-plugin. Par\u00e2metros: message - A mensagem que deseja responder. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM ). data - O conte\u00fado da resposta. Pode ser um n\u00famero, uma cadeia de caracteres, um booleano ou uma tabela lua. Esta informa\u00e7\u00e3o ser\u00e1 repassada no primeiro par\u00e2metro da fun\u00e7\u00e3o \"callback\" de quem enviou a mensagem (ver Firecast.Plugins.sendPM ) function Firecast.Plugins.replyPMFailure(message, data) Envia uma resposta de FALHA ao remetente da mensagem inter-plugin. Par\u00e2metros: message - A mensagem que deseja responder. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM ). data - O conte\u00fado da resposta. Pode ser um n\u00famero, uma cadeia de caracteres, um booleano ou uma tabela lua. Esta informa\u00e7\u00e3o ser\u00e1 repassada no primeiro par\u00e2metro da fun\u00e7\u00e3o \"failureCallback\" de quem enviou a mensagem (ver Firecast.Plugins.sendPM Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures","title":"Biblioteca Firecast.Plugins"},{"location":"BibliotecaFirecastPlugins/#biblioteca-firecastplugins","text":"","title":"Biblioteca Firecast.Plugins"},{"location":"BibliotecaFirecastPlugins/#biblioteca-firecastplugins_1","text":"A biblioteca Firecast.Plugins cont\u00e9m fun\u00e7\u00f5es relacionadas aos plug-ins instalados no Firecast. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"Firecast.Plugins\" da unidade \"plugins.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"plugins.lua\" require(\"plugins.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Plugins.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca Firecast.Plugins"},{"location":"BibliotecaFirecastPlugins/#funcoes-de-gerenciamento-de-plugins","text":"function Firecast.Plugins.getInstalledDataTypes() Retorna a lista de DataTypes instalados no Firecast. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um DataType instalado e possuem, cada um, os seguintes atributos: moduleId - Cadeia de caracteres identificando qual plug-in instalou o dataType. dataType - Cadeia de caracteres identificando o dataType formType - Cadeia de caracteres identificando o formType. Veja atributo formType da tag form para saber quais s\u00e3o os poss\u00edveis valores deste atributo. title - Cadeia de caracteres que identifica o dataType de forma intuitiva para o usu\u00e1rio. function Firecast.Plugins.getInstalledPlugins() Retorna a lista de plug-ins SDK 3 instalados no Firecast. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um Plug-in instalado e possuem, cada um, os seguintes atributos: moduleId - Cadeia de caracteres com a identifica\u00e7\u00e3o \u00fanica do plug-in. name - Cadeia de caracteres contendo o nome do plug-in. version - Cadeia de caracteres contendo a vers\u00e3o do plug-in. description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do plug-in. author - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre o autor do plug-in. site - Cadeia de caracteres contendo informa\u00e7\u00f5es do website relacionado ao plug-in. contact - Cadeia de caracteres contendo informa\u00e7\u00f5es sober como entra em contato com o autor do plug-in. fileName - Cadeia de caracteres contendo o nome do arquivo \".rpk\" relacionado a este plug-in. Este atributo cont\u00e9m apenas o nome curto do arquivo e n\u00e3o descreve sua localiza\u00e7\u00e3o no HD. Exemplos: \"DnD.rpk\", \"Vampiros.rpk\", etc.. compilationTimestamp - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado por um n\u00famero inteiro, contendo quantos segundos se passaram desde UNIX Epoch (01 de janeiro de 1970) compilationTimestampStr - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado em uma cadeia de caracteres de tamanho fixo no formato \"ddmmyyyyhhnnss\" (onde \"nn\" s\u00e3o os minutos) compilationDigest - Uma cadeia de caracteres contento o hash SHA-1 do conte\u00fado do plugin. Um plugin pode ser compilado mais de uma vez, e, por isso, compilationTimestamp pode variar sem que o conte\u00fado do plugin mude. \u00c9 seguro afirmar que se compilationDigest n\u00e3o mudar, ent\u00e3o o conte\u00fado do plugin n\u00e3o mudou. Este campo est\u00e1 presente em plugins compilados com o SDK 3.5+. function Firecast.Plugins.getInstalledTablesDock() Retorna a lista de \"Table's Dock\"/janelas acopl\u00e1veis instalados no Firecast. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: Um array (uma tabela Lua indexada de 1 a N) de objetos, onde cada objeto representa um Table's Dock que o usu\u00e1rio pode utilizar em suas mesas, cada um, os seguintes atributos: moduleId - Cadeia de caracteres identificando qual plug-in instalou o TablesDock. name - Cadeia de caracteres contendo o nome do formul\u00e1rio dataType - Cadeia de caracteres identificando o dataType do formul\u00e1rio TablesDock title - Cadeia de caracteres que identifica o Table's Dock de forma intuitiva para o usu\u00e1rio. function Firecast.Plugins.getRPKDetails(stream) Retorna algumas informa\u00e7\u00f5es sobre um stream contendo um plug-in SDK3 (arquivo de extens\u00e3o .rpk). Par\u00e2metros: stream - Um objeto Stream que possui o conte\u00fado do arquivo \".rpk\" Retorno: Se o par\u00e2metro \"stream\" contiver um arquivo .rpk v\u00e1lido, a fun\u00e7\u00e3o retorna uma tabela lua com os seguintes atributos: moduleId - Cadeia de caracteres contendo o identificador \u00fanico do plug-in name - Cadeia de caracteres contendo o nome do plug-in version - Cadeia de caracteres contendo a vers\u00e3o do plug-in description - Cadeia de caracteres contendo a descri\u00e7\u00e3o do plug-in. author - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do autor do plug-in. site - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre o website do plug-in. contact - Cadeia de caracteres contendo informa\u00e7\u00f5es sobre como contatar o autor do plug-in. minApiVersion - N\u00famero contendo qual a vers\u00e3o de API do SDK3 m\u00ednima para este plug-in rodar. sdkVersion - Cadeia de caracteres contendo qual a vers\u00e3o do SDK3 o plug-in foi compilado. compilationTimestamp - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado por um n\u00famero inteiro, contendo quantos segundos se passaram desde UNIX Epoch (01 de janeiro de 1970) compilationTimestampStr - A data e hora (UTC) em que o plugin foi compilado. Este atributo \u00e9 representado em uma cadeia de caracteres de tamanho fixo no formato \"ddmmyyyyhhnnss\" (onde \"nn\" s\u00e3o os minutos) compilationDigest - Uma cadeia de caracteres contento o hash SHA-1 do conte\u00fado do plugin. Um plugin pode ser compilado mais de uma vez, e, por isso, compilationTimestamp pode variar sem que o conte\u00fado do plugin mude. \u00c9 seguro afirmar que se compilationDigest n\u00e3o mudar, ent\u00e3o o conte\u00fado do plugin n\u00e3o mudou. Este campo est\u00e1 presente em plugins compilados com o SDK 3.5+. Se o par\u00e2metro \"stream\" n\u00e3o contiver um arquivo rpk v\u00e1lido, a fun\u00e7\u00e3o retorna nil . Observa\u00e7\u00f5es: A fun\u00e7\u00e3o come\u00e7a a ler o stream \u00e0 partir da posi\u00e7\u00e3o 0. function Firecast.Plugins.installPlugin(stream [, ignoreIfOlder]) Instala um plug-in SDK3 no Firecast. Par\u00e2metros: stream - Um objeto Stream que possui o conte\u00fado do arquivo \".rpk\" que deseja instalar. (OPCIONAL) ignoreIfOlder - Booleano indicando se a fun\u00e7\u00e3o deve ignorar a instala\u00e7\u00e3o caso exista uma vers\u00e3o mais nova j\u00e1 instalada deste plug-in. Se omitido, o par\u00e2metro possui valor false. Retorno: Se a instala\u00e7\u00e3o for bem sucedida, a fun\u00e7\u00e3o retorna \"true\". Se a instala\u00e7\u00e3o n\u00e3o for bem sucedida, retorna \"false\" e uma cadeia de caracteres contendo o motivo da falha. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o come\u00e7a a ler o stream \u00e0 partir da posi\u00e7\u00e3o 0. Por motivo de seguran\u00e7a, apenas plug-ins autorizados conseguem gerenciar os plug-ins do Firecast. Se o plug-in j\u00e1 estiver instalado: o plug-in \u00e9 descarregado, a atualiza\u00e7\u00e3o \u00e9 instalada, e a nova vers\u00e3o \u00e9 carregada novamente. function Firecast.Plugins.uninstallPlugin(moduleId) Desinstala um plug-in SDK3 que est\u00e1 atualmente instalado no Firecast. Par\u00e2metros: moduleId - Cadeia de caracteres identificando qual plug-in deseja desinstalar. Cada plug-in possui um moduleId, que \u00e9 uma identifica\u00e7\u00e3o \u00fanica do mesmo. Retorno: Se a instala\u00e7\u00e3o for bem sucedida, a fun\u00e7\u00e3o retorna \"true\". Se a instala\u00e7\u00e3o n\u00e3o for bem sucedida, retorna \"false\" e uma cadeia de caracteres contendo o motivo da falha. Observa\u00e7\u00f5es: Por motivo de seguran\u00e7a, apenas plug-ins autorizados conseguem gerenciar os plug-ins do Firecast.","title":"Fun\u00e7\u00f5es de Gerenciamento de Plugins"},{"location":"BibliotecaFirecastPlugins/#intercomunicacao-de-plug-ins","text":"Os plug-ins do Firecast podem comunicar entre si afim de realizar pedidos, coordenar a\u00e7\u00f5es, informar algum ocorrido, etc.. Todas as mensagens de plugins s\u00e3o compostas por: identifica\u00e7\u00e3o do plug-in destinat\u00e1rio. nome da mensagem. conte\u00fado da mensagem. Antes de receber mensagens, o plug-in deve registrar uma \"escuta\" atrav\u00e9s da fun\u00e7\u00e3o Firecast.Plugins.listenPM informando o nome da mensagem que ouvir\u00e1 e uma fun\u00e7\u00e3o que ser\u00e1 chamada para trat\u00e1-la.. Durante o tratamento da mensagem recebida, o plug-in receptor pode enviar uma resposta para o plug-in emissor. Para enviar uma mensagem a outro plug-in, este deve utilizar a fun\u00e7\u00e3o Firecast.Plugins.sendPM informando a identifica\u00e7\u00e3o do plug-in destinat\u00e1rio, o nome da mensagem, conte\u00fado, uma fun\u00e7\u00e3o callback de sucesso e uma fun\u00e7\u00e3o callback de falha. function Firecast.Plugins.sendPM(moduleId, pmName, data [, callback, failureCallback]) Envia uma mensagem a outro plug-in instalado no Firecast. Par\u00e2metros: moduleId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o \u00fanica do m\u00f3dulo/plugin que receber\u00e1 a mensagem. Este \u00e9 o mesmo valor encontrado no arquivo module.xml de cada plug-in. Tamb\u00e9m \u00e9 poss\u00edvel obter este valor atrav\u00e9s da fun\u00e7\u00e3o Firecast.Plugins.getInstalledPlugins. pmName - Uma cadeia de caracteres contendo o nome da mensagem. data - O corpo da mensagem, uma tabela lua que ser\u00e1 transmitida ao plug-in destinat\u00e1rio. (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o plug-in destinat\u00e1rio responder a esta mensagem. O primeiro par\u00e2metro da fun\u00e7\u00e3o recebe os dados enviados pelo plug-in destinat\u00e1rio. (OPCIONAL) failureCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando ocorrer algum erro no envio e/ou processamento da mensagem. O primeiro par\u00e2metro da fun\u00e7\u00e3o recebe os dados sobre a falha. Observa\u00e7\u00f5es: Para saber se o envio foi bem sucedido, utilize o par\u00e2metro \"callback\". Para saber se o envio n\u00e3o foi bem sucedido, utilize o par\u00e2metro \"failureCallback\". A fun\u00e7\u00e3o failureCallback \u00e9 invocada se o plugin destinat\u00e1rio n\u00e3o estiver instalado no Firecsat, se o plug-in destinat\u00e1rio n\u00e3o souber tratar mensagens de nome \"pmName\" ou se o ocorrer alguma falha de execu\u00e7\u00e3o no plug-in que recebeu a mensagem. function Firecast.Plugins.listenPM(pmName, callback) Instala uma escuta de mensagens de plugins. Par\u00e2metros: pmName - Uma cadeia de caracteres contendo o nome da mensagem que esta escuta trata. callback - Uma fun\u00e7\u00e3o que ser\u00e1 disparada quando a escuta capturar uma mensagem de nome igual a \"pmName\" e recebe, no primeiro par\u00e2metro, o corpo da mensagem. Esta informa\u00e7\u00e3o \u00e9 uma tabela LUA contendo os mesmos dados que foram enviados pela fun\u00e7\u00e3o Firecast.Plugins.sendPM acrescida da propriedade \"moduleId\" (a identifica\u00e7\u00e3o de qual plug-in enviou a mensagem). Observa\u00e7\u00f5es: Um plug-in s\u00f3 pode ter uma escuta para cada \"pmName\". N\u00e3o \u00e9 poss\u00edvel instalar 2 escutas para a mensagem \"TESTE\", por exemplo. Para enviar uma resposta a quem enviou a mensagem, a fun\u00e7\u00e3o \"callback\" deve: Se j\u00e1 tiver a resposta pronta, usar \"return VALOR\"; ... Este valor ser\u00e1 transmitido para a fun\u00e7\u00e3o callback do plug-in emissor. Se ainda n\u00e3o tiver a resposta pronta, deve, dentro da fun\u00e7\u00e3o \"callback\", invocar o m\u00e9todo Firecast.Plugins.setLatePMReply() e, posteriormente, utilizar as fun\u00e7\u00f5es Firecast.Plugins.replyPM ou Firecast.Plugins.replyPMFailure para enviar a resposta ao plug-in emissor. function Firecast.Plugins.setLatePMReply(message) Ao receber uma mensagem, a escuta, instalada previamente pela fun\u00e7\u00e3o Firecast.Plugins.listenPM, pode invocar este m\u00e9todo para sinalizar que ainda n\u00e3o tem a resposta para a mensagem e que a enviar\u00e1 posteriormente. Par\u00e2metros: message - A mensagem cuja resposta deseja postergar. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM ). Observa\u00e7\u00f5es: Voc\u00ea deve, em algum momento, invocar Firecast.Plugins.replyPM ou Firecast.Plugins.replyPMFailure para enviar uma resposta ao plug-in remetente. Utilizar setLatePMReply e n\u00e3o invocar Firecast.Plugins.replyPM e nem Firecast.Plugins.replyPMFailure faz com que o Firecast n\u00e3o libere os recursos envolvidos na comunica\u00e7\u00e3o, tornando seu plug-in um \"devorador de mem\u00f3ria RAM\" ao longo do tempo. function Firecast.Plugins.replyPM(message, data) Envia uma resposta ao remetente da mensagem inter-plugin. Par\u00e2metros: message - A mensagem que deseja responder. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM ). data - O conte\u00fado da resposta. Pode ser um n\u00famero, uma cadeia de caracteres, um booleano ou uma tabela lua. Esta informa\u00e7\u00e3o ser\u00e1 repassada no primeiro par\u00e2metro da fun\u00e7\u00e3o \"callback\" de quem enviou a mensagem (ver Firecast.Plugins.sendPM ) function Firecast.Plugins.replyPMFailure(message, data) Envia uma resposta de FALHA ao remetente da mensagem inter-plugin. Par\u00e2metros: message - A mensagem que deseja responder. Esta informa\u00e7\u00e3o \u00e9 a mesma que foi recebida no primeiro par\u00e2metro da fun\u00e7\u00e3o callback da escuta (ver Firecast.Plugins.listenPM ). data - O conte\u00fado da resposta. Pode ser um n\u00famero, uma cadeia de caracteres, um booleano ou uma tabela lua. Esta informa\u00e7\u00e3o ser\u00e1 repassada no primeiro par\u00e2metro da fun\u00e7\u00e3o \"failureCallback\" de quem enviou a mensagem (ver Firecast.Plugins.sendPM Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures","title":"Intercomunica\u00e7\u00e3o de plug-ins."},{"location":"BibliotecaFirecastRequests/","text":"Biblioteca Firecast.Requests Biblioteca Firecast.Requests A biblioteca rrpg.requests cont\u00e9m fun\u00e7\u00f5es que solicitam determinadas a\u00e7\u00f5es ao RRPG, como, por exemplo, criar itens na biblioteca da mesa, obter informa\u00e7\u00f5es de perfil de um usu\u00e1rio, etc.. -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"rrpgRequests.lua\" require(\"rrpgRequests.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Requests.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca Firecast.Requests function Firecast.Requests.criarPersonagem(itemPai, nome, dataType, visivelATodos, dono [, successCallback [, failureCallback]]) Requisita a cria\u00e7\u00e3o de um novo personagem na mesa. Par\u00e2metros: itemPai - Um objeto BibliotecaItem identificando onde o personagem dever\u00e1 ser criado. nome - Uma cadeia de caracteres identificando o nome do novo personagem. dataType - Uma cadeia de caracteres identificando o dataType do personagem. dataType \u00e9 uma identifica\u00e7\u00e3o \u00fanica de um template de ficha. visivelATodos - true se o personagem deve ser vis\u00edvel a todos ou false se for ser vis\u00edvel apenas ao mestre e ao dono da ficha. dono - Um objeto Jogador identificando quem ser\u00e1 o dono do personagem, ou nil se for um NPC. (OPCIONAL) successCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a cria\u00e7\u00e3o do personagem for bem sucedida. (OPCIONAL) failureCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a cria\u00e7\u00e3o do personagem n\u00e3o for bem sucedida. Uma cadeia de caracteres contendo o motivo da falha \u00e9 passada como primeiro par\u00e2metro da fun\u00e7\u00e3o. Retorno: A fun\u00e7\u00e3o n\u00e3o retorna nada. Para saber se a cria\u00e7\u00e3o do personagem foi bem sucedida, utilize os par\u00e2metros \"successCallback' e \"failureCallback\". Observa\u00e7\u00f5es: Por motivo de seguran\u00e7a, apenas plug-ins autorizados podem alterar a estrutura da biblioteca das mesas. A cria\u00e7\u00e3o de personagens \u00e9 um processo ass\u00edncrono. Sendo assim, a fun\u00e7\u00e3o n\u00e3o aguarda uma resposta de sucesso/falha e as fun\u00e7\u00f5es successCallback e failureCallback ser\u00e3o invocadas mais tarde com o resultado. N\u00e3o \u00e9 poss\u00edvel criar um personagem cujo dataType n\u00e3o est\u00e1 instalado no RRPG do usu\u00e1rio. Para obter uma lista de dataTypes que o usu\u00e1rio possui instalado, utilize a fun\u00e7\u00e3o Firecast.Plugins.getInstaledDataTypes Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's HTML5 template","title":"Biblioteca Firecast.Requests"},{"location":"BibliotecaFirecastRequests/#biblioteca-firecastrequests","text":"","title":"Biblioteca Firecast.Requests"},{"location":"BibliotecaFirecastRequests/#biblioteca-firecastrequests_1","text":"A biblioteca rrpg.requests cont\u00e9m fun\u00e7\u00f5es que solicitam determinadas a\u00e7\u00f5es ao RRPG, como, por exemplo, criar itens na biblioteca da mesa, obter informa\u00e7\u00f5es de perfil de um usu\u00e1rio, etc.. -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"rrpgRequests.lua\" require(\"rrpgRequests.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Firecast.Requests.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca Firecast.Requests"},{"location":"BibliotecaFirecastRequests/#funcoes-da-biblioteca-firecastrequests","text":"function Firecast.Requests.criarPersonagem(itemPai, nome, dataType, visivelATodos, dono [, successCallback [, failureCallback]]) Requisita a cria\u00e7\u00e3o de um novo personagem na mesa. Par\u00e2metros: itemPai - Um objeto BibliotecaItem identificando onde o personagem dever\u00e1 ser criado. nome - Uma cadeia de caracteres identificando o nome do novo personagem. dataType - Uma cadeia de caracteres identificando o dataType do personagem. dataType \u00e9 uma identifica\u00e7\u00e3o \u00fanica de um template de ficha. visivelATodos - true se o personagem deve ser vis\u00edvel a todos ou false se for ser vis\u00edvel apenas ao mestre e ao dono da ficha. dono - Um objeto Jogador identificando quem ser\u00e1 o dono do personagem, ou nil se for um NPC. (OPCIONAL) successCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a cria\u00e7\u00e3o do personagem for bem sucedida. (OPCIONAL) failureCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando a cria\u00e7\u00e3o do personagem n\u00e3o for bem sucedida. Uma cadeia de caracteres contendo o motivo da falha \u00e9 passada como primeiro par\u00e2metro da fun\u00e7\u00e3o. Retorno: A fun\u00e7\u00e3o n\u00e3o retorna nada. Para saber se a cria\u00e7\u00e3o do personagem foi bem sucedida, utilize os par\u00e2metros \"successCallback' e \"failureCallback\". Observa\u00e7\u00f5es: Por motivo de seguran\u00e7a, apenas plug-ins autorizados podem alterar a estrutura da biblioteca das mesas. A cria\u00e7\u00e3o de personagens \u00e9 um processo ass\u00edncrono. Sendo assim, a fun\u00e7\u00e3o n\u00e3o aguarda uma resposta de sucesso/falha e as fun\u00e7\u00f5es successCallback e failureCallback ser\u00e3o invocadas mais tarde com o resultado. N\u00e3o \u00e9 poss\u00edvel criar um personagem cujo dataType n\u00e3o est\u00e1 instalado no RRPG do usu\u00e1rio. Para obter uma lista de dataTypes que o usu\u00e1rio possui instalado, utilize a fun\u00e7\u00e3o Firecast.Plugins.getInstaledDataTypes Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's HTML5 template","title":"Fun\u00e7\u00f5es da biblioteca Firecast.Requests"},{"location":"BibliotecaGUI/","text":"Biblioteca GUI Biblioteca GUI A biblioteca gui prov\u00ea fun\u00e7\u00f5es relacionadas \u00e0s interfaces Lua Form. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"GUI\" da unidade \"gui.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"gui.lua\" require(\"gui.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca GUI.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca gui function GUI.findControlByName(controlName, referenceControl) Procura outro controle atrav\u00e9s do nome passado pelo par\u00e2metro \u201ccontrolName\u201d em toda a hierarquia de controles onde \"referenceControl\" est\u00e1. Par\u00e2metros: controlName - uma cadeia de caracteres contendo o nome do controle que deseja procurar. referenceControl - um controle para servir de refer\u00eancia durante a busca. O controle ser\u00e1 procurado em toda a hierarquia de controles de \"referenceControl\", isto \u00e9, primeiro nos controles que est\u00e3o dentro dele e depois nos controles pais de \"referenceControl\". Retorno: o controle, se encontrado nil caso n\u00e3o encontre. function GUI.newActivityIndicator() Cria e retorna um novo objeto activityIndicator Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto activityIndicator function GUI.newButton() Cria e retorna um novo objeto button. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto button. function GUI.newCheckBox() Cria e retorna um novo objeto checkbox. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto checkbox. function GUI.newComboBox() Cria e retorna um novo objeto comboBox Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto comboBox function GUI.newColorComboBox() Cria e retorna um novo objeto colorComboBox Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto colorComboBox function GUI.newDataLink() Cria e retorna um novo objeto dataLink Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto dataLink function GUI.newDataScopeBox() Cria e retorna um novo objeto dataScopeBox Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto dataScopeBox function GUI.newEdit() Cria e retorna um novo objeto edit Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto edit function GUI.newFlowLayout() Cria e retorna um novo objeto flowLayout. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto flowLayout. function GUI.newFlowLineBreak() Cria e retorna um novo objeto flowLineBreak. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto flowLineBreak. function GUI.newFlowPart() Cria e retorna um novo objeto flowPart. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto flowPart. function GUI.newForm([formName]) Cria e retorna um novo objeto form . Par\u00e2metros: (OPCIONAL) formName - Se informado, cont\u00e9m uma cadeia de caracteres identificando o \"name\" de um dos Lua Forms do plug-in, fazendo com que a fun\u00e7\u00e3o busque em todos os arquivos \".lfm\" a tag form ou tag popupForm que possuir o atributo name igual a este valor. Retorno: Se \"formName\" n\u00e3o for informado: Retorna um novo objeto form que n\u00e3o possui nenhum outro componente/tag dentro dele. Se \"formName\" for informado: Se a busca encontrar o LuaForm, retorna um objeto form representando a nova inst\u00e2ncia do Lua Form. Se a busca n\u00e3o encontrar o LuaForm, retorna nil . function GUI.newHorzLine() Cria e retorna um novo objeto horzLine Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto horzLine function GUI.newImage() Cria e retorna um novo objeto image Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto image. function GUI.newImageCheckBox() Cria e retorna um novo objeto imageCheckbox. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto imageCheckbox. function GUI.newLabel() Cria e retorna um novo objeto label. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto label. function GUI.newLayout() Cria e retorna um novo objeto layout . Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto layout . function GUI.newPath() Cria e retorna um novo objeto path Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto path function GUI.newPopup() Cria e retorna um novo objeto popup Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto popup function GUI.newPopupForm([popupFormName]) Cria e retorna um novo objeto popupForm . Par\u00e2metros: (OPCIONAL) popupFormName - Se informado, cont\u00e9m uma cadeia de caracteres identificando o \"name\" de um dos Lua Forms do plug-in, fazendo com que a fun\u00e7\u00e3o busque em todos os arquivos \".lfm\" a tag popupForm que possuir o atributo name igual a este valor. Retorno: Se \"popupFormName\" n\u00e3o for informado: Retorna um novo objeto popupForm que n\u00e3o possui nenhum outro componente/tag dentro dele. Se \"popupFormName\" for informado: Se a busca encontrar o LuaForm e se for do tipo popupForm , retorna um objeto popupForm representando a nova inst\u00e2ncia do Lua Form. Se a busca n\u00e3o encontrar o LuaForm ou se encontrar mas tipo diferente de popupForm, retorna nil . function GUI.newRadioButton() Cria e retorna um novo objeto radioButton Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto radioButton function GUI.newRecordList() Cria e retorna um novo objeto recordList Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto recordList function GUI.newRectangle() Cria e retorna um novo objeto rectangle Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto rectangle function GUI.newScrollBox() Cria e retorna um novo objeto scrollBox Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto scrollBox function GUI.newTab() Cria e retorna um novo objeto tab Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto tab function GUI.newTabControl() Cria e retorna um novo objeto tabControl Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto tabControl function GUI.newTextEditor() Cria e retorna um novo objeto textEditor Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto textEditor function GUI.newTimer() Cria e retorna um novo objeto timer Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto timer function GUI.newProgressBar() Cria e retorna um novo objeto progressBar Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto progressBar function GUI.newInertialMovement() Cria e retorna um novo objeto InertialMovement Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto InertialMovement function GUI.showPopup(form [, options]) Exibe uma janela na interface do usu\u00e1rio na forma de um Popup Par\u00e2metros: form - O formul\u00e1rio a ser exibido na interface. Pode ser um objeto Lua Form j\u00e1 instanciado ou um string contendo o nome do form a ser exibido. Caso seja passado o nome do formul\u00e1rio em uma cadeia de caracteres, a fun\u00e7\u00e3o percorre todos os \"lfm\" do plug-in \u00e0 procura da tag form que possuir name igual ao informado. Se encontrado, uma nova inst\u00e2ncia \u00e9 criada para a exibi\u00e7\u00e3o. (OPCIONAL) options - Uma tabela/objeto LUA contendo as op\u00e7\u00f5es da exibi\u00e7\u00e3o do popup. As op\u00e7\u00f5es s\u00e3o: onClose - [function, padr\u00e3o = nil] - Uma fun\u00e7\u00e3o lua que ser\u00e1 invocada quando o popup for fechado. placement - [string enumerado] - Onde o popup ser\u00e1 exibido.. Os poss\u00edveis valores s\u00e3o: \"center\" - no centro da tela \"bottom\" - na parte de baixo da tela \"top\" - na parte de cima da tela \"left\" - \u00e0 esquerda na tela \"right\" - \u00e0 direita na tela \"topLeft\" - no canto superior esquerdo da tela \"topRight - no canto superior direito da tela \"bottomLeft\" - no canto inferior esquerdo da tela \"bottomRight\" - no canto inferior direito da tela \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. Retorno: \\ Se conseguir exibir o form como um popup na interface, retorna true ; Sen\u00e3o retorna false . Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o popup fechar para retornar. Ap\u00f3s esta chamada, o c\u00f3digo LUA continuar\u00e1 sua execu\u00e7\u00e3o normal enquanto o form \u00e9 mostrado. Se o par\u00e2metro form for uma tag popupForm , os seguintes par\u00e2metros em options s\u00e3o ignorados (e s\u00e3o usados os atributos correspondentes da tag no lugar): options .placement function GUI.closePopup(form) Fecha uma janela popup que foi previamente aberta pela da fun\u00e7\u00e3o gui.showPopup . Par\u00e2metros: form - O formul\u00e1rio a ser fechado/tirado da interface. Pode ser um objeto Lua Form j\u00e1 instanciado ou um string contendo o nome do form que foi exibido. Caso seja passado o nome do formul\u00e1rio em uma cadeia de caracteres, a fun\u00e7\u00e3o percorre todos os popups abertos e fecha \u00e0queles que possu\u00edrem o nome informado. Retorno: \\ Se conseguir fechar o form, retorna true ; Sen\u00e3o retorna false . function GUI.openInBrowser(url) Abre um determinado URL/p\u00e1gina web no browser do usu\u00e1rio. Par\u00e2metros: url - cadeia de caracteres contendo a URL/caminho da p\u00e1gina web que deve ser aberta. Exemplo \"http://www.rrpg.com.br\". Observa\u00e7\u00f5es: Se o par\u00e2metro \"url\" n\u00e3o come\u00e7ar com \"http://\" e nem com \"https://\", automaticamente \"http://\" ser\u00e1 adicionado no inicio da URL antes da abertura da p\u00e1gina. function GUI.toast(message) Show a quick informative message to the user that does not require user interaction and hides automatically after a short time Parameters message - The message string to be shown Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI","title":"Biblioteca GUI"},{"location":"BibliotecaGUI/#biblioteca-gui","text":"","title":"Biblioteca GUI"},{"location":"BibliotecaGUI/#biblioteca-gui_1","text":"A biblioteca gui prov\u00ea fun\u00e7\u00f5es relacionadas \u00e0s interfaces Lua Form. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"GUI\" da unidade \"gui.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"gui.lua\" require(\"gui.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca GUI.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca GUI"},{"location":"BibliotecaGUI/#funcoes-da-biblioteca-gui","text":"","title":"Fun\u00e7\u00f5es da biblioteca gui"},{"location":"BibliotecaGUI/#_1","text":"function GUI.findControlByName(controlName, referenceControl) Procura outro controle atrav\u00e9s do nome passado pelo par\u00e2metro \u201ccontrolName\u201d em toda a hierarquia de controles onde \"referenceControl\" est\u00e1. Par\u00e2metros: controlName - uma cadeia de caracteres contendo o nome do controle que deseja procurar. referenceControl - um controle para servir de refer\u00eancia durante a busca. O controle ser\u00e1 procurado em toda a hierarquia de controles de \"referenceControl\", isto \u00e9, primeiro nos controles que est\u00e3o dentro dele e depois nos controles pais de \"referenceControl\". Retorno: o controle, se encontrado nil caso n\u00e3o encontre. function GUI.newActivityIndicator() Cria e retorna um novo objeto activityIndicator Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto activityIndicator function GUI.newButton() Cria e retorna um novo objeto button. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto button. function GUI.newCheckBox() Cria e retorna um novo objeto checkbox. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto checkbox. function GUI.newComboBox() Cria e retorna um novo objeto comboBox Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto comboBox function GUI.newColorComboBox() Cria e retorna um novo objeto colorComboBox Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto colorComboBox function GUI.newDataLink() Cria e retorna um novo objeto dataLink Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto dataLink function GUI.newDataScopeBox() Cria e retorna um novo objeto dataScopeBox Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto dataScopeBox function GUI.newEdit() Cria e retorna um novo objeto edit Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto edit function GUI.newFlowLayout() Cria e retorna um novo objeto flowLayout. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto flowLayout. function GUI.newFlowLineBreak() Cria e retorna um novo objeto flowLineBreak. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto flowLineBreak. function GUI.newFlowPart() Cria e retorna um novo objeto flowPart. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto flowPart. function GUI.newForm([formName]) Cria e retorna um novo objeto form . Par\u00e2metros: (OPCIONAL) formName - Se informado, cont\u00e9m uma cadeia de caracteres identificando o \"name\" de um dos Lua Forms do plug-in, fazendo com que a fun\u00e7\u00e3o busque em todos os arquivos \".lfm\" a tag form ou tag popupForm que possuir o atributo name igual a este valor. Retorno: Se \"formName\" n\u00e3o for informado: Retorna um novo objeto form que n\u00e3o possui nenhum outro componente/tag dentro dele. Se \"formName\" for informado: Se a busca encontrar o LuaForm, retorna um objeto form representando a nova inst\u00e2ncia do Lua Form. Se a busca n\u00e3o encontrar o LuaForm, retorna nil . function GUI.newHorzLine() Cria e retorna um novo objeto horzLine Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto horzLine function GUI.newImage() Cria e retorna um novo objeto image Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto image. function GUI.newImageCheckBox() Cria e retorna um novo objeto imageCheckbox. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto imageCheckbox. function GUI.newLabel() Cria e retorna um novo objeto label. Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto label. function GUI.newLayout() Cria e retorna um novo objeto layout . Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto layout . function GUI.newPath() Cria e retorna um novo objeto path Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto path function GUI.newPopup() Cria e retorna um novo objeto popup Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto popup function GUI.newPopupForm([popupFormName]) Cria e retorna um novo objeto popupForm . Par\u00e2metros: (OPCIONAL) popupFormName - Se informado, cont\u00e9m uma cadeia de caracteres identificando o \"name\" de um dos Lua Forms do plug-in, fazendo com que a fun\u00e7\u00e3o busque em todos os arquivos \".lfm\" a tag popupForm que possuir o atributo name igual a este valor. Retorno: Se \"popupFormName\" n\u00e3o for informado: Retorna um novo objeto popupForm que n\u00e3o possui nenhum outro componente/tag dentro dele. Se \"popupFormName\" for informado: Se a busca encontrar o LuaForm e se for do tipo popupForm , retorna um objeto popupForm representando a nova inst\u00e2ncia do Lua Form. Se a busca n\u00e3o encontrar o LuaForm ou se encontrar mas tipo diferente de popupForm, retorna nil . function GUI.newRadioButton() Cria e retorna um novo objeto radioButton Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto radioButton function GUI.newRecordList() Cria e retorna um novo objeto recordList Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto recordList function GUI.newRectangle() Cria e retorna um novo objeto rectangle Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto rectangle function GUI.newScrollBox() Cria e retorna um novo objeto scrollBox Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto scrollBox function GUI.newTab() Cria e retorna um novo objeto tab Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto tab function GUI.newTabControl() Cria e retorna um novo objeto tabControl Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto tabControl function GUI.newTextEditor() Cria e retorna um novo objeto textEditor Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto textEditor function GUI.newTimer() Cria e retorna um novo objeto timer Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto timer function GUI.newProgressBar() Cria e retorna um novo objeto progressBar Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto progressBar function GUI.newInertialMovement() Cria e retorna um novo objeto InertialMovement Par\u00e2metros: N\u00e3o h\u00e1 par\u00e2metros Retorno: \\ Retorna um objeto InertialMovement function GUI.showPopup(form [, options]) Exibe uma janela na interface do usu\u00e1rio na forma de um Popup Par\u00e2metros: form - O formul\u00e1rio a ser exibido na interface. Pode ser um objeto Lua Form j\u00e1 instanciado ou um string contendo o nome do form a ser exibido. Caso seja passado o nome do formul\u00e1rio em uma cadeia de caracteres, a fun\u00e7\u00e3o percorre todos os \"lfm\" do plug-in \u00e0 procura da tag form que possuir name igual ao informado. Se encontrado, uma nova inst\u00e2ncia \u00e9 criada para a exibi\u00e7\u00e3o. (OPCIONAL) options - Uma tabela/objeto LUA contendo as op\u00e7\u00f5es da exibi\u00e7\u00e3o do popup. As op\u00e7\u00f5es s\u00e3o: onClose - [function, padr\u00e3o = nil] - Uma fun\u00e7\u00e3o lua que ser\u00e1 invocada quando o popup for fechado. placement - [string enumerado] - Onde o popup ser\u00e1 exibido.. Os poss\u00edveis valores s\u00e3o: \"center\" - no centro da tela \"bottom\" - na parte de baixo da tela \"top\" - na parte de cima da tela \"left\" - \u00e0 esquerda na tela \"right\" - \u00e0 direita na tela \"topLeft\" - no canto superior esquerdo da tela \"topRight - no canto superior direito da tela \"bottomLeft\" - no canto inferior esquerdo da tela \"bottomRight\" - no canto inferior direito da tela \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. Retorno: \\ Se conseguir exibir o form como um popup na interface, retorna true ; Sen\u00e3o retorna false . Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o popup fechar para retornar. Ap\u00f3s esta chamada, o c\u00f3digo LUA continuar\u00e1 sua execu\u00e7\u00e3o normal enquanto o form \u00e9 mostrado. Se o par\u00e2metro form for uma tag popupForm , os seguintes par\u00e2metros em options s\u00e3o ignorados (e s\u00e3o usados os atributos correspondentes da tag no lugar): options .placement function GUI.closePopup(form) Fecha uma janela popup que foi previamente aberta pela da fun\u00e7\u00e3o gui.showPopup . Par\u00e2metros: form - O formul\u00e1rio a ser fechado/tirado da interface. Pode ser um objeto Lua Form j\u00e1 instanciado ou um string contendo o nome do form que foi exibido. Caso seja passado o nome do formul\u00e1rio em uma cadeia de caracteres, a fun\u00e7\u00e3o percorre todos os popups abertos e fecha \u00e0queles que possu\u00edrem o nome informado. Retorno: \\ Se conseguir fechar o form, retorna true ; Sen\u00e3o retorna false . function GUI.openInBrowser(url) Abre um determinado URL/p\u00e1gina web no browser do usu\u00e1rio. Par\u00e2metros: url - cadeia de caracteres contendo a URL/caminho da p\u00e1gina web que deve ser aberta. Exemplo \"http://www.rrpg.com.br\". Observa\u00e7\u00f5es: Se o par\u00e2metro \"url\" n\u00e3o come\u00e7ar com \"http://\" e nem com \"https://\", automaticamente \"http://\" ser\u00e1 adicionado no inicio da URL antes da abertura da p\u00e1gina. function GUI.toast(message) Show a quick informative message to the user that does not require user interaction and hides automatically after a short time Parameters message - The message string to be shown Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI","title":"&nbsp;"},{"location":"BibliotecaInternet/","text":"Biblioteca Internet Biblioteca Internet Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 internet/intranet, como: downloads, requisi\u00e7\u00f5es HTTP, etc.. Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"internet.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"internet.lua\" require(\"internet.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Internet.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca internet function Internet.download(url [, finishCallback [, errorCallback [, progressCallback [, cacheMode]]]]) Realiza o download de um arquivo da internet. Par\u00e2metros: url - Cadeia de caracteres contendo a URL do arquivo (Exemplo: http://www.site.com.br/pasta/arquivo.png). URL de arquivos que est\u00e3o na internet devem come\u00e7ar com \"http://\" ou \"https://\" Endere\u00e7os de arquivos que est\u00e3o localizados no HD virtual do plug-in tamb\u00e9m s\u00e3o aceitos.\\ (OPCIONAL) finishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o download estiver terminado. Esta fun\u00e7\u00e3o recebe os seguintes 2 par\u00e2metros: stream - Um objeto Stream possuindo o conte\u00fado do arquivo baixado. Importante: O Firecast libera o conte\u00fado da stream ap\u00f3s a chamada da fun\u00e7\u00e3o finishCallback. contentType - Uma cadeia de caracteres identificando o MimeType/tipo do conte\u00fado.. Exemplos: \"application/octet-stream\", \"image/png\", \"text/html\", etc..\\ (OPCIONAL) errorCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada se ocorrer algum erro no download. A Mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o.\\ (OPCIONAL) progressCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada v\u00e1rias vezes para informar o progresso do download. Esta fun\u00e7\u00e3o recebe 2 par\u00e2metros: downloadedBytes - Quantos bytes j\u00e1 foram baixados. totalBytes - Quantos bytes o arquivo possui no total.\\ (OPCIONAL) cacheMode - Pode ser passado um dos seguintes valores e significados: \"alwaysUseCache\" - Se o arquivo j\u00e1 existir no cache, o Firecast ir\u00e1 retornar o conte\u00fado sem mesmo se comunicar com a internet. Este \u00e9 o modo padr\u00e3o . \"checkForModification\" - Se o arquivo j\u00e1 existir no cache, o Firecast ir\u00e1 verificar no servidor remoto se houve altera\u00e7\u00f5es no conte\u00fado antes de decidir usar o cache local ou baixar o conte\u00fado. \"alwaysDownload\" - O Firecast n\u00e3o usar\u00e1 o cache local e sempre baixar\u00e1 o conte\u00fado do servidor remoto. Retorno: A fun\u00e7\u00e3o retorna um identificador de download. Este valor pode ser utilizado para invocar o m\u00e9todo Internet.stopDownload caso queira abortar o download. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o download terminar e continua a execu\u00e7\u00e3o do c\u00f3digo enquanto o download \u00e9 feito em paralelo. Para ter acesso ao conte\u00fado baixado, utilize o par\u00e2metro finishCallback. Invocar esta fun\u00e7\u00e3o faz com que a URL seja enfileirada no gerenciador de downloads do Firecast, e, portanto, o download pode passar por uma espera antes de realmente come\u00e7ar. Retornar explicitamente \"false\" na fun\u00e7\u00e3o progressCallback faz com que o download seja abortado. Este m\u00e9todo utiliza um sistema de cache de arquivos para evitar usar a internet com arquivos que j\u00e1 foram recentemente baixados. Se o arquivo estiver pronto no sistema de cache de arquivos, a fun\u00e7\u00e3o \"finishCallback\" poder\u00e1 ser invocada imediatamente, antes mesmo da fun\u00e7\u00e3o \"Internet.download\" retornar. Este m\u00e9todo, quando poss\u00edvel, faz \"resume\", isto \u00e9, ele consegue fazer download \u00e0 partir de um ponto que havia parado recentemente. Exemplo 1: Internet.download(\"http://www.rrpg.com.br/arquivo.png\", function (stream, contentType) -- esta fun\u00e7\u00e3o ser\u00e1 chamada quando o download terminar -- o conte\u00fado do arquivo baixado est\u00e1 em stream. end , function (errorMsg) -- esta fun\u00e7\u00e3o ser\u00e1 chamada quando ocorrer algum erro no download. -- errorMsg possui a msg de erro end , function (downloaded, total) -- esta fun\u00e7\u00e3o ser\u00e1 chamada constantemente. -- dividir \"downloaded\" por \"total\" lhe dar\u00e1 uma porcentagem do download. end ); Exemplo 2 - checkForModification Internet.download(\"http://www.rrpg.com.br/arquivo.png\", function (stream, contentType) -- esta fun\u00e7\u00e3o ser\u00e1 chamada quando o download terminar -- o conte\u00fado do arquivo baixado est\u00e1 em stream. end , function (errorMsg) -- esta fun\u00e7\u00e3o ser\u00e1 chamada quando ocorrer algum erro no download. -- errorMsg possui a msg de erro end , function (downloaded, total) -- esta fun\u00e7\u00e3o ser\u00e1 chamada constantemente. -- dividir \"downloaded\" por \"total\" lhe dar\u00e1 uma porcentagem do download. end, \"checkForModification\"); function Internet.stopDownload(downloadId) Aborta um download que foi iniciado pela fun\u00e7\u00e3o Internet.download Par\u00e2metros: downloadId - a identifica\u00e7\u00e3o do download a ser abortado. Este valor \u00e9 retornado pela fun\u00e7\u00e3o Internet.download function Internet.newHTTPRequest([method [, url]]) Cria e retorna um objeto HTTPRequest , usado para troca de dados com um servidor atrav\u00e9s de protocolo HTTP ou HTTPS. Par\u00e2metros: (OPCIONAL) method - Uma cadeia de caracteres identificando o m\u00e9todo/verbo HTTP utilizado nesta requisi\u00e7\u00e3o. Os valores aceitos s\u00e3o: \"GET\" (valor padr\u00e3o, se o par\u00e2metro for omitido) \"POST\" \"PUT\" \"PATCH\" \"TRACE\" \"HEAD\" \"OPTIONS\" \"DELETE\" (OPCIONAL) url - A URL da requisi\u00e7\u00e3o HTTP. Este valor pode ser alterado posteriormente no objeto HTTPRequest. Retorno: Um objeto HTTPRequest representando a requisi\u00e7\u00e3o. Observa\u00e7\u00f5es: As requisi\u00e7\u00f5es HTTP s\u00e3o permitidas apenas se o usu\u00e1rio do Firecast for um membro Gold. Esta fun\u00e7\u00e3o apenas cria o objeto HTTPRequest e n\u00e3o a envia. Voc\u00ea deve utilizar o m\u00e9todo \"send\" do objeto para, de fato, enviar a requisi\u00e7\u00e3o. function Internet.httpEncode(str) Codifica um texto para que possa ser usado como URL em requisi\u00e7\u00f5es HTTP. Par\u00e2metros: str - A cadeia de caracteres que deseja codificar. Retorno: Uma cadeia de caracteres contendo o texto codificado. function Internet.httpDecode(str) Decodifica os caracteres/c\u00f3digos de URL contidas no texto passado. Par\u00e2metros: str - A cadeia de caracteres que deseja decodificar. Retorno: Uma cadeia de caracteres contendo o texto decodificado. Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide","title":"Biblioteca Internet"},{"location":"BibliotecaInternet/#biblioteca-internet","text":"","title":"Biblioteca Internet"},{"location":"BibliotecaInternet/#biblioteca-internet_1","text":"Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 internet/intranet, como: downloads, requisi\u00e7\u00f5es HTTP, etc.. Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"internet.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"internet.lua\" require(\"internet.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Internet.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca Internet"},{"location":"BibliotecaInternet/#funcoes-da-biblioteca-internet","text":"function Internet.download(url [, finishCallback [, errorCallback [, progressCallback [, cacheMode]]]]) Realiza o download de um arquivo da internet. Par\u00e2metros: url - Cadeia de caracteres contendo a URL do arquivo (Exemplo: http://www.site.com.br/pasta/arquivo.png). URL de arquivos que est\u00e3o na internet devem come\u00e7ar com \"http://\" ou \"https://\" Endere\u00e7os de arquivos que est\u00e3o localizados no HD virtual do plug-in tamb\u00e9m s\u00e3o aceitos.\\ (OPCIONAL) finishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o download estiver terminado. Esta fun\u00e7\u00e3o recebe os seguintes 2 par\u00e2metros: stream - Um objeto Stream possuindo o conte\u00fado do arquivo baixado. Importante: O Firecast libera o conte\u00fado da stream ap\u00f3s a chamada da fun\u00e7\u00e3o finishCallback. contentType - Uma cadeia de caracteres identificando o MimeType/tipo do conte\u00fado.. Exemplos: \"application/octet-stream\", \"image/png\", \"text/html\", etc..\\ (OPCIONAL) errorCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada se ocorrer algum erro no download. A Mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o.\\ (OPCIONAL) progressCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada v\u00e1rias vezes para informar o progresso do download. Esta fun\u00e7\u00e3o recebe 2 par\u00e2metros: downloadedBytes - Quantos bytes j\u00e1 foram baixados. totalBytes - Quantos bytes o arquivo possui no total.\\ (OPCIONAL) cacheMode - Pode ser passado um dos seguintes valores e significados: \"alwaysUseCache\" - Se o arquivo j\u00e1 existir no cache, o Firecast ir\u00e1 retornar o conte\u00fado sem mesmo se comunicar com a internet. Este \u00e9 o modo padr\u00e3o . \"checkForModification\" - Se o arquivo j\u00e1 existir no cache, o Firecast ir\u00e1 verificar no servidor remoto se houve altera\u00e7\u00f5es no conte\u00fado antes de decidir usar o cache local ou baixar o conte\u00fado. \"alwaysDownload\" - O Firecast n\u00e3o usar\u00e1 o cache local e sempre baixar\u00e1 o conte\u00fado do servidor remoto. Retorno: A fun\u00e7\u00e3o retorna um identificador de download. Este valor pode ser utilizado para invocar o m\u00e9todo Internet.stopDownload caso queira abortar o download. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o download terminar e continua a execu\u00e7\u00e3o do c\u00f3digo enquanto o download \u00e9 feito em paralelo. Para ter acesso ao conte\u00fado baixado, utilize o par\u00e2metro finishCallback. Invocar esta fun\u00e7\u00e3o faz com que a URL seja enfileirada no gerenciador de downloads do Firecast, e, portanto, o download pode passar por uma espera antes de realmente come\u00e7ar. Retornar explicitamente \"false\" na fun\u00e7\u00e3o progressCallback faz com que o download seja abortado. Este m\u00e9todo utiliza um sistema de cache de arquivos para evitar usar a internet com arquivos que j\u00e1 foram recentemente baixados. Se o arquivo estiver pronto no sistema de cache de arquivos, a fun\u00e7\u00e3o \"finishCallback\" poder\u00e1 ser invocada imediatamente, antes mesmo da fun\u00e7\u00e3o \"Internet.download\" retornar. Este m\u00e9todo, quando poss\u00edvel, faz \"resume\", isto \u00e9, ele consegue fazer download \u00e0 partir de um ponto que havia parado recentemente. Exemplo 1: Internet.download(\"http://www.rrpg.com.br/arquivo.png\", function (stream, contentType) -- esta fun\u00e7\u00e3o ser\u00e1 chamada quando o download terminar -- o conte\u00fado do arquivo baixado est\u00e1 em stream. end , function (errorMsg) -- esta fun\u00e7\u00e3o ser\u00e1 chamada quando ocorrer algum erro no download. -- errorMsg possui a msg de erro end , function (downloaded, total) -- esta fun\u00e7\u00e3o ser\u00e1 chamada constantemente. -- dividir \"downloaded\" por \"total\" lhe dar\u00e1 uma porcentagem do download. end ); Exemplo 2 - checkForModification Internet.download(\"http://www.rrpg.com.br/arquivo.png\", function (stream, contentType) -- esta fun\u00e7\u00e3o ser\u00e1 chamada quando o download terminar -- o conte\u00fado do arquivo baixado est\u00e1 em stream. end , function (errorMsg) -- esta fun\u00e7\u00e3o ser\u00e1 chamada quando ocorrer algum erro no download. -- errorMsg possui a msg de erro end , function (downloaded, total) -- esta fun\u00e7\u00e3o ser\u00e1 chamada constantemente. -- dividir \"downloaded\" por \"total\" lhe dar\u00e1 uma porcentagem do download. end, \"checkForModification\"); function Internet.stopDownload(downloadId) Aborta um download que foi iniciado pela fun\u00e7\u00e3o Internet.download Par\u00e2metros: downloadId - a identifica\u00e7\u00e3o do download a ser abortado. Este valor \u00e9 retornado pela fun\u00e7\u00e3o Internet.download function Internet.newHTTPRequest([method [, url]]) Cria e retorna um objeto HTTPRequest , usado para troca de dados com um servidor atrav\u00e9s de protocolo HTTP ou HTTPS. Par\u00e2metros: (OPCIONAL) method - Uma cadeia de caracteres identificando o m\u00e9todo/verbo HTTP utilizado nesta requisi\u00e7\u00e3o. Os valores aceitos s\u00e3o: \"GET\" (valor padr\u00e3o, se o par\u00e2metro for omitido) \"POST\" \"PUT\" \"PATCH\" \"TRACE\" \"HEAD\" \"OPTIONS\" \"DELETE\" (OPCIONAL) url - A URL da requisi\u00e7\u00e3o HTTP. Este valor pode ser alterado posteriormente no objeto HTTPRequest. Retorno: Um objeto HTTPRequest representando a requisi\u00e7\u00e3o. Observa\u00e7\u00f5es: As requisi\u00e7\u00f5es HTTP s\u00e3o permitidas apenas se o usu\u00e1rio do Firecast for um membro Gold. Esta fun\u00e7\u00e3o apenas cria o objeto HTTPRequest e n\u00e3o a envia. Voc\u00ea deve utilizar o m\u00e9todo \"send\" do objeto para, de fato, enviar a requisi\u00e7\u00e3o. function Internet.httpEncode(str) Codifica um texto para que possa ser usado como URL em requisi\u00e7\u00f5es HTTP. Par\u00e2metros: str - A cadeia de caracteres que deseja codificar. Retorno: Uma cadeia de caracteres contendo o texto codificado. function Internet.httpDecode(str) Decodifica os caracteres/c\u00f3digos de URL contidas no texto passado. Par\u00e2metros: str - A cadeia de caracteres que deseja decodificar. Retorno: Uma cadeia de caracteres contendo o texto decodificado. Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide","title":"Fun\u00e7\u00f5es da biblioteca internet"},{"location":"BibliotecaLocale/","text":"Biblioteca Locale Biblioteca Locale Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com idiomas e regi\u00f5es, incluindo funcionalidade para permitir um plug-in em v\u00e1rias l\u00ednguas Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"locale.lua\" require(\"locale.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Locale.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca Locale function lang(txtId) ou function LANG(txtId) ou function Locale.lang(txtId) Percorre todos os arquivos \".lang\" do plug-in \u00e0 procura de um texto cuja identifica\u00e7\u00e3o seja igual \u00e0 passada como par\u00e2metro e que combine com o idioma atual do usu\u00e1rio. Esta fun\u00e7\u00e3o \u00e9 a principal para voc\u00ea obter strings correto para o idioma do usu\u00e1rio. Par\u00e2metros: txtId - Uma cadeia de caracteres que identifica o texto que deseja obter Retorno: Uma cadeia de caracteres contendo o texto para o idioma do usu\u00e1rio. Observa\u00e7\u00f5es: A busca ocorre em todos os arquivos de extens\u00e3o .lang de forma eficiente. Caso a busca n\u00e3o encontre o texto para o idioma do usu\u00e1rio, a busca retornar\u00e1 uma cadeia de caracteres de outro idioma. A fun\u00e7\u00e3o emite um erro se \"txtId\" n\u00e3o for conhecido em nenhum idioma. Leia o tutorial de como criar um plug-in multi-l\u00ednguas para exemplo! function Locale.loadLangTexts(langTexts) Carrega, em tempo de execu\u00e7\u00e3o, um arquivo \".lang\" para que mais textos traduzidos possam ser encontrados pelas fun\u00e7\u00f5es Locale.lang e Locale.tryLang . Par\u00e2metros: langTexts - Uma cadeia de caracteres com o conte\u00fado do arquivo .lang que ser\u00e1 carregado em tempo de execu\u00e7\u00e3o. Observa\u00e7\u00f5es: Leia o tutorial de como criar um plug-in multi-l\u00ednguas para exemplo! function tryLang(txtId) ou function tryLANG(txtId) ou function Locale.tryLang(txtId) Id\u00eantico \u00e0 fun\u00e7\u00e3o lang , por\u00e9m retorna nil ao inv\u00e9s de um erro quando n\u00e3o encontra a tradu\u00e7\u00e3o. Created with the Personal Edition of HelpNDoc: Easily share your documentation with the world through a beautiful website","title":"Biblioteca Locale"},{"location":"BibliotecaLocale/#biblioteca-locale","text":"","title":"Biblioteca Locale"},{"location":"BibliotecaLocale/#biblioteca-locale_1","text":"Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com idiomas e regi\u00f5es, incluindo funcionalidade para permitir um plug-in em v\u00e1rias l\u00ednguas Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"locale.lua\" require(\"locale.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Locale.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca Locale"},{"location":"BibliotecaLocale/#funcoes-da-biblioteca-locale","text":"function lang(txtId) ou function LANG(txtId) ou function Locale.lang(txtId) Percorre todos os arquivos \".lang\" do plug-in \u00e0 procura de um texto cuja identifica\u00e7\u00e3o seja igual \u00e0 passada como par\u00e2metro e que combine com o idioma atual do usu\u00e1rio. Esta fun\u00e7\u00e3o \u00e9 a principal para voc\u00ea obter strings correto para o idioma do usu\u00e1rio. Par\u00e2metros: txtId - Uma cadeia de caracteres que identifica o texto que deseja obter Retorno: Uma cadeia de caracteres contendo o texto para o idioma do usu\u00e1rio. Observa\u00e7\u00f5es: A busca ocorre em todos os arquivos de extens\u00e3o .lang de forma eficiente. Caso a busca n\u00e3o encontre o texto para o idioma do usu\u00e1rio, a busca retornar\u00e1 uma cadeia de caracteres de outro idioma. A fun\u00e7\u00e3o emite um erro se \"txtId\" n\u00e3o for conhecido em nenhum idioma. Leia o tutorial de como criar um plug-in multi-l\u00ednguas para exemplo! function Locale.loadLangTexts(langTexts) Carrega, em tempo de execu\u00e7\u00e3o, um arquivo \".lang\" para que mais textos traduzidos possam ser encontrados pelas fun\u00e7\u00f5es Locale.lang e Locale.tryLang . Par\u00e2metros: langTexts - Uma cadeia de caracteres com o conte\u00fado do arquivo .lang que ser\u00e1 carregado em tempo de execu\u00e7\u00e3o. Observa\u00e7\u00f5es: Leia o tutorial de como criar um plug-in multi-l\u00ednguas para exemplo! function tryLang(txtId) ou function tryLANG(txtId) ou function Locale.tryLang(txtId) Id\u00eantico \u00e0 fun\u00e7\u00e3o lang , por\u00e9m retorna nil ao inv\u00e9s de um erro quando n\u00e3o encontra a tradu\u00e7\u00e3o. Created with the Personal Edition of HelpNDoc: Easily share your documentation with the world through a beautiful website","title":"Fun\u00e7\u00f5es da biblioteca Locale"},{"location":"BibliotecaNDB/","text":"Biblioteca NDB Biblioteca NDB A biblioteca ndb prov\u00ea fun\u00e7\u00f5es para manipular NodeDatabases, como abrir um NodeDatabase, retornar o n\u00f3 pai de um n\u00f3, etc.. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"NDB\" da unidade \"ndb.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"ndb.lua\" require(\"ndb.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca NDB.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca NDB function NDB.load(fileName [, userName]) Carrega um NodeDatabase que est\u00e1 localizado no HD Virtual do plug-in e retorna o nodo raiz. Par\u00e2metros: fileName \u2013 cadeia de caracteres identificando o nome do arquivo [Opcional] userName \u2013 Se voc\u00ea desejar fazer controle de permiss\u00f5es em um NodeDatabase local, passe neste par\u00e2metro uma cadeia de caracteres identificando o usu\u00e1rio que est\u00e1 abrindo o database. Normalmente n\u00e3o \u00e9 preciso se preocupar com este par\u00e2metro, e basta omitir seu valor na chamada da fun\u00e7\u00e3o. Retorno: Retorna um Objeto Nodo , representado a raiz do NodeDatabase. Todas as altera\u00e7\u00f5es feitas neste nodo (e em seus nodos filhos) ser\u00e3o salvas automaticamente no arquivo passado no par\u00e2metro \u201cfileName\u201d. Observa\u00e7\u00f5es: O par\u00e2metro \u201cfileName\u201d \u00e9 expandido (atrav\u00e9s da fun\u00e7\u00e3o \u201c VHD.expandFileName \u201d) antes de procurar o arquivo. Caso o arquivo n\u00e3o exista, um novo \u00e9 criado automaticamente. Se foi fornecido um caminho curto no par\u00e2metro \u201cfileName\u201d (n\u00e3o relativo \u00e0 raiz do HD Virtual), ent\u00e3o o nome do arquivo \u00e9 expandido em rela\u00e7\u00e3o ao diret\u00f3rio \u201c/\u201d (raiz do HD Virtual) antes da cria\u00e7\u00e3o do arquivo. O formato do arquivo \u00e9 XML. Se o arquivo especificado fizer parte da pasta projeto do plug-in, o NodeDatabase ser\u00e1 aberto em modo somente leitura. function NDB.newMemNodeDatabase() Cria um novo NodeDatabase tempor\u00e1rio que reside apenas na mem\u00f3ria. Quando o RRPG fecha, os dados salvos neste NodeDatabase s\u00e3o perdidos. Par\u00e2metros: N\u00e3o h\u00e1. Retorno: Retorna um Objeto Nodo , representado a raiz do NodeDatabase tempor\u00e1rio. function NDB.newObserver(node) Cria um novo objeto NodeObserver para o nodo passado como par\u00e2metro. Um NodeObserver \u00e9 capaz de monitorar e notificar as mudan\u00e7as ocorridas em um determinado Nodo de NodeDatabase. Par\u00e2metros: node - Objeto nodo que deseja monitorar mudan\u00e7as. Retorno: Um novo objeto NodeObserver function NDB.newTransaction(node) Cria uma nova transa\u00e7\u00e3o para controlar como as mudan\u00e7as s\u00e3o salvas/compartilhadas em um NodeDatabase Par\u00e2metros: node - um Objeto nodo do NodeDatabase que deseja controlar as mudan\u00e7as. Retorno: Um objeto NodeTransaction Observa\u00e7\u00f5es: Apenas criar um NodeTransaction n\u00e3o faz com que as mudan\u00e7as sejam controladas. \u00c9 preciso chamar o m\u00e9todo NDB.pushTransaction para ativar a captura de mudan\u00e7as para o controle. function NDB.isNodeObject(value) Verifica se determinado valor \u00e9 um objeto nodo . Par\u00e2metros: value - O valor que deseja verificar se \u00e9 um objeto nodo. Retorno: true se o valor passado \u00e9 um objeto nodo v\u00e1lido false se o valor passado n\u00e3o for um objeto nodo v\u00e1lido. function NDB.getRoot(node) Retorna o nodo raiz de um nodo, isto \u00e9, o nodo mais externo do NodeDatabase. Par\u00e2metros: node - Um objeto nodo do qual se deseja obter a raiz. Retorno: Um objeto nodo representando o nodo raiz do NodeDatabase. function NDB.getParent(node) Retorna o nodo pai de um nodo, isto \u00e9, o nodo que cont\u00e9m o nodo passado como par\u00e2metro. Par\u00e2metros: node - Um objeto nodo do qual se deseja obter o nodo pai. Retorno: Um objeto nodo representando o nodo pai ou nil se o par\u00e2metro node for um nodo raiz. function NDB.getChildNodes(node) Retorna todos os nodos filhos de um determinado nodo. Par\u00e2metros: node - O objeto nodo do qual se deseja obter os nodos filhos. Retorno: Um arranjo (tabela/objeto LUA) onde cada \u00edndice, come\u00e7ando do 1, cont\u00e9m um objeto nodo filho do nodo passado como par\u00e2metro. function NDB.getAttributes(node) Retorna uma tabela contendo todos os atributos e valores de um determinado objeto nodo. Par\u00e2metros: node - O objeto nodo do qual se deseja obter todos os atributos. Retorno: Uma tabela/objeto LUA contendo pares de nomeAtributo=valorAtributo. Observa\u00e7\u00e3o: Esta fun\u00e7\u00e3o n\u00e3o retorna os nodos filhos do objeto nodo. Retorna apenas os atributos. function NDB.getNodeName(node) Retorna o nome de um objeto nodo. Par\u00e2metros: node - O objeto nodo de qual deseja obter o nome. Retorno: Uma cadeia de caracteres (string) contendo o nome do nodo ou nil se o par\u00e2metro node n\u00e3o for um objeto nodo v\u00e1lido. function NDB.getPersistedAttributeValue(node, attributeName) Retorna o valor que est\u00e1 persistido/salvo no servidor de um atributo de um objeto nodo. Par\u00e2metros: node - O objeto nodo de qual deseja obter o valor persistido. attributeName - Cadeia de caracteres contendo o nome do atributo/campo que se deseja obter o valor persistido. Retorno: O valor persistido ou nil caso n\u00e3o seja encontrado. Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracteristica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Esta fun\u00e7\u00e3o retorna o valor que foi aprovado pelo servidor e que \u00e9 conhecido pelos outros usu\u00e1rios remotos. function NDB.createChildNode(node, childName) Cria um nodo filho dentro de um nodo. Par\u00e2metros: node - O objeto nodo que receber\u00e1 o novo nodo filho. childName - uma cadeia de caracteres (string) contendo o nome do novo nodo. Retorno: Um objeto nodo representando o nodo filho rec\u00e9m criado ou nil caso a opera\u00e7\u00e3o falhe. function NDB.deleteNode(node) Remove um nodo do Node Database. Par\u00e2metros: node - O objeto nodo que deseja remover. Observa\u00e7\u00f5es: N\u00e3o \u00e9 poss\u00edvel remover um nodo raiz do NodeDatabase. function NDB.clearNode(node) Limpa um objeto nodo, isto \u00e9, remove todos os atributos e todos os nodos filhos de um determinado nodo. Par\u00e2metros: node - O objeto nodo o qual deseja limpar. Observa\u00e7\u00f5es: Diferente da fun\u00e7\u00e3o \"ndb.deleteNode\", esta fun\u00e7\u00e3o n\u00e3o remove o nodo passado como par\u00e2metro do NodeDatabase. function NDB.copy(destinationNode, sourceNode) Copia os dados de um node de NodeDatabase para outro node de NodeDatabase. Par\u00e2metros: destinationNode - um Objeto nodo do NodeDatabase que ser\u00e1 o destino da opera\u00e7\u00e3o de c\u00f3pia. sourceNode - um Objeto nodo do NodeDatabase que ser\u00e1 a fonte da opera\u00e7\u00e3o de c\u00f3pia. Observa\u00e7\u00f5es: Os dados de destinationNode ser\u00e3o apagados antes da c\u00f3pia come\u00e7ar. function NDB.beginUpdate(node) Coloca o Node Database em estado de \"em altera\u00e7\u00f5es\". Enquanto estiver neste estado, as sincroniza\u00e7\u00f5es de dados e notifica\u00e7\u00f5es/eventos referentes a altera\u00e7\u00f5es no NodeDatabase ser\u00e3o adiadas at\u00e9 que este saia do modo \"em altera\u00e7\u00f5es\". Alterar o NodeDatabase para o modo de altera\u00e7\u00f5es pode melhorar a performance de procedimentos que fazem v\u00e1rias altera\u00e7\u00f5es consecutivas no mesmo. Para tirar o NodeDatabase do estado \"em altera\u00e7\u00f5es\", invoque a fun\u00e7\u00e3o NDB.endUpdate . Par\u00e2metros: node - Um objeto nodo cujo NodeDatabase deseja colocar no modo \"em altera\u00e7\u00f5es\". Observa\u00e7\u00f5es: Voc\u00ea pode invocar beginUpdate mais de uma vez no mesmo NodeDatabase. Para cada chamada de NDB.beginUpdate , deve haver uma chamada de NDB.endUpdate para fazer com que o NodeDatabase saia do estado \"em altera\u00e7\u00f5es\". Apesar de ser passado um objeto nodo no par\u00e2metro, o NodeDatabase inteiro ser\u00e1 colocado no estado em altera\u00e7\u00f5es. function NDB.endUpdate(node) Faz com que o NodeDatabase saia do modo \"em altera\u00e7\u00f5es\" que havia sido previamente ativado pela fun\u00e7\u00e3o NDB.beginUpdate. Ao sair do modo \"em altera\u00e7\u00f5es\", as mudan\u00e7as feitas ser\u00e3o sincronizadas e os devidos eventos/notifica\u00e7\u00f5es ser\u00e3o invocadas! Par\u00e2metros: node - Um objeto nodo cujo NodeDatabase deseja retirado do modo \"em altera\u00e7\u00f5es\". Observa\u00e7\u00f5es: Para cada chamada de NDB.beginUpdate , deve haver uma chamada de NDB.endUpdate para fazer com que o NodeDatabase saia do estado \"em altera\u00e7\u00f5es\". Apesar de ser passado um objeto nodo no par\u00e2metro, o NodeDatabase inteiro ser\u00e1 retirado do modo \"em altera\u00e7\u00f5es\". function NDB.getState(node) Retorna o estado de um NodeDatabase Par\u00e2metros: node - Um objeto nodo cujo NodeDatabase deseja verificar o estado. Retorno: Uma cadeia de caracteres, podendo ser: \"open\" - O NodeDatabase est\u00e1 aberto e funcional \"opening\" - O NodeDatabase est\u00e1 abrindo/carregando \"closed\" - O NodeDatabase est\u00e1 fechado. Algum erro de carregamento pode ter ocorrido ou a conex\u00e3o com o armazenamento foi perdida. function NDB.onReady(node, callback[, failCallback]) Monitora um NodeDatabase e notifica o programador quando ele estiver pronto para ser usado Par\u00e2metros: node - Um objeto nodo cujo NodeDatabase deseja monitorar o estado. callback - Um m\u00e9todo que ser\u00e1 chamado quando o objeto nodo estiver pronto para ser usado, isto \u00e9, ele foi completamente carregado e est\u00e1 pronto para ter seus dados acessados. (OPCIONAL) failCallback - Um m\u00e9todo que ser\u00e1 chamado se ocorrer algum erro durante o carregamento do NodeDatabase. Observa\u00e7\u00f5es: \u00c0s vezes, apenas ter a refer\u00eancia ao objeto nodo n\u00e3o significa que ele j\u00e1 est\u00e1 pronto para ser usado. Algumas vezes ocorre um carregamento de dados em segundo plano pela internet e, enquanto ocorre este carregamento, o objeto nodo n\u00e3o aceita opera\u00e7\u00f5es. Esta \u00e9 uma boa maneira de saber quando o nodeDatabase est\u00e1 de fato pronto! Quando node j\u00e1 estiver carregado, callback ser\u00e1 chamado imediatamente ap\u00f3s um delay de 1 milisegundo. Quando node estiver carregando, callback ser\u00e1 chamado quando o processo de carregamento chegar ao fim. function NDB.pushTransaction(node, transaction) Ativa uma transa\u00e7\u00e3o em um NodeDatabase. Par\u00e2metros: node - um Objeto nodo do NodeDatabase que deseja controlar as mudan\u00e7as. transaction - um objeto NodeTransaction previamente criado pela fun\u00e7\u00e3o NDB.newTransaction que controlar\u00e1 as pr\u00f3ximas mudan\u00e7as no NodeDatabase. Observa\u00e7\u00f5es: Ap\u00f3s ativar uma transa\u00e7\u00e3o, todas as altera\u00e7\u00f5es que ocorrerem no NodeDatabase ser\u00e3o mantidas localmente e n\u00e3o ser\u00e3o compartilhadas automaticamente com os outros usu\u00e1rios. Voc\u00ea dever\u00e1 controlar o que acontecer\u00e1 com estas mudan\u00e7as ao invocar \" transaction:rollback() \" se quiser desfaz\u00ea-las ou \" transaction:commit() \" para confirm\u00e1-las e compartilhar-lhas com os outros usu\u00e1rios. Para cada chamada de NDB.pushTransaction() , deve haver uma chamada de NDB.popTransaction() . function NDB.popTransaction(node) Desativa a \u00faltima transa\u00e7\u00e3o ativada em um NodeDatabase pela fun\u00e7\u00e3o NDB.pushTransaction Par\u00e2metros: node - um Objeto nodo do NodeDatabase que deseja para de controlar as mudan\u00e7as. Observa\u00e7\u00f5es: Para cada chamada de NDB.pushTransaction() , deve haver uma chamada de NDB.popTransaction() . Se antes de chamar pushTransaction o NodeDatabase j\u00e1 estava sendo controlado por alguma transa\u00e7\u00e3o, esta transa\u00e7\u00e3o ser\u00e1 restaurada. Apenas invocar este m\u00e9todo n\u00e3o \u00e9 o suficiente para realizar o controle das mudan\u00e7as. Voc\u00ea o invocar o m\u00e9todo \" rollback() \" da transaction se quiser desfazer as mudan\u00e7as capturadas ou invocar o m\u00e9todo \" commit() \" da transaction para confirmar e compartilhar as mudan\u00e7as capturadas. function NDB.getServerUTCTime(node) Retorna a data e hora do servidor do NodeDatabase em UTC (Coordinated Universal Time) Par\u00e2metros: node - um Objeto nodo do NodeDatabase que deseja consultar o servidor. Retorno: Um n\u00famero de ponto flutuante contendo quantos dias se passaram desde 30/12/1899 00:00. Exemplo: 2.75 representa a data 01/01/1900 18:00 Observa\u00e7\u00f5es: A fun\u00e7\u00e3o retorna imediatamente, mas o valor retornado \u00e9 um valor aproximado, podendo ser diferente do hor\u00e1rio do servidor de fato em alguns segundos. Fun\u00e7\u00f5es de persist\u00eancia de dados do NodeDatabase function NDB.exportXML(node) Salva o conte\u00fado de um node de NodeDatabase como XML Par\u00e2metros: node - um Objeto nodo do NodeDatabase que se deseja salvar os dados. Retorno: Uma cadeia de caracteres representando o conte\u00fado do Node e nodes filhos como um XML (codificado em UTF-8) function NDB.importXML(destinationNode, xmlString) Carrega os dados de um XML em um node de NodeDatabase. Par\u00e2metros: destinationNode - um Objeto nodo do NodeDatabase onde os dados ser\u00e3o carregados. xmlString - Uma cadeia de caracteres cujo conte\u00fado \u00e9 o XML contendo os dados a serem carregados. Observa\u00e7\u00f5es: Os dados de destinationNode ser\u00e3o apagados antes da importa\u00e7\u00e3o. Fun\u00e7\u00f5es de gerenciamento de permiss\u00f5es do NodeDatabase NodeDatabases permitem definir permiss\u00f5es aos usu\u00e1rios, podendo, por exemplo, selecionar quais pessoas poder\u00e3o alterar um Objeto Nodo e/ou quais pessoas n\u00e3o poder\u00e3o saber da exist\u00eancia de algum Objeto Nodo. function NDB.setPermission(node, selKind, selId, permission, allowance) Define uma permiss\u00e3o a algu\u00e9m a um Objeto nodo . Par\u00e2metros: node - Objeto nodo o qual deseja definir a permiss\u00e3o. selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define a quem esta permiss\u00e3o deve ser aplicada. selId - Selector Id, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios a quem esta permiss\u00e3o deve ser aplicada. se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG que deseja conceder/negar a permiss\u00e3o. se selKind for \"group\", selId pode conter um dos seguintes valores: \"todos\" - A permiss\u00e3o ser\u00e1 aplicada a TODOS do RRPG \"mestresAux\" - A permiss\u00e3o ser\u00e1 a aplicada a todos os mestres auxiliares da mesa. \"mestres\" - A permiss\u00e3o ser\u00e1 aplicada a todos que possu\u00edrem o modo +mestre na mesa. \"jogadores\" - A permiss\u00e3o ser\u00e1 aplicada a todos que possu\u00edrem o modo +jogador na mesa. \"espectadores\" - A permiss\u00e3o ser\u00e1 aplicada a todos que forem espectadores na mesa. \"criadorDaMesa\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver criado a mesa. \"criador\" - A permiss\u00e3o ser\u00e1 aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"dono\" - A permiss\u00e3o ser\u00e1 aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"cegos\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +cego na mesa. \"mudos\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +mudo na mesa. \"voices\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +voz na mesa. permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo definida e pode conter um dos seguintes valores: \"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe. \"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo. \"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro. \"delete\" - Permiss\u00e3o para apagar Objetos Nodos. \"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o). \"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o). \"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o) allowance - Define se a permiss\u00e3o \u00e9 concedida ou negada. Pode ser um dos seguintes valores: \"allow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida. \"deny\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 negada. \"strongAllow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece. nil - Nil significa: Remover, n\u00e3o definir, n\u00e3o conceder e nem negar esta permiss\u00e3o: A permiss\u00e3o ser\u00e1 herdada do objeto nodo Pai do objeto passado como par\u00e2metro. Observa\u00e7\u00f5es: Se selKind for \"user\" e selId n\u00e3o identificar um usu\u00e1rio v\u00e1lido do RRPG, est\u00e1 fun\u00e7\u00e3o falhar\u00e1. As permiss\u00f5es funcionam de forma herdada: Isto \u00e9, todos os nodos filhos do \"node\" tamb\u00e9m respeitar\u00e3o esta permiss\u00e3o se ela n\u00e3o for redefinida no filho. Se em um mesmo nodo um usu\u00e1rio for afetado ao mesmo tempo por uma defini\u00e7\u00e3o de permiss\u00e3o deny e por uma defini\u00e7\u00e3o de permiss\u00e3o allow, \"deny\" prevalecer\u00e1 por ser mais forte que \"allow\". Se em um mesmo nodo um usu\u00e1rio for afetado ao mesmo tempo por uma defini\u00e7\u00e3o de permiss\u00e3o deny e por uma defini\u00e7\u00e3o de permiss\u00e3o strongAllow, \"strongAllow\" prevalecer\u00e1 por ser mais forte que \"deny\". Exemplos de uso em que um usu\u00e1rio pode ser afetado por mais de uma defini\u00e7\u00e3o de permiss\u00e3o: Voc\u00ea quer que todos os jogadores consigam ver um nodo, exceto Jos\u00e9: Adiciona-se uma permiss\u00e3o \"group jogadores read allow\" e uma permiss\u00e3o \"user Jos\u00e9 read deny\". Mesmo fazendo parte do grupo Jogadores, Jos\u00e9 n\u00e3o ter\u00e1 permiss\u00e3o de leitura por deny ser mais forte que allow. Se voc\u00ea quer que NENHUM jogador consiga ver um nodo, exceto Jos\u00e9: Adiciona-se uma permiss\u00e3o \"group jogadores read deny\" e uma permiss\u00e3o \"user Jos\u00e9 read strongAllow\". Mesmo fazendo parte do grupo Jogadores, Jos\u00e9 ter\u00e1 permiss\u00e3o de leitura por strongAllow ser mais forte que deny. Mesmo que voc\u00ea n\u00e3o defina permiss\u00f5es, todo NodeDatabase possui um conjunto de permiss\u00f5es b\u00e1sicos que s\u00e3o herdados em todos os Nodos caso n\u00e3o sejam redefinidos. Por seguran\u00e7a: Esta fun\u00e7\u00e3o possui um gatilho que n\u00e3o permite o usu\u00e1rio remover sua pr\u00f3pria permiss\u00e3o de \"read\", \"readPermissions\", \"writePermissions\" e \"writeMetaPermissions\" quando for possuidor de tais permiss\u00f5es. Para conceder/negar permiss\u00f5es \"read\", \"write\", \"createChild\" e \"delete\", o usu\u00e1rio atual deve possuir a permiss\u00e3o \"writePermissions\". Para conceder/negar as meta-permiss\u00f5es \"readPermissions\", \"writePermissions\" e \"writeMetaPermissions\", o usu\u00e1rio deve possuir tamb\u00e9m a permiss\u00e3o \"writeMetaPermissions\". Por padr\u00e3o, apenas o criador da sala possui \"writeMetaPermissions\" e todos os mestres possuem \"writePermissions\". Um Super Usu\u00e1rio n\u00e3o \u00e9 afetado por nenhuma defini\u00e7\u00e3o de permiss\u00e3o de usu\u00e1rio e tem acesso total. Quando um usu\u00e1rio for o criador da mesa e estiver com o modo +mestre nesta mesma mesa, ele \u00e9 considerado um Super Usu\u00e1rio. Exemplos: -- N\u00e3o permitir nem os jogadores e nem os espectadores verem os valores de Sheet NDB.setPermission(sheet, \"group\", \"jogadores\", \"read\", \"deny\"); NDB.setPermission(sheet, \"group\", \"espectadores\", \"read\", \"deny\"); -- Desfazer as permiss\u00f5es acima, voltando para valores padr\u00f5es/herdados. NDB.setPermission(sheet, \"group\", \"jogadores\", \"read\", nil); NDB.setPermission(sheet, \"group\", \"espectadores\", \"read\", nil); -- Permitir que +jogadores possam alterar valores de sheet NDB.setPermission(sheet, \"group\", \"jogadores\", \"write\", \"allow\"); -- Permitir que o usu\u00e1rio AlyssonRPG tenha permiss\u00f5es de mestre: NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"read\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"write\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"createChild\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"delete\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"readPermissions\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"writePermissions\", \"allow\"); function NDB.getPermission(node, selKind, selId, permission) Retorna a defini\u00e7\u00e3o de uma permiss\u00e3o de algu\u00e9m de um Objeto nodo que foi previamente definida pelo m\u00e9todo NDB.setPermission Par\u00e2metros: node - Objeto nodo o qual deseja consultar a permiss\u00e3o. selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define de quem a permiss\u00e3o deve ser consultada. selId - Selector Id, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios de quem a permiss\u00e3o deve ser consultada. se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG que deseja consultar a permiss\u00e3o. se selKind for \"group\", selId pode conter um dos seguintes valores: \"todos\" - Permiss\u00e3o que foi aplicada a TODOS do RRPG \"mestresAux\" - Permiss\u00e3o que foi aplicada a todos os mestres auxiliares da mesa. \"mestres\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +mestre na mesa. \"jogadores\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +jogador na mesa. \"espectadores\" - Permiss\u00e3o que foi aplicada a todos que forem espectadores na mesa. \"criadorDaMesa\" - Permiss\u00e3o que foi aplicada em quem tiver criado a mesa. \"criador\" - Permiss\u00e3o que foi aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"dono\" - Permiss\u00e3o que foi aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"cegos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +cego na mesa. \"mudos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +mudo na mesa. \"voices\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +voz na mesa. permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo consultada e pode conter um dos seguintes valores: \"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe. \"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo. \"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro. \"delete\" - Permiss\u00e3o para apagar Objetos Nodos. \"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o). \"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o). \"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o) Retorno: A fun\u00e7\u00e3o pode retornar um dos 4 abaixo: \"allow\" - Cadeia de caracteres que informa que a permiss\u00e3o foi concedida \"deny\" - Cadeia de caracteres que informa que a permiss\u00e3o foi negada. \"strongAllow\" - Cadeia de caracteres que informa que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece. nil - Nil significa que a permiss\u00e3o n\u00e3o foi definida, n\u00e3o foi concedida e nem negada: A permiss\u00e3o est\u00e1 sendo herdada do objeto nodo Pai do objeto passado como par\u00e2metro Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o retorna se h\u00e1 uma defini\u00e7\u00e3o de permiss\u00e3o em determinado nodo mas n\u00e3o analisa a heran\u00e7a de permiss\u00f5es. Caso queira testar se o usu\u00e1rio possui permiss\u00e3o, seja por uma defini\u00e7\u00e3o local ou herdada, utilize o m\u00e9todo NDB.testPermission function NDB.testPermission(node, permission) Realiza um teste de permiss\u00e3o: Verifica se o usu\u00e1rio atual possui determinada permiss\u00e3o em um objeto nodo, seja permiss\u00e3o herdada ou permiss\u00e3o definida localmente. Par\u00e2metros: node - Objeto nodo o qual deseja testar a permiss\u00e3o. permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo testada e pode conter um dos seguintes valores: \"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe. \"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo. \"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro. \"delete\" - Permiss\u00e3o para apagar Objetos Nodos. \"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o). \"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o). \"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o) Retorno: Booleano true se o usu\u00e1rio possui permiss\u00e3o, sen\u00e3o false . function NDB.enumPermissions(node) Retorna todas as permiss\u00f5es que foram definidas em um determinado objeto nodo. Par\u00e2metros: node - Objeto nodo o qual deseja enumerar as permiss\u00e3o. Retorno: Um array (tabela Lua indexada de 1 a #retorno), onde cada item \u00e9 uma tabela contendo as seguintes propriedades: selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define a quem a permiss\u00e3o \u00e9 aplicada. selId - Selector ID, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios a quem a permiss\u00e3o \u00e9 aplicada. se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG a quem a permiss\u00e3o \u00e9 aplicada. se selKind for \"group\", selId pode conter um dos seguintes valores: \"todos\" - Permiss\u00e3o que foi aplicada a TODOS do RRPG \"mestresAux\" - Permiss\u00e3o que foi aplicada a todos os mestres auxiliares da mesa. \"mestres\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +mestre na mesa. \"jogadores\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +jogador na mesa. \"espectadores\" - Permiss\u00e3o que foi aplicada a todos que forem espectadores na mesa. \"criadorDaMesa\" - Permiss\u00e3o que foi aplicada em quem tiver criado a mesa. \"criador\" - Permiss\u00e3o que foi aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"dono\" - Permiss\u00e3o que foi aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"cegos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +cego na mesa. \"mudos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +mudo na mesa. \"voices\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +voz na mesa. permission - Uma cadeia de caracteres identificando qual permiss\u00e3o foi aplicada e pode conter um dos seguintes valores: \"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe. \"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo. \"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro. \"delete\" - Permiss\u00e3o para apagar Objetos Nodos. \"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o). \"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o). \"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o) allowance - Define se a permiss\u00e3o foi concedida ou negada. Pode conter um dos seguintes valores: \"allow\" - Esta cadeia de caracteres define que a permiss\u00e3o foi concedida. \"deny\" - Esta cadeia de caracteres define que a permiss\u00e3o foi negada. \"strongAllow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece. function NDB.resetPermissions(node) Exclui todas as defini\u00e7\u00f5es de permiss\u00f5es em um determinado objeto nodo. Par\u00e2metros: node - Objeto nodo que deseja limpar as defini\u00e7\u00f5es de permiss\u00f5es. function NDB.editPermissions(node) Apresenta uma interface padr\u00e3o para o usu\u00e1rio editar as permiss\u00f5es de um Node do NodeDatabase Par\u00e2metros: node - Objeto nodo que o usu\u00e1rio editar\u00e1 as permiss\u00f5es. Fun\u00e7\u00f5es de comunica\u00e7\u00e3o atrav\u00e9s do NodeDatabase NodeDatabases permitem o envio e recebimento de mensagens aos usu\u00e1rios que est\u00e3o acessando o mesmo NodeDatabase. function NDB.broadcastMessage(node, messageId, message[, loopBack]) Envia uma mensagem a todos os outros usu\u00e1rios que est\u00e3o com o nodeDatabase aberto. Par\u00e2metros: node - Objeto nodo do NodeDatabase a qual deseja enviar uma mensagem messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem. message - A mensagem a ser transmitida. Aqui s\u00e3o aceitos textos, tabelas lua, n\u00fameros e booleanos. (OPICIONAL) loopBack - Informa se quer que esta mensagem seja retransmitida para voc\u00ea mesmo. Valor padr\u00e3o: false Observa\u00e7\u00f5es: A mensagem enviada \u00e9 entregue a todos os outros usu\u00e1rios conectados no NodeDatabase. Para receber as mensagens recebidas, o usu\u00e1rio destinat\u00e1rio deve ter previamente invocado a fun\u00e7\u00e3o NDB.newBroadcastListener function NDB.newBroadcastListener(node, messageId, callback) \\ Cria uma escuta de mensagens para receber mensagens postadas pela fun\u00e7\u00e3o NDB.broadcastMessage . \\ Par\u00e2metros: node - Objeto nodo do NodeDatabase do qual deseja receber mensagens. messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o das mensagens que deseja receber. Deve ser igual ao messageId usado na fun\u00e7\u00e3o NDB.broadcastMessage . callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ao receber mensagens. Esta fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: sender - Cadeia de caracteres contendo o login do usu\u00e1rio que enviou a mensagem messageId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem recebida message - A mensagem que foi postada. Retorno: Retorna um objeto representando o Listener. Observa\u00e7\u00f5es: Importante: Mantenha refer\u00eancia ao objeto retornado por esta fun\u00e7\u00e3o enquanto quiser que a escuta esteja ativa. Se o coletor de lixo LUA coletar este objeto, a escuta \u00e9 destru\u00edda e a fun\u00e7\u00e3o callback n\u00e3o ser\u00e1 mais invocada. Se quiser destruir a escuta imediatamente, invoque a fun\u00e7\u00e3o destroy do objeto retornado.... obj:destroy(); Nos casos das fichas e janelas acopl\u00e1veis, o RRPG mant\u00e9m nodeDatabases carregados mesmo ap\u00f3s o usu\u00e1rio fechar a janela da ficha. Por este motivo, a fun\u00e7\u00e3o callback pode ser invocada para uma ficha que n\u00e3o possui mais janela. Se fizer uso de mensagens, esteja preparado para este comportamento. Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Biblioteca NDB"},{"location":"BibliotecaNDB/#biblioteca-ndb","text":"","title":"Biblioteca NDB"},{"location":"BibliotecaNDB/#biblioteca-ndb_1","text":"A biblioteca ndb prov\u00ea fun\u00e7\u00f5es para manipular NodeDatabases, como abrir um NodeDatabase, retornar o n\u00f3 pai de um n\u00f3, etc.. Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"NDB\" da unidade \"ndb.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"ndb.lua\" require(\"ndb.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca NDB.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca NDB"},{"location":"BibliotecaNDB/#funcoes-da-biblioteca-ndb","text":"function NDB.load(fileName [, userName]) Carrega um NodeDatabase que est\u00e1 localizado no HD Virtual do plug-in e retorna o nodo raiz. Par\u00e2metros: fileName \u2013 cadeia de caracteres identificando o nome do arquivo [Opcional] userName \u2013 Se voc\u00ea desejar fazer controle de permiss\u00f5es em um NodeDatabase local, passe neste par\u00e2metro uma cadeia de caracteres identificando o usu\u00e1rio que est\u00e1 abrindo o database. Normalmente n\u00e3o \u00e9 preciso se preocupar com este par\u00e2metro, e basta omitir seu valor na chamada da fun\u00e7\u00e3o. Retorno: Retorna um Objeto Nodo , representado a raiz do NodeDatabase. Todas as altera\u00e7\u00f5es feitas neste nodo (e em seus nodos filhos) ser\u00e3o salvas automaticamente no arquivo passado no par\u00e2metro \u201cfileName\u201d. Observa\u00e7\u00f5es: O par\u00e2metro \u201cfileName\u201d \u00e9 expandido (atrav\u00e9s da fun\u00e7\u00e3o \u201c VHD.expandFileName \u201d) antes de procurar o arquivo. Caso o arquivo n\u00e3o exista, um novo \u00e9 criado automaticamente. Se foi fornecido um caminho curto no par\u00e2metro \u201cfileName\u201d (n\u00e3o relativo \u00e0 raiz do HD Virtual), ent\u00e3o o nome do arquivo \u00e9 expandido em rela\u00e7\u00e3o ao diret\u00f3rio \u201c/\u201d (raiz do HD Virtual) antes da cria\u00e7\u00e3o do arquivo. O formato do arquivo \u00e9 XML. Se o arquivo especificado fizer parte da pasta projeto do plug-in, o NodeDatabase ser\u00e1 aberto em modo somente leitura. function NDB.newMemNodeDatabase() Cria um novo NodeDatabase tempor\u00e1rio que reside apenas na mem\u00f3ria. Quando o RRPG fecha, os dados salvos neste NodeDatabase s\u00e3o perdidos. Par\u00e2metros: N\u00e3o h\u00e1. Retorno: Retorna um Objeto Nodo , representado a raiz do NodeDatabase tempor\u00e1rio. function NDB.newObserver(node) Cria um novo objeto NodeObserver para o nodo passado como par\u00e2metro. Um NodeObserver \u00e9 capaz de monitorar e notificar as mudan\u00e7as ocorridas em um determinado Nodo de NodeDatabase. Par\u00e2metros: node - Objeto nodo que deseja monitorar mudan\u00e7as. Retorno: Um novo objeto NodeObserver function NDB.newTransaction(node) Cria uma nova transa\u00e7\u00e3o para controlar como as mudan\u00e7as s\u00e3o salvas/compartilhadas em um NodeDatabase Par\u00e2metros: node - um Objeto nodo do NodeDatabase que deseja controlar as mudan\u00e7as. Retorno: Um objeto NodeTransaction Observa\u00e7\u00f5es: Apenas criar um NodeTransaction n\u00e3o faz com que as mudan\u00e7as sejam controladas. \u00c9 preciso chamar o m\u00e9todo NDB.pushTransaction para ativar a captura de mudan\u00e7as para o controle. function NDB.isNodeObject(value) Verifica se determinado valor \u00e9 um objeto nodo . Par\u00e2metros: value - O valor que deseja verificar se \u00e9 um objeto nodo. Retorno: true se o valor passado \u00e9 um objeto nodo v\u00e1lido false se o valor passado n\u00e3o for um objeto nodo v\u00e1lido. function NDB.getRoot(node) Retorna o nodo raiz de um nodo, isto \u00e9, o nodo mais externo do NodeDatabase. Par\u00e2metros: node - Um objeto nodo do qual se deseja obter a raiz. Retorno: Um objeto nodo representando o nodo raiz do NodeDatabase. function NDB.getParent(node) Retorna o nodo pai de um nodo, isto \u00e9, o nodo que cont\u00e9m o nodo passado como par\u00e2metro. Par\u00e2metros: node - Um objeto nodo do qual se deseja obter o nodo pai. Retorno: Um objeto nodo representando o nodo pai ou nil se o par\u00e2metro node for um nodo raiz. function NDB.getChildNodes(node) Retorna todos os nodos filhos de um determinado nodo. Par\u00e2metros: node - O objeto nodo do qual se deseja obter os nodos filhos. Retorno: Um arranjo (tabela/objeto LUA) onde cada \u00edndice, come\u00e7ando do 1, cont\u00e9m um objeto nodo filho do nodo passado como par\u00e2metro. function NDB.getAttributes(node) Retorna uma tabela contendo todos os atributos e valores de um determinado objeto nodo. Par\u00e2metros: node - O objeto nodo do qual se deseja obter todos os atributos. Retorno: Uma tabela/objeto LUA contendo pares de nomeAtributo=valorAtributo. Observa\u00e7\u00e3o: Esta fun\u00e7\u00e3o n\u00e3o retorna os nodos filhos do objeto nodo. Retorna apenas os atributos. function NDB.getNodeName(node) Retorna o nome de um objeto nodo. Par\u00e2metros: node - O objeto nodo de qual deseja obter o nome. Retorno: Uma cadeia de caracteres (string) contendo o nome do nodo ou nil se o par\u00e2metro node n\u00e3o for um objeto nodo v\u00e1lido. function NDB.getPersistedAttributeValue(node, attributeName) Retorna o valor que est\u00e1 persistido/salvo no servidor de um atributo de um objeto nodo. Par\u00e2metros: node - O objeto nodo de qual deseja obter o valor persistido. attributeName - Cadeia de caracteres contendo o nome do atributo/campo que se deseja obter o valor persistido. Retorno: O valor persistido ou nil caso n\u00e3o seja encontrado. Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracteristica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Esta fun\u00e7\u00e3o retorna o valor que foi aprovado pelo servidor e que \u00e9 conhecido pelos outros usu\u00e1rios remotos. function NDB.createChildNode(node, childName) Cria um nodo filho dentro de um nodo. Par\u00e2metros: node - O objeto nodo que receber\u00e1 o novo nodo filho. childName - uma cadeia de caracteres (string) contendo o nome do novo nodo. Retorno: Um objeto nodo representando o nodo filho rec\u00e9m criado ou nil caso a opera\u00e7\u00e3o falhe. function NDB.deleteNode(node) Remove um nodo do Node Database. Par\u00e2metros: node - O objeto nodo que deseja remover. Observa\u00e7\u00f5es: N\u00e3o \u00e9 poss\u00edvel remover um nodo raiz do NodeDatabase. function NDB.clearNode(node) Limpa um objeto nodo, isto \u00e9, remove todos os atributos e todos os nodos filhos de um determinado nodo. Par\u00e2metros: node - O objeto nodo o qual deseja limpar. Observa\u00e7\u00f5es: Diferente da fun\u00e7\u00e3o \"ndb.deleteNode\", esta fun\u00e7\u00e3o n\u00e3o remove o nodo passado como par\u00e2metro do NodeDatabase. function NDB.copy(destinationNode, sourceNode) Copia os dados de um node de NodeDatabase para outro node de NodeDatabase. Par\u00e2metros: destinationNode - um Objeto nodo do NodeDatabase que ser\u00e1 o destino da opera\u00e7\u00e3o de c\u00f3pia. sourceNode - um Objeto nodo do NodeDatabase que ser\u00e1 a fonte da opera\u00e7\u00e3o de c\u00f3pia. Observa\u00e7\u00f5es: Os dados de destinationNode ser\u00e3o apagados antes da c\u00f3pia come\u00e7ar. function NDB.beginUpdate(node) Coloca o Node Database em estado de \"em altera\u00e7\u00f5es\". Enquanto estiver neste estado, as sincroniza\u00e7\u00f5es de dados e notifica\u00e7\u00f5es/eventos referentes a altera\u00e7\u00f5es no NodeDatabase ser\u00e3o adiadas at\u00e9 que este saia do modo \"em altera\u00e7\u00f5es\". Alterar o NodeDatabase para o modo de altera\u00e7\u00f5es pode melhorar a performance de procedimentos que fazem v\u00e1rias altera\u00e7\u00f5es consecutivas no mesmo. Para tirar o NodeDatabase do estado \"em altera\u00e7\u00f5es\", invoque a fun\u00e7\u00e3o NDB.endUpdate . Par\u00e2metros: node - Um objeto nodo cujo NodeDatabase deseja colocar no modo \"em altera\u00e7\u00f5es\". Observa\u00e7\u00f5es: Voc\u00ea pode invocar beginUpdate mais de uma vez no mesmo NodeDatabase. Para cada chamada de NDB.beginUpdate , deve haver uma chamada de NDB.endUpdate para fazer com que o NodeDatabase saia do estado \"em altera\u00e7\u00f5es\". Apesar de ser passado um objeto nodo no par\u00e2metro, o NodeDatabase inteiro ser\u00e1 colocado no estado em altera\u00e7\u00f5es. function NDB.endUpdate(node) Faz com que o NodeDatabase saia do modo \"em altera\u00e7\u00f5es\" que havia sido previamente ativado pela fun\u00e7\u00e3o NDB.beginUpdate. Ao sair do modo \"em altera\u00e7\u00f5es\", as mudan\u00e7as feitas ser\u00e3o sincronizadas e os devidos eventos/notifica\u00e7\u00f5es ser\u00e3o invocadas! Par\u00e2metros: node - Um objeto nodo cujo NodeDatabase deseja retirado do modo \"em altera\u00e7\u00f5es\". Observa\u00e7\u00f5es: Para cada chamada de NDB.beginUpdate , deve haver uma chamada de NDB.endUpdate para fazer com que o NodeDatabase saia do estado \"em altera\u00e7\u00f5es\". Apesar de ser passado um objeto nodo no par\u00e2metro, o NodeDatabase inteiro ser\u00e1 retirado do modo \"em altera\u00e7\u00f5es\". function NDB.getState(node) Retorna o estado de um NodeDatabase Par\u00e2metros: node - Um objeto nodo cujo NodeDatabase deseja verificar o estado. Retorno: Uma cadeia de caracteres, podendo ser: \"open\" - O NodeDatabase est\u00e1 aberto e funcional \"opening\" - O NodeDatabase est\u00e1 abrindo/carregando \"closed\" - O NodeDatabase est\u00e1 fechado. Algum erro de carregamento pode ter ocorrido ou a conex\u00e3o com o armazenamento foi perdida. function NDB.onReady(node, callback[, failCallback]) Monitora um NodeDatabase e notifica o programador quando ele estiver pronto para ser usado Par\u00e2metros: node - Um objeto nodo cujo NodeDatabase deseja monitorar o estado. callback - Um m\u00e9todo que ser\u00e1 chamado quando o objeto nodo estiver pronto para ser usado, isto \u00e9, ele foi completamente carregado e est\u00e1 pronto para ter seus dados acessados. (OPCIONAL) failCallback - Um m\u00e9todo que ser\u00e1 chamado se ocorrer algum erro durante o carregamento do NodeDatabase. Observa\u00e7\u00f5es: \u00c0s vezes, apenas ter a refer\u00eancia ao objeto nodo n\u00e3o significa que ele j\u00e1 est\u00e1 pronto para ser usado. Algumas vezes ocorre um carregamento de dados em segundo plano pela internet e, enquanto ocorre este carregamento, o objeto nodo n\u00e3o aceita opera\u00e7\u00f5es. Esta \u00e9 uma boa maneira de saber quando o nodeDatabase est\u00e1 de fato pronto! Quando node j\u00e1 estiver carregado, callback ser\u00e1 chamado imediatamente ap\u00f3s um delay de 1 milisegundo. Quando node estiver carregando, callback ser\u00e1 chamado quando o processo de carregamento chegar ao fim. function NDB.pushTransaction(node, transaction) Ativa uma transa\u00e7\u00e3o em um NodeDatabase. Par\u00e2metros: node - um Objeto nodo do NodeDatabase que deseja controlar as mudan\u00e7as. transaction - um objeto NodeTransaction previamente criado pela fun\u00e7\u00e3o NDB.newTransaction que controlar\u00e1 as pr\u00f3ximas mudan\u00e7as no NodeDatabase. Observa\u00e7\u00f5es: Ap\u00f3s ativar uma transa\u00e7\u00e3o, todas as altera\u00e7\u00f5es que ocorrerem no NodeDatabase ser\u00e3o mantidas localmente e n\u00e3o ser\u00e3o compartilhadas automaticamente com os outros usu\u00e1rios. Voc\u00ea dever\u00e1 controlar o que acontecer\u00e1 com estas mudan\u00e7as ao invocar \" transaction:rollback() \" se quiser desfaz\u00ea-las ou \" transaction:commit() \" para confirm\u00e1-las e compartilhar-lhas com os outros usu\u00e1rios. Para cada chamada de NDB.pushTransaction() , deve haver uma chamada de NDB.popTransaction() . function NDB.popTransaction(node) Desativa a \u00faltima transa\u00e7\u00e3o ativada em um NodeDatabase pela fun\u00e7\u00e3o NDB.pushTransaction Par\u00e2metros: node - um Objeto nodo do NodeDatabase que deseja para de controlar as mudan\u00e7as. Observa\u00e7\u00f5es: Para cada chamada de NDB.pushTransaction() , deve haver uma chamada de NDB.popTransaction() . Se antes de chamar pushTransaction o NodeDatabase j\u00e1 estava sendo controlado por alguma transa\u00e7\u00e3o, esta transa\u00e7\u00e3o ser\u00e1 restaurada. Apenas invocar este m\u00e9todo n\u00e3o \u00e9 o suficiente para realizar o controle das mudan\u00e7as. Voc\u00ea o invocar o m\u00e9todo \" rollback() \" da transaction se quiser desfazer as mudan\u00e7as capturadas ou invocar o m\u00e9todo \" commit() \" da transaction para confirmar e compartilhar as mudan\u00e7as capturadas. function NDB.getServerUTCTime(node) Retorna a data e hora do servidor do NodeDatabase em UTC (Coordinated Universal Time) Par\u00e2metros: node - um Objeto nodo do NodeDatabase que deseja consultar o servidor. Retorno: Um n\u00famero de ponto flutuante contendo quantos dias se passaram desde 30/12/1899 00:00. Exemplo: 2.75 representa a data 01/01/1900 18:00 Observa\u00e7\u00f5es: A fun\u00e7\u00e3o retorna imediatamente, mas o valor retornado \u00e9 um valor aproximado, podendo ser diferente do hor\u00e1rio do servidor de fato em alguns segundos.","title":"Fun\u00e7\u00f5es da biblioteca NDB"},{"location":"BibliotecaNDB/#funcoes-de-persistencia-de-dados-do-nodedatabase","text":"function NDB.exportXML(node) Salva o conte\u00fado de um node de NodeDatabase como XML Par\u00e2metros: node - um Objeto nodo do NodeDatabase que se deseja salvar os dados. Retorno: Uma cadeia de caracteres representando o conte\u00fado do Node e nodes filhos como um XML (codificado em UTF-8) function NDB.importXML(destinationNode, xmlString) Carrega os dados de um XML em um node de NodeDatabase. Par\u00e2metros: destinationNode - um Objeto nodo do NodeDatabase onde os dados ser\u00e3o carregados. xmlString - Uma cadeia de caracteres cujo conte\u00fado \u00e9 o XML contendo os dados a serem carregados. Observa\u00e7\u00f5es: Os dados de destinationNode ser\u00e3o apagados antes da importa\u00e7\u00e3o.","title":"Fun\u00e7\u00f5es de persist\u00eancia de dados do NodeDatabase"},{"location":"BibliotecaNDB/#funcoes-de-gerenciamento-de-permissoes-do-nodedatabase","text":"NodeDatabases permitem definir permiss\u00f5es aos usu\u00e1rios, podendo, por exemplo, selecionar quais pessoas poder\u00e3o alterar um Objeto Nodo e/ou quais pessoas n\u00e3o poder\u00e3o saber da exist\u00eancia de algum Objeto Nodo. function NDB.setPermission(node, selKind, selId, permission, allowance) Define uma permiss\u00e3o a algu\u00e9m a um Objeto nodo . Par\u00e2metros: node - Objeto nodo o qual deseja definir a permiss\u00e3o. selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define a quem esta permiss\u00e3o deve ser aplicada. selId - Selector Id, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios a quem esta permiss\u00e3o deve ser aplicada. se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG que deseja conceder/negar a permiss\u00e3o. se selKind for \"group\", selId pode conter um dos seguintes valores: \"todos\" - A permiss\u00e3o ser\u00e1 aplicada a TODOS do RRPG \"mestresAux\" - A permiss\u00e3o ser\u00e1 a aplicada a todos os mestres auxiliares da mesa. \"mestres\" - A permiss\u00e3o ser\u00e1 aplicada a todos que possu\u00edrem o modo +mestre na mesa. \"jogadores\" - A permiss\u00e3o ser\u00e1 aplicada a todos que possu\u00edrem o modo +jogador na mesa. \"espectadores\" - A permiss\u00e3o ser\u00e1 aplicada a todos que forem espectadores na mesa. \"criadorDaMesa\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver criado a mesa. \"criador\" - A permiss\u00e3o ser\u00e1 aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"dono\" - A permiss\u00e3o ser\u00e1 aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"cegos\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +cego na mesa. \"mudos\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +mudo na mesa. \"voices\" - A permiss\u00e3o ser\u00e1 aplicada em quem tiver o modo +voz na mesa. permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo definida e pode conter um dos seguintes valores: \"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe. \"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo. \"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro. \"delete\" - Permiss\u00e3o para apagar Objetos Nodos. \"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o). \"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o). \"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o) allowance - Define se a permiss\u00e3o \u00e9 concedida ou negada. Pode ser um dos seguintes valores: \"allow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida. \"deny\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 negada. \"strongAllow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece. nil - Nil significa: Remover, n\u00e3o definir, n\u00e3o conceder e nem negar esta permiss\u00e3o: A permiss\u00e3o ser\u00e1 herdada do objeto nodo Pai do objeto passado como par\u00e2metro. Observa\u00e7\u00f5es: Se selKind for \"user\" e selId n\u00e3o identificar um usu\u00e1rio v\u00e1lido do RRPG, est\u00e1 fun\u00e7\u00e3o falhar\u00e1. As permiss\u00f5es funcionam de forma herdada: Isto \u00e9, todos os nodos filhos do \"node\" tamb\u00e9m respeitar\u00e3o esta permiss\u00e3o se ela n\u00e3o for redefinida no filho. Se em um mesmo nodo um usu\u00e1rio for afetado ao mesmo tempo por uma defini\u00e7\u00e3o de permiss\u00e3o deny e por uma defini\u00e7\u00e3o de permiss\u00e3o allow, \"deny\" prevalecer\u00e1 por ser mais forte que \"allow\". Se em um mesmo nodo um usu\u00e1rio for afetado ao mesmo tempo por uma defini\u00e7\u00e3o de permiss\u00e3o deny e por uma defini\u00e7\u00e3o de permiss\u00e3o strongAllow, \"strongAllow\" prevalecer\u00e1 por ser mais forte que \"deny\". Exemplos de uso em que um usu\u00e1rio pode ser afetado por mais de uma defini\u00e7\u00e3o de permiss\u00e3o: Voc\u00ea quer que todos os jogadores consigam ver um nodo, exceto Jos\u00e9: Adiciona-se uma permiss\u00e3o \"group jogadores read allow\" e uma permiss\u00e3o \"user Jos\u00e9 read deny\". Mesmo fazendo parte do grupo Jogadores, Jos\u00e9 n\u00e3o ter\u00e1 permiss\u00e3o de leitura por deny ser mais forte que allow. Se voc\u00ea quer que NENHUM jogador consiga ver um nodo, exceto Jos\u00e9: Adiciona-se uma permiss\u00e3o \"group jogadores read deny\" e uma permiss\u00e3o \"user Jos\u00e9 read strongAllow\". Mesmo fazendo parte do grupo Jogadores, Jos\u00e9 ter\u00e1 permiss\u00e3o de leitura por strongAllow ser mais forte que deny. Mesmo que voc\u00ea n\u00e3o defina permiss\u00f5es, todo NodeDatabase possui um conjunto de permiss\u00f5es b\u00e1sicos que s\u00e3o herdados em todos os Nodos caso n\u00e3o sejam redefinidos. Por seguran\u00e7a: Esta fun\u00e7\u00e3o possui um gatilho que n\u00e3o permite o usu\u00e1rio remover sua pr\u00f3pria permiss\u00e3o de \"read\", \"readPermissions\", \"writePermissions\" e \"writeMetaPermissions\" quando for possuidor de tais permiss\u00f5es. Para conceder/negar permiss\u00f5es \"read\", \"write\", \"createChild\" e \"delete\", o usu\u00e1rio atual deve possuir a permiss\u00e3o \"writePermissions\". Para conceder/negar as meta-permiss\u00f5es \"readPermissions\", \"writePermissions\" e \"writeMetaPermissions\", o usu\u00e1rio deve possuir tamb\u00e9m a permiss\u00e3o \"writeMetaPermissions\". Por padr\u00e3o, apenas o criador da sala possui \"writeMetaPermissions\" e todos os mestres possuem \"writePermissions\". Um Super Usu\u00e1rio n\u00e3o \u00e9 afetado por nenhuma defini\u00e7\u00e3o de permiss\u00e3o de usu\u00e1rio e tem acesso total. Quando um usu\u00e1rio for o criador da mesa e estiver com o modo +mestre nesta mesma mesa, ele \u00e9 considerado um Super Usu\u00e1rio. Exemplos: -- N\u00e3o permitir nem os jogadores e nem os espectadores verem os valores de Sheet NDB.setPermission(sheet, \"group\", \"jogadores\", \"read\", \"deny\"); NDB.setPermission(sheet, \"group\", \"espectadores\", \"read\", \"deny\"); -- Desfazer as permiss\u00f5es acima, voltando para valores padr\u00f5es/herdados. NDB.setPermission(sheet, \"group\", \"jogadores\", \"read\", nil); NDB.setPermission(sheet, \"group\", \"espectadores\", \"read\", nil); -- Permitir que +jogadores possam alterar valores de sheet NDB.setPermission(sheet, \"group\", \"jogadores\", \"write\", \"allow\"); -- Permitir que o usu\u00e1rio AlyssonRPG tenha permiss\u00f5es de mestre: NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"read\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"write\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"createChild\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"delete\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"readPermissions\", \"allow\"); NDB.setPermission(sheet, \"user\", \"AlyssonRPG\", \"writePermissions\", \"allow\"); function NDB.getPermission(node, selKind, selId, permission) Retorna a defini\u00e7\u00e3o de uma permiss\u00e3o de algu\u00e9m de um Objeto nodo que foi previamente definida pelo m\u00e9todo NDB.setPermission Par\u00e2metros: node - Objeto nodo o qual deseja consultar a permiss\u00e3o. selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define de quem a permiss\u00e3o deve ser consultada. selId - Selector Id, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios de quem a permiss\u00e3o deve ser consultada. se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG que deseja consultar a permiss\u00e3o. se selKind for \"group\", selId pode conter um dos seguintes valores: \"todos\" - Permiss\u00e3o que foi aplicada a TODOS do RRPG \"mestresAux\" - Permiss\u00e3o que foi aplicada a todos os mestres auxiliares da mesa. \"mestres\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +mestre na mesa. \"jogadores\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +jogador na mesa. \"espectadores\" - Permiss\u00e3o que foi aplicada a todos que forem espectadores na mesa. \"criadorDaMesa\" - Permiss\u00e3o que foi aplicada em quem tiver criado a mesa. \"criador\" - Permiss\u00e3o que foi aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"dono\" - Permiss\u00e3o que foi aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"cegos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +cego na mesa. \"mudos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +mudo na mesa. \"voices\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +voz na mesa. permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo consultada e pode conter um dos seguintes valores: \"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe. \"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo. \"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro. \"delete\" - Permiss\u00e3o para apagar Objetos Nodos. \"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o). \"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o). \"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o) Retorno: A fun\u00e7\u00e3o pode retornar um dos 4 abaixo: \"allow\" - Cadeia de caracteres que informa que a permiss\u00e3o foi concedida \"deny\" - Cadeia de caracteres que informa que a permiss\u00e3o foi negada. \"strongAllow\" - Cadeia de caracteres que informa que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece. nil - Nil significa que a permiss\u00e3o n\u00e3o foi definida, n\u00e3o foi concedida e nem negada: A permiss\u00e3o est\u00e1 sendo herdada do objeto nodo Pai do objeto passado como par\u00e2metro Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o retorna se h\u00e1 uma defini\u00e7\u00e3o de permiss\u00e3o em determinado nodo mas n\u00e3o analisa a heran\u00e7a de permiss\u00f5es. Caso queira testar se o usu\u00e1rio possui permiss\u00e3o, seja por uma defini\u00e7\u00e3o local ou herdada, utilize o m\u00e9todo NDB.testPermission function NDB.testPermission(node, permission) Realiza um teste de permiss\u00e3o: Verifica se o usu\u00e1rio atual possui determinada permiss\u00e3o em um objeto nodo, seja permiss\u00e3o herdada ou permiss\u00e3o definida localmente. Par\u00e2metros: node - Objeto nodo o qual deseja testar a permiss\u00e3o. permission - Uma cadeia de caracteres identificando qual permiss\u00e3o est\u00e1 sendo testada e pode conter um dos seguintes valores: \"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe. \"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo. \"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro. \"delete\" - Permiss\u00e3o para apagar Objetos Nodos. \"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o). \"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o). \"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o) Retorno: Booleano true se o usu\u00e1rio possui permiss\u00e3o, sen\u00e3o false . function NDB.enumPermissions(node) Retorna todas as permiss\u00f5es que foram definidas em um determinado objeto nodo. Par\u00e2metros: node - Objeto nodo o qual deseja enumerar as permiss\u00e3o. Retorno: Um array (tabela Lua indexada de 1 a #retorno), onde cada item \u00e9 uma tabela contendo as seguintes propriedades: selKind - Selector Kind, uma cadeia de caracteres podendo ser \"group\" ou \"user\". A combina\u00e7\u00e3o dos par\u00e2metros selKind + selId define a quem a permiss\u00e3o \u00e9 aplicada. selId - Selector ID, uma cadeia de caracteres contendo a identifica\u00e7\u00e3o do usu\u00e1rio ou grupo de usu\u00e1rios a quem a permiss\u00e3o \u00e9 aplicada. se selKind for \"user\", selId cont\u00e9m o login do usu\u00e1rio RRPG a quem a permiss\u00e3o \u00e9 aplicada. se selKind for \"group\", selId pode conter um dos seguintes valores: \"todos\" - Permiss\u00e3o que foi aplicada a TODOS do RRPG \"mestresAux\" - Permiss\u00e3o que foi aplicada a todos os mestres auxiliares da mesa. \"mestres\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +mestre na mesa. \"jogadores\" - Permiss\u00e3o que foi aplicada a todos que possu\u00edrem o modo +jogador na mesa. \"espectadores\" - Permiss\u00e3o que foi aplicada a todos que forem espectadores na mesa. \"criadorDaMesa\" - Permiss\u00e3o que foi aplicada em quem tiver criado a mesa. \"criador\" - Permiss\u00e3o que foi aplicada em quem criou o NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"dono\" - Permiss\u00e3o que foi aplicada em quem for dono do NodeDatabase (V\u00e1lido somente se for node for de um NodeDatabase de um personagem) \"cegos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +cego na mesa. \"mudos\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +mudo na mesa. \"voices\" - Permiss\u00e3o que foi aplicada em quem tiver o modo +voz na mesa. permission - Uma cadeia de caracteres identificando qual permiss\u00e3o foi aplicada e pode conter um dos seguintes valores: \"read\" - Permiss\u00e3o para ler valores de atributos do objeto nodo e permiss\u00e3o para saber que o objeto nodo existe. \"write\" - Permiss\u00e3o para escrever valores de atributos no objeto nodo. \"createChild\" - Permiss\u00e3o para criar Objetos Nodos filhos ao objeto nodo passado em par\u00e2metro. \"delete\" - Permiss\u00e3o para apagar Objetos Nodos. \"readPermissions\" - Permiss\u00e3o para ler as permiss\u00f5es do objeto nodo (Uma meta-permiss\u00e3o). \"writePermissions\" - Permiss\u00e3o para definir permiss\u00f5es no objeto nodo (Uma meta-permiss\u00e3o). \"writeMetaPermissions\" - Permiss\u00e3o para definir meta-permiss\u00f5es no nodo. Quem possui esta permiss\u00e3o \u00e9 capaz de escolher quem pode gerenciar permiss\u00f5es! (Uma meta-permiss\u00e3o) allowance - Define se a permiss\u00e3o foi concedida ou negada. Pode conter um dos seguintes valores: \"allow\" - Esta cadeia de caracteres define que a permiss\u00e3o foi concedida. \"deny\" - Esta cadeia de caracteres define que a permiss\u00e3o foi negada. \"strongAllow\" - Esta cadeia de caracteres define que a permiss\u00e3o \u00e9 concedida. A diferen\u00e7a entre \"allow\" e \"strongAllow\" se d\u00e1 quando um usu\u00e1rio for afetado por \"deny\" e \"allow/strongAllow\" ao mesmo tempo: Se o usu\u00e1rio for afetado por \"deny\" e \"allow\" ao mesmo tempo, \"deny\" prevalece. Se for afetado por \"deny\" e \"strongAllow\" ao mesmo tempo, \"strongAllow\" prevalece. function NDB.resetPermissions(node) Exclui todas as defini\u00e7\u00f5es de permiss\u00f5es em um determinado objeto nodo. Par\u00e2metros: node - Objeto nodo que deseja limpar as defini\u00e7\u00f5es de permiss\u00f5es. function NDB.editPermissions(node) Apresenta uma interface padr\u00e3o para o usu\u00e1rio editar as permiss\u00f5es de um Node do NodeDatabase Par\u00e2metros: node - Objeto nodo que o usu\u00e1rio editar\u00e1 as permiss\u00f5es.","title":"Fun\u00e7\u00f5es de gerenciamento de permiss\u00f5es do NodeDatabase"},{"location":"BibliotecaNDB/#funcoes-de-comunicacao-atraves-do-nodedatabase","text":"NodeDatabases permitem o envio e recebimento de mensagens aos usu\u00e1rios que est\u00e3o acessando o mesmo NodeDatabase. function NDB.broadcastMessage(node, messageId, message[, loopBack]) Envia uma mensagem a todos os outros usu\u00e1rios que est\u00e3o com o nodeDatabase aberto. Par\u00e2metros: node - Objeto nodo do NodeDatabase a qual deseja enviar uma mensagem messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem. message - A mensagem a ser transmitida. Aqui s\u00e3o aceitos textos, tabelas lua, n\u00fameros e booleanos. (OPICIONAL) loopBack - Informa se quer que esta mensagem seja retransmitida para voc\u00ea mesmo. Valor padr\u00e3o: false Observa\u00e7\u00f5es: A mensagem enviada \u00e9 entregue a todos os outros usu\u00e1rios conectados no NodeDatabase. Para receber as mensagens recebidas, o usu\u00e1rio destinat\u00e1rio deve ter previamente invocado a fun\u00e7\u00e3o NDB.newBroadcastListener function NDB.newBroadcastListener(node, messageId, callback) \\ Cria uma escuta de mensagens para receber mensagens postadas pela fun\u00e7\u00e3o NDB.broadcastMessage . \\ Par\u00e2metros: node - Objeto nodo do NodeDatabase do qual deseja receber mensagens. messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o das mensagens que deseja receber. Deve ser igual ao messageId usado na fun\u00e7\u00e3o NDB.broadcastMessage . callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ao receber mensagens. Esta fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: sender - Cadeia de caracteres contendo o login do usu\u00e1rio que enviou a mensagem messageId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem recebida message - A mensagem que foi postada. Retorno: Retorna um objeto representando o Listener. Observa\u00e7\u00f5es: Importante: Mantenha refer\u00eancia ao objeto retornado por esta fun\u00e7\u00e3o enquanto quiser que a escuta esteja ativa. Se o coletor de lixo LUA coletar este objeto, a escuta \u00e9 destru\u00edda e a fun\u00e7\u00e3o callback n\u00e3o ser\u00e1 mais invocada. Se quiser destruir a escuta imediatamente, invoque a fun\u00e7\u00e3o destroy do objeto retornado.... obj:destroy(); Nos casos das fichas e janelas acopl\u00e1veis, o RRPG mant\u00e9m nodeDatabases carregados mesmo ap\u00f3s o usu\u00e1rio fechar a janela da ficha. Por este motivo, a fun\u00e7\u00e3o callback pode ser invocada para uma ficha que n\u00e3o possui mais janela. Se fizer uso de mensagens, esteja preparado para este comportamento. Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Fun\u00e7\u00f5es de comunica\u00e7\u00e3o atrav\u00e9s do NodeDatabase"},{"location":"BibliotecaSceneLib/","text":"Biblioteca SceneLib Biblioteca SceneLib Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas ao Scene 3/Tabuleiro de combate do RRPG Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"scene.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"scene.lua\" require(\"scene.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca SceneLib.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca SceneLib function SceneLib.getLoadedScenes() Retorna um array de Scenes que est\u00e3o rodando no RRPG no momento. Retorno: Array (tabela lua indexada de 1 a #tabela) de objeto Scene function SceneLib.registerPlugin(attachCallback) Registra um plug-in de scene no RRPG. Par\u00e2metros: attachCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada para cada Scene rodando ou que vier a ser carregado. Esta fun\u00e7\u00e3o recebe dois par\u00e2metros na seguinte ordem: scene ( um objeto Scene ) e attachment (um objeto ScenePluginAttachment ) representando, respectivamente, o scene o qual o plug-in deve instalar e um objeto que identifica esta liga\u00e7\u00e3o entre o plug-in e o scene. Retorno: Um identificador do plug-in registrado que poder\u00e1 ser utilizado posteriormente como par\u00e2metro para a fun\u00e7\u00e3o SceneLib.unregisterPlugin para desregistr\u00e1-lo. Observa\u00e7\u00f5es: Um pacote .rpk (plugin SDK 3) pode instalar mais de um Plug-in de Scene. Um plug-in de scene pode existir mesmo quando n\u00e3o h\u00e1 nenhum Scene rodando no RRPG, n\u00e3o tem problema. Um plug-in de scene pode se anexar a mais de 1 scene ao mesmo tempo! A fun\u00e7\u00e3o \"attachCallback\" ser\u00e1 chamada uma vez para cada Scene existente e uma inst\u00e2ncia do objeto ScenePluginAttachment ser\u00e1 criada para representar cada uma desta liga\u00e7\u00e3o \"plugin x scene\". Assim como um plug-in pode se anexar a v\u00e1rios scenes, um scene pode estar anexado a v\u00e1rios plug-ins. \u00c9 uma rela\u00e7\u00e3o N:N (leia-se: N para N). Exemplo de um plug-in simples que apenas exibe uma mensagem quando se anexa a um Scene: require(\"scene.lua\"); require(\"dialogs.lua\"); SceneLib.registerPlugin( function (scene, attachment) showMessage(\"Plugin anexado a um tabuleiro de tamanho \" .. scene.worldWidth .. scene.worldMetricName .. \" x \" .. scene.worldHeight .. scene.worldMetricName .. \" de cor de fundo \".. scene.bkgColor); end ); function SceneLib.unregisterPlugin(pluginID) Desregistra um plug-in de scene do RRPG que fora previamente instalado pela fun\u00e7\u00e3o SceneLib.registerPlugin Par\u00e2metros: pluginID - O identificador do plugin que deseja desinstalar. Este valor \u00e9 retornado pela fun\u00e7\u00e3o SceneLib.registerPlugin . Observa\u00e7\u00f5es: Normalmente n\u00e3o \u00e9 preciso se preocupar em desregistrar plug-ins de scene pois o RRPG j\u00e1 faz este trabalho automaticamente quando o .rpk \u00e9 descarregado da mem\u00f3ria. function SceneLib.Math.newRotationMatrix(angle, pivoX, pivoY) Cria e retorna uma Matriz de rota\u00e7\u00e3o 2D Par\u00e2metros: angle - O \u00e2ngulo da rota\u00e7\u00e3o em graus pivoX - A posi\u00e7\u00e3o X do piv\u00f4 da rota\u00e7\u00e3o pivoY - A posi\u00e7\u00e3o Y do piv\u00f4 da rota\u00e7\u00e3o Retorno: A Matriz de rota\u00e7\u00e3o. (Um tipo de dados interno) function SceneLib.Math.transformPoint(x, y, matrix) Transforma a posi\u00e7\u00e3o de um ponto ao multiplic\u00e1-lo por uma matriz. Par\u00e2metros: x - A posi\u00e7\u00e3o X do ponto y - A posi\u00e7\u00e3o Y do ponto matrix - Uma matriz de transforma\u00e7\u00e3o. Retorno: x - A nova posi\u00e7\u00e3o X y - A nova posi\u00e7\u00e3o Y function SceneLib.Math.rotatePoint(x, y, angle, pivoX, pivoY) Rotaciona um ponto. Par\u00e2metros: x - A posi\u00e7\u00e3o X do ponto y - A posi\u00e7\u00e3o Y do ponto angle - O \u00e2ngulo da rota\u00e7\u00e3o em graus pivoX - A posi\u00e7\u00e3o X do piv\u00f4 da rota\u00e7\u00e3o pivoY - A posi\u00e7\u00e3o Y do piv\u00f4 da rota\u00e7\u00e3o Retorno: x - A nova posi\u00e7\u00e3o X y - A nova posi\u00e7\u00e3o Y Created with the Personal Edition of HelpNDoc: Modernize your help files with HelpNDoc's WinHelp HLP to CHM conversion tool","title":"Biblioteca SceneLib"},{"location":"BibliotecaSceneLib/#biblioteca-scenelib","text":"","title":"Biblioteca SceneLib"},{"location":"BibliotecaSceneLib/#biblioteca-scenelib_1","text":"Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas ao Scene 3/Tabuleiro de combate do RRPG Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"scene.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"scene.lua\" require(\"scene.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca SceneLib.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca SceneLib"},{"location":"BibliotecaSceneLib/#funcoes-da-biblioteca-scenelib","text":"function SceneLib.getLoadedScenes() Retorna um array de Scenes que est\u00e3o rodando no RRPG no momento. Retorno: Array (tabela lua indexada de 1 a #tabela) de objeto Scene function SceneLib.registerPlugin(attachCallback) Registra um plug-in de scene no RRPG. Par\u00e2metros: attachCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada para cada Scene rodando ou que vier a ser carregado. Esta fun\u00e7\u00e3o recebe dois par\u00e2metros na seguinte ordem: scene ( um objeto Scene ) e attachment (um objeto ScenePluginAttachment ) representando, respectivamente, o scene o qual o plug-in deve instalar e um objeto que identifica esta liga\u00e7\u00e3o entre o plug-in e o scene. Retorno: Um identificador do plug-in registrado que poder\u00e1 ser utilizado posteriormente como par\u00e2metro para a fun\u00e7\u00e3o SceneLib.unregisterPlugin para desregistr\u00e1-lo. Observa\u00e7\u00f5es: Um pacote .rpk (plugin SDK 3) pode instalar mais de um Plug-in de Scene. Um plug-in de scene pode existir mesmo quando n\u00e3o h\u00e1 nenhum Scene rodando no RRPG, n\u00e3o tem problema. Um plug-in de scene pode se anexar a mais de 1 scene ao mesmo tempo! A fun\u00e7\u00e3o \"attachCallback\" ser\u00e1 chamada uma vez para cada Scene existente e uma inst\u00e2ncia do objeto ScenePluginAttachment ser\u00e1 criada para representar cada uma desta liga\u00e7\u00e3o \"plugin x scene\". Assim como um plug-in pode se anexar a v\u00e1rios scenes, um scene pode estar anexado a v\u00e1rios plug-ins. \u00c9 uma rela\u00e7\u00e3o N:N (leia-se: N para N). Exemplo de um plug-in simples que apenas exibe uma mensagem quando se anexa a um Scene: require(\"scene.lua\"); require(\"dialogs.lua\"); SceneLib.registerPlugin( function (scene, attachment) showMessage(\"Plugin anexado a um tabuleiro de tamanho \" .. scene.worldWidth .. scene.worldMetricName .. \" x \" .. scene.worldHeight .. scene.worldMetricName .. \" de cor de fundo \".. scene.bkgColor); end ); function SceneLib.unregisterPlugin(pluginID) Desregistra um plug-in de scene do RRPG que fora previamente instalado pela fun\u00e7\u00e3o SceneLib.registerPlugin Par\u00e2metros: pluginID - O identificador do plugin que deseja desinstalar. Este valor \u00e9 retornado pela fun\u00e7\u00e3o SceneLib.registerPlugin . Observa\u00e7\u00f5es: Normalmente n\u00e3o \u00e9 preciso se preocupar em desregistrar plug-ins de scene pois o RRPG j\u00e1 faz este trabalho automaticamente quando o .rpk \u00e9 descarregado da mem\u00f3ria. function SceneLib.Math.newRotationMatrix(angle, pivoX, pivoY) Cria e retorna uma Matriz de rota\u00e7\u00e3o 2D Par\u00e2metros: angle - O \u00e2ngulo da rota\u00e7\u00e3o em graus pivoX - A posi\u00e7\u00e3o X do piv\u00f4 da rota\u00e7\u00e3o pivoY - A posi\u00e7\u00e3o Y do piv\u00f4 da rota\u00e7\u00e3o Retorno: A Matriz de rota\u00e7\u00e3o. (Um tipo de dados interno) function SceneLib.Math.transformPoint(x, y, matrix) Transforma a posi\u00e7\u00e3o de um ponto ao multiplic\u00e1-lo por uma matriz. Par\u00e2metros: x - A posi\u00e7\u00e3o X do ponto y - A posi\u00e7\u00e3o Y do ponto matrix - Uma matriz de transforma\u00e7\u00e3o. Retorno: x - A nova posi\u00e7\u00e3o X y - A nova posi\u00e7\u00e3o Y function SceneLib.Math.rotatePoint(x, y, angle, pivoX, pivoY) Rotaciona um ponto. Par\u00e2metros: x - A posi\u00e7\u00e3o X do ponto y - A posi\u00e7\u00e3o Y do ponto angle - O \u00e2ngulo da rota\u00e7\u00e3o em graus pivoX - A posi\u00e7\u00e3o X do piv\u00f4 da rota\u00e7\u00e3o pivoY - A posi\u00e7\u00e3o Y do piv\u00f4 da rota\u00e7\u00e3o Retorno: x - A nova posi\u00e7\u00e3o X y - A nova posi\u00e7\u00e3o Y Created with the Personal Edition of HelpNDoc: Modernize your help files with HelpNDoc's WinHelp HLP to CHM conversion tool","title":"Fun\u00e7\u00f5es da biblioteca SceneLib"},{"location":"BibliotecaSystem/","text":"Biblioteca System Biblioteca System Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com o dispositivo do usu\u00e1rio e outras funcionalidades b\u00e1sicas. Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"system.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"system.lua\" require(\"system.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca System.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca System function System.setClipboardText(text) Altera o conte\u00fado do Clipboard/\u00c1rea de Transfer\u00eancia do sistema operacional (ctrl+c). Par\u00e2metros: text - Cadeia de caracteres contendo o novo conte\u00fado que ser\u00e1 colocado no Clipboard do usu\u00e1rio. Retorno: Caso consiga alterar o conte\u00fado do clipboard, retorna true , sen\u00e3o retorna false. function System.getClipboardText() Retorna o conte\u00fado do Clibpboard/\u00c1rea de Transfer\u00eancia do sistema operacional (ctrl+c) Retorno: Uma cadeia de caracteres caso haja um texto no clipboard ou nil . function System.readClipboardAsDragNDrop(callback, [options]) Read the device clipboard as a drag-and-drop operation. Helpful to read multiple clipboard formats (such as files and images). Parameters: callback - a function that will be called to handle the drag-and-drop operation. The callback will receive the following parameters: drop - The Drop Object that you must fill in the information so Firecast can match the drag to the drop. x - The number passed in \"options.x\" or 0 y - The number passed in \"options.y\" or 0 drag - The Drag Object representing the clipboard data. You must not change the properties of this object. (Optional) options - a table that may contain the following attributes: (Optional) x -The \"x\" position that the callback function will receive (Optional) y -The \"y\" position that the callback function will receive. Returns: true if the operation had a match or false instead. Remarks: The callback function is called immediately. The drag object is valid only inside the callback execution. The drag and drop operation works exactly in the same way the onStartDrop event that all visual tags have. Please read Dragging and Dropping Information to learn more about the drag-and-drop process. function System.getScreenSize() Retorna as dimens\u00f5es da tela do dispositivo do usu\u00e1rio. Retorno: Retorna dois n\u00fameros: largura e altura da tela em pontos l\u00f3gicos . Exemplo: local largura, altura = system.getScreenSize(); function System.isMobile() Retorna se o plugin est\u00e1 rodando no Firecast Mobile. Retorno: Retorna true se o plugin est\u00e1 rodando no App do FireCastMobile ou false se est\u00e1 rodando no RRPG de computador function System.getTickCount() Retorna um n\u00famero contendo h\u00e1 quantos milisegundos o dispositivo do usu\u00e1rio est\u00e1 ligado. \u00d3timo para calcular o tempo decorrido entre opera\u00e7\u00f5es. SDK3 API Version Functions Version history Major Minor Description 87 0 SDK 3.6 (Firecast 8+) 87 1 SDK 3.6b (Firecast 8.5+) 87 2 SDK 3.6c (Firecast 8.6+) 87 3 SDK 3.6d (Firecast 8.8+) Identical major versions possess compatibility with each other. For example, you can compile a plugin using SDK3.6b (87.1), and it will still run fine on an SDK 3.6 (87.0) running API because the two have the same major version. function System.checkAPIVersion(major, [minor]) Checks if the current running SDK3 API version is greater or equal to a specific version. Parameters: major - The major version integer to check. (Optional) minor - The minor version integer to check. When omitted, 0 is used by default Returns: true if the current running SDK3 API version is greater or equal to the specified version; false otherwise. Remarks: You may want to check the SDK3 API version history . function System.getAPIVersion() Gets the current running SDK3 API version. Returns: An integer number in the same format returned by the function System.makeAPIVersionNumber Remarks: You may want to check the SDK3 API version history . function System.makeAPIVersionNumber(major, [minor]) Make an API version integer number that you can use to compare versions. Parameters: major - The major version integer (Optional) minor - The minor version integer. When omitted, 0 is used by default Returns: An integer number. It's a 32 bits where the upper 16 bits contain the major version, and the lower 16 bits hold the minor version. Remarks: You may want to check the SDK3 API version history . Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant","title":"Biblioteca System"},{"location":"BibliotecaSystem/#biblioteca-system","text":"","title":"Biblioteca System"},{"location":"BibliotecaSystem/#biblioteca-system_1","text":"Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com o dispositivo do usu\u00e1rio e outras funcionalidades b\u00e1sicas. Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"system.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"system.lua\" require(\"system.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca System.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca System"},{"location":"BibliotecaSystem/#funcoes-da-biblioteca-system","text":"function System.setClipboardText(text) Altera o conte\u00fado do Clipboard/\u00c1rea de Transfer\u00eancia do sistema operacional (ctrl+c). Par\u00e2metros: text - Cadeia de caracteres contendo o novo conte\u00fado que ser\u00e1 colocado no Clipboard do usu\u00e1rio. Retorno: Caso consiga alterar o conte\u00fado do clipboard, retorna true , sen\u00e3o retorna false. function System.getClipboardText() Retorna o conte\u00fado do Clibpboard/\u00c1rea de Transfer\u00eancia do sistema operacional (ctrl+c) Retorno: Uma cadeia de caracteres caso haja um texto no clipboard ou nil . function System.readClipboardAsDragNDrop(callback, [options]) Read the device clipboard as a drag-and-drop operation. Helpful to read multiple clipboard formats (such as files and images). Parameters: callback - a function that will be called to handle the drag-and-drop operation. The callback will receive the following parameters: drop - The Drop Object that you must fill in the information so Firecast can match the drag to the drop. x - The number passed in \"options.x\" or 0 y - The number passed in \"options.y\" or 0 drag - The Drag Object representing the clipboard data. You must not change the properties of this object. (Optional) options - a table that may contain the following attributes: (Optional) x -The \"x\" position that the callback function will receive (Optional) y -The \"y\" position that the callback function will receive. Returns: true if the operation had a match or false instead. Remarks: The callback function is called immediately. The drag object is valid only inside the callback execution. The drag and drop operation works exactly in the same way the onStartDrop event that all visual tags have. Please read Dragging and Dropping Information to learn more about the drag-and-drop process. function System.getScreenSize() Retorna as dimens\u00f5es da tela do dispositivo do usu\u00e1rio. Retorno: Retorna dois n\u00fameros: largura e altura da tela em pontos l\u00f3gicos . Exemplo: local largura, altura = system.getScreenSize(); function System.isMobile() Retorna se o plugin est\u00e1 rodando no Firecast Mobile. Retorno: Retorna true se o plugin est\u00e1 rodando no App do FireCastMobile ou false se est\u00e1 rodando no RRPG de computador function System.getTickCount() Retorna um n\u00famero contendo h\u00e1 quantos milisegundos o dispositivo do usu\u00e1rio est\u00e1 ligado. \u00d3timo para calcular o tempo decorrido entre opera\u00e7\u00f5es.","title":"Fun\u00e7\u00f5es da biblioteca System"},{"location":"BibliotecaSystem/#sdk3-api-version-functions","text":"","title":"SDK3 API Version Functions"},{"location":"BibliotecaSystem/#version-history","text":"Major Minor Description 87 0 SDK 3.6 (Firecast 8+) 87 1 SDK 3.6b (Firecast 8.5+) 87 2 SDK 3.6c (Firecast 8.6+) 87 3 SDK 3.6d (Firecast 8.8+) Identical major versions possess compatibility with each other. For example, you can compile a plugin using SDK3.6b (87.1), and it will still run fine on an SDK 3.6 (87.0) running API because the two have the same major version. function System.checkAPIVersion(major, [minor]) Checks if the current running SDK3 API version is greater or equal to a specific version. Parameters: major - The major version integer to check. (Optional) minor - The minor version integer to check. When omitted, 0 is used by default Returns: true if the current running SDK3 API version is greater or equal to the specified version; false otherwise. Remarks: You may want to check the SDK3 API version history . function System.getAPIVersion() Gets the current running SDK3 API version. Returns: An integer number in the same format returned by the function System.makeAPIVersionNumber Remarks: You may want to check the SDK3 API version history . function System.makeAPIVersionNumber(major, [minor]) Make an API version integer number that you can use to compare versions. Parameters: major - The major version integer (Optional) minor - The minor version integer. When omitted, 0 is used by default Returns: An integer number. It's a 32 bits where the upper 16 bits contain the major version, and the lower 16 bits hold the minor version. Remarks: You may want to check the SDK3 API version history . Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant","title":"Version history"},{"location":"BibliotecaUtils/","text":"Biblioteca Utils Biblioteca Utils A biblioteca gui prov\u00ea fun\u00e7\u00f5es relacionadas \u00e0s interfaces Lua Form. Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"utils.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"utils.lua\" require(\"utils.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Utils.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); FUNCAO_DA_BIBLIOTECA2(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca utils function clearInterval(intervalId) ou function Utils.clearInterval(intervalId) Cancela o temporizador que setInterval havia previamente configurado. Par\u00e2metros: intervalId - O identificador retornado pela fun\u00e7\u00e3o setInterval. function clearTimeout(timeoutId) ou function Utils.clearTimeout(timeoutId) Cancela o temporizador que setTimeout havia previamente configurado. Par\u00e2metros: timeoutId - O identificador retornado pela fun\u00e7\u00e3o setTimeout. function Utils.compareStringPtBr(strLeft, strRight) Realiza compara\u00e7\u00e3o entre duas cadeias de caracteres de forma case-insensitive e ignorando acentua\u00e7\u00f5es Retorna: N\u00famero menor que 0 se strLeft for lexicograficamente menor que strRight 0 se strLeft for lexicograficamente igual a strRight N\u00famero maior que 0 se strLeft for lexicograficamente maior que strRight function lowercase(str) Converte e retorna um string em caixa baixa (lower case) Par\u00e2metros: str - a cadeia de caracteres que deseja converter para caixa baixa. Retorno: uma cadeia de caracteres function uppercase(str) Converte e retorna um string em caixa alta (upper case) Par\u00e2metros: str - a cadeia de caracteres que deseja converter para caixa alta. Retorno: uma cadeia de caracteres function Utils.generateUniqueString() Gera e retorna uma cadeia de caracteres globalmente \u00fanica, isto \u00e9, um texto que nunca mais ser\u00e1 gerado novamente por esta fun\u00e7\u00e3o Retorno: Uma cadeia de caracteres \u00fanica, \u00f3tima para ser usada como identificador. function isnumber(value) ou function isNumber(value) Retorna true se o par\u00e2metro \"value\" for um n\u00famero, sen\u00e3o retorna false. function round(value) Arredonda \"value\" para o numero inteiro mais pr\u00f3ximo e o retorna. function removerAcentos(str) ou function Utils.removerAcentos(str) Retorna o texto passado em \"str\" sem sua acentua\u00e7\u00e3o. function Utils.removerFmtChat(str[, removerSmileys]) Retorna o texto passado em \"str\" sem os caracteres de formata\u00e7\u00e3o de cores/negrito/it\u00e1lico que o RRPG aceita no chat. Par\u00e2metros: str - Cadeia de caracteres contendo o texto a ser processado (OPCIONAL) removerSmileys - Booleano indicando se deve remover os smileys/memes do texto tamb\u00e9m. Se omitido, o valor padr\u00e3o \u00e9 false. Retorno: Cadeia de caracteres sem as tags de formata\u00e7\u00e3o. function setInterval(callbackFunction, interval [, parametersToCallbackFunction]) ou function Utils.setInterval(callbackFunction, interval [, parametersToCallbackFunction]) setInterval chama uma fun\u00e7\u00e3o qualquer ap\u00f3s em intervalos de tempo especificado em milisegundos. Par\u00e2metros: callbackFunction - A fun\u00e7\u00e3o que ser\u00e1 chamada no intervalo definido. interval - O intervalo de tempo em milisegundos que callbackFunction ser\u00e1 chamada. (OPCIONAL) parametersToCallbackFunction - Uma lista de par\u00e2metros que ser\u00e3o repassados para a callbackFunction quando ela for chamada. Retorno: Retorna um valor que poder\u00e1 ser usado na fun\u00e7\u00e3o clearInterval para cancelar o setInterval. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o \"callbackFunction\" \u00e9 executada in\u00fameras vezes at\u00e9 que algum dos seguintes eventos aconte\u00e7a: O plug-in seja descarregado. A fun\u00e7\u00e3o clearInterval seja executada passando em seu par\u00e2metro o valor retornado por setInterval. A fun\u00e7\u00e3o informada em \"callbackFunction\" retorne explicitamente false. Se voc\u00ea deseja executar \"callbackFunction\" apenas uma vez ap\u00f3s um determinado tempo, use a fun\u00e7\u00e3o setTimeout . function setTimeout(callbackFunction, interval [, parametersToCallbackFunction]) ou function Utils.setTimeout(callbackFunction, interval [, parametersToCallbackFunction]) setTimeout chama uma fun\u00e7\u00e3o qualquer ap\u00f3s uma quantidade espec\u00edfica de milisegundos se passarem. Par\u00e2metros: callbackFunction - A fun\u00e7\u00e3o que ser\u00e1 chamada. interval - O tempo de espera at\u00e9 que a fun\u00e7\u00e3o seja chamada, em milisegundos. (OPCIONAL) parametersToCallbackFunction - Uma lista de par\u00e2metros que ser\u00e3o repassados para a callbackFunction quando ela for chamada. Retorno: Retorna um valor que poder\u00e1 ser usado na fun\u00e7\u00e3o clearTimeout para prevenir a fun\u00e7\u00e3o \"callbackFunction\" de ser chamada. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o \"callbackFunction\" \u00e9 executada somente 1 vez. Se voc\u00ea precisar que ela seja chamada constantemente, use a fun\u00e7\u00e3o setInterval function Utils.sortPtBrArray(array) Dado um array de strings (uma tabela lua indexada de 1 a n), ordena os valores lexicograficamente de forma case insensitive e ignorando acentua\u00e7\u00f5es. Retorno: N\u00e3o h\u00e1 retorno. O pr\u00f3prio array estar\u00e1 ordenado no fim desta fun\u00e7\u00e3o. function totable(str) ou function strToTable(str) ou function Utils.strToTable(str) Converte o texto passado em \"str\" para uma tabela lua. O texto deve seguir o mesmo padr\u00e3o que voc\u00ea usa ao declarar uma tabela lua quando est\u00e1 programando. Exemplo: \"{nome='jo\u00e3o', idade=10, filhos={}}\" function tableToStr(table [, pretty]) ou function Utils.tableToStr(table [, pretty]) Converte uma tabela LUA para string. Par\u00e2metros: table - a tabela lua que deseja converter para texto (OPCIONAL) pretty - se true, converte para um texto leg\u00edvel... Se omitido ou se false, converte para um texto que ocupa o menor espa\u00e7o o poss\u00edvel. Retorno: Uma cadeia de caracteres que corresponde \u00e0 tabela. function Utils.binaryEncode(destArray, format, value [, startIndex]) Codifica um determinado valor em um formato bin\u00e1rio. Par\u00e2metros: destArray - Uma tabela lua que receber\u00e1 os BYTES da codifica\u00e7\u00e3o bin\u00e1ria. format - Uma cadeia de caracteres identificando qual o formato bin\u00e1rio deve ser utilizado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os formatos dispon\u00edveis. value - O valor que ser\u00e1 codificado. (OPCIONAL) startIndex - Um n\u00famero identificando em qual posi\u00e7\u00e3o de \"destArray\" os bytes devem ser escritos. Se omitido, o valor 1 ser\u00e1 utilizado. Retorno: Um n\u00famero contendo quantos bytes foram inseridos em destArray. Observa\u00e7\u00f5es: Cada BYTE da representa\u00e7\u00e3o bin\u00e1ria \u00e9 colocado em uma posi\u00e7\u00e3o de \"destArray\". Se um determinado formato bin\u00e1rio ocupar 4 bytes, ap\u00f3s a chamada da fun\u00e7\u00e3o destArray[1] conter\u00e1 o valor do primeiro byte, destArray[2] o valor do segundo byte, destArray[3] o valor do terceiro byte e destArray[4] o valor do quarto byte. Formatos Bin\u00e1rios: Formato Qtd. de Bytes Descri\u00e7\u00e3o \"u8\" 1 Um n\u00famero entre 0 e 255 codificado como Unsigned Integer de 8 Bits (tamb\u00e9m conhecido como Byte) \"s8\" 1 Um n\u00famero entre -128 a 127 codificado como Signed Integer de 8 Bits. \"u16\" 2 Um n\u00famero entre 0 e 65535 codificado como Unsigned Integer de 16 bits (Tamb\u00e9m conhecido como Word) no padr\u00e3o LittleEndian. \"s16\" 2 Um n\u00famero entre -32768 e 32767 codificado como Signed Integer de 16 bits no padr\u00e3o LittleEndian. \"u32\" 4 Um n\u00famero entre 0 e 4294967295 codificado como Unsigned Integer de 32 bits (Tamb\u00e9m conhecido como DoubleWord) no padr\u00e3o LittleEndian. \"s32\" 4 Um n\u00famero entre -2147483648 e 2147483647 codificado como Signed Integer de 32 bits no padr\u00e3o LittleEndian \"u64\" 8 Um n\u00famero entre 0 e (2\\^64) - 1 codificado como Unsigned Integer de 64 bits (Tamb\u00e9m conhecido como QuadWord) no padr\u00e3o LittleEndian \"s64\" 8 Um n\u00famero entre -2\\^63 a (2\\^63) - 1 codificado como Signed Integer de 64 bits no padr\u00e3o LittleEndian. \"float\" 4 Um n\u00famero de ponto flutuante de 4 bytes no padr\u00e3o IEEE 754. \"double\" 8 Um n\u00famero de ponto flutuante de 8 bytes no padr\u00e3o IEEE 754. \"ansi\" Varia Uma cadeia de caracteres codificada em ANSI sem o terminador nulo. \"utf8\" Varia Uma cadeia de caracteres codificada em UTF-8 sem o terminador nulo. \"utf16\" Varia Uma cadeia de caracteres codificada em UTF-16 sem o terminador nulo. function Utils.binaryDecode(sourceArray, format [, startIndex [, length]]) Interpreta um valor que est\u00e1 codificado em um formato bin\u00e1rio. Par\u00e2metros: sourceArray - Uma tabela lua que cont\u00e9m os BYTES da codifica\u00e7\u00e3o bin\u00e1ria. format - Uma cadeia de caracteres identificando em qual formato bin\u00e1rio o valor est\u00e1 codificado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o. (OPCIONAL) startIndex - Um n\u00famero identificando a partir de qual posi\u00e7\u00e3o de \"sourceArray\" os bytes devem ser lidos para a decodifica\u00e7\u00e3o. Se omitido, o valor 1 ser\u00e1 utilizado. (OPCIONAL) length - Quantos bytes \u00e0 partir de \"startIndex\" devem ser usados para a decodifica\u00e7\u00e3o. Se omitido, o valor (#sourceArray - startIndex + 1) ser\u00e1 utilizado. Retorno: A fun\u00e7\u00e3o retorna 2 valores: O valor decodificado ou nil se n\u00e3o foi poss\u00edvel decodificar A quantidade de bytes usados para a decodifica\u00e7\u00e3o do valor. Observa\u00e7\u00f5es: Cada BYTE da representa\u00e7\u00e3o bin\u00e1ria deve estar em uma posi\u00e7\u00e3o de \"sourceArray\". Se um determinado formato bin\u00e1rio ocupar 4 bytes, sourceArray[1] deve conter o valor do primeiro byte, sourceArray[2] o valor do segundo byte, sourceArray[3] o valor do terceiro byte e sourceArray[4] o valor do quarto byte. function Utils.getBinarySize(format) Retorna quantos bytes um determinado formato bin\u00e1rio ocupa. Par\u00e2metros: format - Uma cadeia de caracteres identificando o formato bin\u00e1rio que deseja consultar. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o. Retorno: Um n\u00famero identificando a quantidade de bytes um determinado formato bin\u00e1rio ocupa. Se um formato bin\u00e1rio ocupar uma quantidade variada de bytes, o valor -1 \u00e9 retornado. function Utils.zlibCompress(sourceStream, destStream, [, level [, qtBytesInSource]]) L\u00ea dados de um objeto stream fonte e, usando a biblioteca zLib, o compacta escrevendo o resultado em outro objeto stream . Par\u00e2metros: sourceStream - Um objeto stream representando os dados a serem compactados. destStream - Um objeto stream que receber\u00e1 o conte\u00fado compactado. (OPCIONAL) level - Define o n\u00edvel da compacta\u00e7\u00e3o. Pode ser \"none\" - N\u00e3o haver\u00e1 compacta\u00e7\u00e3o no final das contas \"fastest\" - Compacta\u00e7\u00e3o r\u00e1pida \"default\" - Modo em que balanceia velocidade e taxa de compress\u00e3o. Este \u00e9 o modo padr\u00e3o quando n\u00e3o for definido o n\u00edvel. \"max\" - Modo com maior taxa de compress\u00e3o. (OPCIONAL) qtBytesInSource - Quantos bytes ser\u00e3o lidos de \"sourceStream\" \u00e0 partir de sua posi\u00e7\u00e3o atual para a compacta\u00e7\u00e3o. Quando n\u00e3o definido, todo o restante do sourceStream ser\u00e1 lido para a compacta\u00e7\u00e3o. Retorno: Um n\u00famero identificando quantos bytes foram escritos em destStream function Utils.zlibDecompress(sourceStream, destStream) L\u00ea dados de um objeto stream fonte e, usando o a biblioteca zLib, o descompacta escrevendo o resultado em outro objeto stream . Par\u00e2metros: sourceStream - Um objeto stream contendo os dados a serem descompactados. destStream - Um objeto stream que receber\u00e1 o conte\u00fado descompactado. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o descompacta um \"bloco compactado\" por completo. N\u00e3o tem como antecipar quantos bytes ser\u00e3o lidos de \"sourceStream\" nem quantos bytes ser\u00e3o escritos em \"destStream\" utilizando esta fun\u00e7\u00e3o. No fim da chamada, destStream conter\u00e1 todo o dado descompactado e a posi\u00e7\u00e3o de \"sourceStream\" apontar\u00e1 para o primeiro byte subsequente do conte\u00fado que foi processado. Retorno: Um n\u00famero identificando quantos bytes foram escritos em destStream function Utils.zlibCompressAsync(sourceStream, destStream, level, qtBytesInSource, onFinishCallback, onErrorCallback) L\u00ea dados de um objeto stream fonte e, usando a biblioteca zLib, o compacta escrevendo o resultado em outro objeto stream . A compacta\u00e7\u00e3o se d\u00e1 de forma ass\u00edncrona, isto \u00e9, em \"background\". \u00d3timo para compactar streams grandes e n\u00e3o \"congelar\" o programa durante o processo. Par\u00e2metros: sourceStream - Um objeto stream representando os dados a serem compactados. destStream - Um objeto stream que receber\u00e1 o conte\u00fado compactado. level - Define o n\u00edvel da compacta\u00e7\u00e3o. Pode ser \"none\" - N\u00e3o haver\u00e1 compacta\u00e7\u00e3o no final das contas \"fastest\" - Compacta\u00e7\u00e3o r\u00e1pida \"default\" - Modo em que balanceia velocidade e taxa de compress\u00e3o. Este \u00e9 o modo padr\u00e3o quando n\u00e3o for definido o n\u00edvel. \"max\" - Modo com maior taxa de compress\u00e3o. qtBytesInSource - Quantos bytes ser\u00e3o lidos de \"sourceStream\" \u00e0 partir de sua posi\u00e7\u00e3o atual para a compacta\u00e7\u00e3o. onFinishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a compacta\u00e7\u00e3o finalizar. onErrorCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a compacta\u00e7\u00e3o retornar um erro. A mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o. Observa\u00e7\u00f5es: IMPORTANTE: Durante a compacta\u00e7\u00e3o ass\u00edncrona, seu c\u00f3digo n\u00e3o deve fazer nenhuma opera\u00e7\u00e3o em sourceStream e nem em destStream, sen\u00e3o o planeta explodir\u00e1 e 2d6 erros estranhos surgir\u00e3o. function Utils.zlibDecompressAsync(sourceStream, destStream, onFinishCallback, onErrorCallback) L\u00ea dados de um objeto stream fonte e, usando o a biblioteca zLib, o descompacta escrevendo o resultado em outro objeto stream . A descompacta\u00e7\u00e3o se d\u00e1 de forma ass\u00edncrona, isto \u00e9, em \"background\". \u00d3timo para descompactar streams grandes e n\u00e3o \"congelar\" o programa durante o processo. Par\u00e2metros: sourceStream - Um objeto stream contendo os dados a serem descompactados. destStream - Um objeto stream que receber\u00e1 o conte\u00fado descompactado. onFinishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a descompacta\u00e7\u00e3o finalizar. onErrorCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a descompacta\u00e7\u00e3o retornar um erro. A mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o descompacta um \"bloco compactado\" por completo. N\u00e3o tem como antecipar quantos bytes ser\u00e3o lidos de \"sourceStream\" nem quantos bytes ser\u00e3o escritos em \"destStream\" utilizando esta fun\u00e7\u00e3o. No fim da chamada, destStream conter\u00e1 todo o dado descompactado e a posi\u00e7\u00e3o de \"sourceStream\" apontar\u00e1 para o primeiro byte subsequente do conte\u00fado que foi processado. IMPORTANTE: Durante a descompacta\u00e7\u00e3o ass\u00edncrona, seu c\u00f3digo n\u00e3o deve fazer nenhuma opera\u00e7\u00e3o em sourceStream e nem em destStream, sen\u00e3o o planeta explodir\u00e1 e 2d6 erros estranhos surgir\u00e3o. function Utils.newMemoryStream() Cria e retorna um objeto stream que armazena os dados na mem\u00f3ria RAM do dispositivo. Observa\u00e7\u00f5es: Os dados armazenados no Memory Stream n\u00e3o s\u00e3o salvos em nenhum lugar e s\u00e3o perdidos quando o c\u00f3digo n\u00e3o mais estiver usando o Stream ou quando o RRPG fechar. \u00d3timo para fazer processamento de dados tempor\u00e1rios. Enquanto estiver em uso, os dados ocupam mem\u00f3ria RAM do dispositivo. Retorno: Um objeto stream function Utils.newTempFileStream() Cria e retorna um objeto stream que armazena os dados em um arquivo tempor\u00e1rio no dispositivo do usu\u00e1rio. Observa\u00e7\u00f5es: Um arquivo tempor\u00e1rio \u00e9 criado no dispositivo do usu\u00e1rio e \u00e9 automaticamente apagado quando n\u00e3o for mais utilizado. \u00d3timo para fazer processamento de dados tempor\u00e1rios. Enquanto estiver em uso, os dados ocupam espa\u00e7o de armazenamento do dispositivo (HD, SSD, Memory Card, etc..). Retorno: Um objeto stream function tryFinally(tryCallback, finallyCallback) ou function Utils.tryFinally(tryCallback, finallyCallback) LUA n\u00e3o possui um operador try-finally para tratamento de exce\u00e7\u00f5es. Esta fun\u00e7\u00e3o \u00e9 uma alternativa para o comportamento try-finally que o LUA n\u00e3o prov\u00ea nativamente. Executa a fun\u00e7\u00e3o \"tryCallback\", e: Se ocorrer algum erro na execu\u00e7\u00e3o, a fun\u00e7\u00e3o \"finallyCallback\" \u00e9 invocada e o erro \u00e9 levantado logo ap\u00f3s. Se n\u00e3o ocorrer erro na execu\u00e7\u00e3o, a fun\u00e7\u00e3o \"finallyCallback\" \u00e9 invocada e a execu\u00e7\u00e3o continua normalmente. Par\u00e2metros: tryCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada. finallyCallback - Uma fun\u00e7\u00e3o que sempre ser\u00e1 invocada ap\u00f3s a execu\u00e7\u00e3o de \"tryCallback\", mesmo havendo erros de execu\u00e7\u00e3o. function colorToRGBA(color) ou function Utils.colorToRGBA(color) Dado uma cor no formato string de cor , retorna os tons de Red, Green, Blue e Alpha da cor Par\u00e2metros: Color - um string de cor contendo a cor que deseja decompor Retorno: 4 n\u00fameros representando, respectivamente os tons de Red, Green, Blue e Alpha da cor. Os tons s\u00e3o n\u00fameros entre 0.0 e 1.0 function RGBAToColor(r, g, b, a) ou function Utils.RGBAToColor(r, g, b, a) Dado tons de cores Red, Green, Blue e Alpha, retorna um string de cor que representa a cor. Par\u00e2metros: r - Tom de Red, n\u00famero entre 0.0 e 1.0 g - Tom de Green, n\u00famero entre 0.0 e 1.0 b - Tom de Blue, n\u00famero entre 0.0 e 1.0 a - Tom de Alpha, n\u00famero entre 0.0 e 1.0. Se omitido, o valor \u00e9 considerado 1.0 Retorno: Um string de cor Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with HelpNDoc's Stunning User Interface","title":"Biblioteca Utils"},{"location":"BibliotecaUtils/#biblioteca-utils","text":"","title":"Biblioteca Utils"},{"location":"BibliotecaUtils/#biblioteca-utils_1","text":"A biblioteca gui prov\u00ea fun\u00e7\u00f5es relacionadas \u00e0s interfaces Lua Form. Todas as fun\u00e7\u00f5es est\u00e3o contidas na unidade \"utils.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"utils.lua\" require(\"utils.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca Utils.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); FUNCAO_DA_BIBLIOTECA2(Parametro1, Parametro2, ...);","title":"Biblioteca Utils"},{"location":"BibliotecaUtils/#funcoes-da-biblioteca-utils","text":"","title":"Fun\u00e7\u00f5es da biblioteca utils"},{"location":"BibliotecaUtils/#_1","text":"function clearInterval(intervalId) ou function Utils.clearInterval(intervalId) Cancela o temporizador que setInterval havia previamente configurado. Par\u00e2metros: intervalId - O identificador retornado pela fun\u00e7\u00e3o setInterval. function clearTimeout(timeoutId) ou function Utils.clearTimeout(timeoutId) Cancela o temporizador que setTimeout havia previamente configurado. Par\u00e2metros: timeoutId - O identificador retornado pela fun\u00e7\u00e3o setTimeout. function Utils.compareStringPtBr(strLeft, strRight) Realiza compara\u00e7\u00e3o entre duas cadeias de caracteres de forma case-insensitive e ignorando acentua\u00e7\u00f5es Retorna: N\u00famero menor que 0 se strLeft for lexicograficamente menor que strRight 0 se strLeft for lexicograficamente igual a strRight N\u00famero maior que 0 se strLeft for lexicograficamente maior que strRight function lowercase(str) Converte e retorna um string em caixa baixa (lower case) Par\u00e2metros: str - a cadeia de caracteres que deseja converter para caixa baixa. Retorno: uma cadeia de caracteres function uppercase(str) Converte e retorna um string em caixa alta (upper case) Par\u00e2metros: str - a cadeia de caracteres que deseja converter para caixa alta. Retorno: uma cadeia de caracteres function Utils.generateUniqueString() Gera e retorna uma cadeia de caracteres globalmente \u00fanica, isto \u00e9, um texto que nunca mais ser\u00e1 gerado novamente por esta fun\u00e7\u00e3o Retorno: Uma cadeia de caracteres \u00fanica, \u00f3tima para ser usada como identificador. function isnumber(value) ou function isNumber(value) Retorna true se o par\u00e2metro \"value\" for um n\u00famero, sen\u00e3o retorna false. function round(value) Arredonda \"value\" para o numero inteiro mais pr\u00f3ximo e o retorna. function removerAcentos(str) ou function Utils.removerAcentos(str) Retorna o texto passado em \"str\" sem sua acentua\u00e7\u00e3o. function Utils.removerFmtChat(str[, removerSmileys]) Retorna o texto passado em \"str\" sem os caracteres de formata\u00e7\u00e3o de cores/negrito/it\u00e1lico que o RRPG aceita no chat. Par\u00e2metros: str - Cadeia de caracteres contendo o texto a ser processado (OPCIONAL) removerSmileys - Booleano indicando se deve remover os smileys/memes do texto tamb\u00e9m. Se omitido, o valor padr\u00e3o \u00e9 false. Retorno: Cadeia de caracteres sem as tags de formata\u00e7\u00e3o. function setInterval(callbackFunction, interval [, parametersToCallbackFunction]) ou function Utils.setInterval(callbackFunction, interval [, parametersToCallbackFunction]) setInterval chama uma fun\u00e7\u00e3o qualquer ap\u00f3s em intervalos de tempo especificado em milisegundos. Par\u00e2metros: callbackFunction - A fun\u00e7\u00e3o que ser\u00e1 chamada no intervalo definido. interval - O intervalo de tempo em milisegundos que callbackFunction ser\u00e1 chamada. (OPCIONAL) parametersToCallbackFunction - Uma lista de par\u00e2metros que ser\u00e3o repassados para a callbackFunction quando ela for chamada. Retorno: Retorna um valor que poder\u00e1 ser usado na fun\u00e7\u00e3o clearInterval para cancelar o setInterval. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o \"callbackFunction\" \u00e9 executada in\u00fameras vezes at\u00e9 que algum dos seguintes eventos aconte\u00e7a: O plug-in seja descarregado. A fun\u00e7\u00e3o clearInterval seja executada passando em seu par\u00e2metro o valor retornado por setInterval. A fun\u00e7\u00e3o informada em \"callbackFunction\" retorne explicitamente false. Se voc\u00ea deseja executar \"callbackFunction\" apenas uma vez ap\u00f3s um determinado tempo, use a fun\u00e7\u00e3o setTimeout . function setTimeout(callbackFunction, interval [, parametersToCallbackFunction]) ou function Utils.setTimeout(callbackFunction, interval [, parametersToCallbackFunction]) setTimeout chama uma fun\u00e7\u00e3o qualquer ap\u00f3s uma quantidade espec\u00edfica de milisegundos se passarem. Par\u00e2metros: callbackFunction - A fun\u00e7\u00e3o que ser\u00e1 chamada. interval - O tempo de espera at\u00e9 que a fun\u00e7\u00e3o seja chamada, em milisegundos. (OPCIONAL) parametersToCallbackFunction - Uma lista de par\u00e2metros que ser\u00e3o repassados para a callbackFunction quando ela for chamada. Retorno: Retorna um valor que poder\u00e1 ser usado na fun\u00e7\u00e3o clearTimeout para prevenir a fun\u00e7\u00e3o \"callbackFunction\" de ser chamada. Observa\u00e7\u00f5es: A fun\u00e7\u00e3o \"callbackFunction\" \u00e9 executada somente 1 vez. Se voc\u00ea precisar que ela seja chamada constantemente, use a fun\u00e7\u00e3o setInterval function Utils.sortPtBrArray(array) Dado um array de strings (uma tabela lua indexada de 1 a n), ordena os valores lexicograficamente de forma case insensitive e ignorando acentua\u00e7\u00f5es. Retorno: N\u00e3o h\u00e1 retorno. O pr\u00f3prio array estar\u00e1 ordenado no fim desta fun\u00e7\u00e3o. function totable(str) ou function strToTable(str) ou function Utils.strToTable(str) Converte o texto passado em \"str\" para uma tabela lua. O texto deve seguir o mesmo padr\u00e3o que voc\u00ea usa ao declarar uma tabela lua quando est\u00e1 programando. Exemplo: \"{nome='jo\u00e3o', idade=10, filhos={}}\" function tableToStr(table [, pretty]) ou function Utils.tableToStr(table [, pretty]) Converte uma tabela LUA para string. Par\u00e2metros: table - a tabela lua que deseja converter para texto (OPCIONAL) pretty - se true, converte para um texto leg\u00edvel... Se omitido ou se false, converte para um texto que ocupa o menor espa\u00e7o o poss\u00edvel. Retorno: Uma cadeia de caracteres que corresponde \u00e0 tabela. function Utils.binaryEncode(destArray, format, value [, startIndex]) Codifica um determinado valor em um formato bin\u00e1rio. Par\u00e2metros: destArray - Uma tabela lua que receber\u00e1 os BYTES da codifica\u00e7\u00e3o bin\u00e1ria. format - Uma cadeia de caracteres identificando qual o formato bin\u00e1rio deve ser utilizado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os formatos dispon\u00edveis. value - O valor que ser\u00e1 codificado. (OPCIONAL) startIndex - Um n\u00famero identificando em qual posi\u00e7\u00e3o de \"destArray\" os bytes devem ser escritos. Se omitido, o valor 1 ser\u00e1 utilizado. Retorno: Um n\u00famero contendo quantos bytes foram inseridos em destArray. Observa\u00e7\u00f5es: Cada BYTE da representa\u00e7\u00e3o bin\u00e1ria \u00e9 colocado em uma posi\u00e7\u00e3o de \"destArray\". Se um determinado formato bin\u00e1rio ocupar 4 bytes, ap\u00f3s a chamada da fun\u00e7\u00e3o destArray[1] conter\u00e1 o valor do primeiro byte, destArray[2] o valor do segundo byte, destArray[3] o valor do terceiro byte e destArray[4] o valor do quarto byte. Formatos Bin\u00e1rios: Formato Qtd. de Bytes Descri\u00e7\u00e3o \"u8\" 1 Um n\u00famero entre 0 e 255 codificado como Unsigned Integer de 8 Bits (tamb\u00e9m conhecido como Byte) \"s8\" 1 Um n\u00famero entre -128 a 127 codificado como Signed Integer de 8 Bits. \"u16\" 2 Um n\u00famero entre 0 e 65535 codificado como Unsigned Integer de 16 bits (Tamb\u00e9m conhecido como Word) no padr\u00e3o LittleEndian. \"s16\" 2 Um n\u00famero entre -32768 e 32767 codificado como Signed Integer de 16 bits no padr\u00e3o LittleEndian. \"u32\" 4 Um n\u00famero entre 0 e 4294967295 codificado como Unsigned Integer de 32 bits (Tamb\u00e9m conhecido como DoubleWord) no padr\u00e3o LittleEndian. \"s32\" 4 Um n\u00famero entre -2147483648 e 2147483647 codificado como Signed Integer de 32 bits no padr\u00e3o LittleEndian \"u64\" 8 Um n\u00famero entre 0 e (2\\^64) - 1 codificado como Unsigned Integer de 64 bits (Tamb\u00e9m conhecido como QuadWord) no padr\u00e3o LittleEndian \"s64\" 8 Um n\u00famero entre -2\\^63 a (2\\^63) - 1 codificado como Signed Integer de 64 bits no padr\u00e3o LittleEndian. \"float\" 4 Um n\u00famero de ponto flutuante de 4 bytes no padr\u00e3o IEEE 754. \"double\" 8 Um n\u00famero de ponto flutuante de 8 bytes no padr\u00e3o IEEE 754. \"ansi\" Varia Uma cadeia de caracteres codificada em ANSI sem o terminador nulo. \"utf8\" Varia Uma cadeia de caracteres codificada em UTF-8 sem o terminador nulo. \"utf16\" Varia Uma cadeia de caracteres codificada em UTF-16 sem o terminador nulo. function Utils.binaryDecode(sourceArray, format [, startIndex [, length]]) Interpreta um valor que est\u00e1 codificado em um formato bin\u00e1rio. Par\u00e2metros: sourceArray - Uma tabela lua que cont\u00e9m os BYTES da codifica\u00e7\u00e3o bin\u00e1ria. format - Uma cadeia de caracteres identificando em qual formato bin\u00e1rio o valor est\u00e1 codificado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o. (OPCIONAL) startIndex - Um n\u00famero identificando a partir de qual posi\u00e7\u00e3o de \"sourceArray\" os bytes devem ser lidos para a decodifica\u00e7\u00e3o. Se omitido, o valor 1 ser\u00e1 utilizado. (OPCIONAL) length - Quantos bytes \u00e0 partir de \"startIndex\" devem ser usados para a decodifica\u00e7\u00e3o. Se omitido, o valor (#sourceArray - startIndex + 1) ser\u00e1 utilizado. Retorno: A fun\u00e7\u00e3o retorna 2 valores: O valor decodificado ou nil se n\u00e3o foi poss\u00edvel decodificar A quantidade de bytes usados para a decodifica\u00e7\u00e3o do valor. Observa\u00e7\u00f5es: Cada BYTE da representa\u00e7\u00e3o bin\u00e1ria deve estar em uma posi\u00e7\u00e3o de \"sourceArray\". Se um determinado formato bin\u00e1rio ocupar 4 bytes, sourceArray[1] deve conter o valor do primeiro byte, sourceArray[2] o valor do segundo byte, sourceArray[3] o valor do terceiro byte e sourceArray[4] o valor do quarto byte. function Utils.getBinarySize(format) Retorna quantos bytes um determinado formato bin\u00e1rio ocupa. Par\u00e2metros: format - Uma cadeia de caracteres identificando o formato bin\u00e1rio que deseja consultar. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o. Retorno: Um n\u00famero identificando a quantidade de bytes um determinado formato bin\u00e1rio ocupa. Se um formato bin\u00e1rio ocupar uma quantidade variada de bytes, o valor -1 \u00e9 retornado. function Utils.zlibCompress(sourceStream, destStream, [, level [, qtBytesInSource]]) L\u00ea dados de um objeto stream fonte e, usando a biblioteca zLib, o compacta escrevendo o resultado em outro objeto stream . Par\u00e2metros: sourceStream - Um objeto stream representando os dados a serem compactados. destStream - Um objeto stream que receber\u00e1 o conte\u00fado compactado. (OPCIONAL) level - Define o n\u00edvel da compacta\u00e7\u00e3o. Pode ser \"none\" - N\u00e3o haver\u00e1 compacta\u00e7\u00e3o no final das contas \"fastest\" - Compacta\u00e7\u00e3o r\u00e1pida \"default\" - Modo em que balanceia velocidade e taxa de compress\u00e3o. Este \u00e9 o modo padr\u00e3o quando n\u00e3o for definido o n\u00edvel. \"max\" - Modo com maior taxa de compress\u00e3o. (OPCIONAL) qtBytesInSource - Quantos bytes ser\u00e3o lidos de \"sourceStream\" \u00e0 partir de sua posi\u00e7\u00e3o atual para a compacta\u00e7\u00e3o. Quando n\u00e3o definido, todo o restante do sourceStream ser\u00e1 lido para a compacta\u00e7\u00e3o. Retorno: Um n\u00famero identificando quantos bytes foram escritos em destStream function Utils.zlibDecompress(sourceStream, destStream) L\u00ea dados de um objeto stream fonte e, usando o a biblioteca zLib, o descompacta escrevendo o resultado em outro objeto stream . Par\u00e2metros: sourceStream - Um objeto stream contendo os dados a serem descompactados. destStream - Um objeto stream que receber\u00e1 o conte\u00fado descompactado. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o descompacta um \"bloco compactado\" por completo. N\u00e3o tem como antecipar quantos bytes ser\u00e3o lidos de \"sourceStream\" nem quantos bytes ser\u00e3o escritos em \"destStream\" utilizando esta fun\u00e7\u00e3o. No fim da chamada, destStream conter\u00e1 todo o dado descompactado e a posi\u00e7\u00e3o de \"sourceStream\" apontar\u00e1 para o primeiro byte subsequente do conte\u00fado que foi processado. Retorno: Um n\u00famero identificando quantos bytes foram escritos em destStream function Utils.zlibCompressAsync(sourceStream, destStream, level, qtBytesInSource, onFinishCallback, onErrorCallback) L\u00ea dados de um objeto stream fonte e, usando a biblioteca zLib, o compacta escrevendo o resultado em outro objeto stream . A compacta\u00e7\u00e3o se d\u00e1 de forma ass\u00edncrona, isto \u00e9, em \"background\". \u00d3timo para compactar streams grandes e n\u00e3o \"congelar\" o programa durante o processo. Par\u00e2metros: sourceStream - Um objeto stream representando os dados a serem compactados. destStream - Um objeto stream que receber\u00e1 o conte\u00fado compactado. level - Define o n\u00edvel da compacta\u00e7\u00e3o. Pode ser \"none\" - N\u00e3o haver\u00e1 compacta\u00e7\u00e3o no final das contas \"fastest\" - Compacta\u00e7\u00e3o r\u00e1pida \"default\" - Modo em que balanceia velocidade e taxa de compress\u00e3o. Este \u00e9 o modo padr\u00e3o quando n\u00e3o for definido o n\u00edvel. \"max\" - Modo com maior taxa de compress\u00e3o. qtBytesInSource - Quantos bytes ser\u00e3o lidos de \"sourceStream\" \u00e0 partir de sua posi\u00e7\u00e3o atual para a compacta\u00e7\u00e3o. onFinishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a compacta\u00e7\u00e3o finalizar. onErrorCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a compacta\u00e7\u00e3o retornar um erro. A mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o. Observa\u00e7\u00f5es: IMPORTANTE: Durante a compacta\u00e7\u00e3o ass\u00edncrona, seu c\u00f3digo n\u00e3o deve fazer nenhuma opera\u00e7\u00e3o em sourceStream e nem em destStream, sen\u00e3o o planeta explodir\u00e1 e 2d6 erros estranhos surgir\u00e3o. function Utils.zlibDecompressAsync(sourceStream, destStream, onFinishCallback, onErrorCallback) L\u00ea dados de um objeto stream fonte e, usando o a biblioteca zLib, o descompacta escrevendo o resultado em outro objeto stream . A descompacta\u00e7\u00e3o se d\u00e1 de forma ass\u00edncrona, isto \u00e9, em \"background\". \u00d3timo para descompactar streams grandes e n\u00e3o \"congelar\" o programa durante o processo. Par\u00e2metros: sourceStream - Um objeto stream contendo os dados a serem descompactados. destStream - Um objeto stream que receber\u00e1 o conte\u00fado descompactado. onFinishCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a descompacta\u00e7\u00e3o finalizar. onErrorCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando a descompacta\u00e7\u00e3o retornar um erro. A mensagem de erro \u00e9 passada no primeiro par\u00e2metro desta fun\u00e7\u00e3o. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o descompacta um \"bloco compactado\" por completo. N\u00e3o tem como antecipar quantos bytes ser\u00e3o lidos de \"sourceStream\" nem quantos bytes ser\u00e3o escritos em \"destStream\" utilizando esta fun\u00e7\u00e3o. No fim da chamada, destStream conter\u00e1 todo o dado descompactado e a posi\u00e7\u00e3o de \"sourceStream\" apontar\u00e1 para o primeiro byte subsequente do conte\u00fado que foi processado. IMPORTANTE: Durante a descompacta\u00e7\u00e3o ass\u00edncrona, seu c\u00f3digo n\u00e3o deve fazer nenhuma opera\u00e7\u00e3o em sourceStream e nem em destStream, sen\u00e3o o planeta explodir\u00e1 e 2d6 erros estranhos surgir\u00e3o. function Utils.newMemoryStream() Cria e retorna um objeto stream que armazena os dados na mem\u00f3ria RAM do dispositivo. Observa\u00e7\u00f5es: Os dados armazenados no Memory Stream n\u00e3o s\u00e3o salvos em nenhum lugar e s\u00e3o perdidos quando o c\u00f3digo n\u00e3o mais estiver usando o Stream ou quando o RRPG fechar. \u00d3timo para fazer processamento de dados tempor\u00e1rios. Enquanto estiver em uso, os dados ocupam mem\u00f3ria RAM do dispositivo. Retorno: Um objeto stream function Utils.newTempFileStream() Cria e retorna um objeto stream que armazena os dados em um arquivo tempor\u00e1rio no dispositivo do usu\u00e1rio. Observa\u00e7\u00f5es: Um arquivo tempor\u00e1rio \u00e9 criado no dispositivo do usu\u00e1rio e \u00e9 automaticamente apagado quando n\u00e3o for mais utilizado. \u00d3timo para fazer processamento de dados tempor\u00e1rios. Enquanto estiver em uso, os dados ocupam espa\u00e7o de armazenamento do dispositivo (HD, SSD, Memory Card, etc..). Retorno: Um objeto stream function tryFinally(tryCallback, finallyCallback) ou function Utils.tryFinally(tryCallback, finallyCallback) LUA n\u00e3o possui um operador try-finally para tratamento de exce\u00e7\u00f5es. Esta fun\u00e7\u00e3o \u00e9 uma alternativa para o comportamento try-finally que o LUA n\u00e3o prov\u00ea nativamente. Executa a fun\u00e7\u00e3o \"tryCallback\", e: Se ocorrer algum erro na execu\u00e7\u00e3o, a fun\u00e7\u00e3o \"finallyCallback\" \u00e9 invocada e o erro \u00e9 levantado logo ap\u00f3s. Se n\u00e3o ocorrer erro na execu\u00e7\u00e3o, a fun\u00e7\u00e3o \"finallyCallback\" \u00e9 invocada e a execu\u00e7\u00e3o continua normalmente. Par\u00e2metros: tryCallback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada. finallyCallback - Uma fun\u00e7\u00e3o que sempre ser\u00e1 invocada ap\u00f3s a execu\u00e7\u00e3o de \"tryCallback\", mesmo havendo erros de execu\u00e7\u00e3o. function colorToRGBA(color) ou function Utils.colorToRGBA(color) Dado uma cor no formato string de cor , retorna os tons de Red, Green, Blue e Alpha da cor Par\u00e2metros: Color - um string de cor contendo a cor que deseja decompor Retorno: 4 n\u00fameros representando, respectivamente os tons de Red, Green, Blue e Alpha da cor. Os tons s\u00e3o n\u00fameros entre 0.0 e 1.0 function RGBAToColor(r, g, b, a) ou function Utils.RGBAToColor(r, g, b, a) Dado tons de cores Red, Green, Blue e Alpha, retorna um string de cor que representa a cor. Par\u00e2metros: r - Tom de Red, n\u00famero entre 0.0 e 1.0 g - Tom de Green, n\u00famero entre 0.0 e 1.0 b - Tom de Blue, n\u00famero entre 0.0 e 1.0 a - Tom de Alpha, n\u00famero entre 0.0 e 1.0. Se omitido, o valor \u00e9 considerado 1.0 Retorno: Um string de cor Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with HelpNDoc's Stunning User Interface","title":"&nbsp;"},{"location":"BibliotecaVHD/","text":"Biblioteca VHD Biblioteca VHD A biblioteca vhd prov\u00ea fun\u00e7\u00f5es para manipular o HD Virtual do plug-in, como ler um arquivo, excluir, etc... Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"VHD\" da unidade \"vhd.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"vhd.lua\" require(\"vhd.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca VHD.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...); Fun\u00e7\u00f5es da biblioteca vhd function VHD.copyFile(srcFileName, dstFileName) Copy the file in the virtual HD Arguments: srcFileName - String containing the path to the existing source file dstFileName - String containing the path of the new file Remarks: The paths are expanded using \u201cvhd.expandFileName\u201d before copying. If the file \u201cdstFileName\u201d already exists, it will be replaced by the copied file. function VHD.expandFileName(shortFileName) Expande o nome curto de um arquivo a fim de ter sua localiza\u00e7\u00e3o em rela\u00e7\u00e3o \u00e0 raiz do HD virtual. Par\u00e2metros: shortFileName \u2013 o caminho encurtado de um arquivo a ser expandido. Retorno: Uma cadeia de caracteres, onde: Se a cadeia de caracteres passada pelo par\u00e2metro shortFileName iniciar com o caractere \u201c/\u201d, a fun\u00e7\u00e3o simplesmente retorna o valor passado no par\u00e2metro (pois o nome do arquivo j\u00e1 est\u00e1 expandido, isto \u00e9, j\u00e1 est\u00e1 em rela\u00e7\u00e3o \u00e0 raiz do HD virtual). Caso contr\u00e1rio, a fun\u00e7\u00e3o procura pelo arquivo dentro de cada um dos diret\u00f3rios de pesquisa (SEARCH PATHs) que foram previamente registrados (ver descri\u00e7\u00e3o da fun\u00e7\u00e3o \u201c vhd.addSearchPath \u201d). Caso encontre dentro de algum dos diret\u00f3rios de pesquisa, a fun\u00e7\u00e3o retorna o caminho completo (expandido, com rela\u00e7\u00e3o \u00e0 raiz do HD virtual) do arquivo. Caso n\u00e3o encontre o arquivo, a fun\u00e7\u00e3o retorna o mesmo valor passado pelo par\u00e2metro shortFileName. Esta fun\u00e7\u00e3o leva em considera\u00e7\u00e3o os aliases registrados pela fun\u00e7\u00e3o VHD.registerAlias , traduzindo o apelido e retornando o nome real do arquivo. function VHD.addSearchPath(directory) Adiciona um diret\u00f3rio \u00e0 lista de \"diret\u00f3rios de pesquisa\" (SEARCH PATH) do HD Virtual. Par\u00e2metros: directory - cadeia de caracteres contendo o caminho expandido (isto \u00e9, em rela\u00e7\u00e3o \u00e0 raiz do HD Virtual) do diret\u00f3rio. A fun\u00e7\u00e3o \" vhd.expandFileName \" utiliza estes diret\u00f3rios de pesquisas na hora de expandir o nome curto de um arquivo. function VHD.removeSearchPath(directory) Remove um diret\u00f3rio da lista de \"diret\u00f3rios de pesquisa\" (SEARCH PATH) que havia sido previamente registrado atrav\u00e9s a fun\u00e7\u00e3o \" vhd.addSearchPath \". Par\u00e2metros: directory - cadeia de caracteres contendo o caminho expandido (isto \u00e9, em rela\u00e7\u00e3o \u00e0 raiz do HD Virtual) do diret\u00f3rio. function VHD.registerAlias(aliases) Registra aliases/apelidos para arquivos no VHD. Par\u00e2metros: aliases - uma tabela lua contendo os aliases, onde cada par de chave-valor da tabela representa: chave - uma cadeia de caracteres representando o aliases/apelido a ser criado valor - o nome do arquivo no VHD que o alias deve traduzir. Observa\u00e7\u00f5es: O alias funciona com a fun\u00e7\u00e3o VHD.expandFileName e com a fun\u00e7\u00e3o require do Lua. O alias \u00e9 case-sensitive, isto \u00e9, \"myFile\" \u00e9 diferente de \"MyFile\". O alias n\u00e3o pode come\u00e7ar com o caracter \"/\". O nome traduzido pode come\u00e7ar com \"/\" Exemplo: local aliases = {}; aliases[\"mylua\"] = \"init.lua\"; aliases[\"myFile2\"] = \"secondFile.lua\"; VHD.registerAlias(aliases); require(\"myFile2\"); function VHD.fileExists(fileName) Verifica se um arquivo existe no HD virtual. Par\u00e2metros: fileName - cadeia de caracteres contendo o caminho a verificar. Retorno: Retorna true caso o arquivo exista ou false se n\u00e3o existir. Observa\u00e7\u00e3o: Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a verifica\u00e7\u00e3o. function VHD.directoryExists(path) Verifica se um diret\u00f3rio existe no HD virtual. Par\u00e2metros: path - cadeia de caracteres contendo o caminho a verificar. Retorno: Retorna true caso o diret\u00f3rio exista ou false se n\u00e3o existir. Observa\u00e7\u00e3o: Esta fun\u00e7\u00e3o expande o caminho (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a verifica\u00e7\u00e3o. function VHD.openFile(fileName [, mode]) Esta fun\u00e7\u00e3o abre um arquivo do HD virtual no modo especificado. Par\u00e2metros: fileName - cadeia de caracteres contendo o nome do arquivo a abrir. (OPCIONAL) mode - cadeia de caracteres definindo o modo em que o arquivo ser\u00e1 aberto.Pode ser um dos seguintes valores: \"r\" - modo somente leitura (padr\u00e3o se omitido). A fun\u00e7\u00e3o falhar\u00e1 se o arquivo n\u00e3o existir. \"w\" - modo escrita/leitura preservando o contendo do arquivo (se existir). Se o arquivo n\u00e3o existir, a fun\u00e7\u00e3o cria o arquivo. \"a\" - modo append. Equivalente ao modo \"w\", por\u00e9m o objeto stream retornado \u00e9 posicionado no fim do arquivo. \"w+\" - modo escrita/leitura, o conte\u00fado do arquivo \u00e9 apagado se ele existir. Se o arquivo n\u00e3o existir, a fun\u00e7\u00e3o cria o arquivo. Retorno: Caso a fun\u00e7\u00e3o obtenha \u00eaxito, retorna um Objeto Stream representando o conte\u00fado do arquivo. Qualquer altera\u00e7\u00e3o feita no objeto stream \u00e9 refletida no arquivo. Caso a fun\u00e7\u00e3o falhe, retorna nil e a mensagem de erro. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a abertura. Para fechar o arquivo que foi aberto, voc\u00ea deve invocar o m\u00e9todo close do objeto stream retornado. Se o objeto stream for coletado pelo coletor de lixo, o arquivo tamb\u00e9m \u00e9 fechado automaticamente. Exceto para o modo \"a\", o objeto stream retornado aponta para o inicio do arquivo. Apenas o modo \"r\" \u00e9 aceito para abrir arquivos que originalmente vieram no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos function VHD.forceDirectory(directoryPath) Esta fun\u00e7\u00e3o cria, se necess\u00e1rio, um ou mais diret\u00f3rios especificado por directoryPath no HD virtual. Par\u00e2metros: directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio a ser \"for\u00e7ado\". Retorno: Caso o diret\u00f3rio j\u00e1 exista e n\u00e3o foi preciso fazer nada, a fun\u00e7\u00e3o retorna false . Caso o diret\u00f3rio n\u00e3o existia e a fun\u00e7\u00e3o conseguiu cri\u00e1-lo, retorna true . Caso o diret\u00f3rio n\u00e3o exista mas a fun\u00e7\u00e3o tamb\u00e9m n\u00e3o consiga cri\u00e1-lo, um erro \u00e9 levantado. Observa\u00e7\u00f5es: O valor de \"directoryPath\" deve ser um caminho absoluto no VHD (isto \u00e9, deve come\u00e7ar com o caracter \"/\") A cria\u00e7\u00e3o de diret\u00f3rio ocorre de forma recursiva. Isto \u00e9, ao especificar \"/diretorioNaoExistente1/diretorioA/diretorioB\", a fun\u00e7\u00e3o ir\u00e1 criar \"/diretorioNaoExistente1\" primeiro, depois \"diretorioA\" dentro de \"/diretorioNaoExistente1/\", e, por fim, \"diretorioB\" dentro de \"/diretorioNaoExistente1/diretorioA/\". function VHD.deleteFile(fileName) Esta fun\u00e7\u00e3o remove um arquivo do HD virtual. Par\u00e2metros: fileName - cadeia de caracteres contendo o caminho do arquivo a ser exclu\u00eddo. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a remo\u00e7\u00e3o. Esta fun\u00e7\u00e3o n\u00e3o pode ser usada para remover diret\u00f3rios. N\u00e3o \u00e9 poss\u00edvel apagar um arquivo que originalmente veio no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos function VHD.deleteDirectory(directoryPath) Esta fun\u00e7\u00e3o remove um diret\u00f3rio e todo seu conte\u00fado do HD virtual. Par\u00e2metros: directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio que ser\u00e1 exclu\u00eddo. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o expande o caminho do diret\u00f3rio (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a remo\u00e7\u00e3o. N\u00e3o \u00e9 poss\u00edvel apagar um arquivo que originalmente veio no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos. Esta fun\u00e7\u00e3o apaga o diret\u00f3rio e todo seu conte\u00fado recursivamente. function VHD.enumerateContent(directoryPath) Esta fun\u00e7\u00e3o retorna quais arquivos e diret\u00f3rios est\u00e3o dentro de um diret\u00f3rio no HD Virtual. Par\u00e2metros: directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio que ter\u00e1 seu conte\u00fado enumerado. Retorno: Se \"directoryPath\" n\u00e3o conter um caminho v\u00e1lido de diret\u00f3rio, um erro ser\u00e1 lan\u00e7ado. Sen\u00e3o, um array de strings ser\u00e1 retornado, onde cada posi\u00e7\u00e3o do arranjo cont\u00e9m o nome do diret\u00f3rio/arquivo. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o expande o caminho de directoryPath (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a enumera\u00e7\u00e3o.. Esta fun\u00e7\u00e3o n\u00e3o enumera o conte\u00fado de forma recursiva. Isto \u00e9, se existirem sub-diret\u00f3rios, seus conte\u00fados n\u00e3o ser\u00e3o enumerados neste retorno, apenas os itens que est\u00e3o diretamente dentro de \"directoryPath\". O texto retornado no arranjo cont\u00e9m o nome do arquivo/diret\u00f3rio sem incluir \"barras\" ou outra forma de expressar o diret\u00f3rio que se encontra. Exemplo: Se existirem dois arquivos (a.txt e b.txt) e um subdiret\u00f3rio (\"/textos/hist\u00f3rias/\") na pasta \"/textos/\", o retorno ser\u00e1: {'a.txt', 'b.txt', 'hist\u00f3rias'} Para saber se um item do arranjo retornado \u00e9 diret\u00f3rio ou \u00e9 arquivo, utilize as fun\u00e7\u00f5es VHD.fileExists e VHD.directoryExists Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface","title":"Biblioteca VHD"},{"location":"BibliotecaVHD/#biblioteca-vhd","text":"","title":"Biblioteca VHD"},{"location":"BibliotecaVHD/#biblioteca-vhd_1","text":"A biblioteca vhd prov\u00ea fun\u00e7\u00f5es para manipular o HD Virtual do plug-in, como ler um arquivo, excluir, etc... Todas as fun\u00e7\u00f5es est\u00e3o contidas na table/vari\u00e1vel \"VHD\" da unidade \"vhd.lua\". Exemplo de uso: -- Primeiro, \u00e9 necess\u00e1rio usar a unidade \"vhd.lua\" require(\"vhd.lua\"); -- Agora \u00e9 poss\u00edvel acessar as fun\u00e7\u00f5es da biblioteca VHD.FUNCAO_DA_BIBLIOTECA(Parametro1, Parametro2, ...);","title":"Biblioteca VHD"},{"location":"BibliotecaVHD/#funcoes-da-biblioteca-vhd","text":"function VHD.copyFile(srcFileName, dstFileName) Copy the file in the virtual HD Arguments: srcFileName - String containing the path to the existing source file dstFileName - String containing the path of the new file Remarks: The paths are expanded using \u201cvhd.expandFileName\u201d before copying. If the file \u201cdstFileName\u201d already exists, it will be replaced by the copied file. function VHD.expandFileName(shortFileName) Expande o nome curto de um arquivo a fim de ter sua localiza\u00e7\u00e3o em rela\u00e7\u00e3o \u00e0 raiz do HD virtual. Par\u00e2metros: shortFileName \u2013 o caminho encurtado de um arquivo a ser expandido. Retorno: Uma cadeia de caracteres, onde: Se a cadeia de caracteres passada pelo par\u00e2metro shortFileName iniciar com o caractere \u201c/\u201d, a fun\u00e7\u00e3o simplesmente retorna o valor passado no par\u00e2metro (pois o nome do arquivo j\u00e1 est\u00e1 expandido, isto \u00e9, j\u00e1 est\u00e1 em rela\u00e7\u00e3o \u00e0 raiz do HD virtual). Caso contr\u00e1rio, a fun\u00e7\u00e3o procura pelo arquivo dentro de cada um dos diret\u00f3rios de pesquisa (SEARCH PATHs) que foram previamente registrados (ver descri\u00e7\u00e3o da fun\u00e7\u00e3o \u201c vhd.addSearchPath \u201d). Caso encontre dentro de algum dos diret\u00f3rios de pesquisa, a fun\u00e7\u00e3o retorna o caminho completo (expandido, com rela\u00e7\u00e3o \u00e0 raiz do HD virtual) do arquivo. Caso n\u00e3o encontre o arquivo, a fun\u00e7\u00e3o retorna o mesmo valor passado pelo par\u00e2metro shortFileName. Esta fun\u00e7\u00e3o leva em considera\u00e7\u00e3o os aliases registrados pela fun\u00e7\u00e3o VHD.registerAlias , traduzindo o apelido e retornando o nome real do arquivo. function VHD.addSearchPath(directory) Adiciona um diret\u00f3rio \u00e0 lista de \"diret\u00f3rios de pesquisa\" (SEARCH PATH) do HD Virtual. Par\u00e2metros: directory - cadeia de caracteres contendo o caminho expandido (isto \u00e9, em rela\u00e7\u00e3o \u00e0 raiz do HD Virtual) do diret\u00f3rio. A fun\u00e7\u00e3o \" vhd.expandFileName \" utiliza estes diret\u00f3rios de pesquisas na hora de expandir o nome curto de um arquivo. function VHD.removeSearchPath(directory) Remove um diret\u00f3rio da lista de \"diret\u00f3rios de pesquisa\" (SEARCH PATH) que havia sido previamente registrado atrav\u00e9s a fun\u00e7\u00e3o \" vhd.addSearchPath \". Par\u00e2metros: directory - cadeia de caracteres contendo o caminho expandido (isto \u00e9, em rela\u00e7\u00e3o \u00e0 raiz do HD Virtual) do diret\u00f3rio. function VHD.registerAlias(aliases) Registra aliases/apelidos para arquivos no VHD. Par\u00e2metros: aliases - uma tabela lua contendo os aliases, onde cada par de chave-valor da tabela representa: chave - uma cadeia de caracteres representando o aliases/apelido a ser criado valor - o nome do arquivo no VHD que o alias deve traduzir. Observa\u00e7\u00f5es: O alias funciona com a fun\u00e7\u00e3o VHD.expandFileName e com a fun\u00e7\u00e3o require do Lua. O alias \u00e9 case-sensitive, isto \u00e9, \"myFile\" \u00e9 diferente de \"MyFile\". O alias n\u00e3o pode come\u00e7ar com o caracter \"/\". O nome traduzido pode come\u00e7ar com \"/\" Exemplo: local aliases = {}; aliases[\"mylua\"] = \"init.lua\"; aliases[\"myFile2\"] = \"secondFile.lua\"; VHD.registerAlias(aliases); require(\"myFile2\"); function VHD.fileExists(fileName) Verifica se um arquivo existe no HD virtual. Par\u00e2metros: fileName - cadeia de caracteres contendo o caminho a verificar. Retorno: Retorna true caso o arquivo exista ou false se n\u00e3o existir. Observa\u00e7\u00e3o: Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a verifica\u00e7\u00e3o. function VHD.directoryExists(path) Verifica se um diret\u00f3rio existe no HD virtual. Par\u00e2metros: path - cadeia de caracteres contendo o caminho a verificar. Retorno: Retorna true caso o diret\u00f3rio exista ou false se n\u00e3o existir. Observa\u00e7\u00e3o: Esta fun\u00e7\u00e3o expande o caminho (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a verifica\u00e7\u00e3o. function VHD.openFile(fileName [, mode]) Esta fun\u00e7\u00e3o abre um arquivo do HD virtual no modo especificado. Par\u00e2metros: fileName - cadeia de caracteres contendo o nome do arquivo a abrir. (OPCIONAL) mode - cadeia de caracteres definindo o modo em que o arquivo ser\u00e1 aberto.Pode ser um dos seguintes valores: \"r\" - modo somente leitura (padr\u00e3o se omitido). A fun\u00e7\u00e3o falhar\u00e1 se o arquivo n\u00e3o existir. \"w\" - modo escrita/leitura preservando o contendo do arquivo (se existir). Se o arquivo n\u00e3o existir, a fun\u00e7\u00e3o cria o arquivo. \"a\" - modo append. Equivalente ao modo \"w\", por\u00e9m o objeto stream retornado \u00e9 posicionado no fim do arquivo. \"w+\" - modo escrita/leitura, o conte\u00fado do arquivo \u00e9 apagado se ele existir. Se o arquivo n\u00e3o existir, a fun\u00e7\u00e3o cria o arquivo. Retorno: Caso a fun\u00e7\u00e3o obtenha \u00eaxito, retorna um Objeto Stream representando o conte\u00fado do arquivo. Qualquer altera\u00e7\u00e3o feita no objeto stream \u00e9 refletida no arquivo. Caso a fun\u00e7\u00e3o falhe, retorna nil e a mensagem de erro. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a abertura. Para fechar o arquivo que foi aberto, voc\u00ea deve invocar o m\u00e9todo close do objeto stream retornado. Se o objeto stream for coletado pelo coletor de lixo, o arquivo tamb\u00e9m \u00e9 fechado automaticamente. Exceto para o modo \"a\", o objeto stream retornado aponta para o inicio do arquivo. Apenas o modo \"r\" \u00e9 aceito para abrir arquivos que originalmente vieram no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos function VHD.forceDirectory(directoryPath) Esta fun\u00e7\u00e3o cria, se necess\u00e1rio, um ou mais diret\u00f3rios especificado por directoryPath no HD virtual. Par\u00e2metros: directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio a ser \"for\u00e7ado\". Retorno: Caso o diret\u00f3rio j\u00e1 exista e n\u00e3o foi preciso fazer nada, a fun\u00e7\u00e3o retorna false . Caso o diret\u00f3rio n\u00e3o existia e a fun\u00e7\u00e3o conseguiu cri\u00e1-lo, retorna true . Caso o diret\u00f3rio n\u00e3o exista mas a fun\u00e7\u00e3o tamb\u00e9m n\u00e3o consiga cri\u00e1-lo, um erro \u00e9 levantado. Observa\u00e7\u00f5es: O valor de \"directoryPath\" deve ser um caminho absoluto no VHD (isto \u00e9, deve come\u00e7ar com o caracter \"/\") A cria\u00e7\u00e3o de diret\u00f3rio ocorre de forma recursiva. Isto \u00e9, ao especificar \"/diretorioNaoExistente1/diretorioA/diretorioB\", a fun\u00e7\u00e3o ir\u00e1 criar \"/diretorioNaoExistente1\" primeiro, depois \"diretorioA\" dentro de \"/diretorioNaoExistente1/\", e, por fim, \"diretorioB\" dentro de \"/diretorioNaoExistente1/diretorioA/\". function VHD.deleteFile(fileName) Esta fun\u00e7\u00e3o remove um arquivo do HD virtual. Par\u00e2metros: fileName - cadeia de caracteres contendo o caminho do arquivo a ser exclu\u00eddo. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o expande o nome do arquivo (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a remo\u00e7\u00e3o. Esta fun\u00e7\u00e3o n\u00e3o pode ser usada para remover diret\u00f3rios. N\u00e3o \u00e9 poss\u00edvel apagar um arquivo que originalmente veio no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos function VHD.deleteDirectory(directoryPath) Esta fun\u00e7\u00e3o remove um diret\u00f3rio e todo seu conte\u00fado do HD virtual. Par\u00e2metros: directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio que ser\u00e1 exclu\u00eddo. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o expande o caminho do diret\u00f3rio (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a remo\u00e7\u00e3o. N\u00e3o \u00e9 poss\u00edvel apagar um arquivo que originalmente veio no plug-in. N\u00e3o \u00e9 poss\u00edvel alterar o conte\u00fado destes arquivos. Esta fun\u00e7\u00e3o apaga o diret\u00f3rio e todo seu conte\u00fado recursivamente. function VHD.enumerateContent(directoryPath) Esta fun\u00e7\u00e3o retorna quais arquivos e diret\u00f3rios est\u00e3o dentro de um diret\u00f3rio no HD Virtual. Par\u00e2metros: directoryPath - cadeia de caracteres contendo o caminho do diret\u00f3rio que ter\u00e1 seu conte\u00fado enumerado. Retorno: Se \"directoryPath\" n\u00e3o conter um caminho v\u00e1lido de diret\u00f3rio, um erro ser\u00e1 lan\u00e7ado. Sen\u00e3o, um array de strings ser\u00e1 retornado, onde cada posi\u00e7\u00e3o do arranjo cont\u00e9m o nome do diret\u00f3rio/arquivo. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o expande o caminho de directoryPath (atrav\u00e9s de \" vhd.expandFileName \") antes de realizar a enumera\u00e7\u00e3o.. Esta fun\u00e7\u00e3o n\u00e3o enumera o conte\u00fado de forma recursiva. Isto \u00e9, se existirem sub-diret\u00f3rios, seus conte\u00fados n\u00e3o ser\u00e3o enumerados neste retorno, apenas os itens que est\u00e3o diretamente dentro de \"directoryPath\". O texto retornado no arranjo cont\u00e9m o nome do arquivo/diret\u00f3rio sem incluir \"barras\" ou outra forma de expressar o diret\u00f3rio que se encontra. Exemplo: Se existirem dois arquivos (a.txt e b.txt) e um subdiret\u00f3rio (\"/textos/hist\u00f3rias/\") na pasta \"/textos/\", o retorno ser\u00e1: {'a.txt', 'b.txt', 'hist\u00f3rias'} Para saber se um item do arranjo retornado \u00e9 diret\u00f3rio ou \u00e9 arquivo, utilize as fun\u00e7\u00f5es VHD.fileExists e VHD.directoryExists Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface","title":"Fun\u00e7\u00f5es da biblioteca vhd"},{"location":"BibliotecaparaMacrosemLua/","text":"Biblioteca para Macros em Lua Biblioteca para Macros em Lua Vari\u00e1veis vari\u00e1vel parametro ou vari\u00e1vel parameter e vari\u00e1vel arg[indice] (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Possui os par\u00e2metros passado para a macro, onde a vari\u00e1vel \"parametro\" cont\u00e9m a cadeia de caracteres completa e a vari\u00e1vel \"arg\" cont\u00e9m um arranjo, onde cada item representa um argumento separado por espa\u00e7o. Se o usu\u00e1rio digitar \"/minhaMacro Texto de Teste\": A vari\u00e1vel \"parametro\" conter\u00e1 \"Texto de Teste\" A vari\u00e1vel arg[1] conter\u00e1 \"Texto\", arg[2] conter\u00e1 \"de\", arg[3] conter\u00e1 \"Teste\" e #arg cont\u00e9m a quantidade de argumentos. Exemplo: Fazer um teste de resist\u00eancia parametrizado. local dificuldade = tonumber(parametro); if dificuldade == nil then escrever(\"Utilize: /macro \\<N\u00daMERO>\"); return ; end ; local resultado = rolar(\"1d20 + 5\", \"Dificuldade \" .. dificuldade); if resultado >= dificuldade then enviar(\"Passou no teste!\"); else enviar(\"N\u00e3o passou no teste\"); end ; vari\u00e1vel meuJogador ou vari\u00e1vel myPlayer (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) objeto Jogador representando o usu\u00e1rio da macro naquela mesa. Exemplo 1: Escrever na tela o seu pr\u00f3prio login. escrever(meuJogador.login); vari\u00e1vel myCharacter (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Objeto Personagem representando o personagem principal do usu\u00e1rio naquela mesa. Observa\u00e7\u00f5es: Se o jogador n\u00e3o possuir nenhum personagem, acessar esta vari\u00e1vel ir\u00e1 causar um erro com uma mensagem informativa de que \"o jogador n\u00e3o possui nenhum personagem\" e a macro p\u00e1ra de executar. Exemplo 1: Escrever na tela o nome do seu personagem. write(myCharacter.nome) vari\u00e1vel sheet (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) O Objeto Nodo raiz representando o NodeDatabase/Sheet do personagem principal do usu\u00e1rio logado. Observa\u00e7\u00f5es: Se o jogador n\u00e3o possuir nenhum personagem, acessar esta vari\u00e1vel ir\u00e1 causar um erro com uma mensagem informativa de que \"o jogador n\u00e3o possui nenhum personagem\" e a macro p\u00e1ra de executar. A execu\u00e7\u00e3o da macro pode ser pausada at\u00e9 que o NodeDatabase/Ficha seja carregada pela internet. O Objeto Nodo retornado \u00e9 o mesmo daquela vari\u00e1vel \"sheet\" usada para programar as fichas/lua forms. As altera\u00e7\u00f5es feitas no objeto nodo retornado s\u00e3o sincronizadas normalmente, confome as regras de permiss\u00f5es do Node Database. Se houver algum erro ao carregar o NodeDatabase, a macro p\u00e1ra de executar. Exemplo: -- Escrever no chat a estrutura dos dados armazenados da ficha write(utils.tableToStr(sheet, true)); -- Se for a ficha D\\&D 5, a linha abaixo aumenta a CA em 1 sheet.CA = (tonumber(sheet.CA) or 0) + 1; -- Se for a ficha D\\&D 5, a linha abaixo esreve no chat Quantos PV o personagem tem write(sheet.PV) vari\u00e1vel mesa ou vari\u00e1vel room (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) objeto Mesa representando a mesa em que a macro est\u00e1 sendo executada. Exemplo 1: Escrever algumas informa\u00e7\u00f5es da mesa na tela. escrever(mesa.nome); escrever(mesa.sistema); escrever(mesa.msgStatus); vari\u00e1vel jogadores ou vari\u00e1vel players (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Arranjo de objeto Jogador , representando os usu\u00e1rios que est\u00e3o na mesa no momento. \\ Forma de uso: jogadores[1] cont\u00e9m o primeiro jogador, jogadores[2] cont\u00e9m o segundo jogador, jogadores[3] cont\u00e9m o terceiro, jogadores[#jogadores] possui o \u00faltimo jogador. Exemplo 1: Escrever na tela o login de todos os jogadores da mesa. for i = 1, #jogadores, 1 do escrever(jogadores[i].login); end ; Exemplo 2: Dar +voz para todos os espectadores da mesa. for i = 1, #jogadores, 1 do if jogadores[i].isEspectador then jogadores[i]:requestSetVoz(true); end ; end ; vari\u00e1vel inRoom (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Booleano (true ou false) indicando se a macro est\u00e1 sendo executada em algum chat associado a alguma mesa. Fun\u00e7\u00f5es function escrever(texto[, quebrarLinha, permitirSmileys]) ou function write(texto[, quebrarLinha, permitirSmileys]) Escreve um texto na tela do chat. Este texto n\u00e3o \u00e9 enviado para ningu\u00e9m e aparecer\u00e1 somente no chat do pr\u00f3prio usu\u00e1rio. Par\u00e2metros: texto - Cadeia de caracteres contendo o texto que deseja escrever. (OPCIONAL) quebrarLinha - Booleano (true ou false) indicando se o RRPG deve adicionar uma quebra de linha no chat antes de escrever o texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido. (OPCIONAL) permitirSmileys - Booleano (true ou false) indicando se o RRPG deve interpretar smileys/memes neste texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido. Exemplo: escrever(\"Ol\u00e1 mundo!!!\"); function enviar(mensagem) ou function send(mensagem) Envia uma mensagem comum para o chat, como se o usu\u00e1rio a tivesse digitado. Par\u00e2metros: mensagem - Cadeia de caracteres contendo o texto que deseja enviar. Exemplo: enviar(\"Ol\u00e1, tudo bem?!\"); function agir(acao) ou function act(acao) Envia uma mensagem como a\u00e7\u00e3o para o chat. Par\u00e2metros: acao - Cadeia de caracteres contendo a acao que deseja enviar. Exemplo: agir(\"saca sua espada longa\"); function narrar(narracao) ou function narrate(narracao) Envia uma mensagem de narra\u00e7\u00e3o para o chat. Par\u00e2metros: narracao - Cadeia de caracteres contendo a narra\u00e7\u00e3o que deseja enviar. Observa\u00e7\u00e3o: Apenas o mestre consegue enviar mensagens de narra\u00e7\u00e3o. Exemplo: narrar(\"Ap\u00f3s uma p\u00e9ssima noite de descanso, Gruumsh acorda com as m\u00e3os algemadas\"); function enviarNPC(npc, mensagem) ou function sendNPC(npc, mensagem) Envia uma mensagem para o chat como se um NPC estivesse falando Par\u00e2metros: npc - Cadeia de caracteres contendo o nome do NPC. mensagem - Cadeia de caracteres contendo a mensagem que deseja enviar. Observa\u00e7\u00e3o: Apenas o mestre consegue enviar mensagens como NPC. Exemplo: enviarNPC(\"Rei Darik\", \"Guardas, prendam estes infelizes!\"); function rolar(rolagem[, mensagemAdicional]) ou function roll(rolagem[, mensagemAdicional]) Executa uma rolagem de dados no chat. Par\u00e2metros: rolagem - Cadeia de caracteres contendo a rolagem a ser feita. Exemplo: \"1d20 + 5\" (OPCIONAL) mensagemAdicional - Uma cadeia de caracteres opcional que acompanhar\u00e1 a rolagem na interface. Retorno: Esta fun\u00e7\u00e3o retorna um n\u00famero contendo o resultado e um objeto rolagem com informa\u00e7\u00f5es detalhadas do resultado. Importante: Esta fun\u00e7\u00e3o espera a rolagem ser feita na interface para continuar a execu\u00e7\u00e3o da Macro. Se, por algum motivo, a rolagem n\u00e3o puder ser feita, a macro p\u00e1ra de executar. Uma poss\u00edvel situa\u00e7\u00e3o de exemplo \u00e9 quando a mesa est\u00e1 moderada e o usu\u00e1rio n\u00e3o possui o modo +voz para enviar mensagens. Exemplo 1: local resultado = rolar(\"1d20 + 5\"); if resultado >= 15 then enviar(\"Acertou!\"); else enviar(\"Errou!\"); end ; Exemplo 2: local resultado = rolar(\"1d20 + 5\", \"Rolagem de ataque\"); if resultado >= 15 then rolar(\"1d8 + 5\", \"Rolagem de dano\"); end ; Exemplo 3: Rolar 4d6 e selecionar os 3 maiores n\u00fameros da rolagem. local resultado, rolagem = rolar(\"4d6\"); local dados = {}; -- coletar os resultados individuais de cada dado for i = 1, #rolagem.ops, 1 do local op = rolagem.ops[i]; if op.tipo == \"dado\" then for j = 1, #op.resultados, 1 do dados[#dados + 1] = op.resultados[j]; end ; end ; end ; -- Ordenar os resultados, menores primeiro table.sort(dados); local texto = \"\"; -- Pegar os ultimos 3, isto \u00e9, os 3 maiores.. de traz para frente * for i = #dados, #dados - 2, -1 do texto = texto .. \" \" .. dados[i]; end *; enviar(\"Os 3 maiores n\u00fameros foram:\" .. texto); function rolarLocal(rolagem) ou function rollLocal(rolagem) Executa uma rolagem de dados local, isto \u00e9, uma rolagem que n\u00e3o ser\u00e1 exibida em lugar nenhum. Par\u00e2metros: rolagem - Cadeia de caracteres contendo a rolagem a ser feita. Exemplo: \"1d20 + 5\" Retorno: Esta fun\u00e7\u00e3o retorna um n\u00famero contendo o resultado e um objeto rolagem com informa\u00e7\u00f5es detalhadas do resultado. Exemplos: O comportamento da fun\u00e7\u00e3o \"rolarLocal\" \u00e9 igual a da fun\u00e7\u00e3o \"rolar\", portanto, consulte os exemplos de \"rolar\" . function esperar(milisegundos) ou function wait(milisegundos) Realiza uma pausa cronometrada na execu\u00e7\u00e3o da Macro. Par\u00e2metros: milisegundos - Um n\u00famero em milisegundos representando o intervalo de tempo que a execu\u00e7\u00e3o da Macro ficar\u00e1 pausada. 1000 = 1 segundo, 500 = 0,5 segundos. function load(luaCode) Interpreta um c\u00f3digo de macro escrita na linguagem LUA Par\u00e2metros: luaCode - Cadeia de caracteres contendo um c\u00f3digo na linguagem LUA (seguindo o mesmo padr\u00e3o de uma macro). Retorno: Se luaCode possui um c\u00f3digo Lua v\u00e1lido, retorna uma fun\u00e7\u00e3o que poder\u00e1 ser invocada Se lucaCode n\u00e3o possui um c\u00f3digo Lua v\u00e1lido, retorna dois valores: nil e uma mensagem de erro. Exemplo: local func, errorMsg = load(\"write(1 + 5 + 9 + 10)\"); if func ~= nil then -- O codigo foi carregado. Vamos invoc\u00e1-lo agora func(); else write(\"could not load lua code: \" .. errorMsg); end function Log.e(tag, msg) function Log.w(tag, msg) function Log.i(tag, msg) function Log.d(tag, msg) function Log.v(tag, msg) Emmit log message to the Firecast's log file and to the Firecast's console window. Use the /console command to reveal the console Arguments: tag - Used to identify the source of a log message. It usually identifies the location or activity where the log call occurs. msg - The message you would like to be logged Log severity: Log.e Error message A situation that represents an unhandled error that may interrupt some operation Log.w Warning message A situation that can be handled but may cause some unintended behavior Log.i Informational/Notice message A normal but significant condition that may require special handling. Log.d Debug message A developer debug message Log.v Verbose message Algorithm steps message, very low priority messages. Remarks: Messages of this severity are not emitted in the Firecast\u2019s log files In the Firecast\u2019s console, you need to execute the command \u201cfilter add *\u201d to be able to see these messages. function showMessage(msg) Exibe uma janela para o usu\u00e1rio contendo uma mensagem. Par\u00e2metros: msg - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio. Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio pressione OK na janela. function alert(msg) Exibe uma janela para o usu\u00e1rio contendo uma mensagem de alerta. Par\u00e2metros: msg - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio. Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio pressione OK na janela. function toast(message) Show a quick informative message to the user that does not require user interaction and hides automatically after a short time Parameters message - The message string to be shown function confirmOkCancel(question) Exibe uma janela para o usu\u00e1rio onde ele deve escolher responder ou \"Ok\" ou \"Cancelar\" Par\u00e2metros: question - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio. Retorno: true se o usu\u00e1rio responder \"Ok\" ou false se o usu\u00e1rio responder \"Cancelar\" Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Exemplo: if confirmOkCancel(\"Ser\u00e1 adicionado 6 \u00e0 rolagem\") then write(\"O usuario respondeu OK\"); else write(\"O usuario respondeu Cancelar\"); end function confirmYesNo(question) Exibe uma janela para o usu\u00e1rio onde ele deve escolher responder ou \"Sim\" ou \"N\u00e3o\" Par\u00e2metros: question - Cadeia de caracteres contendo a pergunta que dever\u00e1 ser exibida para o usu\u00e1rio. Retorno: true se o usu\u00e1rio responder \"Sim\" ou false se o usu\u00e1rio responder \"N\u00e3o\" Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Exemplo: if confirmYesNo(\"Deseja continuar?\") then write(\"O usuario respondeu Sim\"); else write(\"O usuario respondeu N\u00e3o\"); end function inputQuery(prompt[, initialValue, allowEmptyString]) Exibe uma janela para o usu\u00e1rio onde ele deve digitar um valor. Par\u00e2metros: prompt - Cadeia de caracteres orientando o usu\u00e1rio o que ele deve preencher. (OPCIONAL) initialValue - Cadeia de caracteres contendo uma sugest\u00e3o de valor inicial para o usu\u00e1rio. (OPCIONAL) allowEmptyString - true se o usu\u00e1rio pode informar um texto em branco. O padr\u00e3o \u00e9 false. Retorno: Se o usu\u00e1rio confirmar o valor, esta fun\u00e7\u00e3o retorna o valor escrito pelo usu\u00e1rio Se o usu\u00e1rio escolher cancelar na janela exibida, a macro p\u00e1ra de executar. Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Exemplo: local bonus = inputQuery(\"B\u00f4nus de Ataque\"); local defesa = inputQuery(\"Defesa\", \"10\"); if roll(\"1d20 + \" .. bonus) >= tonumber(defesa) then write(\"Acertou\"); else write(\"Errou\"); end ; function selectImageURL([defaultURL]) Esta fun\u00e7\u00e3o exibe uma janela para o usu\u00e1rio escolher uma URL de uma imagem. Par\u00e2metros: (OPCIONAL) defaultURL - Texto contendo uma URL sugerida para o usu\u00e1rio Retorno: Retorna a URL de uma imagem escolhida pelo usu\u00e1rio Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Exemplo: local url = selectImageURL(); write(\"Imagem escolhida: \" .. url); function choose(prompt, options, [defaultOptionIndex, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma op\u00e7\u00e3o dentre uma lista de op\u00e7\u00f5es. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. options - Um array/arranjo/lista de cadeias de caracteres/textos, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio. (OPCIONAL) defaultOptionIndex - Um n\u00famero contendo um \u00edndice informado qual dos itens de \"options\" deve ser apresentado como a escolha padr\u00e3o. Se n\u00e3o informado, nenhuma op\u00e7\u00e3o ser\u00e1 mostrada como padr\u00e3o. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas uma op\u00e7\u00e3o a ser mostrada ao usuario, a interface n\u00e3o \u00e9 exibida e esta op\u00e7ao \u00e9 automaticamente selecionada. Se n\u00e3o informado, este par\u00e2metro assume o valor false. Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: index - Um n\u00famero, o \u00edndice de \"options\" que foi escolhido pelo usu\u00e1rio text - O texto equivalente ao \u00edndice escolhido pelo usu\u00e1rio, conforme \"options\" Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Lembre-se que indices de arrays em lua come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0 Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a macro p\u00e1ra de executar como se o usu\u00e1rio tivesse cancelado a janela. Exemplo: local indice, texto = choose(\"O que deseja fazer?\", {\"Atacar\", \"Defender\"}, 1); escrever(\"O usu\u00e1rio escolheu o \u00edndice: \" .. indice); escrever(\"O usu\u00e1rio escolheu: \" .. texto); function chooseMultiple(prompt, options) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma ou mais op\u00e7\u00f5es dentre uma lista de op\u00e7\u00f5es. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. options - Um array/lista/arranjo de textos/cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio. Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: indexes - Um array/arranjo/lista de n\u00fameros, contendo os \u00edndices de \"options\" que foram escolhidos pelo usu\u00e1rio texts - Um array/arranjo/lista de textos equivalentes aos \u00edndices escolhidos pelo usu\u00e1rio, conforme \"options\" Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Lembre-se que indices de arrays em lua come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0 Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a macro p\u00e1ra de executar como se o usu\u00e1rio tivesse cancelado a janela. Exemplo: local indices, textos = chooseMultiple(\"B\u00f4nus ativos\", {\"Cobertura\", \"Defesa Total\", \"Escondido\"}); for i = 1, #indices, 1 do escrever(\"O usu\u00e1rio escolheu o \u00edndice: \" .. indices[i]); escrever(\"O usu\u00e1rio escolheu: \" .. textos[i]); end ; function chooseCharacter(prompt[, filter, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um personagem da lista de personagens que est\u00e3o na biblioteca da mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. (OPCIONAL) filter - Uma cadeia de caracteres informando quais persnagens devem ser apresentados na interface de sele\u00e7\u00e3o e pode ser um dos seguintes valores: \"all\" - Todos os personagens da mesa dever\u00e3o ser apresentados na janela (Op\u00e7\u00e3o padr\u00e3o caso n\u00e3o seja informado filter) \"pc\" - Apenas os personagens de jogadores dever\u00e3o ser apresentados na janela. \"pcOnline\" - Apenas os personagens de jogadores que est\u00e3o online dever\u00e3o ser apresentados na janela. \"npc\" - Apenas os personagens do mestre dever\u00e3o ser apresentados. \"mine\" - Apenas os personagens do jogador que executar a macro dever\u00e3o ser apresentados. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um personagem a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este personagem \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false . Retorno: Um Objeto Personagem representando o personagem que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Se o filtro especificado por \"filter\" n\u00e3o for capaz de apresentar nenhum personagem para escolha, um erro ser\u00e1 exibido para o usu\u00e1rio. Exemplo: local personagem = chooseCharacter(\"Qual personagem deseja testar a for\u00e7a?\", \"pc\"); escrever(\"Voc\u00ea selecionou: \" .. personagem.nome); function chooseCharacterOfPlayer(prompt, player [, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um personagens da lista de personagens de um jogador na mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. player - Uma cadeia de caracteres contendo o login do usu\u00e1rio ou um Objeto Jogador representando de qual jogador os personagens dever\u00e3o ser apresentados na tela. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um personagem a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este personagem \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false . Retorno: Um Objeto Personagem representando o personagem que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Se o jogador n\u00e3o possuir nenhum personagem, um erro \u00e9 lan\u00e7ado. Exemplo: local player = choosePlayer(\"Selecione um jogador\"); local personagem = chooseCharacterOfPlayer(\"Selecione um personagem\", player); escrever(personagem.nome); local personagem2 = chooseCharacterOfPlayer(\"Selecione um personagem\", \"AlyssonRPG\"); escrever(personagem2.nome); function chooseCharacters(prompt[, filter]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um ou mais personagens da lista de personagens que est\u00e3o na biblioteca da mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. (OPCIONAL) filter - Uma cadeia de caracteres informando quais persnagens devem ser apresentados na interface de sele\u00e7\u00e3o e pode ser um dos seguintes valores: \"all\" - Todos os personagens da mesa dever\u00e3o ser apresentados na janela (Op\u00e7\u00e3o padr\u00e3o caso n\u00e3o seja informado filter) \"pc\" - Apenas os personagens de jogadores dever\u00e3o ser apresentados na janela. \"pcOnline\" - Apenas os personagens de jogadores que est\u00e3o online dever\u00e3o ser apresentados na janela. \"npc\" - Apenas os personagens do mestre dever\u00e3o ser apresentados. \"mine\" - Apenas os personagens do jogador que executar a macro dever\u00e3o ser apresentados. Retorno: Um array/arranjo/lista de Objeto Personagem representando os personagens que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Se o filtro especificado por \"filter\" n\u00e3o for capaz de apresentar nenhum personagem para escolha, um erro ser\u00e1 exibido para o usu\u00e1rio. Exemplo: local personagens = chooseCharacters(\"Quais personagens deseja testar a for\u00e7a?\", \"pcOnline\"); for i = 1, #personagens, 1 do escrever(\"Voc\u00ea selecionou: \" .. personagens[i].nome); end ; function choosePlayer(prompt[, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um jogador da lista de jogadores que est\u00e3o na mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um jogador a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este jogador \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false . Retorno: Um Objeto Jogador representando o jogador que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Exemplo: local jogador = choosePlayer(\"De qual jogador voce quer obter informa\u00e7\u00f5es?\") escrever(\"Voc\u00ea selecionou: \" .. jogador.login); if jogador.isMestre then escrever(\"O jogador \u00e9 mestre na mesa\"); end ; function choosePlayers(prompt) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um ou mais jogadores da lista de jogadores que est\u00e3o na mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. Retorno: Um array/lista de Objeto Jogador representando os jogadores que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Exemplo: local jogadores = choosePlayers(\"Selecione quais jogadores devem rolar iniciativa\"); for i = 1, #jogadores, 1 do escrever(\"Rolar iniciativa de \" .. jogadores[i].login); end ; function getCharacterOfPlayer(player) Retorna o personagem principal de um jogador da mesa. Par\u00e2metros player - Uma cadeia de caracteres contendo o login do usu\u00e1rio ou um Objeto Jogador representando de qual jogador se deve obter o personagem principal. Retorno: Um Objeto Personagem representando o personagem principal do jogador. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Se o jogador n\u00e3o possuir nenhum personagem, um erro \u00e9 lan\u00e7ado. Se o jogador possuir dois ou mais personagens, o personagem principal dele ser\u00e1 retornado. Exemplo: local player = choosePlayer(\"Escolha um jogador\"); local personagemPrincipal = getCharacterOfPlayer(player); escrever(personagemPrincipal.nome); function getCharacterSheet(character) Retorna o Node Database/sheet de um personagem. Par\u00e2metros character - Um Objeto Personagem representando o personagem de qual se deve obter o NodeDatabase/sheet Retorno: O Objeto Nodo raiz representando o NodeDatabase/Sheet do personagem Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro pode ser pausada at\u00e9 que o NodeDatabase/Ficha seja carregada pela internet. O Objeto Nodo retornado \u00e9 o mesmo daquela vari\u00e1vel \"sheet\" usada para programar as fichas/lua forms. As altera\u00e7\u00f5es feitas no objeto nodo retornado s\u00e3o sincronizadas normalmente, confome as regras de permiss\u00f5es do Node Database. Se houver algum erro ao carregar o NodeDatabase, a macro p\u00e1ra de executar. Exemplo: local personagem = chooseCharacter(\"Escolha um personagem\", \"pc\") local node = getCharacterSheet(personagem); -- Escrever no chat a estrutura dos dados armazenados da ficha write(utils.tableToStr(node, true)); -- Se for a ficha D\\&D 5, a linha abaixo aumenta a CA em 1 node.CA = (tonumber(node.CA) or 0) + 1; function getUserNDB(name[, options]) Open a per-user NodeDatabase that is physically stored in the Firecast server. Arguments: name - A string identifying which remote user NodeDatabase should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false Return: Node Object Remarks: The content of NodeDatabases opened by this function is stored separately per-user. Each user will have their own copy of the NodeDatabase identified by the \u201cname\u201d argument function getUserRoomNDB(name[, options]) Open a per user NodeDatabase in the current room that is physically stored in the Firecast server. Arguments: name - A string identifying which remote user NodeDatabase in the current room should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false Return: Node Object Remarks: The content of NodeDatabases opened by this function is stored separately per-user and per-room. Each user in the current room will have their own copy of the NodeDatabase identified by the \u201cname\u201d. function getRoomNDB(name[, options]) Open a per room NodeDatabase that is physically stored in the Firecast server. Arguments: name - A string identifying which remote NodeDatabase of the current room should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false Return: Node Object Remarks: The content of NodeDatabases opened by this function is stored separately per-room. All users of the current room will access the same content of the NodeDatabase identified by the \u201cname\u201d. By default, users with the +GM mode can read and modify the NodeDatabase of the room while other users can only read values. To open a NodeDatabase of the room, one of the following statements must be true: The current user is a Gold subscriber; or The creator of the room is a Platinum subscriber. function invoke(macroName [, parameter]) Esta fun\u00e7\u00e3o invoca outra macro e aguarda sua execu\u00e7\u00e3o. Par\u00e2metros: macroName - Cadeia de caracteres identificando qual macro deve ser invocada. Exemplo: Se deseja invocar a macro /obterBonusAtaque, o valor \"obterBonusAtaque\" dever\u00e1 se passado aqui, sem a barra. (OPCIONAL) parameter - Cadeia de caracteres contendo os par\u00e2metros que devem ser passados para a macro quando ela for invocada. Retorno: Se a macro invocada tiver sido executada sem erros, o retorno desta fun\u00e7\u00e3o \u00e9 id\u00eantico ao \"return\" da macro invocada ( nil se ela n\u00e3o especificou valor de return). Observa\u00e7\u00e3o: A execu\u00e7\u00e3o desta macro \u00e9 pausada at\u00e9 a outra macro seja executada. Se a macro invocada parar de executar (exemplo: Pois o usu\u00e1rio cancelou um inputQuery), esta macro tamb\u00e9m p\u00e1ra de executar. Exemplo (duas macros, uma invocando a outra): Macro: ObterBonusAtaque local attack = inputQuery(\"Informe o B\u00f4nus de Ataque\"); local damageBonus = inputQuery(\"Informe o B\u00f4nus de Dano\"); return attack, tonumber(damageBonus); Macro que invoca outra macro local bonusAttack, damage = invoke(\"ObterBonusAtaque\") write(\"Ataque informado: \" .. bonusAttack) write(\"Dano informado: \" .. damage); Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Biblioteca para Macros em Lua"},{"location":"BibliotecaparaMacrosemLua/#biblioteca-para-macros-em-lua","text":"","title":"Biblioteca para Macros em Lua"},{"location":"BibliotecaparaMacrosemLua/#biblioteca-para-macros-em-lua_1","text":"","title":"Biblioteca para Macros em Lua"},{"location":"BibliotecaparaMacrosemLua/#variaveis","text":"vari\u00e1vel parametro ou vari\u00e1vel parameter e vari\u00e1vel arg[indice] (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Possui os par\u00e2metros passado para a macro, onde a vari\u00e1vel \"parametro\" cont\u00e9m a cadeia de caracteres completa e a vari\u00e1vel \"arg\" cont\u00e9m um arranjo, onde cada item representa um argumento separado por espa\u00e7o. Se o usu\u00e1rio digitar \"/minhaMacro Texto de Teste\": A vari\u00e1vel \"parametro\" conter\u00e1 \"Texto de Teste\" A vari\u00e1vel arg[1] conter\u00e1 \"Texto\", arg[2] conter\u00e1 \"de\", arg[3] conter\u00e1 \"Teste\" e #arg cont\u00e9m a quantidade de argumentos. Exemplo: Fazer um teste de resist\u00eancia parametrizado. local dificuldade = tonumber(parametro); if dificuldade == nil then escrever(\"Utilize: /macro \\<N\u00daMERO>\"); return ; end ; local resultado = rolar(\"1d20 + 5\", \"Dificuldade \" .. dificuldade); if resultado >= dificuldade then enviar(\"Passou no teste!\"); else enviar(\"N\u00e3o passou no teste\"); end ; vari\u00e1vel meuJogador ou vari\u00e1vel myPlayer (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) objeto Jogador representando o usu\u00e1rio da macro naquela mesa. Exemplo 1: Escrever na tela o seu pr\u00f3prio login. escrever(meuJogador.login); vari\u00e1vel myCharacter (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Objeto Personagem representando o personagem principal do usu\u00e1rio naquela mesa. Observa\u00e7\u00f5es: Se o jogador n\u00e3o possuir nenhum personagem, acessar esta vari\u00e1vel ir\u00e1 causar um erro com uma mensagem informativa de que \"o jogador n\u00e3o possui nenhum personagem\" e a macro p\u00e1ra de executar. Exemplo 1: Escrever na tela o nome do seu personagem. write(myCharacter.nome) vari\u00e1vel sheet (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) O Objeto Nodo raiz representando o NodeDatabase/Sheet do personagem principal do usu\u00e1rio logado. Observa\u00e7\u00f5es: Se o jogador n\u00e3o possuir nenhum personagem, acessar esta vari\u00e1vel ir\u00e1 causar um erro com uma mensagem informativa de que \"o jogador n\u00e3o possui nenhum personagem\" e a macro p\u00e1ra de executar. A execu\u00e7\u00e3o da macro pode ser pausada at\u00e9 que o NodeDatabase/Ficha seja carregada pela internet. O Objeto Nodo retornado \u00e9 o mesmo daquela vari\u00e1vel \"sheet\" usada para programar as fichas/lua forms. As altera\u00e7\u00f5es feitas no objeto nodo retornado s\u00e3o sincronizadas normalmente, confome as regras de permiss\u00f5es do Node Database. Se houver algum erro ao carregar o NodeDatabase, a macro p\u00e1ra de executar. Exemplo: -- Escrever no chat a estrutura dos dados armazenados da ficha write(utils.tableToStr(sheet, true)); -- Se for a ficha D\\&D 5, a linha abaixo aumenta a CA em 1 sheet.CA = (tonumber(sheet.CA) or 0) + 1; -- Se for a ficha D\\&D 5, a linha abaixo esreve no chat Quantos PV o personagem tem write(sheet.PV) vari\u00e1vel mesa ou vari\u00e1vel room (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) objeto Mesa representando a mesa em que a macro est\u00e1 sendo executada. Exemplo 1: Escrever algumas informa\u00e7\u00f5es da mesa na tela. escrever(mesa.nome); escrever(mesa.sistema); escrever(mesa.msgStatus); vari\u00e1vel jogadores ou vari\u00e1vel players (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Arranjo de objeto Jogador , representando os usu\u00e1rios que est\u00e3o na mesa no momento. \\ Forma de uso: jogadores[1] cont\u00e9m o primeiro jogador, jogadores[2] cont\u00e9m o segundo jogador, jogadores[3] cont\u00e9m o terceiro, jogadores[#jogadores] possui o \u00faltimo jogador. Exemplo 1: Escrever na tela o login de todos os jogadores da mesa. for i = 1, #jogadores, 1 do escrever(jogadores[i].login); end ; Exemplo 2: Dar +voz para todos os espectadores da mesa. for i = 1, #jogadores, 1 do if jogadores[i].isEspectador then jogadores[i]:requestSetVoz(true); end ; end ; vari\u00e1vel inRoom (N\u00e3o \u00e9 uma fun\u00e7\u00e3o) Booleano (true ou false) indicando se a macro est\u00e1 sendo executada em algum chat associado a alguma mesa.","title":"Vari\u00e1veis"},{"location":"BibliotecaparaMacrosemLua/#funcoes","text":"function escrever(texto[, quebrarLinha, permitirSmileys]) ou function write(texto[, quebrarLinha, permitirSmileys]) Escreve um texto na tela do chat. Este texto n\u00e3o \u00e9 enviado para ningu\u00e9m e aparecer\u00e1 somente no chat do pr\u00f3prio usu\u00e1rio. Par\u00e2metros: texto - Cadeia de caracteres contendo o texto que deseja escrever. (OPCIONAL) quebrarLinha - Booleano (true ou false) indicando se o RRPG deve adicionar uma quebra de linha no chat antes de escrever o texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido. (OPCIONAL) permitirSmileys - Booleano (true ou false) indicando se o RRPG deve interpretar smileys/memes neste texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido. Exemplo: escrever(\"Ol\u00e1 mundo!!!\"); function enviar(mensagem) ou function send(mensagem) Envia uma mensagem comum para o chat, como se o usu\u00e1rio a tivesse digitado. Par\u00e2metros: mensagem - Cadeia de caracteres contendo o texto que deseja enviar. Exemplo: enviar(\"Ol\u00e1, tudo bem?!\"); function agir(acao) ou function act(acao) Envia uma mensagem como a\u00e7\u00e3o para o chat. Par\u00e2metros: acao - Cadeia de caracteres contendo a acao que deseja enviar. Exemplo: agir(\"saca sua espada longa\"); function narrar(narracao) ou function narrate(narracao) Envia uma mensagem de narra\u00e7\u00e3o para o chat. Par\u00e2metros: narracao - Cadeia de caracteres contendo a narra\u00e7\u00e3o que deseja enviar. Observa\u00e7\u00e3o: Apenas o mestre consegue enviar mensagens de narra\u00e7\u00e3o. Exemplo: narrar(\"Ap\u00f3s uma p\u00e9ssima noite de descanso, Gruumsh acorda com as m\u00e3os algemadas\"); function enviarNPC(npc, mensagem) ou function sendNPC(npc, mensagem) Envia uma mensagem para o chat como se um NPC estivesse falando Par\u00e2metros: npc - Cadeia de caracteres contendo o nome do NPC. mensagem - Cadeia de caracteres contendo a mensagem que deseja enviar. Observa\u00e7\u00e3o: Apenas o mestre consegue enviar mensagens como NPC. Exemplo: enviarNPC(\"Rei Darik\", \"Guardas, prendam estes infelizes!\"); function rolar(rolagem[, mensagemAdicional]) ou function roll(rolagem[, mensagemAdicional]) Executa uma rolagem de dados no chat. Par\u00e2metros: rolagem - Cadeia de caracteres contendo a rolagem a ser feita. Exemplo: \"1d20 + 5\" (OPCIONAL) mensagemAdicional - Uma cadeia de caracteres opcional que acompanhar\u00e1 a rolagem na interface. Retorno: Esta fun\u00e7\u00e3o retorna um n\u00famero contendo o resultado e um objeto rolagem com informa\u00e7\u00f5es detalhadas do resultado. Importante: Esta fun\u00e7\u00e3o espera a rolagem ser feita na interface para continuar a execu\u00e7\u00e3o da Macro. Se, por algum motivo, a rolagem n\u00e3o puder ser feita, a macro p\u00e1ra de executar. Uma poss\u00edvel situa\u00e7\u00e3o de exemplo \u00e9 quando a mesa est\u00e1 moderada e o usu\u00e1rio n\u00e3o possui o modo +voz para enviar mensagens. Exemplo 1: local resultado = rolar(\"1d20 + 5\"); if resultado >= 15 then enviar(\"Acertou!\"); else enviar(\"Errou!\"); end ; Exemplo 2: local resultado = rolar(\"1d20 + 5\", \"Rolagem de ataque\"); if resultado >= 15 then rolar(\"1d8 + 5\", \"Rolagem de dano\"); end ; Exemplo 3: Rolar 4d6 e selecionar os 3 maiores n\u00fameros da rolagem. local resultado, rolagem = rolar(\"4d6\"); local dados = {}; -- coletar os resultados individuais de cada dado for i = 1, #rolagem.ops, 1 do local op = rolagem.ops[i]; if op.tipo == \"dado\" then for j = 1, #op.resultados, 1 do dados[#dados + 1] = op.resultados[j]; end ; end ; end ; -- Ordenar os resultados, menores primeiro table.sort(dados); local texto = \"\"; -- Pegar os ultimos 3, isto \u00e9, os 3 maiores.. de traz para frente * for i = #dados, #dados - 2, -1 do texto = texto .. \" \" .. dados[i]; end *; enviar(\"Os 3 maiores n\u00fameros foram:\" .. texto); function rolarLocal(rolagem) ou function rollLocal(rolagem) Executa uma rolagem de dados local, isto \u00e9, uma rolagem que n\u00e3o ser\u00e1 exibida em lugar nenhum. Par\u00e2metros: rolagem - Cadeia de caracteres contendo a rolagem a ser feita. Exemplo: \"1d20 + 5\" Retorno: Esta fun\u00e7\u00e3o retorna um n\u00famero contendo o resultado e um objeto rolagem com informa\u00e7\u00f5es detalhadas do resultado. Exemplos: O comportamento da fun\u00e7\u00e3o \"rolarLocal\" \u00e9 igual a da fun\u00e7\u00e3o \"rolar\", portanto, consulte os exemplos de \"rolar\" . function esperar(milisegundos) ou function wait(milisegundos) Realiza uma pausa cronometrada na execu\u00e7\u00e3o da Macro. Par\u00e2metros: milisegundos - Um n\u00famero em milisegundos representando o intervalo de tempo que a execu\u00e7\u00e3o da Macro ficar\u00e1 pausada. 1000 = 1 segundo, 500 = 0,5 segundos. function load(luaCode) Interpreta um c\u00f3digo de macro escrita na linguagem LUA Par\u00e2metros: luaCode - Cadeia de caracteres contendo um c\u00f3digo na linguagem LUA (seguindo o mesmo padr\u00e3o de uma macro). Retorno: Se luaCode possui um c\u00f3digo Lua v\u00e1lido, retorna uma fun\u00e7\u00e3o que poder\u00e1 ser invocada Se lucaCode n\u00e3o possui um c\u00f3digo Lua v\u00e1lido, retorna dois valores: nil e uma mensagem de erro. Exemplo: local func, errorMsg = load(\"write(1 + 5 + 9 + 10)\"); if func ~= nil then -- O codigo foi carregado. Vamos invoc\u00e1-lo agora func(); else write(\"could not load lua code: \" .. errorMsg); end function Log.e(tag, msg) function Log.w(tag, msg) function Log.i(tag, msg) function Log.d(tag, msg) function Log.v(tag, msg) Emmit log message to the Firecast's log file and to the Firecast's console window. Use the /console command to reveal the console Arguments: tag - Used to identify the source of a log message. It usually identifies the location or activity where the log call occurs. msg - The message you would like to be logged Log severity: Log.e Error message A situation that represents an unhandled error that may interrupt some operation Log.w Warning message A situation that can be handled but may cause some unintended behavior Log.i Informational/Notice message A normal but significant condition that may require special handling. Log.d Debug message A developer debug message Log.v Verbose message Algorithm steps message, very low priority messages. Remarks: Messages of this severity are not emitted in the Firecast\u2019s log files In the Firecast\u2019s console, you need to execute the command \u201cfilter add *\u201d to be able to see these messages. function showMessage(msg) Exibe uma janela para o usu\u00e1rio contendo uma mensagem. Par\u00e2metros: msg - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio. Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio pressione OK na janela. function alert(msg) Exibe uma janela para o usu\u00e1rio contendo uma mensagem de alerta. Par\u00e2metros: msg - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio. Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio pressione OK na janela. function toast(message) Show a quick informative message to the user that does not require user interaction and hides automatically after a short time Parameters message - The message string to be shown function confirmOkCancel(question) Exibe uma janela para o usu\u00e1rio onde ele deve escolher responder ou \"Ok\" ou \"Cancelar\" Par\u00e2metros: question - Cadeia de caracteres contendo a mensagem que dever\u00e1 ser exibida para o usu\u00e1rio. Retorno: true se o usu\u00e1rio responder \"Ok\" ou false se o usu\u00e1rio responder \"Cancelar\" Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Exemplo: if confirmOkCancel(\"Ser\u00e1 adicionado 6 \u00e0 rolagem\") then write(\"O usuario respondeu OK\"); else write(\"O usuario respondeu Cancelar\"); end function confirmYesNo(question) Exibe uma janela para o usu\u00e1rio onde ele deve escolher responder ou \"Sim\" ou \"N\u00e3o\" Par\u00e2metros: question - Cadeia de caracteres contendo a pergunta que dever\u00e1 ser exibida para o usu\u00e1rio. Retorno: true se o usu\u00e1rio responder \"Sim\" ou false se o usu\u00e1rio responder \"N\u00e3o\" Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Exemplo: if confirmYesNo(\"Deseja continuar?\") then write(\"O usuario respondeu Sim\"); else write(\"O usuario respondeu N\u00e3o\"); end function inputQuery(prompt[, initialValue, allowEmptyString]) Exibe uma janela para o usu\u00e1rio onde ele deve digitar um valor. Par\u00e2metros: prompt - Cadeia de caracteres orientando o usu\u00e1rio o que ele deve preencher. (OPCIONAL) initialValue - Cadeia de caracteres contendo uma sugest\u00e3o de valor inicial para o usu\u00e1rio. (OPCIONAL) allowEmptyString - true se o usu\u00e1rio pode informar um texto em branco. O padr\u00e3o \u00e9 false. Retorno: Se o usu\u00e1rio confirmar o valor, esta fun\u00e7\u00e3o retorna o valor escrito pelo usu\u00e1rio Se o usu\u00e1rio escolher cancelar na janela exibida, a macro p\u00e1ra de executar. Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Exemplo: local bonus = inputQuery(\"B\u00f4nus de Ataque\"); local defesa = inputQuery(\"Defesa\", \"10\"); if roll(\"1d20 + \" .. bonus) >= tonumber(defesa) then write(\"Acertou\"); else write(\"Errou\"); end ; function selectImageURL([defaultURL]) Esta fun\u00e7\u00e3o exibe uma janela para o usu\u00e1rio escolher uma URL de uma imagem. Par\u00e2metros: (OPCIONAL) defaultURL - Texto contendo uma URL sugerida para o usu\u00e1rio Retorno: Retorna a URL de uma imagem escolhida pelo usu\u00e1rio Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Exemplo: local url = selectImageURL(); write(\"Imagem escolhida: \" .. url); function choose(prompt, options, [defaultOptionIndex, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma op\u00e7\u00e3o dentre uma lista de op\u00e7\u00f5es. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. options - Um array/arranjo/lista de cadeias de caracteres/textos, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio. (OPCIONAL) defaultOptionIndex - Um n\u00famero contendo um \u00edndice informado qual dos itens de \"options\" deve ser apresentado como a escolha padr\u00e3o. Se n\u00e3o informado, nenhuma op\u00e7\u00e3o ser\u00e1 mostrada como padr\u00e3o. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas uma op\u00e7\u00e3o a ser mostrada ao usuario, a interface n\u00e3o \u00e9 exibida e esta op\u00e7ao \u00e9 automaticamente selecionada. Se n\u00e3o informado, este par\u00e2metro assume o valor false. Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: index - Um n\u00famero, o \u00edndice de \"options\" que foi escolhido pelo usu\u00e1rio text - O texto equivalente ao \u00edndice escolhido pelo usu\u00e1rio, conforme \"options\" Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Lembre-se que indices de arrays em lua come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0 Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a macro p\u00e1ra de executar como se o usu\u00e1rio tivesse cancelado a janela. Exemplo: local indice, texto = choose(\"O que deseja fazer?\", {\"Atacar\", \"Defender\"}, 1); escrever(\"O usu\u00e1rio escolheu o \u00edndice: \" .. indice); escrever(\"O usu\u00e1rio escolheu: \" .. texto); function chooseMultiple(prompt, options) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher uma ou mais op\u00e7\u00f5es dentre uma lista de op\u00e7\u00f5es. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. options - Um array/lista/arranjo de textos/cadeias de caracteres, contendo as op\u00e7\u00f5es que devem ser apresentadas ao usu\u00e1rio. Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: indexes - Um array/arranjo/lista de n\u00fameros, contendo os \u00edndices de \"options\" que foram escolhidos pelo usu\u00e1rio texts - Um array/arranjo/lista de textos equivalentes aos \u00edndices escolhidos pelo usu\u00e1rio, conforme \"options\" Observa\u00e7\u00e3o: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Lembre-se que indices de arrays em lua come\u00e7a do n\u00famero 1 ao inv\u00e9s de 0 Se \"options\" n\u00e3o for v\u00e1lido ou se for um arranjo com 0 itens, a macro p\u00e1ra de executar como se o usu\u00e1rio tivesse cancelado a janela. Exemplo: local indices, textos = chooseMultiple(\"B\u00f4nus ativos\", {\"Cobertura\", \"Defesa Total\", \"Escondido\"}); for i = 1, #indices, 1 do escrever(\"O usu\u00e1rio escolheu o \u00edndice: \" .. indices[i]); escrever(\"O usu\u00e1rio escolheu: \" .. textos[i]); end ; function chooseCharacter(prompt[, filter, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um personagem da lista de personagens que est\u00e3o na biblioteca da mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. (OPCIONAL) filter - Uma cadeia de caracteres informando quais persnagens devem ser apresentados na interface de sele\u00e7\u00e3o e pode ser um dos seguintes valores: \"all\" - Todos os personagens da mesa dever\u00e3o ser apresentados na janela (Op\u00e7\u00e3o padr\u00e3o caso n\u00e3o seja informado filter) \"pc\" - Apenas os personagens de jogadores dever\u00e3o ser apresentados na janela. \"pcOnline\" - Apenas os personagens de jogadores que est\u00e3o online dever\u00e3o ser apresentados na janela. \"npc\" - Apenas os personagens do mestre dever\u00e3o ser apresentados. \"mine\" - Apenas os personagens do jogador que executar a macro dever\u00e3o ser apresentados. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um personagem a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este personagem \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false . Retorno: Um Objeto Personagem representando o personagem que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Se o filtro especificado por \"filter\" n\u00e3o for capaz de apresentar nenhum personagem para escolha, um erro ser\u00e1 exibido para o usu\u00e1rio. Exemplo: local personagem = chooseCharacter(\"Qual personagem deseja testar a for\u00e7a?\", \"pc\"); escrever(\"Voc\u00ea selecionou: \" .. personagem.nome); function chooseCharacterOfPlayer(prompt, player [, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um personagens da lista de personagens de um jogador na mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. player - Uma cadeia de caracteres contendo o login do usu\u00e1rio ou um Objeto Jogador representando de qual jogador os personagens dever\u00e3o ser apresentados na tela. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um personagem a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este personagem \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false . Retorno: Um Objeto Personagem representando o personagem que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Se o jogador n\u00e3o possuir nenhum personagem, um erro \u00e9 lan\u00e7ado. Exemplo: local player = choosePlayer(\"Selecione um jogador\"); local personagem = chooseCharacterOfPlayer(\"Selecione um personagem\", player); escrever(personagem.nome); local personagem2 = chooseCharacterOfPlayer(\"Selecione um personagem\", \"AlyssonRPG\"); escrever(personagem2.nome); function chooseCharacters(prompt[, filter]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um ou mais personagens da lista de personagens que est\u00e3o na biblioteca da mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. (OPCIONAL) filter - Uma cadeia de caracteres informando quais persnagens devem ser apresentados na interface de sele\u00e7\u00e3o e pode ser um dos seguintes valores: \"all\" - Todos os personagens da mesa dever\u00e3o ser apresentados na janela (Op\u00e7\u00e3o padr\u00e3o caso n\u00e3o seja informado filter) \"pc\" - Apenas os personagens de jogadores dever\u00e3o ser apresentados na janela. \"pcOnline\" - Apenas os personagens de jogadores que est\u00e3o online dever\u00e3o ser apresentados na janela. \"npc\" - Apenas os personagens do mestre dever\u00e3o ser apresentados. \"mine\" - Apenas os personagens do jogador que executar a macro dever\u00e3o ser apresentados. Retorno: Um array/arranjo/lista de Objeto Personagem representando os personagens que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Se o filtro especificado por \"filter\" n\u00e3o for capaz de apresentar nenhum personagem para escolha, um erro ser\u00e1 exibido para o usu\u00e1rio. Exemplo: local personagens = chooseCharacters(\"Quais personagens deseja testar a for\u00e7a?\", \"pcOnline\"); for i = 1, #personagens, 1 do escrever(\"Voc\u00ea selecionou: \" .. personagens[i].nome); end ; function choosePlayer(prompt[, shortCircuit]) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um jogador da lista de jogadores que est\u00e3o na mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. (OPCIONAL) shortCircuit - Avalia\u00e7\u00e3o Curto-Circuito: Se for \"true\" e se houver apenas um jogador a ser mostrado ao usuario, a interface n\u00e3o \u00e9 exibida e este jogador \u00e9 automaticamente selecionado. Se n\u00e3o informado, este par\u00e2metro assume o valor false . Retorno: Um Objeto Jogador representando o jogador que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Exemplo: local jogador = choosePlayer(\"De qual jogador voce quer obter informa\u00e7\u00f5es?\") escrever(\"Voc\u00ea selecionou: \" .. jogador.login); if jogador.isMestre then escrever(\"O jogador \u00e9 mestre na mesa\"); end ; function choosePlayers(prompt) Exibe um di\u00e1logo para que o usu\u00e1rio possa escolher um ou mais jogadores da lista de jogadores que est\u00e3o na mesa. Par\u00e2metros prompt - Uma cadeia de caracteres contendo uma orienta\u00e7\u00e3o ao usu\u00e1rio sobre o que ele deve selecionar. Retorno: Um array/lista de Objeto Jogador representando os jogadores que o usu\u00e1rio escolheu. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Exemplo: local jogadores = choosePlayers(\"Selecione quais jogadores devem rolar iniciativa\"); for i = 1, #jogadores, 1 do escrever(\"Rolar iniciativa de \" .. jogadores[i].login); end ; function getCharacterOfPlayer(player) Retorna o personagem principal de um jogador da mesa. Par\u00e2metros player - Uma cadeia de caracteres contendo o login do usu\u00e1rio ou um Objeto Jogador representando de qual jogador se deve obter o personagem principal. Retorno: Um Objeto Personagem representando o personagem principal do jogador. Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro \u00e9 pausada at\u00e9 que o usu\u00e1rio responda a janela. Se o usu\u00e1rio cancelar a janela, a macro p\u00e1ra de executar. Se o jogador n\u00e3o possuir nenhum personagem, um erro \u00e9 lan\u00e7ado. Se o jogador possuir dois ou mais personagens, o personagem principal dele ser\u00e1 retornado. Exemplo: local player = choosePlayer(\"Escolha um jogador\"); local personagemPrincipal = getCharacterOfPlayer(player); escrever(personagemPrincipal.nome); function getCharacterSheet(character) Retorna o Node Database/sheet de um personagem. Par\u00e2metros character - Um Objeto Personagem representando o personagem de qual se deve obter o NodeDatabase/sheet Retorno: O Objeto Nodo raiz representando o NodeDatabase/Sheet do personagem Observa\u00e7\u00f5es: A execu\u00e7\u00e3o da macro pode ser pausada at\u00e9 que o NodeDatabase/Ficha seja carregada pela internet. O Objeto Nodo retornado \u00e9 o mesmo daquela vari\u00e1vel \"sheet\" usada para programar as fichas/lua forms. As altera\u00e7\u00f5es feitas no objeto nodo retornado s\u00e3o sincronizadas normalmente, confome as regras de permiss\u00f5es do Node Database. Se houver algum erro ao carregar o NodeDatabase, a macro p\u00e1ra de executar. Exemplo: local personagem = chooseCharacter(\"Escolha um personagem\", \"pc\") local node = getCharacterSheet(personagem); -- Escrever no chat a estrutura dos dados armazenados da ficha write(utils.tableToStr(node, true)); -- Se for a ficha D\\&D 5, a linha abaixo aumenta a CA em 1 node.CA = (tonumber(node.CA) or 0) + 1; function getUserNDB(name[, options]) Open a per-user NodeDatabase that is physically stored in the Firecast server. Arguments: name - A string identifying which remote user NodeDatabase should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false Return: Node Object Remarks: The content of NodeDatabases opened by this function is stored separately per-user. Each user will have their own copy of the NodeDatabase identified by the \u201cname\u201d argument function getUserRoomNDB(name[, options]) Open a per user NodeDatabase in the current room that is physically stored in the Firecast server. Arguments: name - A string identifying which remote user NodeDatabase in the current room should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false Return: Node Object Remarks: The content of NodeDatabases opened by this function is stored separately per-user and per-room. Each user in the current room will have their own copy of the NodeDatabase identified by the \u201cname\u201d. function getRoomNDB(name[, options]) Open a per room NodeDatabase that is physically stored in the Firecast server. Arguments: name - A string identifying which remote NodeDatabase of the current room should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false Return: Node Object Remarks: The content of NodeDatabases opened by this function is stored separately per-room. All users of the current room will access the same content of the NodeDatabase identified by the \u201cname\u201d. By default, users with the +GM mode can read and modify the NodeDatabase of the room while other users can only read values. To open a NodeDatabase of the room, one of the following statements must be true: The current user is a Gold subscriber; or The creator of the room is a Platinum subscriber. function invoke(macroName [, parameter]) Esta fun\u00e7\u00e3o invoca outra macro e aguarda sua execu\u00e7\u00e3o. Par\u00e2metros: macroName - Cadeia de caracteres identificando qual macro deve ser invocada. Exemplo: Se deseja invocar a macro /obterBonusAtaque, o valor \"obterBonusAtaque\" dever\u00e1 se passado aqui, sem a barra. (OPCIONAL) parameter - Cadeia de caracteres contendo os par\u00e2metros que devem ser passados para a macro quando ela for invocada. Retorno: Se a macro invocada tiver sido executada sem erros, o retorno desta fun\u00e7\u00e3o \u00e9 id\u00eantico ao \"return\" da macro invocada ( nil se ela n\u00e3o especificou valor de return). Observa\u00e7\u00e3o: A execu\u00e7\u00e3o desta macro \u00e9 pausada at\u00e9 a outra macro seja executada. Se a macro invocada parar de executar (exemplo: Pois o usu\u00e1rio cancelou um inputQuery), esta macro tamb\u00e9m p\u00e1ra de executar. Exemplo (duas macros, uma invocando a outra): Macro: ObterBonusAtaque local attack = inputQuery(\"Informe o B\u00f4nus de Ataque\"); local damageBonus = inputQuery(\"Informe o B\u00f4nus de Dano\"); return attack, tonumber(damageBonus); Macro que invoca outra macro local bonusAttack, damage = invoke(\"ObterBonusAtaque\") write(\"Ataque informado: \" .. bonusAttack) write(\"Dano informado: \" .. damage); Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Fun\u00e7\u00f5es"},{"location":"BibliotecasLUA/","text":"Bibliotecas LUA Bibliotecas LUA Este t\u00f3pico cont\u00e9m a refer\u00eancia das bibliotecas e fun\u00e7\u00f5es dispon\u00edveis para serem usadas em c\u00f3digos LUA Biblioteca Descri\u00e7\u00e3o NDB Biblioteca para manipular NodeDatabases , documentos de f\u00e1cil escrita e leitura para se armazenar informa\u00e7\u00f5es Leia mais em: Biblioteca ndb. VHD Biblioteca do HD Virtual do plug-in, usado para criar, ler e manipular arquivos. Leia mais em: Biblioteca vhd. Dialogs Biblioteca que cont\u00e9m fun\u00e7\u00f5es para exibir mensagens e interagir com o usu\u00e1rio atrav\u00e9s de di\u00e1logos. Leia mais em: Biblioteca dialogs. GUI Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 interface e Lua Forms. Leia mais em: Biblioteca gui. Locale Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com idiomas e regi\u00f5es, incluindo funcionalidade para permitir um plug-in em v\u00e1rias l\u00ednguas. Leia mais em Biblioteca Locale Firecast Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0s mesas, personagens, envio de mensagens, rolagem de dados, etc.. Leia mais em: Biblioteca Firecast . Firecast.Messaging Biblioteca que cont\u00e9m fun\u00e7\u00f5es que tratam as notifica\u00e7\u00f5es que o Firecast dispara para todos os plug-ins atrav\u00e9s de mensagens. Leia mais em Biblioteca Firecast.Messaging Firecast.Plugins Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas aos plug-ins instalados no RRPG. Leia mais em: Biblioteca Firecast.Plugins Firecast.Requests Biblioteca que cont\u00e9m fun\u00e7\u00f5es que solicitam determinadas a\u00e7\u00f5es ao Firecast, como, por exemplo, criar itens na biblioteca da mesa, obter informa\u00e7\u00f5es de perfil de um usu\u00e1rio, etc.. Leia mais em Biblioteca Firecast.Requests Internet Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 internet/intranet, como: downloads, requisi\u00e7\u00f5es HTTP, etc.. Leia mais em Biblioteca internet FireDrive Biblioteca para manipular o FireDrive do usu\u00e1rio. Leia mais em Biblioteca fireDrive SceneLib Biblioteca com fun\u00e7\u00f5es para lidar com Scene 3 do RRPG. Leia mais em Biblioteca scene System Biblioteca com fun\u00e7\u00f5es para lidar com o dispositivo do usu\u00e1rio e outras funcionalidades b\u00e1sicas. Leia mais em Biblioteca system Utils Biblioteca que possui fun\u00e7\u00f5es utilit\u00e1rias diversas Leia mais em Biblioteca utils . Created with the Personal Edition of HelpNDoc: Effortlessly Create High-Quality Help Documentation with a Help Authoring Tool","title":"Bibliotecas LUA"},{"location":"BibliotecasLUA/#bibliotecas-lua","text":"","title":"Bibliotecas LUA"},{"location":"BibliotecasLUA/#bibliotecas-lua_1","text":"Este t\u00f3pico cont\u00e9m a refer\u00eancia das bibliotecas e fun\u00e7\u00f5es dispon\u00edveis para serem usadas em c\u00f3digos LUA Biblioteca Descri\u00e7\u00e3o NDB Biblioteca para manipular NodeDatabases , documentos de f\u00e1cil escrita e leitura para se armazenar informa\u00e7\u00f5es Leia mais em: Biblioteca ndb. VHD Biblioteca do HD Virtual do plug-in, usado para criar, ler e manipular arquivos. Leia mais em: Biblioteca vhd. Dialogs Biblioteca que cont\u00e9m fun\u00e7\u00f5es para exibir mensagens e interagir com o usu\u00e1rio atrav\u00e9s de di\u00e1logos. Leia mais em: Biblioteca dialogs. GUI Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 interface e Lua Forms. Leia mais em: Biblioteca gui. Locale Biblioteca que cont\u00e9m fun\u00e7\u00f5es para lidar com idiomas e regi\u00f5es, incluindo funcionalidade para permitir um plug-in em v\u00e1rias l\u00ednguas. Leia mais em Biblioteca Locale Firecast Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0s mesas, personagens, envio de mensagens, rolagem de dados, etc.. Leia mais em: Biblioteca Firecast . Firecast.Messaging Biblioteca que cont\u00e9m fun\u00e7\u00f5es que tratam as notifica\u00e7\u00f5es que o Firecast dispara para todos os plug-ins atrav\u00e9s de mensagens. Leia mais em Biblioteca Firecast.Messaging Firecast.Plugins Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas aos plug-ins instalados no RRPG. Leia mais em: Biblioteca Firecast.Plugins Firecast.Requests Biblioteca que cont\u00e9m fun\u00e7\u00f5es que solicitam determinadas a\u00e7\u00f5es ao Firecast, como, por exemplo, criar itens na biblioteca da mesa, obter informa\u00e7\u00f5es de perfil de um usu\u00e1rio, etc.. Leia mais em Biblioteca Firecast.Requests Internet Biblioteca que cont\u00e9m fun\u00e7\u00f5es relacionadas \u00e0 internet/intranet, como: downloads, requisi\u00e7\u00f5es HTTP, etc.. Leia mais em Biblioteca internet FireDrive Biblioteca para manipular o FireDrive do usu\u00e1rio. Leia mais em Biblioteca fireDrive SceneLib Biblioteca com fun\u00e7\u00f5es para lidar com Scene 3 do RRPG. Leia mais em Biblioteca scene System Biblioteca com fun\u00e7\u00f5es para lidar com o dispositivo do usu\u00e1rio e outras funcionalidades b\u00e1sicas. Leia mais em Biblioteca system Utils Biblioteca que possui fun\u00e7\u00f5es utilit\u00e1rias diversas Leia mais em Biblioteca utils . Created with the Personal Edition of HelpNDoc: Effortlessly Create High-Quality Help Documentation with a Help Authoring Tool","title":"Bibliotecas LUA"},{"location":"Caracteristicasdetagsshapes/","text":"Caracter\u00edsticas de tags shapes Caracter\u00edsticas de tags do tipo shape/forma O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e alguns controles s\u00e3o controles shape (Exemplos: rectangle , horzLine , etc.. ). Heran\u00e7a As tags shapes possuem todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, todas as tags shapes tamb\u00e9m possuem as seguintes caracter\u00edsticas: Propriedades e Atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color String contendo uma cor \"silver\" Define a cor do conte\u00fado da forma. Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. strokeColor String contendo uma cor \"black\" Define a cor das linhas da borda. Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. strokeSize Float 0.0 Define a espessura das linhas da borda. strokeCap Enumerado: \"flat\" \"round\" \"flat\" Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas. \"flat\" - linhas com pontas retangulares \"round\" - linhas com pontas arredondadas. strokeJoin Enumerado: \"miter\" \"round\" \"bevel\" \"miter\" Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma. \"miter\" - As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\". \"round\" - As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas. \"bevel\" - As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal. strokeDash Enumerado: \"solid\" \"dash\" \"dot\" \"dashDot\" \"dashDotDot\" \"solid\" Define o estilo gr\u00e1fico da linha. \"solid\" - A linha \u00e9 s\u00f3lida \"dash\" - A linha \u00e9 tracejada \"dot\" - A linha \u00e9 feita de pontos. \"dashDot\" - A linha \u00e9 alternada entre tra\u00e7os e pontos. \"dashDotDot\" - A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto. Created with the Personal Edition of HelpNDoc: Transform your help documentation into a stunning website","title":"Caracter\u00edsticas de tags shapes"},{"location":"Caracteristicasdetagsshapes/#caracteristicas-de-tags-shapes","text":"","title":"Caracter\u00edsticas de tags shapes"},{"location":"Caracteristicasdetagsshapes/#caracteristicas-de-tags-do-tipo-shapeforma","text":"O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e alguns controles s\u00e3o controles shape (Exemplos: rectangle , horzLine , etc.. ).","title":"Caracter\u00edsticas de tags do tipo shape/forma"},{"location":"Caracteristicasdetagsshapes/#heranca","text":"As tags shapes possuem todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"Caracteristicasdetagsshapes/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, todas as tags shapes tamb\u00e9m possuem as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Caracteristicasdetagsshapes/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color String contendo uma cor \"silver\" Define a cor do conte\u00fado da forma. Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. strokeColor String contendo uma cor \"black\" Define a cor das linhas da borda. Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. strokeSize Float 0.0 Define a espessura das linhas da borda. strokeCap Enumerado: \"flat\" \"round\" \"flat\" Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas. \"flat\" - linhas com pontas retangulares \"round\" - linhas com pontas arredondadas. strokeJoin Enumerado: \"miter\" \"round\" \"bevel\" \"miter\" Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma. \"miter\" - As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\". \"round\" - As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas. \"bevel\" - As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal. strokeDash Enumerado: \"solid\" \"dash\" \"dot\" \"dashDot\" \"dashDotDot\" \"solid\" Define o estilo gr\u00e1fico da linha. \"solid\" - A linha \u00e9 s\u00f3lida \"dash\" - A linha \u00e9 tracejada \"dot\" - A linha \u00e9 feita de pontos. \"dashDot\" - A linha \u00e9 alternada entre tra\u00e7os e pontos. \"dashDotDot\" - A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto. Created with the Personal Edition of HelpNDoc: Transform your help documentation into a stunning website","title":"Propriedades e Atributos"},{"location":"Caracteristicasdetodasastagsdete/","text":"Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags de textos O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e alguns controles s\u00e3o controles de texto (Exemplos: button , label , edit ). Heran\u00e7a As tags de textos possuem todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, todas as tags textos tamb\u00e9m possuem as seguintes caracter\u00edsticas: Propriedades e Atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text String \\<string vazio> Define o texto que ser\u00e1 exibido no controle. fontColor String contendo uma cor Em temas escuros, uma cor clara. Em temas claros, uma cor escura. Define a cor do texto. Exemplos: Black White #FDFDFD Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. fontFamily String \\<Varia de Plataforma para Plataforma> Define a fonte que ser\u00e1 usada nos textos. As fontes dispon\u00edveis variam de plataforma para plataforma (Android, iOS, Windows, etc..) fontSize Float 13.0 Define o tamanho da fonte. fontStyle Conjunto de: \u201cbold\u201d \u201citalic\u201d \u201cunderline\u201d \u201cstrikeout\u201d \u201c\u201d Define o estilo da fonte... Exemplos: \u201cbold\u201d \u201cbold italic\u201d \u201citalic underline bold\u201d \u201c\u201d horzTextAlign Enumerado: \u201cleading\u201d \u201ccenter\u201d \u201ctrailing\u201d \u201cleading\u201d Define o alinhamento horizontal do texto, onde: \u201cleading\u201d \u2013 alinhado \u00e0 esquerda \u201ccenter\u201d- centralizado \u201ctrailing\u201d \u2013 alinhado \u00e0 direita vertTextAlign Enumerado: \u201cleading\u201d \u201ccenter\u201d \u201ctrailing\u201d \u201ccenter\u201d Define o alinhamento vertical do texto, onde: \u201cleading\u201d \u2013 alinhado ao topo. \u201ccenter\u201d- centralizado \u201ctrailing\u201d \u2013 alinhado ao rodap\u00e9. wordWrap Boolean false True = Quebra de linha autom\u00e1tica quando o tamanho do texto ultrapassar a largura do controle False = Limitar o texto em apenas uma linha, mesmo que ultrapasse a largura do controle. textTrimming Enumerado: \u201cnone\u201d \u201ccharacter\u201d \u201cword\u201d \\<Varia de controle para controle> Quando o tamanho do texto ultrapassa a largura do controle, o que acontece com o texto? none - Nenhum tratamento especial, o desenho do texto ser\u00e1 truncado de forma \u201ccara-crach\u00e1\u201d character \u2013 o caractere mais perto da linha de corte ser\u00e1 substitu\u00eddo pelo s\u00edmbolo \u201c...\u201d word \u2013 a palavra que estiver mais perto da linha de corte ser\u00e1 substitu\u00edda pelo s\u00edmbolo \u201c...\u201d Created with the Personal Edition of HelpNDoc: Experience the Power and Simplicity of HelpNDoc's User Interface","title":"Caracter\u00edsticas de todas as tags de textos"},{"location":"Caracteristicasdetodasastagsdete/#caracteristicas-de-todas-as-tags-de-textos","text":"","title":"Caracter\u00edsticas de todas as tags de textos"},{"location":"Caracteristicasdetodasastagsdete/#caracteristicas-de-todas-as-tags-de-textos_1","text":"O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e alguns controles s\u00e3o controles de texto (Exemplos: button , label , edit ).","title":"Caracter\u00edsticas de todas as tags de textos"},{"location":"Caracteristicasdetodasastagsdete/#heranca","text":"As tags de textos possuem todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"Caracteristicasdetodasastagsdete/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, todas as tags textos tamb\u00e9m possuem as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Caracteristicasdetodasastagsdete/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text String \\<string vazio> Define o texto que ser\u00e1 exibido no controle. fontColor String contendo uma cor Em temas escuros, uma cor clara. Em temas claros, uma cor escura. Define a cor do texto. Exemplos: Black White #FDFDFD Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. fontFamily String \\<Varia de Plataforma para Plataforma> Define a fonte que ser\u00e1 usada nos textos. As fontes dispon\u00edveis variam de plataforma para plataforma (Android, iOS, Windows, etc..) fontSize Float 13.0 Define o tamanho da fonte. fontStyle Conjunto de: \u201cbold\u201d \u201citalic\u201d \u201cunderline\u201d \u201cstrikeout\u201d \u201c\u201d Define o estilo da fonte... Exemplos: \u201cbold\u201d \u201cbold italic\u201d \u201citalic underline bold\u201d \u201c\u201d horzTextAlign Enumerado: \u201cleading\u201d \u201ccenter\u201d \u201ctrailing\u201d \u201cleading\u201d Define o alinhamento horizontal do texto, onde: \u201cleading\u201d \u2013 alinhado \u00e0 esquerda \u201ccenter\u201d- centralizado \u201ctrailing\u201d \u2013 alinhado \u00e0 direita vertTextAlign Enumerado: \u201cleading\u201d \u201ccenter\u201d \u201ctrailing\u201d \u201ccenter\u201d Define o alinhamento vertical do texto, onde: \u201cleading\u201d \u2013 alinhado ao topo. \u201ccenter\u201d- centralizado \u201ctrailing\u201d \u2013 alinhado ao rodap\u00e9. wordWrap Boolean false True = Quebra de linha autom\u00e1tica quando o tamanho do texto ultrapassar a largura do controle False = Limitar o texto em apenas uma linha, mesmo que ultrapasse a largura do controle. textTrimming Enumerado: \u201cnone\u201d \u201ccharacter\u201d \u201cword\u201d \\<Varia de controle para controle> Quando o tamanho do texto ultrapassa a largura do controle, o que acontece com o texto? none - Nenhum tratamento especial, o desenho do texto ser\u00e1 truncado de forma \u201ccara-crach\u00e1\u201d character \u2013 o caractere mais perto da linha de corte ser\u00e1 substitu\u00eddo pelo s\u00edmbolo \u201c...\u201d word \u2013 a palavra que estiver mais perto da linha de corte ser\u00e1 substitu\u00edda pelo s\u00edmbolo \u201c...\u201d Created with the Personal Edition of HelpNDoc: Experience the Power and Simplicity of HelpNDoc's User Interface","title":"Propriedades e Atributos"},{"location":"Caracteristicasdetodasastagsvisu/","text":"Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas de todas as tags visuais O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e todos os componentes visuais s\u00e3o objetos do tipo \u201ccontrole\u201d (heran\u00e7a, em orienta\u00e7\u00e3o a objetos). Isto significa que todos os componentes e tags visuais de arquivo LFM (edit, label, button, layout, etc..) possuem as caracter\u00edsticas, propriedades e m\u00e9todos descritos nesta se\u00e7\u00e3o. Propriedades e atributos de todas as tags visuais Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o visible Boolean true Define se o controle est\u00e1 vis\u00edvel ou invis\u00edvel. Um controle pode existir invis\u00edvel e ser exibido quando alguma condi\u00e7\u00e3o ou ocasi\u00e3o acontecer. enabled Boolean true Define se o controle est\u00e1 ativo ou n\u00e3o. Um controle inativo \u00e9 exibido na interface, mas n\u00e3o \u00e9 poss\u00edvel interagir com ele, como se tivesse bloqueado. name String \\<string vazio> Define um nome para o controle. O nome deve ser \u00fanico, isto \u00e9, dentro de um form , n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA. align Enumerado: \u201cnone\u201d \u201ctop\u201d \u201cleft\u201d \u201cbottom\u201d \u201cright\u201d \u201cclient\u201d \u201cnone\u201d Define o alinhamento visual do controle na interface. Com esta propriedade \u00e9 poss\u00edvel definir um comportamento padr\u00e3o de posicionamento e tamanho para os controles. none \u2013 O controle n\u00e3o sofrer\u00e1 nenhum tipo de posicionamento e redimensionamento autom\u00e1tico. top \u2013 O controle ser\u00e1 posicionado no topo de seu pai e a largura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de left, top e width s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a altura (height). left \u2013 O controle ser\u00e1 posicionado \u00e0 esquerda de seu pai e a altura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de \u201cleft\u201d, \u201ctop\u201d e \u201cheight\u201d s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a largura (width). bottom - O controle ser\u00e1 posicionado no rodap\u00e9 de seu pai e a largura \u00e9 calculada para preencher o espa\u00e7o. Os valores de left, top e width s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a altura (height). right \u2013 O controle ser\u00e1 posicionado \u00e0 direita de seu pai e a altura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de \u201cleft\u201d, \u201ctop\u201d e \u201cheight\u201d s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a largura (width). client \u2013 O controle ser\u00e1 posicionado de forma que ocupe toda a \u00e1rea de seu pai. Os valores de left, top, width e height s\u00e3o automaticamente calculados. left Float 0.0 Define a posi\u00e7\u00e3o X do controle. A posi\u00e7\u00e3o \u00e9 relativa a seu pai. Veja Posi\u00e7\u00e3o e Tamanho dos Controles. top Float 0.0 Define a posi\u00e7\u00e3o Y do controle. A posi\u00e7\u00e3o \u00e9 relativa a seu pai. Veja Posi\u00e7\u00e3o e Tamanho dos Controles. width Float Depende do controle Define a largura do controle. Veja Posi\u00e7\u00e3o e Tamanho dos Controles. height Float Depende do controle Define a altura do controle. Veja Posi\u00e7\u00e3o e Tamanho dos Controles. margins Bounds (Objeto Lua) {} Define o tamanho das margens do controle, isto \u00e9, o tamanho da \u201cborda invis\u00edvel\u201d que existe ao redor do controle que o separa do outros. Especialmente \u00fatil quando se usa a propriedade \u201calign\u201d. O valor desta propriedade \u00e9 uma tabela lua com os campos \u201cleft\u201d, \u201cright\u201d, \u201ctop\u201d e \u201cbottom\u201d, onde a omiss\u00e3o de algum campo representa o valor 0.0. Exemplos de valores: {} - left, right, top e bottom 0.0 {left = 5} - left 5, demais valores 0 {left = 5, top = 5} \u2013 left 5, top 5, right 0, bottom 0 {left = 5, right = 5, top = 5, bottom = 5} \u2013 todos os valores 5 padding Bounds (Objeto Lua) {} Define o tamanho do preenchimento do controle, isto \u00e9, o tamanho da \u201cborda invis\u00edvel\u201d que existe no interior do controle entre sua periferia e seu conte\u00fado. O valor desta propriedade \u00e9 uma tabela lua com os campos \u201cleft\u201d, \u201cright\u201d, \u201ctop\u201d e \u201cbottom\u201d, onde a omiss\u00e3o de algum campo representa o valor 0.0. anchors Conjunto de: left top right bottom \u201cleft top\u201d Define como o controle \u00e9 ancorado em seu pai. Quando o pai do controle \u00e9 redimensionado, o controle mant\u00e9m sua posi\u00e7\u00e3o relativa baseado em sua \u00e2ncora. Exemplos: \u201cleft\u201d presente , \u201dright\u201d ausente : O controle manter\u00e1 sempre a mesma posi\u00e7\u00e3o X. \u201cleft\u201d ausente , \u201cright\u201d presente : A posi\u00e7\u00e3o X ser\u00e1 calculada automaticamente para manter sempre a mesma dist\u00e2ncia entre sua borda direita e a borda direita de seu pai. \u201cleft\u201d e \u201cright\u201d presentes : O controle manter\u00e1 tanto a dist\u00e2ncia entre (1) sua borda esquerda com a borda esquerda de seu pai; (2) como sua borda direita com a borda direita de se pai. Para isso, a largura do componente ser\u00e1 alterada conforme o pai \u00e9 redimensionado. \u201cleft\u201d e \u201cright\u201d ausentes : O controle n\u00e3o est\u00e1 ancorado e ocorrer\u00e1 um efeito similar ao de centraliza\u00e7\u00e3o. O comportamento das \u00e2ncoras \u201ctop\u201d e \u201cbottom\u201d \u00e9 o mesmo das \u00e2ncoras \u201cleft\u201d e \u201cright\u201d, por\u00e9m agora no eixo Y. hitTest Boolean Depende do controle Define se o clique e movimento do mouse e o touch s\u00e3o capturados por este controle. cursor Enumerado: \"default\" \"arrow\" \"handPoint\" \"hourGlass\" \"IBeam\" \"size\" \"sizeNESW\" \"sizeNS\" \"sizeNWSE\" \"sizeWE\" \"upArrow\" \"drag\" \"noDrop\" \"hSplit\" \"vSplit\" \"multiDrag\" \"sqlWait\" \"no\" \"appStart\" \"help\" \"cross\" \"default\" Define qual cursor de mouse deve ser apresentado quando o mouse estiver em em cima do controle. OBS: hitTest deve ser \"true\" para esta propriedade ter efeito. \"default\" - Cursor padr\u00e3o, uma seta padr\u00e3o. \"arrow\" - Uma seta padr\u00e3o. \"handPoint\" - Uma m\u00e3o com um dedo apontando para cima. Normalmente \u00e9 usado para identificar um item selecion\u00e1vel/clic\u00e1vel \"hourGlass\" - Uma ampulheta para indicar um processo em andamento. \"IBeam\" - Cursor que sinaliza a possibilidade de entrar com texto no controle. \"size\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento. \"sizeNESW\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Nordeste-Sudoeste \"sizeNS\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Norte-Sul \"sizeNWSE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Noroeste-Sudeste \"sizeWE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Leste-Oeste \"upArrow\" - Uma seta apontando para cima. \"drag\" - Um cursor indicando que itens est\u00e3o sendo arrastados. \"noDrop\" - Indica\u00e7\u00e3o de que n\u00e3o \u00e9 poss\u00edvel arrastar para este alvo. \"hSplit\" - Indica\u00e7\u00e3o de splitter horizontal \"vSplit\" - Indica\u00e7\u00e3o de splitter vertical. \"multiDrag\" - Indica\u00e7\u00e3o de que v\u00e1rios itens est\u00e3o sendo arrastados. \"sqlWait\" - Ampulheta indicando um processo de banco de dados em andamento. \"no\" - Uma indica\u00e7\u00e3o de nega\u00e7\u00e3o, de que n\u00e3o \u00e9 poss\u00edvel fazer algo. \"appStart\" - Combina\u00e7\u00e3o de \"default\" e \"hourGlass\", normalmente usado para indicar que um aplicativo est\u00e1 sendo aberto. \"help\" - Uma seta com um ponto de interroga\u00e7\u00e3o. \"cross\" - Um cursor em formato de cruz, usado para indicar um posicionamento preciso. hint String \"\" Define um texto de ajuda que \u00e9 exibido quando o usu\u00e1rio deixar o mouse por um certo tempo em cima do controle. Esta propriedade s\u00f3 tem efeito se o atributo \"hitTest\" do controle for true. canFocus Boolean Depende do controle Define se o controle pode receber o foco do teclado. tabOrder Integer \\<autom\u00e1tico> Define um n\u00famero que representa a ordem de tabula\u00e7\u00e3o do controle, isto \u00e9, quando o usu\u00e1rio apertar TAB no teclado para pular para o pr\u00f3ximo controle de edi\u00e7\u00e3o. opacity Float 1.0 Define a transpar\u00eancia do controle. \u00c9 um n\u00famero real que varia de 0.0 a 1.0, onde: 0.0 \u2013 totalmente transparente 0.25 0.5 \u2013 parcialmente transparente 0.75 1.0 \u2013 totalmente opaco. rotationAngle Float 0.0 Define o \u00e2ngulo de rota\u00e7\u00e3o do controle. O \u00e2ngulo \u00e9 medido em graus. rotationCenterX Float \\<centro X do controle> Define o valor X da coordenada (X, Y) do piv\u00f4 de rota\u00e7\u00e3o do controle. Usado em conjunto com \u201crotationAngle\u201d rotationCenterY Float \\<centro Y do controle> Define o valor Y da coordenada (X, Y) do piv\u00f4 de rota\u00e7\u00e3o do controle. Usado em conjunto com \u201crotationAngle\u201d scaleX Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 largura do controle. scaleY Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 altura do controle. scale Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 largura e altura do controle. parent Um objeto nil Define ou retorna o objeto parent deste controle. N\u00e3o h\u00e1 necessidade de utilizar este atributo em tags de arquivos \".lfm\", pois o parent de cada tag j\u00e1 \u00e9 setada automaticamente conforme seu aninhamento. Veja tamb\u00e9m: Posi\u00e7\u00e3o e Tamanho dos Controles M\u00e9todos de todas as tags visuais \u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA. M\u00e9todo Descri\u00e7\u00e3o controle:destroy(); Destr\u00f3i o controle, liberando a mem\u00f3ria usada por ele. Ap\u00f3s a chamada \u201cdestroy\u201d, n\u00e3o \u00e9 mais poss\u00edvel utilizar o controle. Normalmente voc\u00ea n\u00e3o precisa se preocupar em destruir os controles, pois isto \u00e9 feito automaticamente. controle:setFocus(); Coloca o foco do teclado neste controle. controle:beginUpdate(); Coloca o controle num estado de \u201cem altera\u00e7\u00e3o\u201d. Neste estado, as altera\u00e7\u00f5es feitas nas propriedades n\u00e3o ser\u00e3o apresentadas na interface. \u00c9 \u00fatil quando se pretende alterar v\u00e1rias propriedades ou v\u00e1rias vezes, pois o processo fica mais r\u00e1pido, j\u00e1 que as mudan\u00e7as n\u00e3o ser\u00e3o apresentadas na tela de imediato. Para cada chamada de \u201cbeginUpdate\u201d, deve haver uma chamada de \u201cendUpdate\u201d. controle:endUpdate(); Tira o controle do estado \u201cem altera\u00e7\u00e3o\u201d, voltando a seu comportamento normal. Para cada chamada de \u201cbeginUpdate\u201d, deve haver uma chamada de \u201cendUpdate\u201d. controle:needRepaint(); Sinaliza o SDK3 que o controle precisa ser redesenhado na tela. Normalmente voc\u00ea n\u00e3o precisa se preocupar em chamar este m\u00e9todo! controle:getChildren(); Retorna um array (tabela lua com chaves de 1 a QUANTIDADE) contendo os controles que s\u00e3o filhos destes controles. Exemplo: --- controle:getParent(); Retorna o controle pai deste controle ou nil se n\u00e3o houver. controle:setParent(parent); Define o controle pai deste controle. Par\u00e2metros: parent \u2013 O objeto controle que ser\u00e1 pai deste controle ou nil. controle:isChildFocused(); Retorna um boolean (true ou false) indicando se este controle ou algum dos controles filhos est\u00e1 com o foco do teclado. controle:isFocused(); Retorna um boolean (true ou false) indicando se este controle est\u00e1 com o foco do teclado. controle:isMouseOver(); Retorna um boolean (true ou false) indicando se o mouse est\u00e1 por cima do controle (n\u00e3o necessariamenteclicado). controle:isVisible(); Retorna um boolean (true ou false) indicando se o controle est\u00e1 vis\u00edvel. controle:findControlByName( controlName); Procura outro controle atrav\u00e9s do nome passado pelo par\u00e2metro \u201ccontrolName\u201d em toda a hierarquia de controles onde este est\u00e1. Retorna o controle ou nil caso n\u00e3o encontre. controle:getClassName(); Retorna o nome da classe/tipo da tag deste controle. Exemplos: \"edit\", \"label\", \"layout\", etc.. Eventos de todas as tags visuais Nome do evento Descri\u00e7\u00e3o onClick Este evento \u00e9 invocado quando ocorre um click com o bot\u00e3o esquerdo do mouse no controle, ou quando ocorre um \u201ctap touch\u201d no controle. onDblClick Este evento \u00e9 invocado quando ocorre um clique duplo com o mouse no controle. onMouseDown Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 pressionado sobre o controle ou quando o dedo toca a tela (touchscreen). Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi pressionado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 pressionado (touchscreen), este valor \u00e9 \u201cleft\u201d. x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando onde o mouse foi pressionado. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando onde o mouse foi pressionado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\" onMouseMove Este evento \u00e9 invocado quando o mouse se movimenta pelo controle ou quando o dedo (touchscreen) \u00e9 arrastado. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando para onde o mouse moveu. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando para onde o mouse moveu. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\" onMouseUp Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 liberado sobre o controle ou quando o dedo solta da tela (touchscreen). Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi liberado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 levantado (touchscreen), este valor \u00e9 \u201cleft\u201d. x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando onde o mouse foi liberado. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando onde o mouse foi liberado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\" onMouseEnter Este evento \u00e9 invocado quando o mouse entra na \u00e1rea do controle. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\" onMouseLeave Este evento \u00e9 invocado quando o mouse sai da \u00e1rea do controle. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\"' onResize Este evento \u00e9 invocado quando o controle \u00e9 redimensionado onEnter Este evento \u00e9 invocado quando o controle recebe o foco do teclado onExit Este evento \u00e9 invocado quando o controle perde o foco do teclado. onKeyDown Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 pressionada. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos key - Cadeia de caracteres contendo a letra do teclado que foi pressionada keyCode \u2013 C\u00f3digo num\u00e9rico da tecla que foi pressionada (algumas teclas, como F7, por exemplo, n\u00e3o representam uma letra, da\u00ed a necessidade do keyCode) shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Se voc\u00ea alterar o valor de key e/ou keyCode, a mudan\u00e7a \u00e9 incorporada. Caso queira suprimir/ignorar a tecla que acabou de ser pressionada, atribua event.key = \"\" e event.keyCode = 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser um atalho, ent\u00e3o event.key vir\u00e1 com valor \"\" (string vazio) e event.keyCode com valor diferente de 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser tratada como um caractere exib\u00edvel, event.key vira com uma string contendo apenas este caracter e event.keyCode vir\u00e1 com valor igual a 0. onKeyUp Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 liberada. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m as mesmas propriedades descritas no evento onKeyDown mas com informa\u00e7\u00f5es sobre a tecla liberada. onMenu Este evento \u00e9 invocado quando o usu\u00e1rio deseja exibir o Menu do controle. Pode ser que o usu\u00e1rio clicou com bot\u00e3o direito do mouse, pressionou a tecla menu ou segurou por um longo tempo o dedo na tela (LongTouch). Par\u00e2metros: x - N\u00famero contendo onde, no eixo X da tela do usu\u00e1rio, o menu deve ser exibido. y - N\u00famero contendo onde, no eixo Y da tela do usu\u00e1rio, o menu deve ser exibido. onStartDrag Evento que \u00e9 chamado quando o usu\u00e1rio deseja iniciar o processo de arrastar-e-soltar informa\u00e7\u00f5es partindo deste controle e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do controle. Par\u00e2metros: drag - Objeto Drag o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y de onde o drop est\u00e1 tentando ser feito. Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop. Observa\u00e7\u00f5es: hitTest deve ser \"true\" para este evento poder ser chamado. onStartDrop Evento que \u00e9 chamado quando algu\u00e9m arrasta uma informa\u00e7\u00e3o em cima do controle e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do controle. Par\u00e2metros: drop - Objeto Drop o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y de onde o drop est\u00e1 tentando ser feito. drag - Objeto Drag representando a informa\u00e7\u00e3o que est\u00e1 sendo arrastada. Voc\u00ea n\u00e3o deve alterar as propriedades deste objeto. Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop. Observa\u00e7\u00f5es: hitTest deve ser \"true\" para este evento poder ser chamado. Veja tamb\u00e9m: Tratando eventos do Lua Form Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc","title":"Caracter\u00edsticas de todas as tags visuais"},{"location":"Caracteristicasdetodasastagsvisu/#caracteristicas-de-todas-as-tags-visuais","text":"","title":"Caracter\u00edsticas de todas as tags visuais"},{"location":"Caracteristicasdetodasastagsvisu/#caracteristicas-de-todas-as-tags-visuais_1","text":"O SDK3 utiliza o conceito de orienta\u00e7\u00e3o a objetos nos componentes visuais e todos os componentes visuais s\u00e3o objetos do tipo \u201ccontrole\u201d (heran\u00e7a, em orienta\u00e7\u00e3o a objetos). Isto significa que todos os componentes e tags visuais de arquivo LFM (edit, label, button, layout, etc..) possuem as caracter\u00edsticas, propriedades e m\u00e9todos descritos nesta se\u00e7\u00e3o.","title":"Caracter\u00edsticas de todas as tags visuais"},{"location":"Caracteristicasdetodasastagsvisu/#propriedades-e-atributos-de-todas-as-tags-visuais","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o visible Boolean true Define se o controle est\u00e1 vis\u00edvel ou invis\u00edvel. Um controle pode existir invis\u00edvel e ser exibido quando alguma condi\u00e7\u00e3o ou ocasi\u00e3o acontecer. enabled Boolean true Define se o controle est\u00e1 ativo ou n\u00e3o. Um controle inativo \u00e9 exibido na interface, mas n\u00e3o \u00e9 poss\u00edvel interagir com ele, como se tivesse bloqueado. name String \\<string vazio> Define um nome para o controle. O nome deve ser \u00fanico, isto \u00e9, dentro de um form , n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA. align Enumerado: \u201cnone\u201d \u201ctop\u201d \u201cleft\u201d \u201cbottom\u201d \u201cright\u201d \u201cclient\u201d \u201cnone\u201d Define o alinhamento visual do controle na interface. Com esta propriedade \u00e9 poss\u00edvel definir um comportamento padr\u00e3o de posicionamento e tamanho para os controles. none \u2013 O controle n\u00e3o sofrer\u00e1 nenhum tipo de posicionamento e redimensionamento autom\u00e1tico. top \u2013 O controle ser\u00e1 posicionado no topo de seu pai e a largura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de left, top e width s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a altura (height). left \u2013 O controle ser\u00e1 posicionado \u00e0 esquerda de seu pai e a altura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de \u201cleft\u201d, \u201ctop\u201d e \u201cheight\u201d s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a largura (width). bottom - O controle ser\u00e1 posicionado no rodap\u00e9 de seu pai e a largura \u00e9 calculada para preencher o espa\u00e7o. Os valores de left, top e width s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a altura (height). right \u2013 O controle ser\u00e1 posicionado \u00e0 direita de seu pai e a altura ser\u00e1 calculada para preencher o espa\u00e7o. Os valores de \u201cleft\u201d, \u201ctop\u201d e \u201cheight\u201d s\u00e3o calculados automaticamente, mas \u00e9 poss\u00edvel definir a largura (width). client \u2013 O controle ser\u00e1 posicionado de forma que ocupe toda a \u00e1rea de seu pai. Os valores de left, top, width e height s\u00e3o automaticamente calculados. left Float 0.0 Define a posi\u00e7\u00e3o X do controle. A posi\u00e7\u00e3o \u00e9 relativa a seu pai. Veja Posi\u00e7\u00e3o e Tamanho dos Controles. top Float 0.0 Define a posi\u00e7\u00e3o Y do controle. A posi\u00e7\u00e3o \u00e9 relativa a seu pai. Veja Posi\u00e7\u00e3o e Tamanho dos Controles. width Float Depende do controle Define a largura do controle. Veja Posi\u00e7\u00e3o e Tamanho dos Controles. height Float Depende do controle Define a altura do controle. Veja Posi\u00e7\u00e3o e Tamanho dos Controles. margins Bounds (Objeto Lua) {} Define o tamanho das margens do controle, isto \u00e9, o tamanho da \u201cborda invis\u00edvel\u201d que existe ao redor do controle que o separa do outros. Especialmente \u00fatil quando se usa a propriedade \u201calign\u201d. O valor desta propriedade \u00e9 uma tabela lua com os campos \u201cleft\u201d, \u201cright\u201d, \u201ctop\u201d e \u201cbottom\u201d, onde a omiss\u00e3o de algum campo representa o valor 0.0. Exemplos de valores: {} - left, right, top e bottom 0.0 {left = 5} - left 5, demais valores 0 {left = 5, top = 5} \u2013 left 5, top 5, right 0, bottom 0 {left = 5, right = 5, top = 5, bottom = 5} \u2013 todos os valores 5 padding Bounds (Objeto Lua) {} Define o tamanho do preenchimento do controle, isto \u00e9, o tamanho da \u201cborda invis\u00edvel\u201d que existe no interior do controle entre sua periferia e seu conte\u00fado. O valor desta propriedade \u00e9 uma tabela lua com os campos \u201cleft\u201d, \u201cright\u201d, \u201ctop\u201d e \u201cbottom\u201d, onde a omiss\u00e3o de algum campo representa o valor 0.0. anchors Conjunto de: left top right bottom \u201cleft top\u201d Define como o controle \u00e9 ancorado em seu pai. Quando o pai do controle \u00e9 redimensionado, o controle mant\u00e9m sua posi\u00e7\u00e3o relativa baseado em sua \u00e2ncora. Exemplos: \u201cleft\u201d presente , \u201dright\u201d ausente : O controle manter\u00e1 sempre a mesma posi\u00e7\u00e3o X. \u201cleft\u201d ausente , \u201cright\u201d presente : A posi\u00e7\u00e3o X ser\u00e1 calculada automaticamente para manter sempre a mesma dist\u00e2ncia entre sua borda direita e a borda direita de seu pai. \u201cleft\u201d e \u201cright\u201d presentes : O controle manter\u00e1 tanto a dist\u00e2ncia entre (1) sua borda esquerda com a borda esquerda de seu pai; (2) como sua borda direita com a borda direita de se pai. Para isso, a largura do componente ser\u00e1 alterada conforme o pai \u00e9 redimensionado. \u201cleft\u201d e \u201cright\u201d ausentes : O controle n\u00e3o est\u00e1 ancorado e ocorrer\u00e1 um efeito similar ao de centraliza\u00e7\u00e3o. O comportamento das \u00e2ncoras \u201ctop\u201d e \u201cbottom\u201d \u00e9 o mesmo das \u00e2ncoras \u201cleft\u201d e \u201cright\u201d, por\u00e9m agora no eixo Y. hitTest Boolean Depende do controle Define se o clique e movimento do mouse e o touch s\u00e3o capturados por este controle. cursor Enumerado: \"default\" \"arrow\" \"handPoint\" \"hourGlass\" \"IBeam\" \"size\" \"sizeNESW\" \"sizeNS\" \"sizeNWSE\" \"sizeWE\" \"upArrow\" \"drag\" \"noDrop\" \"hSplit\" \"vSplit\" \"multiDrag\" \"sqlWait\" \"no\" \"appStart\" \"help\" \"cross\" \"default\" Define qual cursor de mouse deve ser apresentado quando o mouse estiver em em cima do controle. OBS: hitTest deve ser \"true\" para esta propriedade ter efeito. \"default\" - Cursor padr\u00e3o, uma seta padr\u00e3o. \"arrow\" - Uma seta padr\u00e3o. \"handPoint\" - Uma m\u00e3o com um dedo apontando para cima. Normalmente \u00e9 usado para identificar um item selecion\u00e1vel/clic\u00e1vel \"hourGlass\" - Uma ampulheta para indicar um processo em andamento. \"IBeam\" - Cursor que sinaliza a possibilidade de entrar com texto no controle. \"size\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento. \"sizeNESW\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Nordeste-Sudoeste \"sizeNS\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Norte-Sul \"sizeNWSE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Noroeste-Sudeste \"sizeWE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Leste-Oeste \"upArrow\" - Uma seta apontando para cima. \"drag\" - Um cursor indicando que itens est\u00e3o sendo arrastados. \"noDrop\" - Indica\u00e7\u00e3o de que n\u00e3o \u00e9 poss\u00edvel arrastar para este alvo. \"hSplit\" - Indica\u00e7\u00e3o de splitter horizontal \"vSplit\" - Indica\u00e7\u00e3o de splitter vertical. \"multiDrag\" - Indica\u00e7\u00e3o de que v\u00e1rios itens est\u00e3o sendo arrastados. \"sqlWait\" - Ampulheta indicando um processo de banco de dados em andamento. \"no\" - Uma indica\u00e7\u00e3o de nega\u00e7\u00e3o, de que n\u00e3o \u00e9 poss\u00edvel fazer algo. \"appStart\" - Combina\u00e7\u00e3o de \"default\" e \"hourGlass\", normalmente usado para indicar que um aplicativo est\u00e1 sendo aberto. \"help\" - Uma seta com um ponto de interroga\u00e7\u00e3o. \"cross\" - Um cursor em formato de cruz, usado para indicar um posicionamento preciso. hint String \"\" Define um texto de ajuda que \u00e9 exibido quando o usu\u00e1rio deixar o mouse por um certo tempo em cima do controle. Esta propriedade s\u00f3 tem efeito se o atributo \"hitTest\" do controle for true. canFocus Boolean Depende do controle Define se o controle pode receber o foco do teclado. tabOrder Integer \\<autom\u00e1tico> Define um n\u00famero que representa a ordem de tabula\u00e7\u00e3o do controle, isto \u00e9, quando o usu\u00e1rio apertar TAB no teclado para pular para o pr\u00f3ximo controle de edi\u00e7\u00e3o. opacity Float 1.0 Define a transpar\u00eancia do controle. \u00c9 um n\u00famero real que varia de 0.0 a 1.0, onde: 0.0 \u2013 totalmente transparente 0.25 0.5 \u2013 parcialmente transparente 0.75 1.0 \u2013 totalmente opaco. rotationAngle Float 0.0 Define o \u00e2ngulo de rota\u00e7\u00e3o do controle. O \u00e2ngulo \u00e9 medido em graus. rotationCenterX Float \\<centro X do controle> Define o valor X da coordenada (X, Y) do piv\u00f4 de rota\u00e7\u00e3o do controle. Usado em conjunto com \u201crotationAngle\u201d rotationCenterY Float \\<centro Y do controle> Define o valor Y da coordenada (X, Y) do piv\u00f4 de rota\u00e7\u00e3o do controle. Usado em conjunto com \u201crotationAngle\u201d scaleX Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 largura do controle. scaleY Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 altura do controle. scale Float 1.0 Define o fator de escala que deve ser aplicado \u00e0 largura e altura do controle. parent Um objeto nil Define ou retorna o objeto parent deste controle. N\u00e3o h\u00e1 necessidade de utilizar este atributo em tags de arquivos \".lfm\", pois o parent de cada tag j\u00e1 \u00e9 setada automaticamente conforme seu aninhamento. Veja tamb\u00e9m: Posi\u00e7\u00e3o e Tamanho dos Controles","title":"Propriedades e atributos de todas as tags visuais"},{"location":"Caracteristicasdetodasastagsvisu/#metodos-de-todas-as-tags-visuais","text":"\u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA. M\u00e9todo Descri\u00e7\u00e3o controle:destroy(); Destr\u00f3i o controle, liberando a mem\u00f3ria usada por ele. Ap\u00f3s a chamada \u201cdestroy\u201d, n\u00e3o \u00e9 mais poss\u00edvel utilizar o controle. Normalmente voc\u00ea n\u00e3o precisa se preocupar em destruir os controles, pois isto \u00e9 feito automaticamente. controle:setFocus(); Coloca o foco do teclado neste controle. controle:beginUpdate(); Coloca o controle num estado de \u201cem altera\u00e7\u00e3o\u201d. Neste estado, as altera\u00e7\u00f5es feitas nas propriedades n\u00e3o ser\u00e3o apresentadas na interface. \u00c9 \u00fatil quando se pretende alterar v\u00e1rias propriedades ou v\u00e1rias vezes, pois o processo fica mais r\u00e1pido, j\u00e1 que as mudan\u00e7as n\u00e3o ser\u00e3o apresentadas na tela de imediato. Para cada chamada de \u201cbeginUpdate\u201d, deve haver uma chamada de \u201cendUpdate\u201d. controle:endUpdate(); Tira o controle do estado \u201cem altera\u00e7\u00e3o\u201d, voltando a seu comportamento normal. Para cada chamada de \u201cbeginUpdate\u201d, deve haver uma chamada de \u201cendUpdate\u201d. controle:needRepaint(); Sinaliza o SDK3 que o controle precisa ser redesenhado na tela. Normalmente voc\u00ea n\u00e3o precisa se preocupar em chamar este m\u00e9todo! controle:getChildren(); Retorna um array (tabela lua com chaves de 1 a QUANTIDADE) contendo os controles que s\u00e3o filhos destes controles. Exemplo: --- controle:getParent(); Retorna o controle pai deste controle ou nil se n\u00e3o houver. controle:setParent(parent); Define o controle pai deste controle. Par\u00e2metros: parent \u2013 O objeto controle que ser\u00e1 pai deste controle ou nil. controle:isChildFocused(); Retorna um boolean (true ou false) indicando se este controle ou algum dos controles filhos est\u00e1 com o foco do teclado. controle:isFocused(); Retorna um boolean (true ou false) indicando se este controle est\u00e1 com o foco do teclado. controle:isMouseOver(); Retorna um boolean (true ou false) indicando se o mouse est\u00e1 por cima do controle (n\u00e3o necessariamenteclicado). controle:isVisible(); Retorna um boolean (true ou false) indicando se o controle est\u00e1 vis\u00edvel. controle:findControlByName( controlName); Procura outro controle atrav\u00e9s do nome passado pelo par\u00e2metro \u201ccontrolName\u201d em toda a hierarquia de controles onde este est\u00e1. Retorna o controle ou nil caso n\u00e3o encontre. controle:getClassName(); Retorna o nome da classe/tipo da tag deste controle. Exemplos: \"edit\", \"label\", \"layout\", etc..","title":"M\u00e9todos de todas as tags visuais"},{"location":"Caracteristicasdetodasastagsvisu/#eventos-de-todas-as-tags-visuais","text":"Nome do evento Descri\u00e7\u00e3o onClick Este evento \u00e9 invocado quando ocorre um click com o bot\u00e3o esquerdo do mouse no controle, ou quando ocorre um \u201ctap touch\u201d no controle. onDblClick Este evento \u00e9 invocado quando ocorre um clique duplo com o mouse no controle. onMouseDown Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 pressionado sobre o controle ou quando o dedo toca a tela (touchscreen). Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi pressionado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 pressionado (touchscreen), este valor \u00e9 \u201cleft\u201d. x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando onde o mouse foi pressionado. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando onde o mouse foi pressionado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\" onMouseMove Este evento \u00e9 invocado quando o mouse se movimenta pelo controle ou quando o dedo (touchscreen) \u00e9 arrastado. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando para onde o mouse moveu. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando para onde o mouse moveu. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\" onMouseUp Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 liberado sobre o controle ou quando o dedo solta da tela (touchscreen). Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi liberado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 levantado (touchscreen), este valor \u00e9 \u201cleft\u201d. x \u2013 posi\u00e7\u00e3o X (relativa a este controle) indicando onde o mouse foi liberado. y \u2013 posi\u00e7\u00e3o Y (relativa a este controle) indicando onde o mouse foi liberado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\" onMouseEnter Este evento \u00e9 invocado quando o mouse entra na \u00e1rea do controle. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\" onMouseLeave Este evento \u00e9 invocado quando o mouse sai da \u00e1rea do controle. Observa\u00e7\u00f5es: Este evento s\u00f3 \u00e9 disparado se a propriedade hitTest do controle for \"true\"' onResize Este evento \u00e9 invocado quando o controle \u00e9 redimensionado onEnter Este evento \u00e9 invocado quando o controle recebe o foco do teclado onExit Este evento \u00e9 invocado quando o controle perde o foco do teclado. onKeyDown Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 pressionada. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos key - Cadeia de caracteres contendo a letra do teclado que foi pressionada keyCode \u2013 C\u00f3digo num\u00e9rico da tecla que foi pressionada (algumas teclas, como F7, por exemplo, n\u00e3o representam uma letra, da\u00ed a necessidade do keyCode) shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Se voc\u00ea alterar o valor de key e/ou keyCode, a mudan\u00e7a \u00e9 incorporada. Caso queira suprimir/ignorar a tecla que acabou de ser pressionada, atribua event.key = \"\" e event.keyCode = 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser um atalho, ent\u00e3o event.key vir\u00e1 com valor \"\" (string vazio) e event.keyCode com valor diferente de 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser tratada como um caractere exib\u00edvel, event.key vira com uma string contendo apenas este caracter e event.keyCode vir\u00e1 com valor igual a 0. onKeyUp Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 liberada. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m as mesmas propriedades descritas no evento onKeyDown mas com informa\u00e7\u00f5es sobre a tecla liberada. onMenu Este evento \u00e9 invocado quando o usu\u00e1rio deseja exibir o Menu do controle. Pode ser que o usu\u00e1rio clicou com bot\u00e3o direito do mouse, pressionou a tecla menu ou segurou por um longo tempo o dedo na tela (LongTouch). Par\u00e2metros: x - N\u00famero contendo onde, no eixo X da tela do usu\u00e1rio, o menu deve ser exibido. y - N\u00famero contendo onde, no eixo Y da tela do usu\u00e1rio, o menu deve ser exibido. onStartDrag Evento que \u00e9 chamado quando o usu\u00e1rio deseja iniciar o processo de arrastar-e-soltar informa\u00e7\u00f5es partindo deste controle e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do controle. Par\u00e2metros: drag - Objeto Drag o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y de onde o drop est\u00e1 tentando ser feito. Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop. Observa\u00e7\u00f5es: hitTest deve ser \"true\" para este evento poder ser chamado. onStartDrop Evento que \u00e9 chamado quando algu\u00e9m arrasta uma informa\u00e7\u00e3o em cima do controle e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do controle. Par\u00e2metros: drop - Objeto Drop o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y de onde o drop est\u00e1 tentando ser feito. drag - Objeto Drag representando a informa\u00e7\u00e3o que est\u00e1 sendo arrastada. Voc\u00ea n\u00e3o deve alterar as propriedades deste objeto. Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop. Observa\u00e7\u00f5es: hitTest deve ser \"true\" para este evento poder ser chamado.","title":"Eventos de todas as tags visuais"},{"location":"Caracteristicasdetodasastagsvisu/#veja-tambem","text":"Tratando eventos do Lua Form Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc","title":"Veja tamb\u00e9m:"},{"location":"Criandoumnovoprojetodeplugin/","text":"Criando um novo projeto de plug-in Criando um novo projeto de plug-in Crie uma nova pasta qualquer no computador. Abra o prompt de comando e navegue pelo prompt at\u00e9 a pasta criada. Execute o comando \u201crdk p\u201d, sem as aspas, dentro da pasta para transformar o diret\u00f3rio em um projeto de plug-in. V\u00e1 at\u00e9 a pasta criada, abra, em um editor de texto, o arquivo \u201cmodule.xml\u201d que foi criado pelo comando acima e o preencha . Saiba mais sobre este arquivo lendo O arquivo \u201cmodule.xml\u201d Exemplo passo a passo Criando uma nova pasta no computador:\\ \\ \\ \\ \\ Abrindo o prompt de comando e navegando at\u00e9 a pasta criada...\\ \\ \\ \\ \\ Executando o comando \"rdk p\"\\ \\ \\ Editando o arquivo \"module.xml\":\\ \\ \\ \\ Veja tamb\u00e9m Comando \u201crdk p\u201d . Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents","title":"Criando um novo projeto de plug-in"},{"location":"Criandoumnovoprojetodeplugin/#criando-um-novo-projeto-de-plug-in","text":"","title":"Criando um novo projeto de plug-in"},{"location":"Criandoumnovoprojetodeplugin/#criando-um-novo-projeto-de-plug-in_1","text":"Crie uma nova pasta qualquer no computador. Abra o prompt de comando e navegue pelo prompt at\u00e9 a pasta criada. Execute o comando \u201crdk p\u201d, sem as aspas, dentro da pasta para transformar o diret\u00f3rio em um projeto de plug-in. V\u00e1 at\u00e9 a pasta criada, abra, em um editor de texto, o arquivo \u201cmodule.xml\u201d que foi criado pelo comando acima e o preencha . Saiba mais sobre este arquivo lendo O arquivo \u201cmodule.xml\u201d","title":"Criando um novo projeto de plug-in"},{"location":"Criandoumnovoprojetodeplugin/#exemplo-passo-a-passo","text":"Criando uma nova pasta no computador:\\ \\ \\ \\ \\ Abrindo o prompt de comando e navegando at\u00e9 a pasta criada...\\ \\ \\ \\ \\ Executando o comando \"rdk p\"\\ \\ \\ Editando o arquivo \"module.xml\":\\ \\ \\ \\","title":"Exemplo passo a passo"},{"location":"Criandoumnovoprojetodeplugin/#veja-tambem","text":"Comando \u201crdk p\u201d . Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents","title":"Veja tamb\u00e9m"},{"location":"Criandoumpluginparavariosidiomas/","text":"Criando um plug-in para v\u00e1rios idiomas Criando um plug-in para v\u00e1rios idiomas O SDK3 possui recurso para obter textos para o idioma correto do usu\u00e1rio atual. Pendente: Explicar como fazer isso. Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Criando um plug-in para v\u00e1rios idiomas"},{"location":"Criandoumpluginparavariosidiomas/#criando-um-plug-in-para-varios-idiomas","text":"","title":"Criando um plug-in para v\u00e1rios idiomas"},{"location":"Criandoumpluginparavariosidiomas/#criando-um-plug-in-para-varios-idiomas_1","text":"O SDK3 possui recurso para obter textos para o idioma correto do usu\u00e1rio atual. Pendente: Explicar como fazer isso. Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Criando um plug-in para v\u00e1rios idiomas"},{"location":"Criarabasparaaficha/","text":"Criar abas para a ficha Criar abas para a ficha Para criar abas na ficha, voc\u00ea deve utilizar as tags tabControl e tab . Voc\u00ea cria 1 tag \"tabControl\" e adiciona, dentro, quantas tags \"tab\" quiser, uma para cada aba. Os controles de cada aba devem ser adicionados dentro de sua respectiva tag \"tab\". Para entender melhor, veja exemplos de tab e tabControl Veja tamb\u00e9m: Interfaces Visuais (Lua Forms) Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures","title":"Criar abas para a ficha"},{"location":"Criarabasparaaficha/#criar-abas-para-a-ficha","text":"","title":"Criar abas para a ficha"},{"location":"Criarabasparaaficha/#criar-abas-para-a-ficha_1","text":"Para criar abas na ficha, voc\u00ea deve utilizar as tags tabControl e tab . Voc\u00ea cria 1 tag \"tabControl\" e adiciona, dentro, quantas tags \"tab\" quiser, uma para cada aba. Os controles de cada aba devem ser adicionados dentro de sua respectiva tag \"tab\". Para entender melhor, veja exemplos de tab e tabControl Veja tamb\u00e9m: Interfaces Visuais (Lua Forms) Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures","title":"Criar abas para a ficha"},{"location":"Criarcamposcalculadosemfichas/","text":"Criar campos calculados em fichas Criar campos calculados em Fichas / Lua Forms. Os campos calculados s\u00e3o feitos usando a tag dataLink para definir c\u00e1lculos que devem ser executados quando houver mudan\u00e7a nos valores de alguns campos da ficha (NodeDatabase). Tutorial 1 - Campo calculado simples Neste tutorial, iremos fazer com que o label da interface abaixo sempre mostre o valor do c\u00e1lculo \"((campo forca) / 2 - 5) arredondado para baixo\". Importante: Note que o edit j\u00e1 est\u00e1 ligado ao campo \"forca\" da ficha/NodeDatabase \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<layout left=\"20\" top=\"20\" height=\"25\" width=\"200\" > \\<!-- Atributo --> \\<label align=\"left\" text=\"For\u00e7a: \" autoSize=\"true\" /> \\<edit align=\"client\" horzTextAlign=\"center\" field=\"forca\" /> \\<!-- Modificador --> \\<label align=\"right\" text=\"valor\" width=\"70\" horzTextAlign=\"center\" /> \\</layout> \\</form> Passo 1 - Associar o label a um campo do NodeDatabase/Ficha Vamos ligar o label a um campo chamado \"modificadorDeForca\": \\<label field=\"modificadorDeForca\" align=\"right\" text=\"valor\" width=\"70\" horzTextAlign=\"center\" /> Passo 2 - Criar uma tag dataLink Vamos criar uma tag dataLink e lig\u00e1-la ao campo \"forca\" para que possamos associar um c\u00f3digo LUA que ser\u00e1 executado sempre que o campo \"forca\" for alterado. \\<dataLink field=\"forca\" > \\</dataLink> Passo 3 - Criar uma tag event para tratar o evento \"onChange\" do dataLink que criamos. \\<dataLink field=\"forca\" > \\<event name=\"onChange\" > \\</event> \\</dataLink> Veja tamb\u00e9m: Tratando eventos do Lua Form Passo 4 - Escrever o c\u00f3digo LUA do c\u00e1lculo \\<dataLink field=\"forca\" > \\<event name=\"onChange\" > sheet.modificadorDeForca = math.floor(((sheet.forca or 10) / 2) - 5); \\</event> \\</dataLink> Aqui realmente colocamos o c\u00f3digo do c\u00e1lculo. O que este c\u00f3digo faz: Toda vez que o valor do campo \"forca\" mudar, atribui ao campo \"modificadorDeForca\" (\u00e0quele que o label foi conectado) o resultado de: o valor do campo \"forca\" (ou 10, caso ainda n\u00e3o tenha sido preenchido) dividido por 2, subtra\u00eddo em 5 e arredondado para baixo (math.floor). Passo 5 - Aprimorar o c\u00f3digo do c\u00e1lculo \\<dataLink field=\"forca\" > \\<event name=\"onChange\" > local mod = math.floor(((sheet.forca or 10) / 2) - 5); if (mod >= 0) then mod = \"+\" .. mod; end; sheet.modificadorDeForca = mod; \\</event> \\</dataLink> Colocamos uma condi\u00e7\u00e3o (um \"if\") para adicionar o caracter \"+\" na frente do resultado se for positivo ou zero. C\u00f3digo final do tutorial \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<!-- Aqui come\u00e7a o layout da ficha --> \\<layout left=\"20\" top=\"20\" height=\"25\" width=\"200\" > \\<!-- Atributo --> \\<label align=\"left\" text=\"For\u00e7a: \" autoSize=\"true\" /> \\<edit align=\"client\" horzTextAlign=\"center\" field=\"forca\" /> \\<!-- Modificador --> \\<label field=\"modificadorDeForca\" align=\"right\" text=\"valor\" width=\"70\" horzTextAlign=\"center\" /> \\</layout> \\<!-- Come\u00e7a aqui os c\u00e1lculos autom\u00e1ticos da ficha --> \\<dataLink field=\"forca\" > \\<event name=\"onChange\" > local mod = math.floor(((sheet.forca or 10) / 2) - 5); if (mod >= 0) then mod = \"+\" .. mod; end; sheet.modificadorDeForca = mod; \\</event> \\</dataLink> \\</form> Tutorial 2 - Criar um campo calculado que depende do valor de outros 3 campos Neste tutorial, vamos completar o tutorial 1 acima para adicionar um campo calculado chamado \"B\u00f4nus de Ataque Corpo-A-Corpo\", que ser\u00e1 igual \u00e0 soma dos seguintes campos: \"B\u00f4nus Base de Ataque\" (campo edit\u00e1vel) \"B\u00f4nus de Profici\u00eancia da Arma\" (campo edit\u00e1vel) Modificador de for\u00e7a (campo calculado). Considere que: O texto (label) apontado pela seta branca est\u00e1 ligado ao field \"modificadorDeForca\" A caixa de texto (edit) apontada pela seta vermelha est\u00e1 ligada ao field \"bonusBaseAtaque\" A caixa de texto apontada pela seta verde est\u00e1 ligada ao field \"bonusProficiencia\" O texto apontado pela seta azul est\u00e1 ligado ao field \"ataque\" Passo 1 - Criar uma tag dataLink que se conectar\u00e1, ao mesmo tempo, aos 3 campos necess\u00e1rios para o c\u00e1lculo: \\<dataLink fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\" > \\</dataLink> ATEN\u00c7\u00c2O : Para ligar um dataLink \u00e0 mais de 1 campo ao mesmo tempo, voc\u00ea deve usar o atributo \"fields\" do DataLink ao inv\u00e9s de \"field\" (Um est\u00e1 no plural, enquanto outro est\u00e1 no singular). Passo 2 - Criar uma tag event para tratar o evento \"onChange\" do dataLink que criamos. \\<dataLink fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\" > \\<event name=\"onChange\" > \\</event> \\</dataLink> Este evento ser\u00e1 chamado sempre que qualquer um dos campos informados em \"fields\" sofrer altera\u00e7\u00e3o. Passo 3 - Escrever o c\u00f3digo LUA do c\u00e1lculo \\<dataLink fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\" > \\<event name=\"onChange\" > sheet.ataque = (tonumber(sheet.modificadorDeForca) or 0) + (tonumber(sheet.bonusBaseAtaque) or 0) + (tonumber(sheet.bonusProficiencia) or 0); if sheet.ataque >= 0 then sheet.ataque = \"+\" .. sheet.ataque; end; \\</event> \\</dataLink> Sempre que o valor de algum dos campos ligados mudar (\"modificadorDeForca\", \"bonusBaseAtaque\" ou \"bonusProficiencia\"): o campo \"ataque\" receber\u00e1 a soma de: Valor do campo \"modificadorForca\" interpretado como n\u00famero (o valor campo pode n\u00e3o ser um n\u00famero v\u00e1lido, exemplo: \"ABC\") ou 0 caso n\u00e3o consiga interpretar como n\u00famero. Valor do campo \"bonusBaseAtaque\" interpretado como numero ou 0 caso n\u00e3o consiga interpretar como n\u00famero. Valor do campo \"bonusProficiencia\" interpretado como n\u00famero ou 0 caso n\u00e3o consiga interpretar como n\u00famero. Se o valor do campo \"ataque\" for maior ou igual a zero: Adiciona o caracter \"+\" na frente do valor. Veja tamb\u00e9m: Interfaces Visuais (Lua Forms) Tag dataLink Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em Lua Form Lua Form e NodeDatabase Outros Tutoriais Created with the Personal Edition of HelpNDoc: Free help authoring tool","title":"Criar campos calculados em fichas"},{"location":"Criarcamposcalculadosemfichas/#criar-campos-calculados-em-fichas","text":"","title":"Criar campos calculados em fichas"},{"location":"Criarcamposcalculadosemfichas/#criar-campos-calculados-em-fichas-lua-forms","text":"Os campos calculados s\u00e3o feitos usando a tag dataLink para definir c\u00e1lculos que devem ser executados quando houver mudan\u00e7a nos valores de alguns campos da ficha (NodeDatabase).","title":"Criar campos calculados em Fichas / Lua Forms."},{"location":"Criarcamposcalculadosemfichas/#tutorial-1-campo-calculado-simples","text":"Neste tutorial, iremos fazer com que o label da interface abaixo sempre mostre o valor do c\u00e1lculo \"((campo forca) / 2 - 5) arredondado para baixo\". Importante: Note que o edit j\u00e1 est\u00e1 ligado ao campo \"forca\" da ficha/NodeDatabase \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<layout left=\"20\" top=\"20\" height=\"25\" width=\"200\" > \\<!-- Atributo --> \\<label align=\"left\" text=\"For\u00e7a: \" autoSize=\"true\" /> \\<edit align=\"client\" horzTextAlign=\"center\" field=\"forca\" /> \\<!-- Modificador --> \\<label align=\"right\" text=\"valor\" width=\"70\" horzTextAlign=\"center\" /> \\</layout> \\</form>","title":"Tutorial 1 - Campo calculado simples"},{"location":"Criarcamposcalculadosemfichas/#passo-1-associar-o-label-a-um-campo-do-nodedatabaseficha","text":"Vamos ligar o label a um campo chamado \"modificadorDeForca\": \\<label field=\"modificadorDeForca\" align=\"right\" text=\"valor\" width=\"70\" horzTextAlign=\"center\" />","title":"Passo 1 - Associar o label a um campo do NodeDatabase/Ficha"},{"location":"Criarcamposcalculadosemfichas/#passo-2-criar-uma-tag-datalink","text":"Vamos criar uma tag dataLink e lig\u00e1-la ao campo \"forca\" para que possamos associar um c\u00f3digo LUA que ser\u00e1 executado sempre que o campo \"forca\" for alterado. \\<dataLink field=\"forca\" > \\</dataLink>","title":"Passo 2 - Criar uma tag dataLink"},{"location":"Criarcamposcalculadosemfichas/#passo-3-criar-uma-tag-event-para-tratar-o-evento-onchange-do-datalink-que-criamos","text":"\\<dataLink field=\"forca\" > \\<event name=\"onChange\" > \\</event> \\</dataLink> Veja tamb\u00e9m: Tratando eventos do Lua Form","title":"Passo 3 - Criar uma tag event para tratar o evento \"onChange\" do dataLink que criamos."},{"location":"Criarcamposcalculadosemfichas/#passo-4-escrever-o-codigo-lua-do-calculo","text":"\\<dataLink field=\"forca\" > \\<event name=\"onChange\" > sheet.modificadorDeForca = math.floor(((sheet.forca or 10) / 2) - 5); \\</event> \\</dataLink> Aqui realmente colocamos o c\u00f3digo do c\u00e1lculo. O que este c\u00f3digo faz: Toda vez que o valor do campo \"forca\" mudar, atribui ao campo \"modificadorDeForca\" (\u00e0quele que o label foi conectado) o resultado de: o valor do campo \"forca\" (ou 10, caso ainda n\u00e3o tenha sido preenchido) dividido por 2, subtra\u00eddo em 5 e arredondado para baixo (math.floor).","title":"Passo 4 - Escrever o c\u00f3digo LUA do c\u00e1lculo"},{"location":"Criarcamposcalculadosemfichas/#passo-5-aprimorar-o-codigo-do-calculo","text":"\\<dataLink field=\"forca\" > \\<event name=\"onChange\" > local mod = math.floor(((sheet.forca or 10) / 2) - 5); if (mod >= 0) then mod = \"+\" .. mod; end; sheet.modificadorDeForca = mod; \\</event> \\</dataLink> Colocamos uma condi\u00e7\u00e3o (um \"if\") para adicionar o caracter \"+\" na frente do resultado se for positivo ou zero.","title":"Passo 5 - Aprimorar o c\u00f3digo do c\u00e1lculo"},{"location":"Criarcamposcalculadosemfichas/#codigo-final-do-tutorial","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<!-- Aqui come\u00e7a o layout da ficha --> \\<layout left=\"20\" top=\"20\" height=\"25\" width=\"200\" > \\<!-- Atributo --> \\<label align=\"left\" text=\"For\u00e7a: \" autoSize=\"true\" /> \\<edit align=\"client\" horzTextAlign=\"center\" field=\"forca\" /> \\<!-- Modificador --> \\<label field=\"modificadorDeForca\" align=\"right\" text=\"valor\" width=\"70\" horzTextAlign=\"center\" /> \\</layout> \\<!-- Come\u00e7a aqui os c\u00e1lculos autom\u00e1ticos da ficha --> \\<dataLink field=\"forca\" > \\<event name=\"onChange\" > local mod = math.floor(((sheet.forca or 10) / 2) - 5); if (mod >= 0) then mod = \"+\" .. mod; end; sheet.modificadorDeForca = mod; \\</event> \\</dataLink> \\</form>","title":"C\u00f3digo final do tutorial"},{"location":"Criarcamposcalculadosemfichas/#tutorial-2-criar-um-campo-calculado-que-depende-do-valor-de-outros-3-campos","text":"Neste tutorial, vamos completar o tutorial 1 acima para adicionar um campo calculado chamado \"B\u00f4nus de Ataque Corpo-A-Corpo\", que ser\u00e1 igual \u00e0 soma dos seguintes campos: \"B\u00f4nus Base de Ataque\" (campo edit\u00e1vel) \"B\u00f4nus de Profici\u00eancia da Arma\" (campo edit\u00e1vel) Modificador de for\u00e7a (campo calculado). Considere que: O texto (label) apontado pela seta branca est\u00e1 ligado ao field \"modificadorDeForca\" A caixa de texto (edit) apontada pela seta vermelha est\u00e1 ligada ao field \"bonusBaseAtaque\" A caixa de texto apontada pela seta verde est\u00e1 ligada ao field \"bonusProficiencia\" O texto apontado pela seta azul est\u00e1 ligado ao field \"ataque\"","title":"Tutorial 2 - Criar um campo calculado que depende do valor de outros 3 campos"},{"location":"Criarcamposcalculadosemfichas/#passo-1-criar-uma-tag-datalink-que-se-conectara-ao-mesmo-tempo-aos-3-campos-necessarios-para-o-calculo","text":"\\<dataLink fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\" > \\</dataLink> ATEN\u00c7\u00c2O : Para ligar um dataLink \u00e0 mais de 1 campo ao mesmo tempo, voc\u00ea deve usar o atributo \"fields\" do DataLink ao inv\u00e9s de \"field\" (Um est\u00e1 no plural, enquanto outro est\u00e1 no singular).","title":"Passo 1 - Criar uma tag dataLink que se conectar\u00e1, ao mesmo tempo, aos 3 campos necess\u00e1rios para o c\u00e1lculo:"},{"location":"Criarcamposcalculadosemfichas/#passo-2-criar-uma-tag-event-para-tratar-o-evento-onchange-do-datalink-que-criamos","text":"\\<dataLink fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\" > \\<event name=\"onChange\" > \\</event> \\</dataLink> Este evento ser\u00e1 chamado sempre que qualquer um dos campos informados em \"fields\" sofrer altera\u00e7\u00e3o.","title":"Passo 2 - Criar uma tag event para tratar o evento \"onChange\" do dataLink que criamos."},{"location":"Criarcamposcalculadosemfichas/#passo-3-escrever-o-codigo-lua-do-calculo","text":"\\<dataLink fields=\"{'modificadorDeForca', 'bonusBaseAtaque', 'bonusProficiencia'}\" > \\<event name=\"onChange\" > sheet.ataque = (tonumber(sheet.modificadorDeForca) or 0) + (tonumber(sheet.bonusBaseAtaque) or 0) + (tonumber(sheet.bonusProficiencia) or 0); if sheet.ataque >= 0 then sheet.ataque = \"+\" .. sheet.ataque; end; \\</event> \\</dataLink> Sempre que o valor de algum dos campos ligados mudar (\"modificadorDeForca\", \"bonusBaseAtaque\" ou \"bonusProficiencia\"): o campo \"ataque\" receber\u00e1 a soma de: Valor do campo \"modificadorForca\" interpretado como n\u00famero (o valor campo pode n\u00e3o ser um n\u00famero v\u00e1lido, exemplo: \"ABC\") ou 0 caso n\u00e3o consiga interpretar como n\u00famero. Valor do campo \"bonusBaseAtaque\" interpretado como numero ou 0 caso n\u00e3o consiga interpretar como n\u00famero. Valor do campo \"bonusProficiencia\" interpretado como n\u00famero ou 0 caso n\u00e3o consiga interpretar como n\u00famero. Se o valor do campo \"ataque\" for maior ou igual a zero: Adiciona o caracter \"+\" na frente do valor.","title":"Passo 3 - Escrever o c\u00f3digo LUA do c\u00e1lculo"},{"location":"Criarcamposcalculadosemfichas/#veja-tambem","text":"Interfaces Visuais (Lua Forms) Tag dataLink Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em Lua Form Lua Form e NodeDatabase Outros Tutoriais Created with the Personal Edition of HelpNDoc: Free help authoring tool","title":"Veja tamb\u00e9m:"},{"location":"Criarumajanelaacoplaveldemesa/","text":"Criar uma janela acopl\u00e1vel de mesa Criar uma janela acopl\u00e1vel de mesa Uma janela acopl\u00e1vel de mesa segue os mesmos princ\u00edpios de um modelo de ficha. A \u00fanica diferen\u00e7a \u00e9 que voc\u00ea deve usar \"tablesDock\" na propriedade \"formType\" da tag Form. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmMinhaJanelaAcoplavel\" formType=\"tablesDock\" dataType=\"RRPG.DataTypeUnico.DaMinhaJanelaAcoplavel\" title=\"Minha Janela Acopl\u00e1vel\" > \\<label text=\"Ol\u00e1 Mundo\" /> ... Outras tags LFM e c\u00f3digos lua..... \\</form> Agora basta compilar seu plug-in que o RRPG far\u00e1 o resto =) Como dito anteriormente, janelas acopl\u00e1veis seguem os mesmos princ\u00edpios de modelos de fichas e salvam/carregam dados em um NodeDatabase da mesa. A propriedade \"dataType\" da tag Form serve para informar ao RRPG onde os dados devem ser salvos, e, portanto, uma vez definido, \u00e9 recomendado que n\u00e3o seja alterado. Todos da mesa que estiverem com esta janela acopl\u00e1vel aberta ler\u00e3o e salvar\u00e3o dados em um \u00fanico mesmo lugar: As mudan\u00e7as no NodeDatabase ser\u00e3o sincronizadas com todos da mesa! Leia tamb\u00e9m: Criando um novo projeto de plug-in Interfaces Visuais (Lua Forms) Lua Form e NodeDatabase Created with the Personal Edition of HelpNDoc: Save time and frustration with HelpNDoc's WinHelp HLP to CHM conversion feature","title":"Criar uma janela acopl\u00e1vel de mesa"},{"location":"Criarumajanelaacoplaveldemesa/#criar-uma-janela-acoplavel-de-mesa","text":"","title":"Criar uma janela acopl\u00e1vel de mesa"},{"location":"Criarumajanelaacoplaveldemesa/#criar-uma-janela-acoplavel-de-mesa_1","text":"Uma janela acopl\u00e1vel de mesa segue os mesmos princ\u00edpios de um modelo de ficha. A \u00fanica diferen\u00e7a \u00e9 que voc\u00ea deve usar \"tablesDock\" na propriedade \"formType\" da tag Form. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmMinhaJanelaAcoplavel\" formType=\"tablesDock\" dataType=\"RRPG.DataTypeUnico.DaMinhaJanelaAcoplavel\" title=\"Minha Janela Acopl\u00e1vel\" > \\<label text=\"Ol\u00e1 Mundo\" /> ... Outras tags LFM e c\u00f3digos lua..... \\</form> Agora basta compilar seu plug-in que o RRPG far\u00e1 o resto =) Como dito anteriormente, janelas acopl\u00e1veis seguem os mesmos princ\u00edpios de modelos de fichas e salvam/carregam dados em um NodeDatabase da mesa. A propriedade \"dataType\" da tag Form serve para informar ao RRPG onde os dados devem ser salvos, e, portanto, uma vez definido, \u00e9 recomendado que n\u00e3o seja alterado. Todos da mesa que estiverem com esta janela acopl\u00e1vel aberta ler\u00e3o e salvar\u00e3o dados em um \u00fanico mesmo lugar: As mudan\u00e7as no NodeDatabase ser\u00e3o sincronizadas com todos da mesa! Leia tamb\u00e9m: Criando um novo projeto de plug-in Interfaces Visuais (Lua Forms) Lua Form e NodeDatabase Created with the Personal Edition of HelpNDoc: Save time and frustration with HelpNDoc's WinHelp HLP to CHM conversion feature","title":"Criar uma janela acopl\u00e1vel de mesa"},{"location":"Criarumalistadinamicanaficha/","text":"Criar uma lista din\u00e2mica na ficha Criar uma lista din\u00e2mica na ficha Se voc\u00ea deseja adicionar uma uma lista din\u00e2mica de algo (com quantidade personalizada pelo usu\u00e1rio) em sua ficha, voc\u00ea deve utilizar a tag recordList . Exemplos: Uma lista de equipamentos Uma lista de ataques Uma lista de magias Voc\u00ea precisar\u00e1 ter, no m\u00ednimo, dois arquivos \".lfm\", um representando a ficha que cont\u00e9m a lista (a tag recordList) e um que descreve o painel que deve \"repetir\" para cada item desta lista. Para melhor compreender, veja este exemplo . Veja tamb\u00e9m: Interfaces Visuais (Lua Forms) Tag recordList Created with the Personal Edition of HelpNDoc: Write eBooks for the Kindle","title":"Criar uma lista din\u00e2mica na ficha"},{"location":"Criarumalistadinamicanaficha/#criar-uma-lista-dinamica-na-ficha","text":"","title":"Criar uma lista din\u00e2mica na ficha"},{"location":"Criarumalistadinamicanaficha/#criar-uma-lista-dinamica-na-ficha_1","text":"Se voc\u00ea deseja adicionar uma uma lista din\u00e2mica de algo (com quantidade personalizada pelo usu\u00e1rio) em sua ficha, voc\u00ea deve utilizar a tag recordList . Exemplos: Uma lista de equipamentos Uma lista de ataques Uma lista de magias Voc\u00ea precisar\u00e1 ter, no m\u00ednimo, dois arquivos \".lfm\", um representando a ficha que cont\u00e9m a lista (a tag recordList) e um que descreve o painel que deve \"repetir\" para cada item desta lista. Para melhor compreender, veja este exemplo . Veja tamb\u00e9m: Interfaces Visuais (Lua Forms) Tag recordList Created with the Personal Edition of HelpNDoc: Write eBooks for the Kindle","title":"Criar uma lista din\u00e2mica na ficha"},{"location":"Criarumalistadinamicapaineldedet/","text":"Criar uma lista din\u00e2mica + painel de detalhes Criar uma lista din\u00e2mica + painel de detalhes Este tutorial vai ensinar a criar uma lista din\u00e2mica de itens que, quando voc\u00ea selecionar um dos itens desta lista, exibe um painel detalhando as informa\u00e7\u00f5es sobre o item selecionado. \u00c9 recomendado voc\u00ea ler Criar uma lista din\u00e2mica na ficha antes, pois este tutorial utiliza a mesma ideia. Dois arquivos Lua Form (extens\u00e3o \".LFM\") Utilizaremos a tag recordList neste tutorial, portanto, voc\u00ea deve possuir dois arquivos \".lfm\": O arquivo Lua Form principal que cont\u00e9m a tag recordList O arquivo Lua Form Template dos Itens do Record List: Este form vai ser instanciado 1 vez para cada item na lista. Neste tutorial, chamaremos o arquivo Lua Form Principal de \"MinhaFicha.lfm\" e o arquivo Lua Form Template dos Itens de \"ItemDaLista.lfm\" Imagens \\ \\ \\ \\ \\ Sobre a implementa\u00e7\u00e3o A ideia para criar esta lista din\u00e2mica com painel de detalhes \u00e9 bem simples. Existem dois componentes chaves nesta ideia: Voc\u00ea precisa de um recordList que funcionar\u00e1 como uma lista onde o usu\u00e1rio possa escolher o item. Voc\u00ea precisar\u00e1 de um dataScopeBox que conter\u00e1 as tags que s\u00e3o apresentadas no painel de detalhes. Quando o usu\u00e1rio escolher um item no recordList (evento \"onSelect\" da tag recordList ), fazemos com que os componentes que est\u00e3o dentro do dataScopeBox passem a salvar/carregar dados neste item ao alterar o escopo de dados das tags que est\u00e3o dentro. Caso tenha d\u00favida sobre escopo de dados, veja Escopo de Dados no Lua Form C\u00f3digo Fonte Arquivo \u201cMinhaFicha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" theme=\"dark\" padding=\"{left=4, top=4, right=4, bottom=4}\" > \\<!-- Bot\u00e3o de inserir novo item \u00e0 lista --> \\<layout align=\"top\" height=\"30\" margins=\"{bottom=4}\" > \\<button text=\"Criar Novo Item\" width=\"150\" align=\"left\" > \\<event name=\"onClick\" > -- Usu\u00e1rio clicou no bot\u00e3o de criar novo item. -- Vamos inserir um novo item no nosso recordList * self.rclListaDosItens:append(); \\</event> \\</button> \\</layout> \\<!-- recordList, representando a lista --> \\<recordList name=\"rclListaDosItens\" field=\"campoDosItens\" templateForm=\"frmItemDaLista\" align=\"client\" selectable=\"true\" > \\<event name=\"onSelect\" > --[[ Este evento \u00e9 chamado quando o usu\u00e1rio selecionar/deselecionar itens da lista. Quando o usu\u00e1rio selecionar, vamos fazer nosso dataScopeBox (e todas as tag dentro dele) salvar e carregar dados no objeto Nodo (NodeDatabase) do item selecionado. --]] local node = self.rclListaDosItens.selectedNode; self.boxDetalhesDoItem.node = node; -- a caixa de detalhe s\u00f3 ficar\u00e1 vis\u00edvel se houver item selecionado self.boxDetalhesDoItem.visible = (node ~= nil); \\</event> \\</recordList> \\<!-- dataScopeBox representando a nossa caixa de detalhes --> \\<dataScopeBox name=\"boxDetalhesDoItem\" visible=\"false\" align=\"right\" width=\"400\" margins=\"{left=4, right=4}\" > \\<!-- Fa\u00e7a um layout \"bonito\" para sua caixa de detalhes =). Utilize a propriedade \"field\" nas tags aqui dentro --> \\<rectangle align=\"top\" color=\"black\" xradius=\"10\" yradius=\"10\" height=\"180\" padding=\"{top=3, left=3, right=3, bottom=3}\" > \\<layout align=\"top\" height=\"30\" margins=\"{bottom=4}\" > \\<label align=\"left\" text=\"Titulo do Item:\" autoSize=\"true\" /> \\<edit align=\"client\" field=\"campoTitulo\" /> \\</layout> \\<layout align=\"top\" height=\"130\" > \\<image align=\"left\" editable=\"true\" field=\"campoURLImagem\" width=\"130\" /> \\<layout align=\"client\" margins=\"{left=2}\" > \\<edit align=\"top\" field=\"campoSubTitulo\" height=\"30\" /> \\<textEditor align=\"top\" field=\"campoTextoGrande\" height=\"100\" /> \\</layout> \\</layout> \\</rectangle> \\</dataScopeBox> \\</form> * Arquivo \u201cItemDaLista.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItemDaLista\" height=\"50\" theme=\"dark\" > \\<layout align=\"client\" margins=\"{left=4, right=4, top=4, bottom=4}\" > \\<!-- Bot\u00e3o para apagar o item da lista --> \\<button align=\"left\" width=\"32\" text=\"X\" onClick=\"ndb.deleteNode(sheet);\" /> \\<!-- O t\u00edtulo do item que aparece na lista --> \\<label align=\"client\" text=\"Teste de label\" field=\"campoTitulo\" margins=\"{left=4}\" /> \\</layout> \\</form> Lista Din\u00e2mica + Painel de Detalhes alternativo C\u00f3digo Fonte Alternativo Arquivo \u201cMinhaFicha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" theme=\"dark\" padding=\"{left=4, top=4, right=4, bottom=4}\" > \\<!-- Bot\u00e3o de inserir novo item \u00e0 lista --> \\<layout align=\"top\" height=\"30\" margins=\"{bottom=4}\" > \\<button text=\"Criar Novo Item\" width=\"150\" align=\"left\" > \\<event name=\"onClick\" > -- Usu\u00e1rio clicou no bot\u00e3o de criar novo item. -- Vamos inserir um novo item no nosso recordList * self.rclListaDosItens:append(); \\</event> \\</button> \\</layout> \\<!-- recordList, representando a lista --> \\<recordList name=\"rclListaDosItens\" field=\"campoDosItens\" templateForm=\"frmItemDaLista\" align=\"top\" selectable=\"true\" layout=\"horizontal\" height=\"40\" > \\<event name=\"onSelect\" > --[[ Este evento \u00e9 chamado quando o usu\u00e1rio selecionar/deselecionar itens da lista. Quando o usu\u00e1rio selecionar, vamos fazer nosso dataScopeBox (e todas as tag dentro dele) salvar e carregar dados no objeto Nodo (NodeDatabase) do item selecionado. --]] local node = self.rclListaDosItens.selectedNode; self.boxDetalhesDoItem.node = node; -- a caixa de detalhe s\u00f3 ficar\u00e1 vis\u00edvel se houver item selecionado self.boxDetalhesDoItem.visible = (node ~= nil); \\</event> \\</recordList> \\<!-- dataScopeBox representando a nossa caixa de detalhes --> \\<dataScopeBox name=\"boxDetalhesDoItem\" visible=\"false\" align=\"client\" margins=\"{left=4, right=4, top=2}\" > \\<!-- Fa\u00e7a um layout \"bonito\" para sua caixa de detalhes =). Utilize a propriedade \"field\" nas tags aqui dentro --> \\<rectangle align=\"client\" color=\"black\" xradius=\"10\" yradius=\"10\" padding=\"{top=3, left=3, right=3, bottom=3}\" > \\<layout align=\"top\" height=\"30\" margins=\"{bottom=4}\" > \\<label align=\"left\" text=\"Titulo do Item:\" autoSize=\"true\" /> \\<edit align=\"client\" field=\"campoTitulo\" /> \\<!-- Bot\u00e3o de apagar o item --> \\<button align=\"right\" text=\"Apagar!\" margins=\"{left=4, right=4, top=2, bottom=2}\" width=\"150\" onClick=\"ndb.deleteNode(self.boxDetalhesDoItem.node);\" /> \\</layout> \\<layout align=\"top\" height=\"130\" > \\<image align=\"left\" editable=\"true\" field=\"campoURLImagem\" width=\"130\" /> \\<layout align=\"client\" margins=\"{left=2}\" > \\<edit align=\"top\" field=\"campoSubTitulo\" height=\"30\" /> \\<textEditor align=\"top\" field=\"campoTextoGrande\" height=\"100\" /> \\</layout> \\</layout> \\</rectangle> \\</dataScopeBox> \\</form> * Arquivo \u201cItemDaLista.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItemDaLista\" height=\"50\" width=\"100\" > \\<!-- O t\u00edtulo do item que aparece na lista --> \\<label align=\"client\" text=\"Teste de label\" field=\"campoTitulo\" margins=\"{left=4, right=4, top=4, bottom=4}\" /> \\<!-- Adicionar um valor padr\u00e3o para o campoTitulo caso esteja vazio. Isto \u00e9 especialmente \u00fatil em novos itens --> \\<dataLink field=\"campoTitulo\" defaultValue=\"Titulo Aqui\" /> \\</form> Incrementando o c\u00f3digo: Selecionar o primeiro item ao carregar os dados Trate o evento \" onEndEnumeration \" da tag recordList com o seguinte c\u00f3digo: \\<event name=\"onEndEnumeration\" > if self.rclListaDosItens.selectedNode == nil and sheet ~= nil then local nodes = ndb.getChildNodes(sheet.campoDosItens); if #nodes > 0 then self.rclListaDosItens.selectedNode = nodes[1]; end ; end ; \\</event> Veja Tratando eventos do Lua Form . Created with the Personal Edition of HelpNDoc: Powerful and User-Friendly Help Authoring Tool for Markdown Documents","title":"Criar uma lista din\u00e2mica + painel de detalhes"},{"location":"Criarumalistadinamicapaineldedet/#criar-uma-lista-dinamica-painel-de-detalhes","text":"","title":"Criar uma lista din\u00e2mica + painel de detalhes"},{"location":"Criarumalistadinamicapaineldedet/#criar-uma-lista-dinamica-painel-de-detalhes_1","text":"Este tutorial vai ensinar a criar uma lista din\u00e2mica de itens que, quando voc\u00ea selecionar um dos itens desta lista, exibe um painel detalhando as informa\u00e7\u00f5es sobre o item selecionado. \u00c9 recomendado voc\u00ea ler Criar uma lista din\u00e2mica na ficha antes, pois este tutorial utiliza a mesma ideia.","title":"Criar uma lista din\u00e2mica + painel de detalhes"},{"location":"Criarumalistadinamicapaineldedet/#dois-arquivos-lua-form-extensao-lfm","text":"Utilizaremos a tag recordList neste tutorial, portanto, voc\u00ea deve possuir dois arquivos \".lfm\": O arquivo Lua Form principal que cont\u00e9m a tag recordList O arquivo Lua Form Template dos Itens do Record List: Este form vai ser instanciado 1 vez para cada item na lista. Neste tutorial, chamaremos o arquivo Lua Form Principal de \"MinhaFicha.lfm\" e o arquivo Lua Form Template dos Itens de \"ItemDaLista.lfm\"","title":"Dois arquivos Lua Form (extens\u00e3o \".LFM\")"},{"location":"Criarumalistadinamicapaineldedet/#imagens","text":"\\ \\ \\ \\ \\","title":"Imagens"},{"location":"Criarumalistadinamicapaineldedet/#sobre-a-implementacao","text":"A ideia para criar esta lista din\u00e2mica com painel de detalhes \u00e9 bem simples. Existem dois componentes chaves nesta ideia: Voc\u00ea precisa de um recordList que funcionar\u00e1 como uma lista onde o usu\u00e1rio possa escolher o item. Voc\u00ea precisar\u00e1 de um dataScopeBox que conter\u00e1 as tags que s\u00e3o apresentadas no painel de detalhes. Quando o usu\u00e1rio escolher um item no recordList (evento \"onSelect\" da tag recordList ), fazemos com que os componentes que est\u00e3o dentro do dataScopeBox passem a salvar/carregar dados neste item ao alterar o escopo de dados das tags que est\u00e3o dentro. Caso tenha d\u00favida sobre escopo de dados, veja Escopo de Dados no Lua Form","title":"Sobre a implementa\u00e7\u00e3o"},{"location":"Criarumalistadinamicapaineldedet/#codigo-fonte","text":"Arquivo \u201cMinhaFicha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" theme=\"dark\" padding=\"{left=4, top=4, right=4, bottom=4}\" > \\<!-- Bot\u00e3o de inserir novo item \u00e0 lista --> \\<layout align=\"top\" height=\"30\" margins=\"{bottom=4}\" > \\<button text=\"Criar Novo Item\" width=\"150\" align=\"left\" > \\<event name=\"onClick\" > -- Usu\u00e1rio clicou no bot\u00e3o de criar novo item. -- Vamos inserir um novo item no nosso recordList * self.rclListaDosItens:append(); \\</event> \\</button> \\</layout> \\<!-- recordList, representando a lista --> \\<recordList name=\"rclListaDosItens\" field=\"campoDosItens\" templateForm=\"frmItemDaLista\" align=\"client\" selectable=\"true\" > \\<event name=\"onSelect\" > --[[ Este evento \u00e9 chamado quando o usu\u00e1rio selecionar/deselecionar itens da lista. Quando o usu\u00e1rio selecionar, vamos fazer nosso dataScopeBox (e todas as tag dentro dele) salvar e carregar dados no objeto Nodo (NodeDatabase) do item selecionado. --]] local node = self.rclListaDosItens.selectedNode; self.boxDetalhesDoItem.node = node; -- a caixa de detalhe s\u00f3 ficar\u00e1 vis\u00edvel se houver item selecionado self.boxDetalhesDoItem.visible = (node ~= nil); \\</event> \\</recordList> \\<!-- dataScopeBox representando a nossa caixa de detalhes --> \\<dataScopeBox name=\"boxDetalhesDoItem\" visible=\"false\" align=\"right\" width=\"400\" margins=\"{left=4, right=4}\" > \\<!-- Fa\u00e7a um layout \"bonito\" para sua caixa de detalhes =). Utilize a propriedade \"field\" nas tags aqui dentro --> \\<rectangle align=\"top\" color=\"black\" xradius=\"10\" yradius=\"10\" height=\"180\" padding=\"{top=3, left=3, right=3, bottom=3}\" > \\<layout align=\"top\" height=\"30\" margins=\"{bottom=4}\" > \\<label align=\"left\" text=\"Titulo do Item:\" autoSize=\"true\" /> \\<edit align=\"client\" field=\"campoTitulo\" /> \\</layout> \\<layout align=\"top\" height=\"130\" > \\<image align=\"left\" editable=\"true\" field=\"campoURLImagem\" width=\"130\" /> \\<layout align=\"client\" margins=\"{left=2}\" > \\<edit align=\"top\" field=\"campoSubTitulo\" height=\"30\" /> \\<textEditor align=\"top\" field=\"campoTextoGrande\" height=\"100\" /> \\</layout> \\</layout> \\</rectangle> \\</dataScopeBox> \\</form> * Arquivo \u201cItemDaLista.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItemDaLista\" height=\"50\" theme=\"dark\" > \\<layout align=\"client\" margins=\"{left=4, right=4, top=4, bottom=4}\" > \\<!-- Bot\u00e3o para apagar o item da lista --> \\<button align=\"left\" width=\"32\" text=\"X\" onClick=\"ndb.deleteNode(sheet);\" /> \\<!-- O t\u00edtulo do item que aparece na lista --> \\<label align=\"client\" text=\"Teste de label\" field=\"campoTitulo\" margins=\"{left=4}\" /> \\</layout> \\</form>","title":"C\u00f3digo Fonte"},{"location":"Criarumalistadinamicapaineldedet/#lista-dinamica-painel-de-detalhes-alternativo","text":"","title":"Lista Din\u00e2mica + Painel de Detalhes alternativo"},{"location":"Criarumalistadinamicapaineldedet/#codigo-fonte-alternativo","text":"Arquivo \u201cMinhaFicha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" theme=\"dark\" padding=\"{left=4, top=4, right=4, bottom=4}\" > \\<!-- Bot\u00e3o de inserir novo item \u00e0 lista --> \\<layout align=\"top\" height=\"30\" margins=\"{bottom=4}\" > \\<button text=\"Criar Novo Item\" width=\"150\" align=\"left\" > \\<event name=\"onClick\" > -- Usu\u00e1rio clicou no bot\u00e3o de criar novo item. -- Vamos inserir um novo item no nosso recordList * self.rclListaDosItens:append(); \\</event> \\</button> \\</layout> \\<!-- recordList, representando a lista --> \\<recordList name=\"rclListaDosItens\" field=\"campoDosItens\" templateForm=\"frmItemDaLista\" align=\"top\" selectable=\"true\" layout=\"horizontal\" height=\"40\" > \\<event name=\"onSelect\" > --[[ Este evento \u00e9 chamado quando o usu\u00e1rio selecionar/deselecionar itens da lista. Quando o usu\u00e1rio selecionar, vamos fazer nosso dataScopeBox (e todas as tag dentro dele) salvar e carregar dados no objeto Nodo (NodeDatabase) do item selecionado. --]] local node = self.rclListaDosItens.selectedNode; self.boxDetalhesDoItem.node = node; -- a caixa de detalhe s\u00f3 ficar\u00e1 vis\u00edvel se houver item selecionado self.boxDetalhesDoItem.visible = (node ~= nil); \\</event> \\</recordList> \\<!-- dataScopeBox representando a nossa caixa de detalhes --> \\<dataScopeBox name=\"boxDetalhesDoItem\" visible=\"false\" align=\"client\" margins=\"{left=4, right=4, top=2}\" > \\<!-- Fa\u00e7a um layout \"bonito\" para sua caixa de detalhes =). Utilize a propriedade \"field\" nas tags aqui dentro --> \\<rectangle align=\"client\" color=\"black\" xradius=\"10\" yradius=\"10\" padding=\"{top=3, left=3, right=3, bottom=3}\" > \\<layout align=\"top\" height=\"30\" margins=\"{bottom=4}\" > \\<label align=\"left\" text=\"Titulo do Item:\" autoSize=\"true\" /> \\<edit align=\"client\" field=\"campoTitulo\" /> \\<!-- Bot\u00e3o de apagar o item --> \\<button align=\"right\" text=\"Apagar!\" margins=\"{left=4, right=4, top=2, bottom=2}\" width=\"150\" onClick=\"ndb.deleteNode(self.boxDetalhesDoItem.node);\" /> \\</layout> \\<layout align=\"top\" height=\"130\" > \\<image align=\"left\" editable=\"true\" field=\"campoURLImagem\" width=\"130\" /> \\<layout align=\"client\" margins=\"{left=2}\" > \\<edit align=\"top\" field=\"campoSubTitulo\" height=\"30\" /> \\<textEditor align=\"top\" field=\"campoTextoGrande\" height=\"100\" /> \\</layout> \\</layout> \\</rectangle> \\</dataScopeBox> \\</form> * Arquivo \u201cItemDaLista.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItemDaLista\" height=\"50\" width=\"100\" > \\<!-- O t\u00edtulo do item que aparece na lista --> \\<label align=\"client\" text=\"Teste de label\" field=\"campoTitulo\" margins=\"{left=4, right=4, top=4, bottom=4}\" /> \\<!-- Adicionar um valor padr\u00e3o para o campoTitulo caso esteja vazio. Isto \u00e9 especialmente \u00fatil em novos itens --> \\<dataLink field=\"campoTitulo\" defaultValue=\"Titulo Aqui\" /> \\</form>","title":"C\u00f3digo Fonte Alternativo"},{"location":"Criarumalistadinamicapaineldedet/#incrementando-o-codigo-selecionar-o-primeiro-item-ao-carregar-os-dados","text":"Trate o evento \" onEndEnumeration \" da tag recordList com o seguinte c\u00f3digo: \\<event name=\"onEndEnumeration\" > if self.rclListaDosItens.selectedNode == nil and sheet ~= nil then local nodes = ndb.getChildNodes(sheet.campoDosItens); if #nodes > 0 then self.rclListaDosItens.selectedNode = nodes[1]; end ; end ; \\</event> Veja Tratando eventos do Lua Form . Created with the Personal Edition of HelpNDoc: Powerful and User-Friendly Help Authoring Tool for Markdown Documents","title":"Incrementando o c\u00f3digo: Selecionar o primeiro item ao carregar os dados"},{"location":"Criarumbotaoqueescondeitensdeuma/","text":"Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios. Aten\u00e7\u00e3o: Este \u00e9 um t\u00f3pico avan\u00e7ado e requer o conhecimento de como criar uma lista din\u00e2mica . Este tipo de funcionalidade \u00e9 \u00fatil quando em uma ficha ou em uma janela acopl\u00e1vel \u00e9 necess\u00e1rio esconder certos itens de certos usu\u00e1rios, por exemplo: NPCs - Talvez o mestre queira esconder determinado NPC dos jogadores Equipamentos - Talvez um jogador de um grupo possua um equipamento que o Mestre deseja que os demais jogadores n\u00e3o saibam de sua exist\u00eancia. Uma anota\u00e7\u00e3o secreta, que somente o mestre pode visualizar. Come\u00e7ando.... Vamos supor que voc\u00ea j\u00e1 tenha implementado em seu c\u00f3digo uma lista din\u00e2mica com a seguinte apar\u00eancia: e com o seguinte c\u00f3digo: Arquivo Principal \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"top\" height=\"30\" > \\<button align=\"left\" text=\"Novo\" onClick=\"self.rclLista:append();\" /> \\</layout> \\<recordList name=\"rclLista\" align=\"client\" field=\"itens\" templateForm=\"frmItem\" /> \\</form> Arquivo Secund\u00e1rio \u201citem.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItem\" height=\"30\" margins=\"{top=2,bottom=2}\" > \\<edit align=\"client\" field=\"descricao\" margins=\"{right=2}\" /> \\<button align=\"right\" text=\"Apagar\" width=\"80\" onClick=\"ndb.deleteNode(sheet);\" /> \\</form> Pr\u00f3ximos passos Para adicionar a funcionalidade de esconder item, voc\u00ea dever\u00e1 fazer as seguintes altera\u00e7\u00f5es em seu arquivo equivalente ao \"item.lfm\" (aquele que repete para cada item na lista): Criar um bot\u00e3o novo ou outra funcionalidade que permita o usu\u00e1rio clicar e realizar uma a\u00e7\u00e3o. Neste tutorial usaremos a tag imageCheckBox pelo simples fato de eu ach\u00e1-la bacana =).\\ \\<imageCheckBox name=\"cbxInvisivel\" align=\"right\" width=\"25\" margins=\"{left=2, right=2}\" checkedImage=\"images/invisivel.png\" uncheckedImage=\"images/visivel.png\" autoChange=\"false\" onClick=\"self:alternarVisibilidade();\" /> \\ Esta \u00e9 a imagem \"images/invisivel.png\": \\ Esta \u00e9 a imagem \"images/visivel.png: \\ Note que a propriedade autoChange foi setada para false para que a tag n\u00e3o mude automaticamente sua propriedade \"checked\". Note tamb\u00e9m que ao clicar no imageCheckBox, ser\u00e1 invocada a fun\u00e7\u00e3o \"self:alternarVisibilidade\" Criar o c\u00f3digo da fun\u00e7\u00e3o \"self:alternarVisibilidade\" que utiliza a fun\u00e7\u00e3o ndb.setPermission \\<script> function self:alternarVisibilidade() if self.cbxInvisivel.checked then -- o imageCheckbox est\u00e1 marcando como invisivel.. -- Vamos mudar as permiss\u00f5es para tornar visivel ent\u00e3o.. -- resetar as permiss\u00f5es de read dos jogadores e espectadores ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", nil); ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", nil; else -- o imageCheckbox est\u00e1 marcando como vis\u00edvel -- Vamos mudar as permiss\u00f5es para tornar invis\u00edvel ent\u00e3o... -- negar as permiss\u00f5es de read dos jogadores e espectadores ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", \"deny\"); ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", \"deny\"); end ; end ; \\</script> Criar um c\u00f3digo que fica respons\u00e1vel por atualizar o estado do imageCheckBox conforme as permiss\u00f5es existentes e alteradas:\\ \\ \\<script> function self:atualizarCbxInvisivel() -- Esta fun\u00e7\u00e3o \u00e9 chamada em v\u00e1rios pontos para atualizar o estado do checkbox de invisibilidade -- Marcar o checkbox se existir uma permiss\u00e3o \"read deny\" para jogadores ou para espectadores self.cbxInvisivel.checked = ndb.getPermission(sheet, \"group\", \"espectadores\", \"read\") == \"deny\" or ndb.getPermission(sheet, \"group\", \"jogadores\", \"read\") == \"deny\"; -- Permitir o click no checkbox apenas se o usu\u00e1rio atual possuir a permiss\u00e3o \"writePermissions\" self.cbxInvisivel.enabled = ndb.testPermission(sheet, \"writePermissions\"); end ; \\</script> \\ Veja tamb\u00e9m: Fun\u00e7\u00e3o ndb.getPermission Fun\u00e7\u00e3o ndb.testPermission Criar um NodeObserver que ser\u00e1 respons\u00e1vel por invocar a fun\u00e7\u00e3o acima \"self:atualizarCbxInvisivel\" quando ocorrer alguma mudan\u00e7a nas permiss\u00f5es do NodeDatabase. O NodeObserver ser\u00e1 criado no evento onScopeNodeChanged da tag Form \\<event name=\"onScopeNodeChanged\"> if self.observer ~= nil then -- J\u00e1 tinhamos criado um observer, vamos desativ\u00e1-lo. self.observer.enabled = false; self.observer = nil; end ; if sheet ~= nil then -- O form foi ligado a um NodeDatabase! -- Vamos criar um NodeObserver para este nodo. self.observer = ndb.newObserver(sheet); self.observer.onPermissionListChanged = function (node) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando -- as defini\u00e7\u00f5es de permiss\u00f5es de sheet mudarem self:atualizarCbxInvisivel(); end ; self.observer.onFinalPermissionsCouldBeChanged = function (node) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando -- minhas permiss\u00f5es em sheet puderem -- ter sido afetadas por altera\u00e7\u00f5es de permiss\u00f5es -- no NodeDatabase ou porque me tornei * -- mestre/jogador/espectador self:atualizarCbxInvisivel(); end ; -- Devemos atualizar o checkbox agora tamb\u00e9m * self:atualizarCbxInvisivel(); end ; \\</event> Resultado final O que aparece para os Mestres da mesa: O que os Jogadores e Espectadores da mesa veem: C\u00f3digo fonte final (sem os coment\u00e1rios) Arquivo Principal \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"top\" height=\"30\" > \\<button align=\"left\" text=\"Novo\" onClick=\"self.rclLista:append();\" /> \\</layout> \\<recordList name=\"rclLista\" align=\"client\" field=\"itens\" templateForm=\"frmItem\" /> \\</form> Arquivo Secund\u00e1rio \u201citem.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItem\" height=\"30\" margins=\"{top=2,bottom=2}\" > \\<script> function self:alternarVisibilidade() if self.cbxInvisivel.checked then ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", nil); ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", nil); else ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", \"deny\"); ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", \"deny\"); end; end; function self:atualizarCbxInvisivel() self.cbxInvisivel.checked = ndb.getPermission(sheet, \"group\", \"espectadores\", \"read\") == \"deny\" or ndb.getPermission(sheet, \"group\", \"jogadores\", \"read\") == \"deny\" self.cbxInvisivel.enabled = ndb.testPermission(sheet, \"writePermissions\"); end; \\</script> \\<edit align=\"client\" field=\"descricao\" margins=\"{right=2}\" /> \\<imageCheckBox name=\"cbxInvisivel\" align=\"right\" width=\"25\" margins=\"{left=2, right=2}\" checkedImage=\"images/invisivel.png\" uncheckedImage=\"images/visivel.png\" autoChange=\"false\" onClick=\"self:alternarVisibilidade();\" /> \\<button align=\"right\" text=\"Apagar\" width=\"80\" onClick=\"ndb.deleteNode(sheet);\" /> \\<event name=\"onScopeNodeChanged\" > if self.observer ~= nil then self.observer.enabled = false; self.observer = nil; end; if sheet ~= nil then self.observer = ndb.newObserver(sheet); self.observer.onPermissionListChanged = function(node) self:atualizarCbxInvisivel(); end; self.observer.onFinalPermissionsCouldBeChanged = function(node) self:atualizarCbxInvisivel(); end; self:atualizarCbxInvisivel(); end; \\</event> \\</form> Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface","title":"Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica"},{"location":"Criarumbotaoqueescondeitensdeuma/#criar-um-botao-que-esconde-itens-de-uma-lista-dinamica","text":"","title":"Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica"},{"location":"Criarumbotaoqueescondeitensdeuma/#criar-um-botao-que-esconde-itens-de-uma-lista-dinamica-de-alguns-usuarios","text":"Aten\u00e7\u00e3o: Este \u00e9 um t\u00f3pico avan\u00e7ado e requer o conhecimento de como criar uma lista din\u00e2mica . Este tipo de funcionalidade \u00e9 \u00fatil quando em uma ficha ou em uma janela acopl\u00e1vel \u00e9 necess\u00e1rio esconder certos itens de certos usu\u00e1rios, por exemplo: NPCs - Talvez o mestre queira esconder determinado NPC dos jogadores Equipamentos - Talvez um jogador de um grupo possua um equipamento que o Mestre deseja que os demais jogadores n\u00e3o saibam de sua exist\u00eancia. Uma anota\u00e7\u00e3o secreta, que somente o mestre pode visualizar.","title":"Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios."},{"location":"Criarumbotaoqueescondeitensdeuma/#comecando","text":"Vamos supor que voc\u00ea j\u00e1 tenha implementado em seu c\u00f3digo uma lista din\u00e2mica com a seguinte apar\u00eancia: e com o seguinte c\u00f3digo: Arquivo Principal \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"top\" height=\"30\" > \\<button align=\"left\" text=\"Novo\" onClick=\"self.rclLista:append();\" /> \\</layout> \\<recordList name=\"rclLista\" align=\"client\" field=\"itens\" templateForm=\"frmItem\" /> \\</form> Arquivo Secund\u00e1rio \u201citem.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItem\" height=\"30\" margins=\"{top=2,bottom=2}\" > \\<edit align=\"client\" field=\"descricao\" margins=\"{right=2}\" /> \\<button align=\"right\" text=\"Apagar\" width=\"80\" onClick=\"ndb.deleteNode(sheet);\" /> \\</form>","title":"Come\u00e7ando...."},{"location":"Criarumbotaoqueescondeitensdeuma/#proximos-passos","text":"Para adicionar a funcionalidade de esconder item, voc\u00ea dever\u00e1 fazer as seguintes altera\u00e7\u00f5es em seu arquivo equivalente ao \"item.lfm\" (aquele que repete para cada item na lista): Criar um bot\u00e3o novo ou outra funcionalidade que permita o usu\u00e1rio clicar e realizar uma a\u00e7\u00e3o. Neste tutorial usaremos a tag imageCheckBox pelo simples fato de eu ach\u00e1-la bacana =).\\ \\<imageCheckBox name=\"cbxInvisivel\" align=\"right\" width=\"25\" margins=\"{left=2, right=2}\" checkedImage=\"images/invisivel.png\" uncheckedImage=\"images/visivel.png\" autoChange=\"false\" onClick=\"self:alternarVisibilidade();\" /> \\ Esta \u00e9 a imagem \"images/invisivel.png\": \\ Esta \u00e9 a imagem \"images/visivel.png: \\ Note que a propriedade autoChange foi setada para false para que a tag n\u00e3o mude automaticamente sua propriedade \"checked\". Note tamb\u00e9m que ao clicar no imageCheckBox, ser\u00e1 invocada a fun\u00e7\u00e3o \"self:alternarVisibilidade\" Criar o c\u00f3digo da fun\u00e7\u00e3o \"self:alternarVisibilidade\" que utiliza a fun\u00e7\u00e3o ndb.setPermission \\<script> function self:alternarVisibilidade() if self.cbxInvisivel.checked then -- o imageCheckbox est\u00e1 marcando como invisivel.. -- Vamos mudar as permiss\u00f5es para tornar visivel ent\u00e3o.. -- resetar as permiss\u00f5es de read dos jogadores e espectadores ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", nil); ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", nil; else -- o imageCheckbox est\u00e1 marcando como vis\u00edvel -- Vamos mudar as permiss\u00f5es para tornar invis\u00edvel ent\u00e3o... -- negar as permiss\u00f5es de read dos jogadores e espectadores ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", \"deny\"); ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", \"deny\"); end ; end ; \\</script> Criar um c\u00f3digo que fica respons\u00e1vel por atualizar o estado do imageCheckBox conforme as permiss\u00f5es existentes e alteradas:\\ \\ \\<script> function self:atualizarCbxInvisivel() -- Esta fun\u00e7\u00e3o \u00e9 chamada em v\u00e1rios pontos para atualizar o estado do checkbox de invisibilidade -- Marcar o checkbox se existir uma permiss\u00e3o \"read deny\" para jogadores ou para espectadores self.cbxInvisivel.checked = ndb.getPermission(sheet, \"group\", \"espectadores\", \"read\") == \"deny\" or ndb.getPermission(sheet, \"group\", \"jogadores\", \"read\") == \"deny\"; -- Permitir o click no checkbox apenas se o usu\u00e1rio atual possuir a permiss\u00e3o \"writePermissions\" self.cbxInvisivel.enabled = ndb.testPermission(sheet, \"writePermissions\"); end ; \\</script> \\ Veja tamb\u00e9m: Fun\u00e7\u00e3o ndb.getPermission Fun\u00e7\u00e3o ndb.testPermission Criar um NodeObserver que ser\u00e1 respons\u00e1vel por invocar a fun\u00e7\u00e3o acima \"self:atualizarCbxInvisivel\" quando ocorrer alguma mudan\u00e7a nas permiss\u00f5es do NodeDatabase. O NodeObserver ser\u00e1 criado no evento onScopeNodeChanged da tag Form \\<event name=\"onScopeNodeChanged\"> if self.observer ~= nil then -- J\u00e1 tinhamos criado um observer, vamos desativ\u00e1-lo. self.observer.enabled = false; self.observer = nil; end ; if sheet ~= nil then -- O form foi ligado a um NodeDatabase! -- Vamos criar um NodeObserver para este nodo. self.observer = ndb.newObserver(sheet); self.observer.onPermissionListChanged = function (node) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando -- as defini\u00e7\u00f5es de permiss\u00f5es de sheet mudarem self:atualizarCbxInvisivel(); end ; self.observer.onFinalPermissionsCouldBeChanged = function (node) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando -- minhas permiss\u00f5es em sheet puderem -- ter sido afetadas por altera\u00e7\u00f5es de permiss\u00f5es -- no NodeDatabase ou porque me tornei * -- mestre/jogador/espectador self:atualizarCbxInvisivel(); end ; -- Devemos atualizar o checkbox agora tamb\u00e9m * self:atualizarCbxInvisivel(); end ; \\</event>","title":"Pr\u00f3ximos passos"},{"location":"Criarumbotaoqueescondeitensdeuma/#resultado-final","text":"O que aparece para os Mestres da mesa: O que os Jogadores e Espectadores da mesa veem:","title":"Resultado final"},{"location":"Criarumbotaoqueescondeitensdeuma/#codigo-fonte-final-sem-os-comentarios","text":"Arquivo Principal \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"top\" height=\"30\" > \\<button align=\"left\" text=\"Novo\" onClick=\"self.rclLista:append();\" /> \\</layout> \\<recordList name=\"rclLista\" align=\"client\" field=\"itens\" templateForm=\"frmItem\" /> \\</form> Arquivo Secund\u00e1rio \u201citem.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItem\" height=\"30\" margins=\"{top=2,bottom=2}\" > \\<script> function self:alternarVisibilidade() if self.cbxInvisivel.checked then ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", nil); ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", nil); else ndb.setPermission(sheet, \"group\", \"jogadores\", \"read\", \"deny\"); ndb.setPermission(sheet, \"group\", \"espectadores\", \"read\", \"deny\"); end; end; function self:atualizarCbxInvisivel() self.cbxInvisivel.checked = ndb.getPermission(sheet, \"group\", \"espectadores\", \"read\") == \"deny\" or ndb.getPermission(sheet, \"group\", \"jogadores\", \"read\") == \"deny\" self.cbxInvisivel.enabled = ndb.testPermission(sheet, \"writePermissions\"); end; \\</script> \\<edit align=\"client\" field=\"descricao\" margins=\"{right=2}\" /> \\<imageCheckBox name=\"cbxInvisivel\" align=\"right\" width=\"25\" margins=\"{left=2, right=2}\" checkedImage=\"images/invisivel.png\" uncheckedImage=\"images/visivel.png\" autoChange=\"false\" onClick=\"self:alternarVisibilidade();\" /> \\<button align=\"right\" text=\"Apagar\" width=\"80\" onClick=\"ndb.deleteNode(sheet);\" /> \\<event name=\"onScopeNodeChanged\" > if self.observer ~= nil then self.observer.enabled = false; self.observer = nil; end; if sheet ~= nil then self.observer = ndb.newObserver(sheet); self.observer.onPermissionListChanged = function(node) self:atualizarCbxInvisivel(); end; self.observer.onFinalPermissionsCouldBeChanged = function(node) self:atualizarCbxInvisivel(); end; self:atualizarCbxInvisivel(); end; \\</event> \\</form> Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface","title":"C\u00f3digo fonte final (sem os coment\u00e1rios)"},{"location":"CriarummodelodefichaapartirdeumP/","text":"Criar um modelo de ficha \u00e0 partir de um PDF Criar um modelo de ficha \u00e0 partir de um PDF edit\u00e1vel Voc\u00ea deve ter um projeto de plug-in j\u00e1 criado. Se voc\u00ea ainda n\u00e3o tem um projeto de plug-in, leia \" Criando um novo projeto de plug-in \" e crie o seu antes (\u00e9 bem f\u00e1cil =] )\\ \\ Abra o prompt de comando e navegue at\u00e9 a pasta de seu projeto de plug-in. \\ Execute o comando \"rdk pdf\" sem \u00e1spas no prompt de comando\\ \\ Uma p\u00e1gina como esta se abrir\u00e1 no navegador de internet (Sempre utilize um browser mais atualizado. Experimente o Google Chrome):\\ \\ \\ Clique em \"escolher arquivo\" e selecione o PDF que deseja converter. Se o Zoom padr\u00e3o de 1,5x deixar o conte\u00fado muito pequeno, escolha outro valor de escala que melhor se encaixar em seu PDF e clique em \"Aplicar Configura\u00e7\u00f5es\". Experimente outras configura\u00e7\u00f5es tamb\u00e9m! \\ \\ Clique em \"salvar todas as p\u00e1ginas\". Um arquivo \".zip\" que cont\u00e9m o PDF em formato .SVG ser\u00e1 gerado! Copie o arquivo .zip (gerado no passo anterior) para a pasta do projeto do plug-in. Volte no prompt de comando e execute \"rdk lfm \\<ArquivoZip.zip>\" sem as \u00e1spas e substituindo \\<ArquivoZip.zip> pelo nome do arquivo gerado no passo 6.\\ \\ \\ Volte na pasta projeto do plug-in e entre no sub-diret\u00f3rio criado pelo comando no passo anterior (Local onde cont\u00e9m os arquivos .lfm convertidos)\\ \\ Edite o arquivo .lfm principal (aquele que cont\u00e9m o mesmo nome do arquivo .PDF):\\ \\ \\ \\ Altere os atributos \"dataType\" e \"title\" do form para valores adequados:\\ dataType \u2013 Um texto que identifica qual \u00e9 o tipo de conte\u00fado do seu modelo de ficha. Voc\u00ea deve inventar um Data Type \u00fanico que possua ao menos cinco caracteres alfanum\u00e9ricos, \"_\" ou \".\" e que n\u00e3o comece com d\u00edgitos. Use a criatividade! Exemplos: \u201cbr.com.rrpg.DnD5_S3\u201d, \u201cbr.com.rrpg.VampiroAMascara\u201d, \u201cbr.com.meusite.MeuModeloDeFicha\u201d, \u201cmeuplugin.FichaX\u201d, etc..\\ title \u2013 O t\u00edtulo do seu modelo de ficha. Este texto aparecer\u00e1 na lista de fichas quando o usu\u00e1rio criar um personagem. Exemplos: \u201cDnD 5th\u201d, \u201cVampiro a M\u00e1scara\u201d, \u201cMeu modelo de ficha\u201d, etc..\\ \\ \\ Pronto! Agora voc\u00ea j\u00e1 pode excluir o arquivo \".zip\" que colocou na pasta projeto do plug-in e executar o comando \"rdk i\" para testar o modelo de ficha no RRPG =)\\ Se quiser, edite os arquivos \".lfm\" gerados em um editor de texto para complementar a ficha gerada! Observa\u00e7\u00f5es: Os c\u00e1lculos e scripts existentes no PDF n\u00e3o s\u00e3o convertidos automaticamente. Voc\u00ea deve recri\u00e1-los manualmente, se quiser. Leia o tutorial Criar campos calculados em fichas . Veja tamb\u00e9m: Testando o projeto de plug-in Veja outros tutoriais para completar seu plug-in. Caso queira adicionar mais funcionalidades ao modelo de ficha que acabou de criar, leia Interfaces visuais (Lua Forms) Disponibilizando o plug-in \\ Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with a Help Authoring Tool","title":"Criar um modelo de ficha \u00e0 partir de um PDF"},{"location":"CriarummodelodefichaapartirdeumP/#criar-um-modelo-de-ficha-a-partir-de-um-pdf","text":"","title":"Criar um modelo de ficha \u00e0 partir de um PDF"},{"location":"CriarummodelodefichaapartirdeumP/#criar-um-modelo-de-ficha-a-partir-de-um-pdf-editavel","text":"Voc\u00ea deve ter um projeto de plug-in j\u00e1 criado. Se voc\u00ea ainda n\u00e3o tem um projeto de plug-in, leia \" Criando um novo projeto de plug-in \" e crie o seu antes (\u00e9 bem f\u00e1cil =] )\\ \\ Abra o prompt de comando e navegue at\u00e9 a pasta de seu projeto de plug-in. \\ Execute o comando \"rdk pdf\" sem \u00e1spas no prompt de comando\\ \\ Uma p\u00e1gina como esta se abrir\u00e1 no navegador de internet (Sempre utilize um browser mais atualizado. Experimente o Google Chrome):\\ \\ \\ Clique em \"escolher arquivo\" e selecione o PDF que deseja converter. Se o Zoom padr\u00e3o de 1,5x deixar o conte\u00fado muito pequeno, escolha outro valor de escala que melhor se encaixar em seu PDF e clique em \"Aplicar Configura\u00e7\u00f5es\". Experimente outras configura\u00e7\u00f5es tamb\u00e9m! \\ \\ Clique em \"salvar todas as p\u00e1ginas\". Um arquivo \".zip\" que cont\u00e9m o PDF em formato .SVG ser\u00e1 gerado! Copie o arquivo .zip (gerado no passo anterior) para a pasta do projeto do plug-in. Volte no prompt de comando e execute \"rdk lfm \\<ArquivoZip.zip>\" sem as \u00e1spas e substituindo \\<ArquivoZip.zip> pelo nome do arquivo gerado no passo 6.\\ \\ \\ Volte na pasta projeto do plug-in e entre no sub-diret\u00f3rio criado pelo comando no passo anterior (Local onde cont\u00e9m os arquivos .lfm convertidos)\\ \\ Edite o arquivo .lfm principal (aquele que cont\u00e9m o mesmo nome do arquivo .PDF):\\ \\ \\ \\ Altere os atributos \"dataType\" e \"title\" do form para valores adequados:\\ dataType \u2013 Um texto que identifica qual \u00e9 o tipo de conte\u00fado do seu modelo de ficha. Voc\u00ea deve inventar um Data Type \u00fanico que possua ao menos cinco caracteres alfanum\u00e9ricos, \"_\" ou \".\" e que n\u00e3o comece com d\u00edgitos. Use a criatividade! Exemplos: \u201cbr.com.rrpg.DnD5_S3\u201d, \u201cbr.com.rrpg.VampiroAMascara\u201d, \u201cbr.com.meusite.MeuModeloDeFicha\u201d, \u201cmeuplugin.FichaX\u201d, etc..\\ title \u2013 O t\u00edtulo do seu modelo de ficha. Este texto aparecer\u00e1 na lista de fichas quando o usu\u00e1rio criar um personagem. Exemplos: \u201cDnD 5th\u201d, \u201cVampiro a M\u00e1scara\u201d, \u201cMeu modelo de ficha\u201d, etc..\\ \\ \\ Pronto! Agora voc\u00ea j\u00e1 pode excluir o arquivo \".zip\" que colocou na pasta projeto do plug-in e executar o comando \"rdk i\" para testar o modelo de ficha no RRPG =)\\ Se quiser, edite os arquivos \".lfm\" gerados em um editor de texto para complementar a ficha gerada!","title":"Criar um modelo de ficha \u00e0 partir de um PDF edit\u00e1vel"},{"location":"CriarummodelodefichaapartirdeumP/#observacoes","text":"Os c\u00e1lculos e scripts existentes no PDF n\u00e3o s\u00e3o convertidos automaticamente. Voc\u00ea deve recri\u00e1-los manualmente, se quiser. Leia o tutorial Criar campos calculados em fichas .","title":"Observa\u00e7\u00f5es:"},{"location":"CriarummodelodefichaapartirdeumP/#veja-tambem","text":"Testando o projeto de plug-in Veja outros tutoriais para completar seu plug-in. Caso queira adicionar mais funcionalidades ao modelo de ficha que acabou de criar, leia Interfaces visuais (Lua Forms) Disponibilizando o plug-in \\ Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with a Help Authoring Tool","title":"Veja tamb\u00e9m:"},{"location":"Disponibilizandoumplugin/","text":"Disponibilizando um plug-in Disponibilizando um plug-in Agora que voc\u00ea j\u00e1 fez e testou seu plug-in, est\u00e1 na hora de o tornar dispon\u00edvel a outras pessoas! Onde est\u00e1 o plug-in que criei? Ao compilar seu projeto ( comando \"rdk i\" ou comando \"rdk c\" ), o arquivo final de seu plug-in \u00e9 colocado dentro sub-pasta \"output\" do projeto. Distribui\u00e7\u00e3o manual Envie para os outros o arquivo que est\u00e1 dentro da sub-pasta \"output\"! (Um arquivo de extens\u00e3o \".rpk\") Instala\u00e7\u00e3o manual do plug-in \u00c9 bem simples: Se a pessoa j\u00e1 possuir o RRPG Firecast instalado, ela s\u00f3 precisa \"dar 2 cliques\" no arquivo baixado e o processo de instala\u00e7\u00e3o se iniciar\u00e1. Uma maneira alternativa de instalar o plug-in \u00e9 ir ao menu de plug-ins do RRPG, clicar no bot\u00e3o \"instalar\" e escolher o arquivo \".rpk\" baixado. Ap\u00f3s a instala\u00e7\u00e3o manual, o arquivo \".rpk\" pode ser exclu\u00eddo pois n\u00e3o interferir\u00e1 no funcionamento do plug-in! Created with the Personal Edition of HelpNDoc: Generate Kindle eBooks with ease","title":"Disponibilizando um plug-in"},{"location":"Disponibilizandoumplugin/#disponibilizando-um-plug-in","text":"","title":"Disponibilizando um plug-in"},{"location":"Disponibilizandoumplugin/#disponibilizando-um-plug-in_1","text":"Agora que voc\u00ea j\u00e1 fez e testou seu plug-in, est\u00e1 na hora de o tornar dispon\u00edvel a outras pessoas!","title":"Disponibilizando um plug-in"},{"location":"Disponibilizandoumplugin/#onde-esta-o-plug-in-que-criei","text":"Ao compilar seu projeto ( comando \"rdk i\" ou comando \"rdk c\" ), o arquivo final de seu plug-in \u00e9 colocado dentro sub-pasta \"output\" do projeto.","title":"Onde est\u00e1 o plug-in que criei?"},{"location":"Disponibilizandoumplugin/#distribuicao-manual","text":"Envie para os outros o arquivo que est\u00e1 dentro da sub-pasta \"output\"! (Um arquivo de extens\u00e3o \".rpk\")","title":"Distribui\u00e7\u00e3o manual"},{"location":"Disponibilizandoumplugin/#instalacao-manual-do-plug-in","text":"\u00c9 bem simples: Se a pessoa j\u00e1 possuir o RRPG Firecast instalado, ela s\u00f3 precisa \"dar 2 cliques\" no arquivo baixado e o processo de instala\u00e7\u00e3o se iniciar\u00e1. Uma maneira alternativa de instalar o plug-in \u00e9 ir ao menu de plug-ins do RRPG, clicar no bot\u00e3o \"instalar\" e escolher o arquivo \".rpk\" baixado. Ap\u00f3s a instala\u00e7\u00e3o manual, o arquivo \".rpk\" pode ser exclu\u00eddo pois n\u00e3o interferir\u00e1 no funcionamento do plug-in! Created with the Personal Edition of HelpNDoc: Generate Kindle eBooks with ease","title":"Instala\u00e7\u00e3o manual do plug-in"},{"location":"DividindooarquivoLuaFormemdocume/","text":"Dividindo o arquivo Lua Form em documentos menores Dividindo o arquivo Lua Form em documentos menores Se seu arquivo .lfm cresceu e est\u00e1 muito grande, saiba que \u00e9 poss\u00edvel organiz\u00e1-lo em documentos XML menores! Saiba mais lendo Tag import. Created with the Personal Edition of HelpNDoc: Eliminate the Struggles of Documentation with a Help Authoring Tool","title":"Dividindo o arquivo Lua Form em documentos menores"},{"location":"DividindooarquivoLuaFormemdocume/#dividindo-o-arquivo-lua-form-em-documentos-menores","text":"","title":"Dividindo o arquivo Lua Form em documentos menores"},{"location":"DividindooarquivoLuaFormemdocume/#dividindo-o-arquivo-lua-form-em-documentos-menores_1","text":"Se seu arquivo .lfm cresceu e est\u00e1 muito grande, saiba que \u00e9 poss\u00edvel organiz\u00e1-lo em documentos XML menores! Saiba mais lendo Tag import. Created with the Personal Edition of HelpNDoc: Eliminate the Struggles of Documentation with a Help Authoring Tool","title":"Dividindo o arquivo Lua Form em documentos menores"},{"location":"DocumentosXML/","text":"Documentos XML Documentos XML XML s\u00e3o documentos usados para guardar e catalogar informa\u00e7\u00f5es de forma intuitiva e flex\u00edvel, e servem para diversas finalidades! Importante : Os documentos XMLs possuem \u201cum rosto\u201d diferente para cada finalidade. Exemplo: Enquanto um XML de interface possui um conjunto de informa\u00e7\u00f5es e marca\u00e7\u00f5es espec\u00edficas, um XML de informa\u00e7\u00f5es do plugin possui outro conjunto distinto de informa\u00e7\u00f5es e marca\u00e7\u00f5es espec\u00edficas. Haver\u00e1 uma documenta\u00e7\u00e3o pr\u00f3pria para guiar seus passos em cada uma dessas finalidades! Links \u00fateis: XML na wikipedia: http://pt.wikipedia.org/wiki/XML Introdu\u00e7\u00e3o ao XML: http://www.macoratti.net/xml.htm Se voc\u00ea est\u00e1 tendo problemas com os documentos XML, eis aqui algumas dicas: Certifique que as marca\u00e7\u00f5es/tags abertas est\u00e3o sendo fechadas corretamente. Nomes de marca\u00e7\u00f5es s\u00e3o case-sensitives e precisam ser exatamente iguais \u00e0 marca\u00e7\u00e3o de abertura. Certifique que as marca\u00e7\u00f5es usadas s\u00e3o v\u00e1lidas para a finalidade desejada. Alguns caracteres s\u00e3o reservados para controle do XML. Se voc\u00ea precisar deles mesmo assim, \u00e9 preciso fazer substitui\u00e7\u00e3o por um c\u00f3digo especial. Veja Lidando com caracteres reservados do XML. Em caso de erro relacionado \u00e0 codifica\u00e7\u00e3o do texto, cerifique-se que o documento possui um cabe\u00e7alho XML identificando corretamente a codifica\u00e7\u00e3o do documento. O cabe\u00e7alho \u00e9 a primeira linha do documento, onde: Se o documento estiver codificado em UTF-8, o cabe\u00e7alho deve ser: \\<?xml version=\"1.0\" encoding=\"UTF-8\"?> Se voc\u00ea n\u00e3o sabe a codifica\u00e7\u00e3o do documento, talvez o cabe\u00e7alho correto seja: \\<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?> Lidando com caracteres reservados do XML Alguns caracteres s\u00e3o reservados para controle do XML. Se voc\u00ea precisar deles mesmo assim, \u00e9 preciso fazer substitui\u00e7\u00e3o por um c\u00f3digo especial: Tabela de caracteres reservados: Caractere reservado Substitui\u00e7\u00e3o \\< \\< > \\> \\& \\& \u2018 \\' \u201c \\\" Exemplos de substitui\u00e7\u00e3o: \\<label text=\u201dD\\&D\u201d/> \\ Substitui\u00e7\u00e3o de \"\\&\" por \"\\&\" ... Cont\u00e9m \"D\\&D\"\\ \\<button text=\u201d20 \\> 10\u201d/> \\ Substitui\u00e7\u00e3o de \">\" por \"\\&gt\"; .... Cont\u00e9m \"20 > 10\" CDATA Voc\u00ea tamb\u00e9m pode utilizar blocos CDATA para evitar fazer substitui\u00e7\u00f5es, o que \u00e9 \u00fatil em c\u00f3digos LUA dentro de XML. \\ Saiba mais em http://en.wikipedia.org/wiki/CDATA Exemplo de CDATA \\<event name=\"onResize\" > \\<![CDATA[ local teste = \"D\\&D\"; if (x \\< y) or (x > z) then local teste = 'D\\&D 4.0'; end; ]]> \\</event> N\u00e3o \u00e9 preciso fazer nenhuma substitui\u00e7\u00e3o de caracteres reservados dentro de um bloco CDATA. Observa\u00e7\u00e3o: S\u00f3 \u00e9 poss\u00edvel utilizar CDATA no corpo de um nodo do XML. N\u00e3o \u00e9 poss\u00edvel usar CDATA no valor de um atributo, por exemplo. Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework","title":"Documentos XML"},{"location":"DocumentosXML/#documentos-xml","text":"","title":"Documentos XML"},{"location":"DocumentosXML/#documentos-xml_1","text":"XML s\u00e3o documentos usados para guardar e catalogar informa\u00e7\u00f5es de forma intuitiva e flex\u00edvel, e servem para diversas finalidades! Importante : Os documentos XMLs possuem \u201cum rosto\u201d diferente para cada finalidade. Exemplo: Enquanto um XML de interface possui um conjunto de informa\u00e7\u00f5es e marca\u00e7\u00f5es espec\u00edficas, um XML de informa\u00e7\u00f5es do plugin possui outro conjunto distinto de informa\u00e7\u00f5es e marca\u00e7\u00f5es espec\u00edficas. Haver\u00e1 uma documenta\u00e7\u00e3o pr\u00f3pria para guiar seus passos em cada uma dessas finalidades! Links \u00fateis: XML na wikipedia: http://pt.wikipedia.org/wiki/XML Introdu\u00e7\u00e3o ao XML: http://www.macoratti.net/xml.htm Se voc\u00ea est\u00e1 tendo problemas com os documentos XML, eis aqui algumas dicas: Certifique que as marca\u00e7\u00f5es/tags abertas est\u00e3o sendo fechadas corretamente. Nomes de marca\u00e7\u00f5es s\u00e3o case-sensitives e precisam ser exatamente iguais \u00e0 marca\u00e7\u00e3o de abertura. Certifique que as marca\u00e7\u00f5es usadas s\u00e3o v\u00e1lidas para a finalidade desejada. Alguns caracteres s\u00e3o reservados para controle do XML. Se voc\u00ea precisar deles mesmo assim, \u00e9 preciso fazer substitui\u00e7\u00e3o por um c\u00f3digo especial. Veja Lidando com caracteres reservados do XML. Em caso de erro relacionado \u00e0 codifica\u00e7\u00e3o do texto, cerifique-se que o documento possui um cabe\u00e7alho XML identificando corretamente a codifica\u00e7\u00e3o do documento. O cabe\u00e7alho \u00e9 a primeira linha do documento, onde: Se o documento estiver codificado em UTF-8, o cabe\u00e7alho deve ser: \\<?xml version=\"1.0\" encoding=\"UTF-8\"?> Se voc\u00ea n\u00e3o sabe a codifica\u00e7\u00e3o do documento, talvez o cabe\u00e7alho correto seja: \\<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>","title":"Documentos XML"},{"location":"DocumentosXML/#lidando-com-caracteres-reservados-do-xml","text":"Alguns caracteres s\u00e3o reservados para controle do XML. Se voc\u00ea precisar deles mesmo assim, \u00e9 preciso fazer substitui\u00e7\u00e3o por um c\u00f3digo especial:","title":"Lidando com caracteres reservados do XML"},{"location":"DocumentosXML/#tabela-de-caracteres-reservados","text":"Caractere reservado Substitui\u00e7\u00e3o \\< \\< > \\> \\& \\& \u2018 \\' \u201c \\\"","title":"Tabela de caracteres reservados:"},{"location":"DocumentosXML/#exemplos-de-substituicao","text":"\\<label text=\u201dD\\&D\u201d/> \\ Substitui\u00e7\u00e3o de \"\\&\" por \"\\&\" ... Cont\u00e9m \"D\\&D\"\\ \\<button text=\u201d20 \\> 10\u201d/> \\ Substitui\u00e7\u00e3o de \">\" por \"\\&gt\"; .... Cont\u00e9m \"20 > 10\"","title":"Exemplos de substitui\u00e7\u00e3o:"},{"location":"DocumentosXML/#cdata","text":"Voc\u00ea tamb\u00e9m pode utilizar blocos CDATA para evitar fazer substitui\u00e7\u00f5es, o que \u00e9 \u00fatil em c\u00f3digos LUA dentro de XML. \\ Saiba mais em http://en.wikipedia.org/wiki/CDATA","title":"CDATA"},{"location":"DocumentosXML/#exemplo-de-cdata","text":"\\<event name=\"onResize\" > \\<![CDATA[ local teste = \"D\\&D\"; if (x \\< y) or (x > z) then local teste = 'D\\&D 4.0'; end; ]]> \\</event> N\u00e3o \u00e9 preciso fazer nenhuma substitui\u00e7\u00e3o de caracteres reservados dentro de um bloco CDATA. Observa\u00e7\u00e3o: S\u00f3 \u00e9 poss\u00edvel utilizar CDATA no corpo de um nodo do XML. N\u00e3o \u00e9 poss\u00edvel usar CDATA no valor de um atributo, por exemplo. Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework","title":"Exemplo de CDATA"},{"location":"EstilosemCascata/","text":"Estilos em Cascata Estilos em Cascata \u00c9 poss\u00edvel aplicar estilos em cascata semelhante ao CSS do HTML no LuaForm. Saiba mais em Tag style Created with the Personal Edition of HelpNDoc: Elevate Your Documentation with HelpNDoc's Project Analyzer Features","title":"Estilos em Cascata"},{"location":"EstilosemCascata/#estilos-em-cascata","text":"","title":"Estilos em Cascata"},{"location":"EstilosemCascata/#estilos-em-cascata_1","text":"\u00c9 poss\u00edvel aplicar estilos em cascata semelhante ao CSS do HTML no LuaForm. Saiba mais em Tag style Created with the Personal Edition of HelpNDoc: Elevate Your Documentation with HelpNDoc's Project Analyzer Features","title":"Estilos em Cascata"},{"location":"EstruturaSceneRect/","text":"Estrutura SceneRect \\< A escrever ...> Created with the Personal Edition of HelpNDoc: Free EBook and documentation generator","title":"Estrutura SceneRect"},{"location":"EstruturaSceneRect/#estrutura-scenerect","text":"\\< A escrever ...> Created with the Personal Edition of HelpNDoc: Free EBook and documentation generator","title":"Estrutura SceneRect"},{"location":"Exemplosdeframes/","text":"Exemplos de frames Exemplos de frames 1 - Background que estica para o novo tamanho 2 - Background que se repete para preencher o tamanho 3 - Frame com 2 partes fixas e 1 parte que se estica 4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens 5 - Frame com regi\u00f5es Os exemplos acima s\u00e3o arquivos de defini\u00e7\u00f5es de frame utilizados em tags layout da seguinte forma em um Lua Form: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"client\" frameStyle=\"/frames/frame1.xml\" margins=\"{left=10, top=10, right=10, bottom=10}\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Conteudo do Layout\" /> \\</layout> \\</form> Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc","title":"Exemplos de frames"},{"location":"Exemplosdeframes/#exemplos-de-frames","text":"","title":"Exemplos de frames"},{"location":"Exemplosdeframes/#exemplos-de-frames_1","text":"1 - Background que estica para o novo tamanho 2 - Background que se repete para preencher o tamanho 3 - Frame com 2 partes fixas e 1 parte que se estica 4 - Frame retangular din\u00e2mico, usando v\u00e1rios arquivos de imagens 5 - Frame com regi\u00f5es Os exemplos acima s\u00e3o arquivos de defini\u00e7\u00f5es de frame utilizados em tags layout da seguinte forma em um Lua Form: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"client\" frameStyle=\"/frames/frame1.xml\" margins=\"{left=10, top=10, right=10, bottom=10}\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Conteudo do Layout\" /> \\</layout> \\</form> Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc","title":"Exemplos de frames"},{"location":"FAQPerguntasFrequentes/","text":"FAQ - Perguntas Frequentes FAQ - Perguntas Frequentes sobre o SDK 3 O SDK 3 precisa do Delphi para funcionar? N\u00e3o. O SDK3 \u00e9 uma nova ferramenta que utiliza uma nova tecnologia de plug-ins para o RRPG. Ela n\u00e3o exige ter o Delphi instalado. Tenho uma ficha feita no Delphi. O SDK3 \u00e9 compat\u00edvel com esta minha ficha? N\u00e3o. As fichas feitas em Delphi usam o SDK 2, que \u00e9 incompat\u00edvel com o SDK 3. Quais as vantagem do SDK 3 sobre o SDK 2 + Delphi? Os plug-ins do SDK 2 rodam apenas no Windows, enquanto os feitos no SDK 3 podem rodar em outros dispositivos. Voc\u00ea n\u00e3o precisa baixar o Delphi (um aplicativo grande e pago) Existe alguma ferramenta que converte os plug-ins feitos no SDK2 para a vers\u00e3o SDK3? At\u00e9 o momento, n\u00e3o. Voc\u00ea precisar\u00e1 portar o plug-in \"do zero\". Se voc\u00ea pretende criar um modelo de ficha baseado em um PDF edit\u00e1vel, voc\u00ea pode utilizar a ferramenta de convers\u00e3o PDF -> Ficha SDK3. Saiba mais lendo Criar um modelo de ficha \u00e0 partir de um PDF .\\ Desenvolvi um plug-in usando o SDK 3. Quem for usar meu plug-in precisa ter o SDK3 instalado tamb\u00e9m? N\u00e3o. O SDK 3 \u00e9 uma ferramenta para quem desenvolve plug-ins. Os usu\u00e1rios do plug-in precisam apenas ter o RRPG Firecast mais atual instalado. A ferramenta que converte um PDF edit\u00e1vel em uma ficha tamb\u00e9m converte os c\u00e1lculos que existem no PDF? N\u00e3o. Voc\u00ea precisa recriar os c\u00e1lculos e scripts manualmente. Veja o tutorial Criar campos calculados em fichas caso tenha d\u00favidas sobre como fazer isso. Created with the Personal Edition of HelpNDoc: Free help authoring environment","title":"FAQ -  Perguntas Frequentes"},{"location":"FAQPerguntasFrequentes/#faq-perguntas-frequentes","text":"","title":"FAQ -  Perguntas Frequentes"},{"location":"FAQPerguntasFrequentes/#faq-perguntas-frequentes-sobre-o-sdk-3","text":"","title":"FAQ - Perguntas Frequentes sobre o SDK 3"},{"location":"FAQPerguntasFrequentes/#o-sdk-3-precisa-do-delphi-para-funcionar","text":"N\u00e3o. O SDK3 \u00e9 uma nova ferramenta que utiliza uma nova tecnologia de plug-ins para o RRPG. Ela n\u00e3o exige ter o Delphi instalado.","title":"O SDK 3 precisa do Delphi para funcionar?"},{"location":"FAQPerguntasFrequentes/#tenho-uma-ficha-feita-no-delphi-o-sdk3-e-compativel-com-esta-minha-ficha","text":"N\u00e3o. As fichas feitas em Delphi usam o SDK 2, que \u00e9 incompat\u00edvel com o SDK 3.","title":"Tenho uma ficha feita no Delphi. O SDK3 \u00e9 compat\u00edvel com esta minha ficha?"},{"location":"FAQPerguntasFrequentes/#quais-as-vantagem-do-sdk-3-sobre-o-sdk-2-delphi","text":"Os plug-ins do SDK 2 rodam apenas no Windows, enquanto os feitos no SDK 3 podem rodar em outros dispositivos. Voc\u00ea n\u00e3o precisa baixar o Delphi (um aplicativo grande e pago)","title":"Quais as vantagem do SDK 3 sobre o SDK 2 + Delphi?"},{"location":"FAQPerguntasFrequentes/#existe-alguma-ferramenta-que-converte-os-plug-ins-feitos-no-sdk2-para-a-versao-sdk3","text":"At\u00e9 o momento, n\u00e3o. Voc\u00ea precisar\u00e1 portar o plug-in \"do zero\". Se voc\u00ea pretende criar um modelo de ficha baseado em um PDF edit\u00e1vel, voc\u00ea pode utilizar a ferramenta de convers\u00e3o PDF -> Ficha SDK3. Saiba mais lendo Criar um modelo de ficha \u00e0 partir de um PDF .\\","title":"Existe alguma ferramenta que converte os plug-ins feitos no SDK2 para a vers\u00e3o SDK3?"},{"location":"FAQPerguntasFrequentes/#desenvolvi-um-plug-in-usando-o-sdk-3-quem-for-usar-meu-plug-in-precisa-ter-o-sdk3-instalado-tambem","text":"N\u00e3o. O SDK 3 \u00e9 uma ferramenta para quem desenvolve plug-ins. Os usu\u00e1rios do plug-in precisam apenas ter o RRPG Firecast mais atual instalado.","title":"Desenvolvi um plug-in usando o SDK 3. Quem for usar meu plug-in precisa ter o SDK3 instalado tamb\u00e9m?"},{"location":"FAQPerguntasFrequentes/#a-ferramenta-que-converte-um-pdf-editavel-em-uma-ficha-tambem-converte-os-calculos-que-existem-no-pdf","text":"N\u00e3o. Voc\u00ea precisa recriar os c\u00e1lculos e scripts manualmente. Veja o tutorial Criar campos calculados em fichas caso tenha d\u00favidas sobre como fazer isso. Created with the Personal Edition of HelpNDoc: Free help authoring environment","title":"A ferramenta que converte um PDF edit\u00e1vel em uma ficha tamb\u00e9m converte os c\u00e1lculos que existem no PDF?"},{"location":"Fazerumafichaenviarrolagensparaa/","text":"Fazer uma ficha enviar rolagens para a mesa Fazer uma ficha enviar rolagens para a mesa Adicione uma tag button ao Lua Form Manipule o evento \"onClick\" da tag button Utilize o c\u00f3digo abaixo: \\<button> \\<event name=\"onClick\" > local rolagem = rrpg.interpretarRolagem(sheet.ataqueDoPersonagem); if not rolagem.possuiAlgumDado then -- se o usuario n\u00e3o tiver preenchido qual dado rolar, -- vamos adicionar um 1d20 + na \"f\u00f3rmula da rolagem\" rolagem = rrpg.interpretarRolagem(\"1d20\"):concatenar(rolagem); end ; local mesaDoPersonagem = rrpg.getMesaDe(sheet); if mesaDoPersonagem ~= nil then mesaDoPersonagem.chat:rolarDados(rolagem, \"Ataque do personagem\"); end ; \\</event> \\</button> Altere o c\u00f3digo conforme a necessidade O que o c\u00f3digo acima faz? Utiliza a fun\u00e7\u00e3o interpretarRolagem da biblioteca \" rrpg\" para interpretar o campo \"ataqueDoPersonagem\" como uma rolagem de dados . Verifica se a rolagem utiliza algum dado (d4, d6, d8, etc..)... Se n\u00e3o possuir dado na rolagem (Exemplos: \"+5\", ou \"-2\"), faz: Interpreta uma nova rolagem \"1d20\" e a concatena/junta ao inicio (Para ficar, por exemplo, \"1d20 + 5\" ou \"1d20 - 2\"). Usando a ficha atual (sheet), tenta localizar o objeto mesa \u00e0 qual a ficha pertence. \u00c9 usado a fun\u00e7\u00e3o getMesaDe da biblioteca rrpg para isso. Se conseguiu localizar o objeto mesa \u00e0 qual a ficha atual pertence: invoca o m\u00e9todo rolarDados do chat da mesa , passando a rolagem que queremos e um texto adicional \"Ataque do personagem\". Mudan\u00e7as que voc\u00ea pode querer fazer no c\u00f3digo acima O c\u00f3digo acima usa o texto da rolagem contido no campo chamado \"ataqueDoPersonagem\". Talvez a rolagem de sua ficha esteja em outro campo. Quando a rolagem n\u00e3o usar nenhum dado (d4, d6, d8, etc..) o c\u00f3digo adiciona \"1d20\" ao inicio dela. Talvez o sistema da sua ficha n\u00e3o utiliza 1d20 nesta rolagem! Que tal alterar o texto \"Ataque do personagem\"? Talvez voc\u00ea queira que somente o mestre e o jogador dono da ficha possam rolar dados desta ficha. Voc\u00ea pode utilizar a fun\u00e7\u00e3o getPersonagemDe da biblioteca rrpg e verificar se sua propriedade dono \u00e9 igual \u00e0 propriedade meuJogador da vari\u00e1vel mesaDoPersonagem . Se for igual, \u00e9 porque a ficha pertence ao usu\u00e1rio. Voc\u00ea pode utilizar a propriedade isMestre do objeto meuJogador para verificar se o usu\u00e1rio \u00e9 mestre da mesa. O c\u00f3digo que faz esta verifica\u00e7\u00e3o seria parecido com: local personagem = rrpg.getPersonagemDe(sheet); if (personagem ~= nil) then local mesa = personagem.mesa; if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then -- permitir enviar a rolagem end; end; Veja tamb\u00e9m: Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Lua Form e NodeDatabase Biblioteca rrpg Objeto Mesa Objeto Rolagem Objeto Chat Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc","title":"Fazer uma ficha enviar rolagens para a mesa"},{"location":"Fazerumafichaenviarrolagensparaa/#fazer-uma-ficha-enviar-rolagens-para-a-mesa","text":"","title":"Fazer uma ficha enviar rolagens para a mesa"},{"location":"Fazerumafichaenviarrolagensparaa/#fazer-uma-ficha-enviar-rolagens-para-a-mesa_1","text":"Adicione uma tag button ao Lua Form Manipule o evento \"onClick\" da tag button Utilize o c\u00f3digo abaixo: \\<button> \\<event name=\"onClick\" > local rolagem = rrpg.interpretarRolagem(sheet.ataqueDoPersonagem); if not rolagem.possuiAlgumDado then -- se o usuario n\u00e3o tiver preenchido qual dado rolar, -- vamos adicionar um 1d20 + na \"f\u00f3rmula da rolagem\" rolagem = rrpg.interpretarRolagem(\"1d20\"):concatenar(rolagem); end ; local mesaDoPersonagem = rrpg.getMesaDe(sheet); if mesaDoPersonagem ~= nil then mesaDoPersonagem.chat:rolarDados(rolagem, \"Ataque do personagem\"); end ; \\</event> \\</button> Altere o c\u00f3digo conforme a necessidade","title":"Fazer uma ficha enviar rolagens para a mesa"},{"location":"Fazerumafichaenviarrolagensparaa/#o-que-o-codigo-acima-faz","text":"Utiliza a fun\u00e7\u00e3o interpretarRolagem da biblioteca \" rrpg\" para interpretar o campo \"ataqueDoPersonagem\" como uma rolagem de dados . Verifica se a rolagem utiliza algum dado (d4, d6, d8, etc..)... Se n\u00e3o possuir dado na rolagem (Exemplos: \"+5\", ou \"-2\"), faz: Interpreta uma nova rolagem \"1d20\" e a concatena/junta ao inicio (Para ficar, por exemplo, \"1d20 + 5\" ou \"1d20 - 2\"). Usando a ficha atual (sheet), tenta localizar o objeto mesa \u00e0 qual a ficha pertence. \u00c9 usado a fun\u00e7\u00e3o getMesaDe da biblioteca rrpg para isso. Se conseguiu localizar o objeto mesa \u00e0 qual a ficha atual pertence: invoca o m\u00e9todo rolarDados do chat da mesa , passando a rolagem que queremos e um texto adicional \"Ataque do personagem\".","title":"O que o c\u00f3digo acima faz?"},{"location":"Fazerumafichaenviarrolagensparaa/#mudancas-que-voce-pode-querer-fazer-no-codigo-acima","text":"O c\u00f3digo acima usa o texto da rolagem contido no campo chamado \"ataqueDoPersonagem\". Talvez a rolagem de sua ficha esteja em outro campo. Quando a rolagem n\u00e3o usar nenhum dado (d4, d6, d8, etc..) o c\u00f3digo adiciona \"1d20\" ao inicio dela. Talvez o sistema da sua ficha n\u00e3o utiliza 1d20 nesta rolagem! Que tal alterar o texto \"Ataque do personagem\"? Talvez voc\u00ea queira que somente o mestre e o jogador dono da ficha possam rolar dados desta ficha. Voc\u00ea pode utilizar a fun\u00e7\u00e3o getPersonagemDe da biblioteca rrpg e verificar se sua propriedade dono \u00e9 igual \u00e0 propriedade meuJogador da vari\u00e1vel mesaDoPersonagem . Se for igual, \u00e9 porque a ficha pertence ao usu\u00e1rio. Voc\u00ea pode utilizar a propriedade isMestre do objeto meuJogador para verificar se o usu\u00e1rio \u00e9 mestre da mesa. O c\u00f3digo que faz esta verifica\u00e7\u00e3o seria parecido com: local personagem = rrpg.getPersonagemDe(sheet); if (personagem ~= nil) then local mesa = personagem.mesa; if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then -- permitir enviar a rolagem end; end;","title":"Mudan\u00e7as que voc\u00ea pode querer fazer no c\u00f3digo acima"},{"location":"Fazerumafichaenviarrolagensparaa/#veja-tambem","text":"Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Lua Form e NodeDatabase Biblioteca rrpg Objeto Mesa Objeto Rolagem Objeto Chat Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc","title":"Veja tamb\u00e9m:"},{"location":"Ferramentardk/","text":"Ferramenta rdk \u201crdk\u201d \u00e9 a principal ferramenta do SDK3 e \u00e9 usada como linha de comando no prompt. Created with the Personal Edition of HelpNDoc: Easily create CHM Help documents","title":"Ferramenta rdk"},{"location":"Ferramentardk/#ferramenta-rdk","text":"\u201crdk\u201d \u00e9 a principal ferramenta do SDK3 e \u00e9 usada como linha de comando no prompt. Created with the Personal Edition of HelpNDoc: Easily create CHM Help documents","title":"Ferramenta rdk"},{"location":"FerramentasdoSDK3/","text":"Ferramentas do SDK 3 Created with the Personal Edition of HelpNDoc: Free Web Help generator","title":"Ferramentas do SDK 3"},{"location":"FerramentasdoSDK3/#ferramentas-do-sdk-3","text":"Created with the Personal Edition of HelpNDoc: Free Web Help generator","title":"Ferramentas do SDK 3"},{"location":"Frames/","text":"Frames Frames Algumas tags/controles do Lua Form permitem o programador definir um frame, isto \u00e9, uma moldura para ser exibida na interface visual. Um frame \u00e9 uma apar\u00eancia personalizada que se adapta dinamicamente ao tamanho do controle. Ainda n\u00e3o entendi o que \u00e9 um frame. Veja estes exemplos para entender melhor!\\ \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"client\" frameStyle=\"/frames/frame1.xml\" margins=\"{left=10, top=10, right=10, bottom=10}\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Conteudo do Layout\" /> \\</layout> \\</form> \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"client\" frameStyle=\"/frames/meuOutroFrame.xml\" margins=\"{left=10, top=10, right=10, bottom=10}\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Conteudo do Layout\" /> \\</layout> \\</form> A tag layout por si s\u00f3 n\u00e3o apresenta nada na interface, mas ao aplica um frame \u00e0 ela, passou a apresentar estas bordas e backgrounds \"legais\". O que eu preencho na propriedade \"frameStyle\"? Voc\u00ea deve preencher com o caminho de um arquivo XML que cont\u00e9m a defini\u00e7\u00e3o de um frame. Saiba mais sobre este arquivo lendo Arquivo de Defini\u00e7\u00e3o de Frame. Exemplos Veja alguns exemplos em Exemplos de frames . Created with the Personal Edition of HelpNDoc: Benefits of a Help Authoring Tool","title":"Frames"},{"location":"Frames/#frames","text":"","title":"Frames"},{"location":"Frames/#frames_1","text":"Algumas tags/controles do Lua Form permitem o programador definir um frame, isto \u00e9, uma moldura para ser exibida na interface visual. Um frame \u00e9 uma apar\u00eancia personalizada que se adapta dinamicamente ao tamanho do controle.","title":"Frames"},{"location":"Frames/#ainda-nao-entendi-o-que-e-um-frame","text":"Veja estes exemplos para entender melhor!\\ \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"client\" frameStyle=\"/frames/frame1.xml\" margins=\"{left=10, top=10, right=10, bottom=10}\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Conteudo do Layout\" /> \\</layout> \\</form> \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout align=\"client\" frameStyle=\"/frames/meuOutroFrame.xml\" margins=\"{left=10, top=10, right=10, bottom=10}\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Conteudo do Layout\" /> \\</layout> \\</form> A tag layout por si s\u00f3 n\u00e3o apresenta nada na interface, mas ao aplica um frame \u00e0 ela, passou a apresentar estas bordas e backgrounds \"legais\".","title":"Ainda n\u00e3o entendi o que \u00e9 um frame."},{"location":"Frames/#o-que-eu-preencho-na-propriedade-framestyle","text":"Voc\u00ea deve preencher com o caminho de um arquivo XML que cont\u00e9m a defini\u00e7\u00e3o de um frame. Saiba mais sobre este arquivo lendo Arquivo de Defini\u00e7\u00e3o de Frame.","title":"O que eu preencho na propriedade \"frameStyle\"?"},{"location":"Frames/#exemplos","text":"Veja alguns exemplos em Exemplos de frames . Created with the Personal Edition of HelpNDoc: Benefits of a Help Authoring Tool","title":"Exemplos"},{"location":"FrameseRegioes/","text":"Frames e Regi\u00f5es Frames e Regi\u00f5es Os frames podem possuir regi\u00f5es em suas defini\u00e7\u00f5es que s\u00e3o acess\u00edveis \u00e0 tags/componentes do LuaForm. Ao associar uma regi\u00e3o de frame \u00e0 algum componente do Lua Form, o controle automaticamente ter\u00e1 sua posi\u00e7\u00e3o e tamanho ajustados para que ocupe a regi\u00e3o escolhida do frame. Veja o exemplo de frame com regi\u00f5es . Created with the Personal Edition of HelpNDoc: Easy EPub and documentation editor","title":"Frames e Regi\u00f5es"},{"location":"FrameseRegioes/#frames-e-regioes","text":"","title":"Frames e Regi\u00f5es"},{"location":"FrameseRegioes/#frames-e-regioes_1","text":"Os frames podem possuir regi\u00f5es em suas defini\u00e7\u00f5es que s\u00e3o acess\u00edveis \u00e0 tags/componentes do LuaForm. Ao associar uma regi\u00e3o de frame \u00e0 algum componente do Lua Form, o controle automaticamente ter\u00e1 sua posi\u00e7\u00e3o e tamanho ajustados para que ocupe a regi\u00e3o escolhida do frame. Veja o exemplo de frame com regi\u00f5es . Created with the Personal Edition of HelpNDoc: Easy EPub and documentation editor","title":"Frames e Regi\u00f5es"},{"location":"Guias/","text":"Guias Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc","title":"Guias"},{"location":"Guias/#guias","text":"Created with the Personal Edition of HelpNDoc: Don't be left in the past: convert your WinHelp HLP help files to CHM with HelpNDoc","title":"Guias"},{"location":"HDVirtual/","text":"HD Virtual HD Virtual Cada plug-in possui seu pr\u00f3prio HD Virtual Principais caracter\u00edsticas do HD Virtual Cada plugin possui um HD Virtual. Um plug-in n\u00e3o acessa o conte\u00fado do HD virtual de outro plug-in. Os plug-ins n\u00e3o conseguem acessar arquivos que est\u00e3o fora de seu \u201cHD Virtual\u201d diretamente. Isto significa que o plugin n\u00e3o enxerga o drive de armazenamento real do dispositivo em que est\u00e1 rodando. A \u00fanica forma do plug-in conseguir acessar arquivos no HD do usu\u00e1rio \u00e9 atrav\u00e9s das funl\u00e7\u00f5es dialogs.openFile e dialogs.saveFile Os arquivos do \u201cHD virtual\u201d s\u00e3o persistentes, isto \u00e9, ficam salvos mesmo quando o dispositivo \u00e9 desligado. O conte\u00fado do \u201cHD virtual\u201d \u00e9 perdido quando seu plug-in \u00e9 desinstalado. Ao instalar uma um plug-in o conte\u00fado original do arquivo .rpk n\u00e3o \u00e9 extra\u00eddo no HD f\u00edsico do dispostivio. Arquivos que forem criados durante a execu\u00e7\u00e3o do plugin s\u00e3o salvos no HD f\u00edsico do usu\u00e1rio. O VHD (HD Virtual) do plugin \u00e9 composto pela uni\u00e3o l\u00f3gica do conte\u00fado do arquivo .rpk + arquivos que foram criados durante a execu\u00e7\u00e3o. O Firecast faz essa uni\u00e3o l\u00f3gica automaticamente de forma transparente para que o programador n\u00e3o precise se preocupar. Todos os arquivos originais do plug-in (aqueles que est\u00e3o contidos na pasta projeto do plug-in) ficam no modo somente-leitura. N\u00e3o \u00e9 poss\u00edvel apagar e nem alter\u00e1-los. Ao instalar uma nova vers\u00e3o de plugin, os arquivos que foram criados durante execu\u00e7\u00e3o do m\u00f3dulo s\u00e3o preservados. Sobre o sistema de arquivos no HD Virtual O caractere separador de diret\u00f3rios \u00e9 \u201c/\u201d A raiz do HD virtual \u00e9 o diret\u00f3rio \u201c/\u201d Os nomes de arquivos e pastas s\u00e3o case-sensitives, isto \u00e9, letras mai\u00fasculas s\u00e3o diferentes das mesmas letras em sua forma min\u00fascula. (Exemplo: \u201c/arquivo.lua\u201d e \u201c/Arquivo.lua\u201d s\u00e3o dois arquivos distintos) Manipulando o HD Virtual: Para manipular o HD Virtual, o SDK3 prov\u00ea a biblioteca \"VHD\" . Created with the Personal Edition of HelpNDoc: Bring your WinHelp HLP help files into the present with HelpNDoc's easy CHM conversion","title":"HD Virtual"},{"location":"HDVirtual/#hd-virtual","text":"","title":"HD Virtual"},{"location":"HDVirtual/#hd-virtual_1","text":"Cada plug-in possui seu pr\u00f3prio HD Virtual","title":"HD Virtual"},{"location":"HDVirtual/#principais-caracteristicas-do-hd-virtual","text":"Cada plugin possui um HD Virtual. Um plug-in n\u00e3o acessa o conte\u00fado do HD virtual de outro plug-in. Os plug-ins n\u00e3o conseguem acessar arquivos que est\u00e3o fora de seu \u201cHD Virtual\u201d diretamente. Isto significa que o plugin n\u00e3o enxerga o drive de armazenamento real do dispositivo em que est\u00e1 rodando. A \u00fanica forma do plug-in conseguir acessar arquivos no HD do usu\u00e1rio \u00e9 atrav\u00e9s das funl\u00e7\u00f5es dialogs.openFile e dialogs.saveFile Os arquivos do \u201cHD virtual\u201d s\u00e3o persistentes, isto \u00e9, ficam salvos mesmo quando o dispositivo \u00e9 desligado. O conte\u00fado do \u201cHD virtual\u201d \u00e9 perdido quando seu plug-in \u00e9 desinstalado. Ao instalar uma um plug-in o conte\u00fado original do arquivo .rpk n\u00e3o \u00e9 extra\u00eddo no HD f\u00edsico do dispostivio. Arquivos que forem criados durante a execu\u00e7\u00e3o do plugin s\u00e3o salvos no HD f\u00edsico do usu\u00e1rio. O VHD (HD Virtual) do plugin \u00e9 composto pela uni\u00e3o l\u00f3gica do conte\u00fado do arquivo .rpk + arquivos que foram criados durante a execu\u00e7\u00e3o. O Firecast faz essa uni\u00e3o l\u00f3gica automaticamente de forma transparente para que o programador n\u00e3o precise se preocupar. Todos os arquivos originais do plug-in (aqueles que est\u00e3o contidos na pasta projeto do plug-in) ficam no modo somente-leitura. N\u00e3o \u00e9 poss\u00edvel apagar e nem alter\u00e1-los. Ao instalar uma nova vers\u00e3o de plugin, os arquivos que foram criados durante execu\u00e7\u00e3o do m\u00f3dulo s\u00e3o preservados.","title":"Principais caracter\u00edsticas do HD Virtual"},{"location":"HDVirtual/#sobre-o-sistema-de-arquivos-no-hd-virtual","text":"O caractere separador de diret\u00f3rios \u00e9 \u201c/\u201d A raiz do HD virtual \u00e9 o diret\u00f3rio \u201c/\u201d Os nomes de arquivos e pastas s\u00e3o case-sensitives, isto \u00e9, letras mai\u00fasculas s\u00e3o diferentes das mesmas letras em sua forma min\u00fascula. (Exemplo: \u201c/arquivo.lua\u201d e \u201c/Arquivo.lua\u201d s\u00e3o dois arquivos distintos)","title":"Sobre o sistema de arquivos no HD Virtual"},{"location":"HDVirtual/#manipulando-o-hd-virtual","text":"Para manipular o HD Virtual, o SDK3 prov\u00ea a biblioteca \"VHD\" . Created with the Personal Edition of HelpNDoc: Bring your WinHelp HLP help files into the present with HelpNDoc's easy CHM conversion","title":"Manipulando o HD Virtual:"},{"location":"HistoricodeVersoes/","text":"Hist\u00f3rico de Vers\u00f5es Firecast SDK 3 Version History SDK 3.6d (04/05/2023) New library: Async.Promise New library: Log New object: Promise New function in the Firecast library: Firecast.asyncOpenUserNDB New function in the Room object: room:asyncOpenUserRoomNDB New function in VHD library: VHD.copyFile New macro functions: Log functions getUserNDB getUserRoomNDB getRoomNDB SDK 3.6c (17/06/2022) New functions to System library: System.readClipboardAsDragNDrop New functions to the Scene Object : scene:sendDelayedUpdates New functions to the GUI library: GUI.toast New macro functions: toast New Drag-and-Drop DataTypes: imageFile ImageFiles SDK 3.6b (25/05/2022) Fix: getChildren function was not working with recordList Tag . New functions to System library: System.checkAPIVersion System.getAPIVersion System.makeAPIVersionNumber SDK 3.6 (05/05/2022) O arquivo module.xml agora permite o criador de plugin definir as informa\u00e7\u00f5es de seu plugin em v\u00e1rias l\u00ednguas. Novas fun\u00e7\u00f5es na biblioteca Firecast.Messaging: Firecast.Messaging.newReceiver Fix Personagem.dataType always returning nil Firecast 8.4 compatibility SDK 3.5 (29/10/2018) Novas propriedades para a Tag label : format e formatFloat Novas propriedades para a Tag image : animate naturalAnimated Novas propriedades para a Tag dataScopeBox : novos eventos onNodeChanged , onNodeReady e onNodeUnready Novas propriedades para a Tag popup : novos eventos onNodeChanged , onNodeReady e onNodeUnready Novos eventos na tag dataLink : novos eventos: onUserChange e onPersistedChange Novos eventos no objeto NodeObserver onUserChanged , onDeepUserChanged , onPersistedChanged e onDeepPersistedChanged Novas propriedades para a Tag richEdit : animateImages Novas propriedades para a Tag popup autoScopeNode String de cores agoram aceitam o formato short-hand hex colors (Exemplo: #F0C \u00e9 um short-hand que equivale a cor #FF00CC) Novidades em macros: inRoom Novidades na biblioteca fireDrive fireDrive.quickUpload A biblioteca RRPG foi renomeada para Firecast (mas ser\u00e1 mantida compatibilidade com c\u00f3digos antigos) Novas fun\u00e7\u00f5es na biblioteca NDB NDB.getPersistedAttributeValue NDB.copy NDB.exportXML NDB.importXML Novas fun\u00e7\u00f5es na biblioteca Firecast Firecast.registerChatToolButton Firecast.unregisterChatToolButton Novas informa\u00e7\u00f5es na biblioteca Firecast.Plugins a respeito dos plugins instalados: compilationTimestamp, compilationTimestampStr e compilationDigest. Modifica\u00e7\u00f5es na biblioteca Internet Novo par\u00e2metro \"cacheMode\" na fun\u00e7\u00e3o Internet.download Mudan\u00e7as na forma de instala\u00e7\u00e3o e carregamento dos plugins: Agora o conte\u00fado original do arquivo .rpk n\u00e3o \u00e9 mais extra\u00eddo no HD f\u00edsico do dispostivio. Arquivos que forem criados durante a execu\u00e7\u00e3o do plugin s\u00e3o salvos no HD f\u00edsico do usu\u00e1rio. O VHD (HD Virtual) do plugin agora \u00e9 composto pela uni\u00e3o l\u00f3gica do conte\u00fado do arquivo .rpk + arquivos que foram criados durante a execu\u00e7\u00e3o. O Firecast faz essa uni\u00e3o l\u00f3gica automaticamente de forma transparente para que o programador n\u00e3o precise se preocupar. Agora, durante o carregamento de um plugin instalado, se houver um arquivo \"/init.lua\" na raiz do plugin, ele \u00e9 carregado antes dos outros arquivos *.lua Mudan\u00e7as na biblioteca VHD Nova fun\u00e7\u00e3o: VHD.registerAlias Mudan\u00e7as na biblioteca Locale Nova fun\u00e7\u00e3o: Locale.loadLangTexts . Mudan\u00e7as na biblioteca Utils Nova fun\u00e7\u00e3o Utils.generateUniqueString Mudan\u00e7as no comando rdk Nova op\u00e7\u00e3o: lint - Faz uma verifica\u00e7\u00e3o completa no c\u00f3digo fonte do plugin Nova op\u00e7\u00e3o: buildrep - Usado para compilar v\u00e1rios projetos SDK3 em um reposit\u00f3rio, ideal para usar no github do firecast. LuaCheck - Agora o rdk est\u00e1 integrado com o LuaCheck, uma biblioteca open-source que verifica e aponta coisas suspeitas no c\u00f3digo lua. SDK 3.4b (13/11/2017) Novo par\u00e2metro para a fun\u00e7\u00e3o Dialogs.choose : shortCircuit Novo par\u00e2metro para as macros: choose, chooseCharacterOfPlayer, chooseCharacter , choosePlayer : shortCircuit SDK 3.4 (04/09/2017) Novas fun\u00e7\u00f5es na biblioteca ndb: ndb.editPermissions ndb.broadcastMessage ndb.newBroadcastListener ndb.onReady Novo evento no objeto NodeObserver : onStateChanged Novos eventos na tag Form onNodeReady onNodeUnready Novas fun\u00e7\u00f5es no objeto Scene scene:broadcastMessage scene:newBroadcastListener Nova tag/componente visual: Tag richEdit Nova mensagem-evento: \"HandleChatTextInput\" que permite o programador alterar o texto digitado por um usu\u00e1rio antes dele ser processado pelo RRPG. \"SessionLogin\" que notifica o programador quando o usu\u00e1rio tiver feito Login com sucesso no servidor RRPG. Novas fun\u00e7\u00f5es na biblioteca VHD VHD.forceDirectory VHD.deleteFile VHD.deleteDirectory VHD.directoryExists VHD.enumerateContent Novas fun\u00e7\u00f5es na biblioteca Dialogs Dialogs.saveFile Dialogs.selectImageURL Dialogs.choose Dialogs.chooseMultiple Novas fun\u00e7\u00f5es no objeto Personagem: personagem:loadSheetNDB Novas fun\u00e7\u00f5es no objeto Jogador: jogador:getBarValue jogador:requestSetBarValue jogador:getEditableLine jogador:requestSetEditableLine Novas fun\u00e7\u00f5es para serem usados em Macros Lua load showMessage alert confirmOkCancel confirmYesNo inputQuery selectImageURL choose chooseMultiple invoke myCharacter sheet chooseCharacter chooseCharacters chooseCharacterOfPlayer choosePlayer choosePlayers getCharacterOfPlayer getCharacterSheet Instala\u00e7\u00e3o de plug-ins no Android ficou mais f\u00e1cil. Basta baixar o .rpk no celular e mandar abr\u00ed-lo (O app interceptar\u00e1 para instalar o plugin). Agora o comando \"rdk c\" verifica se existem lua forms com nomes duplicados. Para manter compatibilidade entre sistemas operacionais, O SDK3 ao verificar se um arquivo existe no HD Virtual, ele compara o nome do arquivo de forma case-sensitive mesmo no Windows. SDK 3.3 (06/12/2016) Grandes mudan\u00e7as: API para Scene 3 Possibilidade de realizar drag and drop / arrastar e soltar no SDK 3. Outras mudan\u00e7as detalhadas: Nova biblioteca: Biblioteca SceneLib Nova biblioteca para lidar com idiomas e regi\u00f5es: Biblioteca Locale Altera\u00e7\u00f5es na biblioteca GUI: Nova Classe InertialMovement Nova fun\u00e7\u00e3o: gui.newInertialMovement(); Nova fun\u00e7\u00e3o: gui.newColorComboBox() Novos objetos: Drag , Drop . Novos eventos: onStartDrag e onStartDrop Altera\u00e7\u00f5es na biblioteca NDB: Novos m\u00e9todos: ndb.newTransaction , ndb.pushTransaction, ndb.popTransaction , ndb.getServerUTCTime Novo objeto: NodeTransaction Agora os comandos \"rdk c\" e \"rdk i\" interpretam os arquivos \".lfm\" e geram seus respectivos \".lfm.lua\" em outro diret\u00f3rio dentro da pasta \"output\" do projeto. Agora o SDK3 utiliza a vers\u00e3o Lua 5.3 Novas tags do Lua Form: Tag colorComboBox Altera\u00e7\u00f5es na Tag edit : Novas propriedades: decimalPlaces, asNumber Novo type \"float\" para n\u00fameros reais. Altera\u00e7\u00f5es na T ag flowLayout : Novas propriedades: contentWidth e contentHeight Altera\u00e7\u00f5es na Tag path : Novas propriedades: roundToPixel Altera\u00e7\u00f5es na Tag form : Novas propriedades: isShowing Altera\u00e7\u00f5es na biblioteca rrpg Novos objetos: SceneUnitClass SDK 3.2 (29/02/2016) Altera\u00e7\u00f5es em todas as tags visuais: Novas propriedades: cursor hint Altera\u00e7\u00f5es na tag progressBar: Nova propriedade: colorMode Altera\u00e7\u00f5es na tag form: Novo formType: tablesDock Altera\u00e7\u00f5es na tag imageCheckBox Nova propriedade: autoChange Altera\u00e7\u00f5es na tag edit: Novo evento: onUserChange Altera\u00e7\u00f5es no objeto Chat: Novas fun\u00e7\u00f5es que permitem o envio de mais tipos de mensagem para chats: enviarAcao , enviarRisada , enviarNarracao , enviarMensagemNPC Altera\u00e7\u00f5es na biblioteca rrpg.plugins: Novas fun\u00e7\u00f5es: rrpg.plugins.getInstalledTablesDock Novas mensagens-eventos do RRPG: Mensagens de estado das mesas Altera\u00e7\u00f5es no objeto Mesa: Novas propriedades: podeTablesDock activeChat Novos m\u00e9todos: abrirNDBDeMesa Altera\u00e7\u00f5es na biblioteca ndb: Novas fun\u00e7\u00f5es: ndb.getState ndb.newObserver Fun\u00e7\u00f5es de gerenciamento de permiss\u00f5es Novos objetos: NodeObserver \\ Altera\u00e7\u00f5es na biblioteca system: Novas fun\u00e7\u00f5es: system.isMobile() Novos tutoriais: Como criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios Como criar uma janela acopl\u00e1vel de mesa Altera\u00e7\u00f5es nas Macros: Novas fun\u00e7\u00f5es para serem utilizadas em Macros em Lua: agir , narrar , enviarNPC SDK 3.1 (31/10/2015) Novas fun\u00e7\u00f5es na blblioteca utils: utils.zlibCompress utils.zlibDecompress utils.zlibCompressAsync utils.zlibDecompressAsync utils.newMemoryStream utils.newTempFileStream tryFinally Altera\u00e7\u00f5es no objeto Stream Novas fun\u00e7\u00f5es: stream:readAsBase64 stream:writeBase64 stream:copyFrom Novas propriedades stream.md5 stream.sha1 Altera\u00e7\u00f5es na tag Image: Novas propriedades: naturalWidth e naturalHeight Novo evento: onLoad Altera\u00e7\u00f5es na tag recordList: Novo evento: onCompare Novo m\u00e9todo: recordList:sort Novo m\u00e9todo: recordList:scrollToNode Altera\u00e7\u00f5es na tag flowLayout: Novo evento: onAfterLayoutCalc Altera\u00e7\u00f5es em todas as tags visuais: Novo evento: onMenu Novas fun\u00e7\u00f5es na biblioteca internet: internet.newHTTPRequest internet.httpEncode internet.httpDecode Novos objetos Objeto HTTPRequest (instanciado pela fun\u00e7\u00e3o internet.newHTTPRequest ) Novas fun\u00e7\u00f5es na biblioteca rrpg.plugins: Fun\u00e7\u00f5es para intercomunica\u00e7\u00e3o de plug-ins Novas fun\u00e7\u00f5es na biblioteca dialogs: dialogs.openFile dialogs.saveFile Novas bibliotecas: Biblioteca fireDrive Biblioteca system Novas Tags do Lua Form: Tag progressBar Novas fun\u00e7\u00f5es na biblioteca gui: gui.newProgressBar Novas fun\u00e7\u00f5es na biblioteca ndb: ndb.beginUpdate ndb.endUpdate Novas fun\u00e7\u00f5es na biblioteca rrpg: rrpg.getCurrentUser Corre\u00e7\u00e3o de Bugs: Corrigido o bug que impedia de manipular os eventos onMouseDown e onMouseUp dos controles Corrigido o bug que impedia de alterar a cor do texto da tag textEditor SDK 3.0d (22/08/2015) Altera\u00e7\u00f5es na tag recordList Adicionado as propriedades selectable , selectedNode e selectedForm Adicionado os eventos: onSelect , onBeginEnumeration , onItemAdded , onItemRemoved e onEndEnumeration O m\u00e9todo append agora retorna um objeto nodo Altera\u00e7\u00f5es na tag form : Novas propriedades: minWidth e maxWidth . Altera\u00e7\u00f5es na tag popup: Nova propriedade: scopeNode Altera\u00e7\u00f5es na tag popupForm : Nova propriedade: resizable Nova tag do lua form: dataScopeBox Novo m\u00e9todo gui.newDataScopeBox Novas mensagem-eventos do RRPG: HandleChatCommand ChatMessage ListChatCommands Altera\u00e7\u00f5es no Objeto Chat: Novo m\u00e9todo: chat:escrever Altera\u00e7\u00f5es no Objeto mesa : Novos m\u00e9todos: mesa:requestSetModerada Altera\u00e7\u00f5es no Objeto Jogador : Novos m\u00e9todos: jogador:requestSetCego , jogador:requestSetMudo , jogador:requestSetVoz , j ogador:requestSetJogador, jogador:requestKick Novas fun\u00e7\u00f5es utilit\u00e1rias: utils.removerFmtChat() Novas fun\u00e7\u00f5es na biblioteca gui : gui.openInBrowser Novos tutoriais: Criar uma lista din\u00e2mica + painel de detalhes SDK 3.0 (07/08/2015) Altera\u00e7\u00f5es no objeto Rolagem : Nova fun\u00e7\u00e3o: rolarLocalmente Altera\u00e7\u00f5es no objeto Chat Novo par\u00e2metro \"callback\" na fun\u00e7\u00e3o rolarDados SDK 3.0 beta 2 (31/07/2015) Fun\u00e7\u00f5es para exibir Lua Forms como popup na interface: gui.showPopup e gui.closePopup Novas tags do lua form: radioButton e fun\u00e7\u00e3o gui.newRadioButton popupForm e fun\u00e7\u00e3o gui.newPopupForm activityIndicator e fun\u00e7\u00e3o gui.newActivityIndicator Mudan\u00e7as na tag form: Novos eventos: OnShow e OnHide Novos m\u00e9todos: lockWithActivity e unlockWithActivity Mudan\u00e7as na tag edit : Novos atributos: enterKeyType , type , min e max Mudan\u00e7as na tag recordList : Novo atributo: layout Novas fun\u00e7\u00f5es utilit\u00e1rias: utils.compareStringPtBr setInterval e clearInterval setTimeout e clearTimeout utils.binaryEncode , utils.binaryDecode e utils.getBinarySize Mudan\u00e7as no objeto Mesa: Novas fun\u00e7\u00f5es: findJogador e findBibliotecaItem . Novas bibliotecas para usar no c\u00f3digo Lua: Biblioteca rrpg.messaging Biblioteca rrpg.plugins Biblioteca rrpg.requests Biblioteca internet Mudan\u00e7as na biblioteca ndb: Novas fun\u00e7\u00f5es: ndb.newMemNodeDatabase Mudan\u00e7as na biblioteca dialogs: Novas fun\u00e7\u00f5es: dialogs.inputQuery Corre\u00e7\u00e3o de bug na propriedade fontColor da tag comboBox. SDK 3.0 beta 1 (01/06/2015) Primeira vers\u00e3o do SDK 3 Created with the Personal Edition of HelpNDoc: Transform Your Word Document into a Professional eBook with HelpNDoc","title":"Hist\u00f3rico de Vers\u00f5es"},{"location":"HistoricodeVersoes/#historico-de-versoes","text":"","title":"Hist\u00f3rico de Vers\u00f5es"},{"location":"HistoricodeVersoes/#firecast-sdk-3-version-history","text":"","title":"Firecast SDK 3 Version History"},{"location":"HistoricodeVersoes/#sdk-36d-04052023","text":"New library: Async.Promise New library: Log New object: Promise New function in the Firecast library: Firecast.asyncOpenUserNDB New function in the Room object: room:asyncOpenUserRoomNDB New function in VHD library: VHD.copyFile New macro functions: Log functions getUserNDB getUserRoomNDB getRoomNDB","title":"SDK 3.6d (04/05/2023)"},{"location":"HistoricodeVersoes/#sdk-36c-17062022","text":"New functions to System library: System.readClipboardAsDragNDrop New functions to the Scene Object : scene:sendDelayedUpdates New functions to the GUI library: GUI.toast New macro functions: toast New Drag-and-Drop DataTypes: imageFile ImageFiles","title":"SDK 3.6c (17/06/2022)"},{"location":"HistoricodeVersoes/#sdk-36b-25052022","text":"Fix: getChildren function was not working with recordList Tag . New functions to System library: System.checkAPIVersion System.getAPIVersion System.makeAPIVersionNumber","title":"SDK 3.6b (25/05/2022)"},{"location":"HistoricodeVersoes/#sdk-36-05052022","text":"O arquivo module.xml agora permite o criador de plugin definir as informa\u00e7\u00f5es de seu plugin em v\u00e1rias l\u00ednguas. Novas fun\u00e7\u00f5es na biblioteca Firecast.Messaging: Firecast.Messaging.newReceiver Fix Personagem.dataType always returning nil Firecast 8.4 compatibility","title":"SDK 3.6 (05/05/2022)"},{"location":"HistoricodeVersoes/#sdk-35-29102018","text":"Novas propriedades para a Tag label : format e formatFloat Novas propriedades para a Tag image : animate naturalAnimated Novas propriedades para a Tag dataScopeBox : novos eventos onNodeChanged , onNodeReady e onNodeUnready Novas propriedades para a Tag popup : novos eventos onNodeChanged , onNodeReady e onNodeUnready Novos eventos na tag dataLink : novos eventos: onUserChange e onPersistedChange Novos eventos no objeto NodeObserver onUserChanged , onDeepUserChanged , onPersistedChanged e onDeepPersistedChanged Novas propriedades para a Tag richEdit : animateImages Novas propriedades para a Tag popup autoScopeNode String de cores agoram aceitam o formato short-hand hex colors (Exemplo: #F0C \u00e9 um short-hand que equivale a cor #FF00CC) Novidades em macros: inRoom Novidades na biblioteca fireDrive fireDrive.quickUpload A biblioteca RRPG foi renomeada para Firecast (mas ser\u00e1 mantida compatibilidade com c\u00f3digos antigos) Novas fun\u00e7\u00f5es na biblioteca NDB NDB.getPersistedAttributeValue NDB.copy NDB.exportXML NDB.importXML Novas fun\u00e7\u00f5es na biblioteca Firecast Firecast.registerChatToolButton Firecast.unregisterChatToolButton Novas informa\u00e7\u00f5es na biblioteca Firecast.Plugins a respeito dos plugins instalados: compilationTimestamp, compilationTimestampStr e compilationDigest. Modifica\u00e7\u00f5es na biblioteca Internet Novo par\u00e2metro \"cacheMode\" na fun\u00e7\u00e3o Internet.download Mudan\u00e7as na forma de instala\u00e7\u00e3o e carregamento dos plugins: Agora o conte\u00fado original do arquivo .rpk n\u00e3o \u00e9 mais extra\u00eddo no HD f\u00edsico do dispostivio. Arquivos que forem criados durante a execu\u00e7\u00e3o do plugin s\u00e3o salvos no HD f\u00edsico do usu\u00e1rio. O VHD (HD Virtual) do plugin agora \u00e9 composto pela uni\u00e3o l\u00f3gica do conte\u00fado do arquivo .rpk + arquivos que foram criados durante a execu\u00e7\u00e3o. O Firecast faz essa uni\u00e3o l\u00f3gica automaticamente de forma transparente para que o programador n\u00e3o precise se preocupar. Agora, durante o carregamento de um plugin instalado, se houver um arquivo \"/init.lua\" na raiz do plugin, ele \u00e9 carregado antes dos outros arquivos *.lua Mudan\u00e7as na biblioteca VHD Nova fun\u00e7\u00e3o: VHD.registerAlias Mudan\u00e7as na biblioteca Locale Nova fun\u00e7\u00e3o: Locale.loadLangTexts . Mudan\u00e7as na biblioteca Utils Nova fun\u00e7\u00e3o Utils.generateUniqueString Mudan\u00e7as no comando rdk Nova op\u00e7\u00e3o: lint - Faz uma verifica\u00e7\u00e3o completa no c\u00f3digo fonte do plugin Nova op\u00e7\u00e3o: buildrep - Usado para compilar v\u00e1rios projetos SDK3 em um reposit\u00f3rio, ideal para usar no github do firecast. LuaCheck - Agora o rdk est\u00e1 integrado com o LuaCheck, uma biblioteca open-source que verifica e aponta coisas suspeitas no c\u00f3digo lua.","title":"SDK 3.5 (29/10/2018)"},{"location":"HistoricodeVersoes/#sdk-34b-13112017","text":"Novo par\u00e2metro para a fun\u00e7\u00e3o Dialogs.choose : shortCircuit Novo par\u00e2metro para as macros: choose, chooseCharacterOfPlayer, chooseCharacter , choosePlayer : shortCircuit","title":"SDK 3.4b (13/11/2017)"},{"location":"HistoricodeVersoes/#sdk-34-04092017","text":"Novas fun\u00e7\u00f5es na biblioteca ndb: ndb.editPermissions ndb.broadcastMessage ndb.newBroadcastListener ndb.onReady Novo evento no objeto NodeObserver : onStateChanged Novos eventos na tag Form onNodeReady onNodeUnready Novas fun\u00e7\u00f5es no objeto Scene scene:broadcastMessage scene:newBroadcastListener Nova tag/componente visual: Tag richEdit Nova mensagem-evento: \"HandleChatTextInput\" que permite o programador alterar o texto digitado por um usu\u00e1rio antes dele ser processado pelo RRPG. \"SessionLogin\" que notifica o programador quando o usu\u00e1rio tiver feito Login com sucesso no servidor RRPG. Novas fun\u00e7\u00f5es na biblioteca VHD VHD.forceDirectory VHD.deleteFile VHD.deleteDirectory VHD.directoryExists VHD.enumerateContent Novas fun\u00e7\u00f5es na biblioteca Dialogs Dialogs.saveFile Dialogs.selectImageURL Dialogs.choose Dialogs.chooseMultiple Novas fun\u00e7\u00f5es no objeto Personagem: personagem:loadSheetNDB Novas fun\u00e7\u00f5es no objeto Jogador: jogador:getBarValue jogador:requestSetBarValue jogador:getEditableLine jogador:requestSetEditableLine Novas fun\u00e7\u00f5es para serem usados em Macros Lua load showMessage alert confirmOkCancel confirmYesNo inputQuery selectImageURL choose chooseMultiple invoke myCharacter sheet chooseCharacter chooseCharacters chooseCharacterOfPlayer choosePlayer choosePlayers getCharacterOfPlayer getCharacterSheet Instala\u00e7\u00e3o de plug-ins no Android ficou mais f\u00e1cil. Basta baixar o .rpk no celular e mandar abr\u00ed-lo (O app interceptar\u00e1 para instalar o plugin). Agora o comando \"rdk c\" verifica se existem lua forms com nomes duplicados. Para manter compatibilidade entre sistemas operacionais, O SDK3 ao verificar se um arquivo existe no HD Virtual, ele compara o nome do arquivo de forma case-sensitive mesmo no Windows.","title":"SDK 3.4 (04/09/2017)"},{"location":"HistoricodeVersoes/#sdk-33-06122016","text":"Grandes mudan\u00e7as: API para Scene 3 Possibilidade de realizar drag and drop / arrastar e soltar no SDK 3. Outras mudan\u00e7as detalhadas: Nova biblioteca: Biblioteca SceneLib Nova biblioteca para lidar com idiomas e regi\u00f5es: Biblioteca Locale Altera\u00e7\u00f5es na biblioteca GUI: Nova Classe InertialMovement Nova fun\u00e7\u00e3o: gui.newInertialMovement(); Nova fun\u00e7\u00e3o: gui.newColorComboBox() Novos objetos: Drag , Drop . Novos eventos: onStartDrag e onStartDrop Altera\u00e7\u00f5es na biblioteca NDB: Novos m\u00e9todos: ndb.newTransaction , ndb.pushTransaction, ndb.popTransaction , ndb.getServerUTCTime Novo objeto: NodeTransaction Agora os comandos \"rdk c\" e \"rdk i\" interpretam os arquivos \".lfm\" e geram seus respectivos \".lfm.lua\" em outro diret\u00f3rio dentro da pasta \"output\" do projeto. Agora o SDK3 utiliza a vers\u00e3o Lua 5.3 Novas tags do Lua Form: Tag colorComboBox Altera\u00e7\u00f5es na Tag edit : Novas propriedades: decimalPlaces, asNumber Novo type \"float\" para n\u00fameros reais. Altera\u00e7\u00f5es na T ag flowLayout : Novas propriedades: contentWidth e contentHeight Altera\u00e7\u00f5es na Tag path : Novas propriedades: roundToPixel Altera\u00e7\u00f5es na Tag form : Novas propriedades: isShowing Altera\u00e7\u00f5es na biblioteca rrpg Novos objetos: SceneUnitClass","title":"SDK 3.3 (06/12/2016)"},{"location":"HistoricodeVersoes/#sdk-32-29022016","text":"Altera\u00e7\u00f5es em todas as tags visuais: Novas propriedades: cursor hint Altera\u00e7\u00f5es na tag progressBar: Nova propriedade: colorMode Altera\u00e7\u00f5es na tag form: Novo formType: tablesDock Altera\u00e7\u00f5es na tag imageCheckBox Nova propriedade: autoChange Altera\u00e7\u00f5es na tag edit: Novo evento: onUserChange Altera\u00e7\u00f5es no objeto Chat: Novas fun\u00e7\u00f5es que permitem o envio de mais tipos de mensagem para chats: enviarAcao , enviarRisada , enviarNarracao , enviarMensagemNPC Altera\u00e7\u00f5es na biblioteca rrpg.plugins: Novas fun\u00e7\u00f5es: rrpg.plugins.getInstalledTablesDock Novas mensagens-eventos do RRPG: Mensagens de estado das mesas Altera\u00e7\u00f5es no objeto Mesa: Novas propriedades: podeTablesDock activeChat Novos m\u00e9todos: abrirNDBDeMesa Altera\u00e7\u00f5es na biblioteca ndb: Novas fun\u00e7\u00f5es: ndb.getState ndb.newObserver Fun\u00e7\u00f5es de gerenciamento de permiss\u00f5es Novos objetos: NodeObserver \\ Altera\u00e7\u00f5es na biblioteca system: Novas fun\u00e7\u00f5es: system.isMobile() Novos tutoriais: Como criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios Como criar uma janela acopl\u00e1vel de mesa Altera\u00e7\u00f5es nas Macros: Novas fun\u00e7\u00f5es para serem utilizadas em Macros em Lua: agir , narrar , enviarNPC","title":"SDK 3.2 (29/02/2016)"},{"location":"HistoricodeVersoes/#sdk-31-31102015","text":"Novas fun\u00e7\u00f5es na blblioteca utils: utils.zlibCompress utils.zlibDecompress utils.zlibCompressAsync utils.zlibDecompressAsync utils.newMemoryStream utils.newTempFileStream tryFinally Altera\u00e7\u00f5es no objeto Stream Novas fun\u00e7\u00f5es: stream:readAsBase64 stream:writeBase64 stream:copyFrom Novas propriedades stream.md5 stream.sha1 Altera\u00e7\u00f5es na tag Image: Novas propriedades: naturalWidth e naturalHeight Novo evento: onLoad Altera\u00e7\u00f5es na tag recordList: Novo evento: onCompare Novo m\u00e9todo: recordList:sort Novo m\u00e9todo: recordList:scrollToNode Altera\u00e7\u00f5es na tag flowLayout: Novo evento: onAfterLayoutCalc Altera\u00e7\u00f5es em todas as tags visuais: Novo evento: onMenu Novas fun\u00e7\u00f5es na biblioteca internet: internet.newHTTPRequest internet.httpEncode internet.httpDecode Novos objetos Objeto HTTPRequest (instanciado pela fun\u00e7\u00e3o internet.newHTTPRequest ) Novas fun\u00e7\u00f5es na biblioteca rrpg.plugins: Fun\u00e7\u00f5es para intercomunica\u00e7\u00e3o de plug-ins Novas fun\u00e7\u00f5es na biblioteca dialogs: dialogs.openFile dialogs.saveFile Novas bibliotecas: Biblioteca fireDrive Biblioteca system Novas Tags do Lua Form: Tag progressBar Novas fun\u00e7\u00f5es na biblioteca gui: gui.newProgressBar Novas fun\u00e7\u00f5es na biblioteca ndb: ndb.beginUpdate ndb.endUpdate Novas fun\u00e7\u00f5es na biblioteca rrpg: rrpg.getCurrentUser Corre\u00e7\u00e3o de Bugs: Corrigido o bug que impedia de manipular os eventos onMouseDown e onMouseUp dos controles Corrigido o bug que impedia de alterar a cor do texto da tag textEditor","title":"SDK 3.1 (31/10/2015)"},{"location":"HistoricodeVersoes/#sdk-30d-22082015","text":"Altera\u00e7\u00f5es na tag recordList Adicionado as propriedades selectable , selectedNode e selectedForm Adicionado os eventos: onSelect , onBeginEnumeration , onItemAdded , onItemRemoved e onEndEnumeration O m\u00e9todo append agora retorna um objeto nodo Altera\u00e7\u00f5es na tag form : Novas propriedades: minWidth e maxWidth . Altera\u00e7\u00f5es na tag popup: Nova propriedade: scopeNode Altera\u00e7\u00f5es na tag popupForm : Nova propriedade: resizable Nova tag do lua form: dataScopeBox Novo m\u00e9todo gui.newDataScopeBox Novas mensagem-eventos do RRPG: HandleChatCommand ChatMessage ListChatCommands Altera\u00e7\u00f5es no Objeto Chat: Novo m\u00e9todo: chat:escrever Altera\u00e7\u00f5es no Objeto mesa : Novos m\u00e9todos: mesa:requestSetModerada Altera\u00e7\u00f5es no Objeto Jogador : Novos m\u00e9todos: jogador:requestSetCego , jogador:requestSetMudo , jogador:requestSetVoz , j ogador:requestSetJogador, jogador:requestKick Novas fun\u00e7\u00f5es utilit\u00e1rias: utils.removerFmtChat() Novas fun\u00e7\u00f5es na biblioteca gui : gui.openInBrowser Novos tutoriais: Criar uma lista din\u00e2mica + painel de detalhes","title":"SDK 3.0d (22/08/2015)"},{"location":"HistoricodeVersoes/#sdk-30-07082015","text":"Altera\u00e7\u00f5es no objeto Rolagem : Nova fun\u00e7\u00e3o: rolarLocalmente Altera\u00e7\u00f5es no objeto Chat Novo par\u00e2metro \"callback\" na fun\u00e7\u00e3o rolarDados","title":"SDK 3.0 (07/08/2015)"},{"location":"HistoricodeVersoes/#sdk-30-beta-2-31072015","text":"Fun\u00e7\u00f5es para exibir Lua Forms como popup na interface: gui.showPopup e gui.closePopup Novas tags do lua form: radioButton e fun\u00e7\u00e3o gui.newRadioButton popupForm e fun\u00e7\u00e3o gui.newPopupForm activityIndicator e fun\u00e7\u00e3o gui.newActivityIndicator Mudan\u00e7as na tag form: Novos eventos: OnShow e OnHide Novos m\u00e9todos: lockWithActivity e unlockWithActivity Mudan\u00e7as na tag edit : Novos atributos: enterKeyType , type , min e max Mudan\u00e7as na tag recordList : Novo atributo: layout Novas fun\u00e7\u00f5es utilit\u00e1rias: utils.compareStringPtBr setInterval e clearInterval setTimeout e clearTimeout utils.binaryEncode , utils.binaryDecode e utils.getBinarySize Mudan\u00e7as no objeto Mesa: Novas fun\u00e7\u00f5es: findJogador e findBibliotecaItem . Novas bibliotecas para usar no c\u00f3digo Lua: Biblioteca rrpg.messaging Biblioteca rrpg.plugins Biblioteca rrpg.requests Biblioteca internet Mudan\u00e7as na biblioteca ndb: Novas fun\u00e7\u00f5es: ndb.newMemNodeDatabase Mudan\u00e7as na biblioteca dialogs: Novas fun\u00e7\u00f5es: dialogs.inputQuery Corre\u00e7\u00e3o de bug na propriedade fontColor da tag comboBox.","title":"SDK 3.0 beta 2 (31/07/2015)"},{"location":"HistoricodeVersoes/#sdk-30-beta-1-01062015","text":"Primeira vers\u00e3o do SDK 3 Created with the Personal Edition of HelpNDoc: Transform Your Word Document into a Professional eBook with HelpNDoc","title":"SDK 3.0 beta 1 (01/06/2015)"},{"location":"InterfacesVisuaisLuaForms/","text":"Interfaces Visuais (Lua Forms) Interfaces Visuais (Lua Forms) As interfaces visuais do SDK3, incluindo os modelos de fichas, s\u00e3o feitas usando Lua Forms (arquivos de extens\u00f5es \u2018.lfm\u2019). Principais caracter\u00edsticas do Lua Form Sua linguagem segue o padr\u00e3o XML. Saiba mais sobre em Documentos XML . Ao compilar um projeto de plugin ( Comando \u201crdk c\u201d ) todos os documentos \u2018.lfm\u2019 s\u00e3o validados e compilados em arquivos \u201c.lua\u201d. Possui um conjunto pr\u00f3prio de tags e atributos. O plug-in n\u00e3o compila se alguma tag for utilizada incorretamente no arquivo \u2018.lfm\u2019. Ver Tags suportadas pelo Lua Form . A tag raiz (a mais externa) deve ser \u201cform\u201d ou \"popupForm\". Ver Tag FORM e Tag popupForm . A posi\u00e7\u00e3o de cada controle \u00e9 relativa \u00e0 posi\u00e7\u00e3o de sua tag pai/seu controle pai. Saiba mais em Posi\u00e7\u00e3o e Tamanho dos Controles . Exemplo 1 \u2013 Ol\u00e1 mundo \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form formType=\"sheetTemplate\" dataType=\"br.com.meusite.MeuDataType\" title=\"Ficha de Teste\" name=\"frmFichaTeste\" > \\<label text=\"Ol\u00e1 mundo\" /> \\</form> Exemplo 2 \u2013 Um layout, um label, um edit e um bot\u00e3o \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form formType=\"sheetTemplate\" dataType=\"br.com.meusite.MeuDataType\" title=\"Ficha de Teste\" name=\"frmFichaTeste\" > \\<layout height=\"30\" width=\"200\" > \\<label text=\"For\u00e7a:\" align=\"client\" horzTextAlign=\"trailing\" /> \\<edit align=\"right\" margins=\"{left=10}\" width=\"100\" /> \\</layout> \\<button text=\"Eu sou um bot\u00e3o\" top=\"40\" left=\"50\" width=\"150\" /> \\</form> \\ Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Interfaces Visuais (Lua Forms)"},{"location":"InterfacesVisuaisLuaForms/#interfaces-visuais-lua-forms","text":"","title":"Interfaces Visuais (Lua Forms)"},{"location":"InterfacesVisuaisLuaForms/#interfaces-visuais-lua-forms_1","text":"As interfaces visuais do SDK3, incluindo os modelos de fichas, s\u00e3o feitas usando Lua Forms (arquivos de extens\u00f5es \u2018.lfm\u2019).","title":"Interfaces Visuais (Lua Forms)"},{"location":"InterfacesVisuaisLuaForms/#principais-caracteristicas-do-lua-form","text":"Sua linguagem segue o padr\u00e3o XML. Saiba mais sobre em Documentos XML . Ao compilar um projeto de plugin ( Comando \u201crdk c\u201d ) todos os documentos \u2018.lfm\u2019 s\u00e3o validados e compilados em arquivos \u201c.lua\u201d. Possui um conjunto pr\u00f3prio de tags e atributos. O plug-in n\u00e3o compila se alguma tag for utilizada incorretamente no arquivo \u2018.lfm\u2019. Ver Tags suportadas pelo Lua Form . A tag raiz (a mais externa) deve ser \u201cform\u201d ou \"popupForm\". Ver Tag FORM e Tag popupForm . A posi\u00e7\u00e3o de cada controle \u00e9 relativa \u00e0 posi\u00e7\u00e3o de sua tag pai/seu controle pai. Saiba mais em Posi\u00e7\u00e3o e Tamanho dos Controles .","title":"Principais caracter\u00edsticas do Lua Form"},{"location":"InterfacesVisuaisLuaForms/#exemplo-1-ola-mundo","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form formType=\"sheetTemplate\" dataType=\"br.com.meusite.MeuDataType\" title=\"Ficha de Teste\" name=\"frmFichaTeste\" > \\<label text=\"Ol\u00e1 mundo\" /> \\</form>","title":"Exemplo 1 \u2013 Ol\u00e1 mundo"},{"location":"InterfacesVisuaisLuaForms/#exemplo-2-um-layout-um-label-um-edit-e-um-botao","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form formType=\"sheetTemplate\" dataType=\"br.com.meusite.MeuDataType\" title=\"Ficha de Teste\" name=\"frmFichaTeste\" > \\<layout height=\"30\" width=\"200\" > \\<label text=\"For\u00e7a:\" align=\"client\" horzTextAlign=\"trailing\" /> \\<edit align=\"right\" margins=\"{left=10}\" width=\"100\" /> \\</layout> \\<button text=\"Eu sou um bot\u00e3o\" top=\"40\" left=\"50\" width=\"150\" /> \\</form> \\ Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Exemplo 2 \u2013 Um layout, um label, um edit e um bot\u00e3o"},{"location":"Introducao/","text":"Introdu\u00e7\u00e3o Firecast SDK 3 O Firecast SDK 3 \u00e9 um kit de desenvolvimento que permite a cria\u00e7\u00e3o de plug-ins baseados na linguagem de programa\u00e7\u00e3o LUA 5.3 para o Firecast. Sobre plug-ins Um plug-in \u00e9 um pacote que cont\u00e9m scripts LUA e outros arquivos auxiliares (como imagens, informa\u00e7\u00f5es, interfaces, etc..) que definem sua l\u00f3gica e comportamento, possuem extens\u00e3o de arquivo \u2018.rpk\u2019 e devem ser instalados no Firecast antes de serem executados. O que eu preciso ter e o que eu preciso saber para fazer um plug-in? Antes de tudo, entusiasmo! Se voc\u00ea est\u00e1 entusiasmado, parab\u00e9ns, voc\u00ea j\u00e1 tem pelo menos 50% do que \u00e9 preciso para fazer um plug-in =). Ferramentas que voc\u00ea precisa ter: Firecast SDK 3 instalado em seu computador ( https://firecast.app/para-programadores/ ). Um editor de texto bacana. Recomendamos o Notepad++ ( http://notepad-plus-plus.org/ ). Conhecimentos que voc\u00ea precisa ter: Um pouco sobre documentos XML. Um pouco sobre a linguagem de programa\u00e7\u00e3o LUA. Um pouco sobre o prompt de comando do sistema operacional. Observa\u00e7\u00f5es Importantes: N\u00e3o se assuste! Voc\u00ea n\u00e3o precisa saber tudo sobre XML e nem tudo sobre LUA para come\u00e7ar. Voc\u00ea pode ir aprendendo aos poucos, enquanto cria seu plug-in =). Voc\u00ea n\u00e3o precisa ler este documento todo antes de \u201cbotar a m\u00e3o na massa\u201d. Leia Primeiros passos e utilize o restante como um local de refer\u00eancia, orienta\u00e7\u00f5es e tira d\u00favidas quando preciso! Por onde come\u00e7o? Leia os Primeiros passos Veja tamb\u00e9m: A linguagem de programa\u00e7\u00e3o LUA Documentos XML FAQ - Perguntas Frequentes Hist\u00f3rico de Vers\u00f5es Created with the Personal Edition of HelpNDoc: Transform Your Help Documentation Process with a Help Authoring Tool","title":"Introdu\u00e7\u00e3o"},{"location":"Introducao/#introducao","text":"Firecast SDK 3 O Firecast SDK 3 \u00e9 um kit de desenvolvimento que permite a cria\u00e7\u00e3o de plug-ins baseados na linguagem de programa\u00e7\u00e3o LUA 5.3 para o Firecast.","title":"Introdu\u00e7\u00e3o"},{"location":"Introducao/#sobre-plug-ins","text":"Um plug-in \u00e9 um pacote que cont\u00e9m scripts LUA e outros arquivos auxiliares (como imagens, informa\u00e7\u00f5es, interfaces, etc..) que definem sua l\u00f3gica e comportamento, possuem extens\u00e3o de arquivo \u2018.rpk\u2019 e devem ser instalados no Firecast antes de serem executados.","title":"Sobre plug-ins"},{"location":"Introducao/#o-que-eu-preciso-ter-e-o-que-eu-preciso-saber-para-fazer-um-plug-in","text":"Antes de tudo, entusiasmo! Se voc\u00ea est\u00e1 entusiasmado, parab\u00e9ns, voc\u00ea j\u00e1 tem pelo menos 50% do que \u00e9 preciso para fazer um plug-in =). Ferramentas que voc\u00ea precisa ter: Firecast SDK 3 instalado em seu computador ( https://firecast.app/para-programadores/ ). Um editor de texto bacana. Recomendamos o Notepad++ ( http://notepad-plus-plus.org/ ). Conhecimentos que voc\u00ea precisa ter: Um pouco sobre documentos XML. Um pouco sobre a linguagem de programa\u00e7\u00e3o LUA. Um pouco sobre o prompt de comando do sistema operacional. Observa\u00e7\u00f5es Importantes: N\u00e3o se assuste! Voc\u00ea n\u00e3o precisa saber tudo sobre XML e nem tudo sobre LUA para come\u00e7ar. Voc\u00ea pode ir aprendendo aos poucos, enquanto cria seu plug-in =). Voc\u00ea n\u00e3o precisa ler este documento todo antes de \u201cbotar a m\u00e3o na massa\u201d. Leia Primeiros passos e utilize o restante como um local de refer\u00eancia, orienta\u00e7\u00f5es e tira d\u00favidas quando preciso!","title":"O que eu preciso ter e o que eu preciso saber para fazer um plug-in?"},{"location":"Introducao/#por-onde-comeco","text":"Leia os Primeiros passos","title":"Por onde come\u00e7o?"},{"location":"Introducao/#veja-tambem","text":"A linguagem de programa\u00e7\u00e3o LUA Documentos XML FAQ - Perguntas Frequentes Hist\u00f3rico de Vers\u00f5es Created with the Personal Edition of HelpNDoc: Transform Your Help Documentation Process with a Help Authoring Tool","title":"Veja tamb\u00e9m:"},{"location":"ListadeMensagensEventosdoRRPG/","text":"Lista de Mensagens-Eventos do RRPG Lista de Mensagens-Eventos do Firecast Mensagens de Conex\u00e3o - Mensagens eventos que s\u00e3o disparadas quando o estado da conex\u00e3o com o RRPG server \u00e9 alterado (Ex: uma perda de conex\u00e3o) Mensagens do Gerenciador de Plugins - Mensagens eventos que s\u00e3o disparadas pelo gerenciador de plug-ins do RRPG (Exemplo: Um plug-in foi instalado, um plug-in foi desinstalado, etc..). Mensagens de Chat - Mensagens eventos que s\u00e3o disparadas pelas interfaces de Chat do RRPG. Mensagens de Estado das Mesas - Mensagens eventos que s\u00e3o disparados quando ocorre a altera\u00e7\u00e3o de algum estado das Mesas dos usu\u00e1rios Created with the Personal Edition of HelpNDoc: Transform Your Word Doc into a Professional-Quality eBook with HelpNDoc","title":"Lista de Mensagens-Eventos do RRPG"},{"location":"ListadeMensagensEventosdoRRPG/#lista-de-mensagens-eventos-do-rrpg","text":"","title":"Lista de Mensagens-Eventos do RRPG"},{"location":"ListadeMensagensEventosdoRRPG/#lista-de-mensagens-eventos-do-firecast","text":"Mensagens de Conex\u00e3o - Mensagens eventos que s\u00e3o disparadas quando o estado da conex\u00e3o com o RRPG server \u00e9 alterado (Ex: uma perda de conex\u00e3o) Mensagens do Gerenciador de Plugins - Mensagens eventos que s\u00e3o disparadas pelo gerenciador de plug-ins do RRPG (Exemplo: Um plug-in foi instalado, um plug-in foi desinstalado, etc..). Mensagens de Chat - Mensagens eventos que s\u00e3o disparadas pelas interfaces de Chat do RRPG. Mensagens de Estado das Mesas - Mensagens eventos que s\u00e3o disparados quando ocorre a altera\u00e7\u00e3o de algum estado das Mesas dos usu\u00e1rios","title":"Lista de Mensagens-Eventos do Firecast"},{"location":"ListadeMensagensEventosdoRRPG/#_1","text":"Created with the Personal Edition of HelpNDoc: Transform Your Word Doc into a Professional-Quality eBook with HelpNDoc","title":""},{"location":"Loglibrary/","text":"Log library Log library The Log library provides functions for emmiting log messages, which can be helpful to developers. All of these functions are contained in the \u201cLog\u201d Lua table found in the \u201clog.lua\u201d unit. Usage example: -- First, you need to use the \u201clog.lua\u201d unit require(\"log.lua\"); -- Now you can access the functions of the library. Log.LIBRARY_FUNCTION(Argument1, Argument2, ...); Where the log messages goes to? The log messages emmited by this library are sent to: The Firecast's console. Use the /console command to reveal the console. The Firecast's debug log files (also known as \"LogErrors\") Log library functions function Log.e(tag, msg) function Log.w(tag, msg) function Log.i(tag, msg) function Log.d(tag, msg) function Log.v(tag, msg) Emmit log message Arguments: tag - Used to identify the source of a log message. It usually identifies the location or activity where the log call occurs. msg - The message you would like to be logged Log severity: Log.e Error message A situation that represents an unhandled error that may interrupt some operation Log.w Warning message A situation that can be handled but may cause some unintended behavio Log.i Informational/Notice message A normal but significant condition that may require special handling. Log.d Debug message A developer debug message Log.v Verbose message Algorithm steps message, very low priority messages. Remarks: Messages of this severity are not emitted in the Firecast\u2019s log files In the Firecast\u2019s console, you need to execute the command \u201cfilter add *\u201d to be able to see these messages. Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc","title":"Log library"},{"location":"Loglibrary/#log-library","text":"","title":"Log library"},{"location":"Loglibrary/#log-library_1","text":"The Log library provides functions for emmiting log messages, which can be helpful to developers. All of these functions are contained in the \u201cLog\u201d Lua table found in the \u201clog.lua\u201d unit. Usage example: -- First, you need to use the \u201clog.lua\u201d unit require(\"log.lua\"); -- Now you can access the functions of the library. Log.LIBRARY_FUNCTION(Argument1, Argument2, ...);","title":"Log library"},{"location":"Loglibrary/#where-the-log-messages-goes-to","text":"The log messages emmited by this library are sent to: The Firecast's console. Use the /console command to reveal the console. The Firecast's debug log files (also known as \"LogErrors\")","title":"Where the log messages goes to?"},{"location":"Loglibrary/#log-library-functions","text":"function Log.e(tag, msg) function Log.w(tag, msg) function Log.i(tag, msg) function Log.d(tag, msg) function Log.v(tag, msg) Emmit log message Arguments: tag - Used to identify the source of a log message. It usually identifies the location or activity where the log call occurs. msg - The message you would like to be logged Log severity: Log.e Error message A situation that represents an unhandled error that may interrupt some operation Log.w Warning message A situation that can be handled but may cause some unintended behavio Log.i Informational/Notice message A normal but significant condition that may require special handling. Log.d Debug message A developer debug message Log.v Verbose message Algorithm steps message, very low priority messages. Remarks: Messages of this severity are not emitted in the Firecast\u2019s log files In the Firecast\u2019s console, you need to execute the command \u201cfilter add *\u201d to be able to see these messages. Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc","title":"Log library functions"},{"location":"LuaFormeInstancias/","text":"Lua Form e Inst\u00e2ncias Lua Form e Inst\u00e2ncias O documento Lua Form (arquivo '.lfm') cont\u00e9m apenas o molde/a receita de como a interface deve ser e se comportar. Uma inst\u00e2ncia \u00e9 uma interface concreta que foi criada a partir do molde, sendo assim, podem existir uma ou mais inst\u00e2ncias do mesmo LFM ao mesmo tempo. A inst\u00e2ncia \u00e9 destru\u00edda quando o usu\u00e1rio n\u00e3o precisar mais da interface (por exemplo, ao fechar a janela do personagem), mas o molde nunca \u00e9 destru\u00eddo. Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool","title":"Lua Form e Inst\u00e2ncias"},{"location":"LuaFormeInstancias/#lua-form-e-instancias","text":"","title":"Lua Form e Inst\u00e2ncias"},{"location":"LuaFormeInstancias/#lua-form-e-instancias_1","text":"O documento Lua Form (arquivo '.lfm') cont\u00e9m apenas o molde/a receita de como a interface deve ser e se comportar. Uma inst\u00e2ncia \u00e9 uma interface concreta que foi criada a partir do molde, sendo assim, podem existir uma ou mais inst\u00e2ncias do mesmo LFM ao mesmo tempo. A inst\u00e2ncia \u00e9 destru\u00edda quando o usu\u00e1rio n\u00e3o precisar mais da interface (por exemplo, ao fechar a janela do personagem), mas o molde nunca \u00e9 destru\u00eddo. Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool","title":"Lua Form e Inst\u00e2ncias"},{"location":"LuaFormeNodeDatabase/","text":"Lua Form e NodeDatabase Lua Form e NodeDatabase O Lua Form foi desenvolvido de forma a se conectar facilmente ao NodeDatabase para criar interfaces que salvam dados. Para integrar um lua form ao Node Database \u00e9 preciso duas coisas: Preencher o atributo \"field\" das tags que suportam NodeDatabase Definir um escopo de dados do Lua Form, isto \u00e9, informar em qual nodo de qual NodeDatabase o LuaForm salvar\u00e1 os dados. Observa\u00e7\u00e3o importante: O SDK3 faz isto automaticamente para voc\u00ea se for um modelo de ficha, se estiver usando a tag recordList ou se for uma janela acopl\u00e1vel . Tags que suportam NodeDatabase As tags/controles que se conectam ao NodeDatabase s\u00e3o: label edit checkBox comboBox colorComboBox image imageCheckBox textEditor recordList dataLink dataScopeBox progressBar Escopo de dados Toda tag/controle que suporta NodeDatabase precisa de um escopo de dados, isto \u00e9, um objeto nodo de um nodedatabase onde os dados ser\u00e3o salvos. As tags form, popup e dataScopeBox possuem o m\u00e9todo \"controle:setNodeObject\" que permitem definir o escopo de dados e, ap\u00f3s definido um objeto nodo como escopo, todas as tags que est\u00e3o dentro passar\u00e3o a salvar/carregar dados neste obeto nodo. Exemplo: Suponha a seguinte interface: \\<form name=\"minhaTagForm\" > \\<edit field=\"campoNome\" /> \\</form> Se o seguinte trecho de c\u00f3digo Lua executar: minhaTagForm:setNodeObject(NODO_A) o edit passar\u00e1 a ler e salvar dados em NODO_A.campoNome...\\ \\ Agora, se o seguinte trecho de c\u00f3digo Lua executar: minhaTagForm:setNodeObject(OUTRO_NODO) o edit agora passar\u00e1 a ler e salvar dados em OUTRO_NODO.campoNome...\\ \\ \\ E, por fim, se o seguinte trecho de c\u00f3digo Lua executar: minhaTagForm:setNodeObject( nil ) o edit agora ficar\u00e1 desabilitado, pois utilizamos o atributo \"field\" mas n\u00e3o h\u00e1 nodo escopo de dados associado. Importante: O SDK3 define o escopo de dados automaticamente para os modelos de fichas , ao usar a tag recordList e para as janelas acopl\u00e1veis : Quando o usu\u00e1rio abre uma ficha no RRPG, o SDK3 carrega o NodeDatabase do personagem e define seu objeto nodo raiz como escopo de dados do form. No caso da tag recordList, o SDK3 automaticamente define o escopo de dados de cada painel de item. Quando o usu\u00e1rio ativa um janela acopl\u00e1vel, o SDK 3 carrega o NodeDatabase do form (se ele tiver a propriedade dataType preenchida) e define o objeto nodo raiz como escopo de dados do form. Preenchendo o atributo \"field\" Nas tags que suportam NodeDatabase, o atributo \"field\" cont\u00e9m o nome do campo de um objeto nodo a qual o controle deve se conectar. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit field=\"nomeESobrenome\" /> \\<edit field=\"caracteristicas\" /> \\<label field=\"forca\" /> \\<label field=\"destreza\" /> \\</form> No exemplo acima, quando a interface estiver rodando, o primeiro edit ir\u00e1 se ligar\u00e1 ao campo \"nomeESobrenome\" do objeto nodo, isto \u00e9: Exibir\u00e1 na interface o conte\u00fado do campo \"nomeESobrenome\" do objeto nodo escopo . Quando algu\u00e9m alterar o valor do campo \"nomeESobrenome\" do objeto nodo escopo , o edit captar\u00e1 a mudan\u00e7a e automaticamente mostrar\u00e1 o novo valor na interface. Desde que estejam acessando o mesmo nodedatabase, este comportamento acontece mesmo se a pessoa que alterar o valor estiver em outro computador. Se o usu\u00e1rio alterar o texto do edit, o novo valor ser\u00e1 salvo no campo \"nomeESobrenome\" do objeto nodo escopo . Idem para as demais tags que tem o atributo \"field\" definido. Acessando/salvando dados que est\u00e3o em um nodo filho. \u00c9 poss\u00edvel utilizar o caractere \".\" para informar que o campo na verdade est\u00e1 em um nodo filho do nodo escopo . Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit field=\"atributos.modificadores.forca\" /> \\<edit field=\"nodoFilho.nodoNeto.campo1\" /> \\<edit field=\"nodoFilho.campo2\" /> \\</form> No exemplo acima, o primeiro edit se ligar\u00e1 ao campo \"forca\" do nodo de nome \"modificadores\" que est\u00e1 dentro do nodo de nome \"atributos\" que, por sua vez, est\u00e1 dentro do nodo escopo . Se o usu\u00e1rio alterar o conte\u00fado do edit e o n\u00e3o existir um nodo de nome \"atributos\" no nodo escopo, o SDK3 automaticamente criar\u00e1 este nodo antes de salvar os dados. Idem para o nodo \"modificadores\" dentro do nodo \"atributos\". Vari\u00e1vel sheet Os c\u00f3digos que est\u00e3o dentro de um Lua Form tem acesso \u00e0 uma vari\u00e1vel chamada \"sheet\" que representa o objeto nodo escopo do form. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit field=\"campoDeForca\" /> \\<button onClick=\"sheet.campoDeForca = 8;\" /> \\</form> No exemplo acima, ao clicar no bot\u00e3o, a propriedade \"campoDeForca\" ser\u00e1 alterado para \"8\" e a mudan\u00e7a ser\u00e1 refletida no edit j\u00e1 que est\u00e1 ligado ao mesmo campo que sofreu altera\u00e7\u00e3o. Veja tamb\u00e9m: Tratando eventos do Lua Form Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Exemplos Exemplo 1 - Pequeno cadastro que informa se a pessoa \u00e9 maior de idade \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout left=\"20\" top=\"20\" height=\"500\" width=\"250\" > \\<layout align=\"top\" height=\"32\" > \\<label align=\"left\" text=\"Nome: \" width=\"50\" horzTextAlign=\"trailing\" /> \\<edit align=\"client\" field=\"nome\" margins=\"{left=5}\" /> \\</layout> \\<layout align=\"top\" height=\"32\" > \\<label align=\"left\" text=\"Idade: \" width=\"50\" horzTextAlign=\"trailing\" /> \\<edit align=\"client\" field=\"idade\" margins=\"{left=5}\" /> \\</layout> \\<label name=\"labMaiorDeIdade\" text=\"Preencha a idade\" align=\"top\" horzTextAlign=\"center\" /> \\</layout> \\<dataLink field=\"idade\" > \\<event name=\"onChange\" > local idade = tonumber(sheet.idade); if idade ~= nil then if idade >= 18 then self.labMaiorDeIdade.text = \"Maior de idade\"; else self.labMaiorDeIdade.text = \"Menor de idade\"; end; else self.labMaiorDeIdade.text = \"Preencha a idade\"; end; \\</event> \\</dataLink> \\</form> Neste exemplo foram usados: Tag layout Tag edit Tag label Tag dataLink Tag event Veja tamb\u00e9m: Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Created with the Personal Edition of HelpNDoc: Don't Let Unauthorized Users View Your PDFs: Learn How to Set Passwords","title":"Lua Form e NodeDatabase"},{"location":"LuaFormeNodeDatabase/#lua-form-e-nodedatabase","text":"","title":"Lua Form e NodeDatabase"},{"location":"LuaFormeNodeDatabase/#lua-form-e-nodedatabase_1","text":"O Lua Form foi desenvolvido de forma a se conectar facilmente ao NodeDatabase para criar interfaces que salvam dados. Para integrar um lua form ao Node Database \u00e9 preciso duas coisas: Preencher o atributo \"field\" das tags que suportam NodeDatabase Definir um escopo de dados do Lua Form, isto \u00e9, informar em qual nodo de qual NodeDatabase o LuaForm salvar\u00e1 os dados. Observa\u00e7\u00e3o importante: O SDK3 faz isto automaticamente para voc\u00ea se for um modelo de ficha, se estiver usando a tag recordList ou se for uma janela acopl\u00e1vel .","title":"Lua Form e NodeDatabase"},{"location":"LuaFormeNodeDatabase/#tags-que-suportam-nodedatabase","text":"As tags/controles que se conectam ao NodeDatabase s\u00e3o: label edit checkBox comboBox colorComboBox image imageCheckBox textEditor recordList dataLink dataScopeBox progressBar","title":"Tags que suportam NodeDatabase"},{"location":"LuaFormeNodeDatabase/#escopo-de-dados","text":"Toda tag/controle que suporta NodeDatabase precisa de um escopo de dados, isto \u00e9, um objeto nodo de um nodedatabase onde os dados ser\u00e3o salvos. As tags form, popup e dataScopeBox possuem o m\u00e9todo \"controle:setNodeObject\" que permitem definir o escopo de dados e, ap\u00f3s definido um objeto nodo como escopo, todas as tags que est\u00e3o dentro passar\u00e3o a salvar/carregar dados neste obeto nodo. Exemplo: Suponha a seguinte interface: \\<form name=\"minhaTagForm\" > \\<edit field=\"campoNome\" /> \\</form> Se o seguinte trecho de c\u00f3digo Lua executar: minhaTagForm:setNodeObject(NODO_A) o edit passar\u00e1 a ler e salvar dados em NODO_A.campoNome...\\ \\ Agora, se o seguinte trecho de c\u00f3digo Lua executar: minhaTagForm:setNodeObject(OUTRO_NODO) o edit agora passar\u00e1 a ler e salvar dados em OUTRO_NODO.campoNome...\\ \\ \\ E, por fim, se o seguinte trecho de c\u00f3digo Lua executar: minhaTagForm:setNodeObject( nil ) o edit agora ficar\u00e1 desabilitado, pois utilizamos o atributo \"field\" mas n\u00e3o h\u00e1 nodo escopo de dados associado. Importante: O SDK3 define o escopo de dados automaticamente para os modelos de fichas , ao usar a tag recordList e para as janelas acopl\u00e1veis : Quando o usu\u00e1rio abre uma ficha no RRPG, o SDK3 carrega o NodeDatabase do personagem e define seu objeto nodo raiz como escopo de dados do form. No caso da tag recordList, o SDK3 automaticamente define o escopo de dados de cada painel de item. Quando o usu\u00e1rio ativa um janela acopl\u00e1vel, o SDK 3 carrega o NodeDatabase do form (se ele tiver a propriedade dataType preenchida) e define o objeto nodo raiz como escopo de dados do form.","title":"Escopo de dados"},{"location":"LuaFormeNodeDatabase/#preenchendo-o-atributo-field","text":"Nas tags que suportam NodeDatabase, o atributo \"field\" cont\u00e9m o nome do campo de um objeto nodo a qual o controle deve se conectar. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit field=\"nomeESobrenome\" /> \\<edit field=\"caracteristicas\" /> \\<label field=\"forca\" /> \\<label field=\"destreza\" /> \\</form> No exemplo acima, quando a interface estiver rodando, o primeiro edit ir\u00e1 se ligar\u00e1 ao campo \"nomeESobrenome\" do objeto nodo, isto \u00e9: Exibir\u00e1 na interface o conte\u00fado do campo \"nomeESobrenome\" do objeto nodo escopo . Quando algu\u00e9m alterar o valor do campo \"nomeESobrenome\" do objeto nodo escopo , o edit captar\u00e1 a mudan\u00e7a e automaticamente mostrar\u00e1 o novo valor na interface. Desde que estejam acessando o mesmo nodedatabase, este comportamento acontece mesmo se a pessoa que alterar o valor estiver em outro computador. Se o usu\u00e1rio alterar o texto do edit, o novo valor ser\u00e1 salvo no campo \"nomeESobrenome\" do objeto nodo escopo . Idem para as demais tags que tem o atributo \"field\" definido. Acessando/salvando dados que est\u00e3o em um nodo filho. \u00c9 poss\u00edvel utilizar o caractere \".\" para informar que o campo na verdade est\u00e1 em um nodo filho do nodo escopo . Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit field=\"atributos.modificadores.forca\" /> \\<edit field=\"nodoFilho.nodoNeto.campo1\" /> \\<edit field=\"nodoFilho.campo2\" /> \\</form> No exemplo acima, o primeiro edit se ligar\u00e1 ao campo \"forca\" do nodo de nome \"modificadores\" que est\u00e1 dentro do nodo de nome \"atributos\" que, por sua vez, est\u00e1 dentro do nodo escopo . Se o usu\u00e1rio alterar o conte\u00fado do edit e o n\u00e3o existir um nodo de nome \"atributos\" no nodo escopo, o SDK3 automaticamente criar\u00e1 este nodo antes de salvar os dados. Idem para o nodo \"modificadores\" dentro do nodo \"atributos\".","title":"Preenchendo o atributo \"field\""},{"location":"LuaFormeNodeDatabase/#variavel-sheet","text":"Os c\u00f3digos que est\u00e3o dentro de um Lua Form tem acesso \u00e0 uma vari\u00e1vel chamada \"sheet\" que representa o objeto nodo escopo do form. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit field=\"campoDeForca\" /> \\<button onClick=\"sheet.campoDeForca = 8;\" /> \\</form> No exemplo acima, ao clicar no bot\u00e3o, a propriedade \"campoDeForca\" ser\u00e1 alterado para \"8\" e a mudan\u00e7a ser\u00e1 refletida no edit j\u00e1 que est\u00e1 ligado ao mesmo campo que sofreu altera\u00e7\u00e3o. Veja tamb\u00e9m: Tratando eventos do Lua Form Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form","title":"Vari\u00e1vel sheet"},{"location":"LuaFormeNodeDatabase/#exemplos","text":"","title":"Exemplos"},{"location":"LuaFormeNodeDatabase/#exemplo-1-pequeno-cadastro-que-informa-se-a-pessoa-e-maior-de-idade","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout left=\"20\" top=\"20\" height=\"500\" width=\"250\" > \\<layout align=\"top\" height=\"32\" > \\<label align=\"left\" text=\"Nome: \" width=\"50\" horzTextAlign=\"trailing\" /> \\<edit align=\"client\" field=\"nome\" margins=\"{left=5}\" /> \\</layout> \\<layout align=\"top\" height=\"32\" > \\<label align=\"left\" text=\"Idade: \" width=\"50\" horzTextAlign=\"trailing\" /> \\<edit align=\"client\" field=\"idade\" margins=\"{left=5}\" /> \\</layout> \\<label name=\"labMaiorDeIdade\" text=\"Preencha a idade\" align=\"top\" horzTextAlign=\"center\" /> \\</layout> \\<dataLink field=\"idade\" > \\<event name=\"onChange\" > local idade = tonumber(sheet.idade); if idade ~= nil then if idade >= 18 then self.labMaiorDeIdade.text = \"Maior de idade\"; else self.labMaiorDeIdade.text = \"Menor de idade\"; end; else self.labMaiorDeIdade.text = \"Preencha a idade\"; end; \\</event> \\</dataLink> \\</form> Neste exemplo foram usados: Tag layout Tag edit Tag label Tag dataLink Tag event Veja tamb\u00e9m: Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Created with the Personal Edition of HelpNDoc: Don't Let Unauthorized Users View Your PDFs: Learn How to Set Passwords","title":"Exemplo 1 - Pequeno cadastro que informa se a pessoa \u00e9 maior de idade"},{"location":"Macros/","text":"Macros Macros Macros s\u00e3o atalhos criados pelo usu\u00e1rio para comandos/textos que s\u00e3o repetidos frequentemente. Por exemplo: Se o personagem de D\\&D do usu\u00e1rio possui um ataque padr\u00e3o, \u00e9 conveniente criar uma macro de nome, digamos, \"ataque\" que faz: /r 1d20 + 5: Rolagem do Ataque /r 1d8 + 5: Rolagem do Dano Quando o usu\u00e1rio digitar \"/ataque\" no chat do RRPG, estes comandos ser\u00e3o executados. Criando e editando suas macros digite \"/macros\" no chat do RRPG para abrir o gerenciador de macros! Tipos de macros Existem dois tipos de macros no RRPG: Macros Simples Macros em Lua A macros simples cont\u00e9m comandos que s\u00e3o enviados para o chat, linha a linha. S\u00e3o extremamente f\u00e1ceis e intuitivas de serem feitas, por\u00e9m s\u00e3o limitadas. As macros em Lua cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o Lua e requerem um pouco de conhecimento de programa\u00e7\u00e3o, porem s\u00e3o flex\u00edveis! Macros em Lua As macros em Lua possuem um conjunto de fun\u00e7\u00f5es utilit\u00e1rias pr\u00e9-definidas para serem utilizadas! Conhe\u00e7a as fun\u00e7\u00f5es dispon\u00edveis para as macros em lua . Exemplo 1: Fazendo um teste com dificuldade igual a 15\\ local resultado = rolar(\"1d20 + 5\"); if resultado >= 15 then enviar(\"Acertou!\"); else enviar(\"Errou!\"); end ; Created with the Personal Edition of HelpNDoc: Maximize Your Documentation Capabilities with a Help Authoring Tool","title":"Macros"},{"location":"Macros/#macros","text":"","title":"Macros"},{"location":"Macros/#macros_1","text":"Macros s\u00e3o atalhos criados pelo usu\u00e1rio para comandos/textos que s\u00e3o repetidos frequentemente. Por exemplo: Se o personagem de D\\&D do usu\u00e1rio possui um ataque padr\u00e3o, \u00e9 conveniente criar uma macro de nome, digamos, \"ataque\" que faz: /r 1d20 + 5: Rolagem do Ataque /r 1d8 + 5: Rolagem do Dano Quando o usu\u00e1rio digitar \"/ataque\" no chat do RRPG, estes comandos ser\u00e3o executados.","title":"Macros"},{"location":"Macros/#criando-e-editando-suas-macros","text":"digite \"/macros\" no chat do RRPG para abrir o gerenciador de macros!","title":"Criando e editando suas macros"},{"location":"Macros/#tipos-de-macros","text":"Existem dois tipos de macros no RRPG: Macros Simples Macros em Lua A macros simples cont\u00e9m comandos que s\u00e3o enviados para o chat, linha a linha. S\u00e3o extremamente f\u00e1ceis e intuitivas de serem feitas, por\u00e9m s\u00e3o limitadas. As macros em Lua cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o Lua e requerem um pouco de conhecimento de programa\u00e7\u00e3o, porem s\u00e3o flex\u00edveis!","title":"Tipos de macros"},{"location":"Macros/#macros-em-lua","text":"As macros em Lua possuem um conjunto de fun\u00e7\u00f5es utilit\u00e1rias pr\u00e9-definidas para serem utilizadas! Conhe\u00e7a as fun\u00e7\u00f5es dispon\u00edveis para as macros em lua . Exemplo 1: Fazendo um teste com dificuldade igual a 15\\ local resultado = rolar(\"1d20 + 5\"); if resultado >= 15 then enviar(\"Acertou!\"); else enviar(\"Errou!\"); end ; Created with the Personal Edition of HelpNDoc: Maximize Your Documentation Capabilities with a Help Authoring Tool","title":"Macros em Lua"},{"location":"MensagensdeChat/","text":"Mensagens de Chat Mensagens-Eventos a respeito de Chat no RRPG \"ChatMessage\" Enviada quando uma mensagem de chat for recebida ou enviada. Par\u00e2metros da Mensagem: chat - Objeto Chat onde a mensagem foi recebida ou enviada. mine - Booleano, onde true significa que a mensagem foi enviada pelo usu\u00e1rio atual do rrpg e false significa uma mensagem enviada por outro usu\u00e1rio. type - Cont\u00e9m o tipo da mensagem e pode ser um dos seguintes valores: \"standard\" - Uma mensagem de texto normal \"asNarrator\" - Uma mensagem de texto como Narrador. \"asNPC\" - Uma mensagem de texto como NPC \"action\" - Uma mensagem de texto a\u00e7\u00e3o (/me) \"laugh\" - Uma risada do RRPG (/rir) \"dice\" - Uma rolagem de dados content - Cadeia de caracteres contendo o texto principal da mensagem. Se tipo for \"dice\", cont\u00e9m a mensagem adicional que acompanha a rolagem. (OPCIONAL) npc - Se o tipo da mensagem for \"asNPC\", cont\u00e9m o nome do NPC da mensagem. (OPCIONAL) roll - Se o tipo da mensagem for \"dice\", cont\u00e9m o Objeto Rolagem com detalhes da rolagem feita. (OPCIONAL) room - Se a mensagem foi enviada em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma. (OPCIONAL) player - Se a mensagem foi enviada em um chat ligado a uma mesa, cont\u00e9m o Objeto Jogador de quem enviou a mensagem. (OPCIONAL) pvtPlayer - Se a mensagem foi enviada em uma janela PVT, cont\u00e9m o Objeto Jogador do PVT aberto. Observa\u00e7\u00f5es: Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem-evento n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG. \"HandleChatCommand\" Mensagem enviada quando o usu\u00e1rio digitar um comando no chat que n\u00e3o \u00e9 conhecido pelo RRPG, dando a chance ao plug-in de trat\u00e1-lo. Por, exemplo, quando o usu\u00e1rio digitar no chat: \"/atacar orbe de fogo\", onde \"atacar\" \u00e9 o comando e \"orbe de fogo\" \u00e9 o par\u00e2metro. Par\u00e2metros da Mensagem: command - Cadeia de caracteres contendo o nome do comando que o usu\u00e1rio digitou. parameter - Cadeia de caracteres contendo o par\u00e2metro do comando. chat - Objeto Chat onde o comando foi digitado. (OPCIONAL) room - Se o comando for digitado em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma, sen\u00e3o cont\u00e9m nil . (OPCIONAL) player - Se o comando for digitado em uma janela PVT, cont\u00e9m o Objeto Jogador com quem o usu\u00e1rio est\u00e1 conversando, sen\u00e3o cont\u00e9m nil . Retorno: \"response = {handled = true}\" para sinalizar ao RRPG que o comando foi devidamente tratado e que n\u00e3o precisa mais continuar sua busca por algu\u00e9m que trate este comando. Observa\u00e7\u00f5es: Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG. Recomendamos que trate tamb\u00e9m a mensagem evento \"ListChatCommands \" Exemplo: Tratando o comando /versao rrpg.messaging.listen(\"HandleChatCommand\", function (message) if message.command == \"versao\" then -- Tratar o comando /vers\u00e3o message.chat:enviarMensagem(\"A Minha vers\u00e3o \u00e9 1.0\"); message.chat:escrever(\"Este texto \u00e9 s\u00f3 para o usu\u00e1rio\"); -- Sinalizar ao RRPG que o comando foi tratado com sucesso message.response = {handled = true}; end ; end ); \"ListChatCommands\" Mensagem enviada quando o usu\u00e1rio digitar \"/help\" ou \"/?\" no chat, permitindo o plug-in informar ao usu\u00e1rio a exist\u00eancia de comandos suportados. Par\u00e2metros: chat - Objeto Chat onde o help ser\u00e1 exibido. (OPCIONAL) room - Se o help for ser exibido em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma, sen\u00e3o cont\u00e9m nil . (OPCIONAL) player - Se o help for ser exibido em uma janela PVT, cont\u00e9m o Objeto Jogador com quem o usu\u00e1rio est\u00e1 conversando, sen\u00e3o cont\u00e9m nil . Retorno: response = Um arranjo de tabelas, onde cada tabela representa um comando e possui as seguintes propriedades: command - Uma cadeia de caracteres contendo o comando , exemplo: \"/meuComando\" description - Uma cadeia de caracteres contendo a descri\u00e7\u00e3o do comando, exemplo: \"Faz isso, isso e aquilo\" Observa\u00e7\u00f5es: Este evento ocorre apenas para informar ao usu\u00e1rio quais comandos o plug-in possui, tornando necess\u00e1rio tamb\u00e9m tratara mensagem-evento \"HandleChatCommand\" se quiser fazer o comando realmente funcionar. Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG. Exemplo 1: Informando, ao RRPG, a exist\u00eancia do comando /versao rrpg.messaging.listen(\"ListChatCommands\", function (message) message.response = {{command=\"/versao\", description=\"Mostra a vers\u00e3o do plug-in\"}}; end ); Exemplo 2: Informando, ao RRPG, v\u00e1rios comandos: rrpg.messaging.listen(\"ListChatCommands\", function (message) message.response = {{command=\"/comando1\", description=\"Este comando faz uma coisa\"}, {command=\"/comando2\", description=\"Este comando faz duas coisas\"}, {command=\"/comando3\", description=\"Este comando faz tres coisas\"}}; end ); \"HandleChatTextInput\" Evento enviado quando o usu\u00e1rio confirma o envio de um comando/mensagem para um chat, dando oportunidade para o plug-in alterar ou ajustar o texto de entrada antes que seja processado pelo RRPG. Par\u00e2metros da Mensagem: chat - Objeto Chat onde a mensagem ser\u00e1 enviada. text - Cadeia de caracteres contendo o texto de entrada que o usu\u00e1rio digitou. isCommand - True se o usu\u00e1rio informou um texto para um comando do RRPG (aqueles que come\u00e7am com o caracter \"/\"). (OPCIONAL) room - Se a mensagem estiver prestes a ser enviada a um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma. (OPCIONAL) pvtPlayer - Se a mensagem estiver prestes a ser enviada em uma janela PVT, cont\u00e9m o Objeto Jogador do PVT aberto. Retorno: Se o plug-in quiser substituir o texto por outro, o programador dever\u00e1 atribuir \"message.response = {newText = \\<\\<novo texto que ser\u00e1 utilizado>>}\" para sinalizar ao RRPG que o texto de entrada deve ser subst\u00edtuido pelo conteudo de newText. Alerta: Tenha consci\u00eancia do parametro \"message.isCommand\" desta mensagem! Se o usu\u00e1rio digitar um comando (por exemplo \"/nick NovoNick\"), nem toda substitu\u00ed\u00e7\u00e3o de texto deve ser feita, ou deve ser feita de forma consciente para n\u00e3o atrapalhar a experi\u00eancia do usu\u00e1rio com o programa! Observa\u00e7\u00f5es: O RRPG apenas envia esta mensagem-evento se uma das duas seguintes condi\u00e7\u00f5es forem satisfeitas: O usu\u00e1rio logado \u00e9 um assinante pago do RRPG. O usu\u00e1rio logado n\u00e3o \u00e9 assinante pago do RRPG, a mensagem est\u00e1 prestes a ser enviada em uma mesa onde o criador \u00e9 Gold Plus. Exemplo: Um plug-in que substitui o texto \"CA\" por \"Categoria de Armadura\" nos textos digitados pelo usu\u00e1rio. RRPG.listen('HandleChatTextInput', function (message) message.response = {newText = string.gsub(message.text, \"CA\", \"Categoria de Armadura\") }; end ); Created with the Personal Edition of HelpNDoc: Experience the Power and Simplicity of HelpNDoc's User Interface","title":"Mensagens de Chat"},{"location":"MensagensdeChat/#mensagens-de-chat","text":"","title":"Mensagens de Chat"},{"location":"MensagensdeChat/#mensagens-eventos-a-respeito-de-chat-no-rrpg","text":"\"ChatMessage\" Enviada quando uma mensagem de chat for recebida ou enviada. Par\u00e2metros da Mensagem: chat - Objeto Chat onde a mensagem foi recebida ou enviada. mine - Booleano, onde true significa que a mensagem foi enviada pelo usu\u00e1rio atual do rrpg e false significa uma mensagem enviada por outro usu\u00e1rio. type - Cont\u00e9m o tipo da mensagem e pode ser um dos seguintes valores: \"standard\" - Uma mensagem de texto normal \"asNarrator\" - Uma mensagem de texto como Narrador. \"asNPC\" - Uma mensagem de texto como NPC \"action\" - Uma mensagem de texto a\u00e7\u00e3o (/me) \"laugh\" - Uma risada do RRPG (/rir) \"dice\" - Uma rolagem de dados content - Cadeia de caracteres contendo o texto principal da mensagem. Se tipo for \"dice\", cont\u00e9m a mensagem adicional que acompanha a rolagem. (OPCIONAL) npc - Se o tipo da mensagem for \"asNPC\", cont\u00e9m o nome do NPC da mensagem. (OPCIONAL) roll - Se o tipo da mensagem for \"dice\", cont\u00e9m o Objeto Rolagem com detalhes da rolagem feita. (OPCIONAL) room - Se a mensagem foi enviada em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma. (OPCIONAL) player - Se a mensagem foi enviada em um chat ligado a uma mesa, cont\u00e9m o Objeto Jogador de quem enviou a mensagem. (OPCIONAL) pvtPlayer - Se a mensagem foi enviada em uma janela PVT, cont\u00e9m o Objeto Jogador do PVT aberto. Observa\u00e7\u00f5es: Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem-evento n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG. \"HandleChatCommand\" Mensagem enviada quando o usu\u00e1rio digitar um comando no chat que n\u00e3o \u00e9 conhecido pelo RRPG, dando a chance ao plug-in de trat\u00e1-lo. Por, exemplo, quando o usu\u00e1rio digitar no chat: \"/atacar orbe de fogo\", onde \"atacar\" \u00e9 o comando e \"orbe de fogo\" \u00e9 o par\u00e2metro. Par\u00e2metros da Mensagem: command - Cadeia de caracteres contendo o nome do comando que o usu\u00e1rio digitou. parameter - Cadeia de caracteres contendo o par\u00e2metro do comando. chat - Objeto Chat onde o comando foi digitado. (OPCIONAL) room - Se o comando for digitado em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma, sen\u00e3o cont\u00e9m nil . (OPCIONAL) player - Se o comando for digitado em uma janela PVT, cont\u00e9m o Objeto Jogador com quem o usu\u00e1rio est\u00e1 conversando, sen\u00e3o cont\u00e9m nil . Retorno: \"response = {handled = true}\" para sinalizar ao RRPG que o comando foi devidamente tratado e que n\u00e3o precisa mais continuar sua busca por algu\u00e9m que trate este comando. Observa\u00e7\u00f5es: Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG. Recomendamos que trate tamb\u00e9m a mensagem evento \"ListChatCommands \" Exemplo: Tratando o comando /versao rrpg.messaging.listen(\"HandleChatCommand\", function (message) if message.command == \"versao\" then -- Tratar o comando /vers\u00e3o message.chat:enviarMensagem(\"A Minha vers\u00e3o \u00e9 1.0\"); message.chat:escrever(\"Este texto \u00e9 s\u00f3 para o usu\u00e1rio\"); -- Sinalizar ao RRPG que o comando foi tratado com sucesso message.response = {handled = true}; end ; end ); \"ListChatCommands\" Mensagem enviada quando o usu\u00e1rio digitar \"/help\" ou \"/?\" no chat, permitindo o plug-in informar ao usu\u00e1rio a exist\u00eancia de comandos suportados. Par\u00e2metros: chat - Objeto Chat onde o help ser\u00e1 exibido. (OPCIONAL) room - Se o help for ser exibido em um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma, sen\u00e3o cont\u00e9m nil . (OPCIONAL) player - Se o help for ser exibido em uma janela PVT, cont\u00e9m o Objeto Jogador com quem o usu\u00e1rio est\u00e1 conversando, sen\u00e3o cont\u00e9m nil . Retorno: response = Um arranjo de tabelas, onde cada tabela representa um comando e possui as seguintes propriedades: command - Uma cadeia de caracteres contendo o comando , exemplo: \"/meuComando\" description - Uma cadeia de caracteres contendo a descri\u00e7\u00e3o do comando, exemplo: \"Faz isso, isso e aquilo\" Observa\u00e7\u00f5es: Este evento ocorre apenas para informar ao usu\u00e1rio quais comandos o plug-in possui, tornando necess\u00e1rio tamb\u00e9m tratara mensagem-evento \"HandleChatCommand\" se quiser fazer o comando realmente funcionar. Se o usu\u00e1rio do RRPG for um usu\u00e1rio Silver, esta mensagem n\u00e3o \u00e9 enviada. Esta mensagem-evento s\u00f3 \u00e9 enviada se o usu\u00e1rio for um assinante do RRPG. Exemplo 1: Informando, ao RRPG, a exist\u00eancia do comando /versao rrpg.messaging.listen(\"ListChatCommands\", function (message) message.response = {{command=\"/versao\", description=\"Mostra a vers\u00e3o do plug-in\"}}; end ); Exemplo 2: Informando, ao RRPG, v\u00e1rios comandos: rrpg.messaging.listen(\"ListChatCommands\", function (message) message.response = {{command=\"/comando1\", description=\"Este comando faz uma coisa\"}, {command=\"/comando2\", description=\"Este comando faz duas coisas\"}, {command=\"/comando3\", description=\"Este comando faz tres coisas\"}}; end ); \"HandleChatTextInput\" Evento enviado quando o usu\u00e1rio confirma o envio de um comando/mensagem para um chat, dando oportunidade para o plug-in alterar ou ajustar o texto de entrada antes que seja processado pelo RRPG. Par\u00e2metros da Mensagem: chat - Objeto Chat onde a mensagem ser\u00e1 enviada. text - Cadeia de caracteres contendo o texto de entrada que o usu\u00e1rio digitou. isCommand - True se o usu\u00e1rio informou um texto para um comando do RRPG (aqueles que come\u00e7am com o caracter \"/\"). (OPCIONAL) room - Se a mensagem estiver prestes a ser enviada a um chat ligado a uma mesa, cont\u00e9m o Objeto Mesa da mesma. (OPCIONAL) pvtPlayer - Se a mensagem estiver prestes a ser enviada em uma janela PVT, cont\u00e9m o Objeto Jogador do PVT aberto. Retorno: Se o plug-in quiser substituir o texto por outro, o programador dever\u00e1 atribuir \"message.response = {newText = \\<\\<novo texto que ser\u00e1 utilizado>>}\" para sinalizar ao RRPG que o texto de entrada deve ser subst\u00edtuido pelo conteudo de newText. Alerta: Tenha consci\u00eancia do parametro \"message.isCommand\" desta mensagem! Se o usu\u00e1rio digitar um comando (por exemplo \"/nick NovoNick\"), nem toda substitu\u00ed\u00e7\u00e3o de texto deve ser feita, ou deve ser feita de forma consciente para n\u00e3o atrapalhar a experi\u00eancia do usu\u00e1rio com o programa! Observa\u00e7\u00f5es: O RRPG apenas envia esta mensagem-evento se uma das duas seguintes condi\u00e7\u00f5es forem satisfeitas: O usu\u00e1rio logado \u00e9 um assinante pago do RRPG. O usu\u00e1rio logado n\u00e3o \u00e9 assinante pago do RRPG, a mensagem est\u00e1 prestes a ser enviada em uma mesa onde o criador \u00e9 Gold Plus. Exemplo: Um plug-in que substitui o texto \"CA\" por \"Categoria de Armadura\" nos textos digitados pelo usu\u00e1rio. RRPG.listen('HandleChatTextInput', function (message) message.response = {newText = string.gsub(message.text, \"CA\", \"Categoria de Armadura\") }; end ); Created with the Personal Edition of HelpNDoc: Experience the Power and Simplicity of HelpNDoc's User Interface","title":"Mensagens-Eventos a respeito de Chat no RRPG"},{"location":"MensagensdeConexao/","text":"Mensagens de Conex\u00e3o Mensagens-Eventos sobre a conex\u00e3o com o RRPG Server \"SessionLost\" Mensagem enviada quando o RRPG perder definitivamente a conex\u00e3o com o servidor. \"SessionStarted\" Mensagem enviada quando o RRPG conseguir estabelecer uma conex\u00e3o com o servidor. \"SessionLogin\" Mensagem enviada quando o processo de Login do usu\u00e1rio for conclu\u00eddo com \u00eaxito. Quando esta mensagem-evento for enviada, significa que o usu\u00e1rio est\u00e1 logado e algumas informa\u00e7\u00f5es sobre sua conta e lista de contatos tamb\u00e9m est\u00e3o dispon\u00edveis. \"SessionStarting\" Mensagem enviada quando o RRPG iniciar o processo de estabelecimento de uma nova conex\u00e3o com o servidor. \"SessionStartFailure\" Mensagem enviada quando o RRPG n\u00e3o conseguir estabelecer uma nova conex\u00e3o com o servidor. Propriedades da mensagem: reason - uma cadeia de caracteres contendo a raz\u00e3o da conex\u00e3o ter falhado. \"SessionBroken\" O link da conex\u00e3o foi quebrada, isto \u00e9, a conex\u00e3o TCP/IP com o servidor foi desfeita. Mas n\u00e3o est\u00e1 tudo perdido ainda: Talvez seja poss\u00edvel reestabelecer a conex\u00e3o, e o RRPG vai tentar isso! \"SessionWillTryToFix\" O RRPG tentar\u00e1 recuperar o link quebrado da conex\u00e3o daqui a alguns milisegundos! Par\u00e2metros: waitTime - Um n\u00famero contendo quantos milisegundos o RRPG vai esperar at\u00e9 a tentativa de recupera\u00e7\u00e3o. \"SessionTryingToFix\" O RRPG tentar\u00e1 recuperar o link quebrado da conex\u00e3o AGORA! \"SessionFixed\" O RRPG conseguiu recuperar o link da conex\u00e3o. A conex\u00e3o est\u00e1 normal agora! \"SessionFixFailure\" Uma tentativa de recuperar o link da conex\u00e3o falhou... Se a mensagem \"SessionWillTryToFixIn\" for disparada logo a seguir, ent\u00e3o o RRPG continuar\u00e1 tentando consertar o link. Se a mensagem \"SessionLost\" for disparada logo a seguir, ent\u00e3o o RRPG n\u00e3o vai mais tentar recuperar o link. Estados de Conex\u00e3o do RRPG As mensagens-eventos sobre a conex\u00e3o do RRPG s\u00e3o disparadas conforme o seguinte fluxo: Created with the Personal Edition of HelpNDoc: Effortlessly Support Your Windows Applications with HelpNDoc's CHM Generation","title":"Mensagens de Conex\u00e3o"},{"location":"MensagensdeConexao/#mensagens-de-conexao","text":"","title":"Mensagens de Conex\u00e3o"},{"location":"MensagensdeConexao/#mensagens-eventos-sobre-a-conexao-com-o-rrpg-server","text":"\"SessionLost\" Mensagem enviada quando o RRPG perder definitivamente a conex\u00e3o com o servidor. \"SessionStarted\" Mensagem enviada quando o RRPG conseguir estabelecer uma conex\u00e3o com o servidor. \"SessionLogin\" Mensagem enviada quando o processo de Login do usu\u00e1rio for conclu\u00eddo com \u00eaxito. Quando esta mensagem-evento for enviada, significa que o usu\u00e1rio est\u00e1 logado e algumas informa\u00e7\u00f5es sobre sua conta e lista de contatos tamb\u00e9m est\u00e3o dispon\u00edveis. \"SessionStarting\" Mensagem enviada quando o RRPG iniciar o processo de estabelecimento de uma nova conex\u00e3o com o servidor. \"SessionStartFailure\" Mensagem enviada quando o RRPG n\u00e3o conseguir estabelecer uma nova conex\u00e3o com o servidor. Propriedades da mensagem: reason - uma cadeia de caracteres contendo a raz\u00e3o da conex\u00e3o ter falhado. \"SessionBroken\" O link da conex\u00e3o foi quebrada, isto \u00e9, a conex\u00e3o TCP/IP com o servidor foi desfeita. Mas n\u00e3o est\u00e1 tudo perdido ainda: Talvez seja poss\u00edvel reestabelecer a conex\u00e3o, e o RRPG vai tentar isso! \"SessionWillTryToFix\" O RRPG tentar\u00e1 recuperar o link quebrado da conex\u00e3o daqui a alguns milisegundos! Par\u00e2metros: waitTime - Um n\u00famero contendo quantos milisegundos o RRPG vai esperar at\u00e9 a tentativa de recupera\u00e7\u00e3o. \"SessionTryingToFix\" O RRPG tentar\u00e1 recuperar o link quebrado da conex\u00e3o AGORA! \"SessionFixed\" O RRPG conseguiu recuperar o link da conex\u00e3o. A conex\u00e3o est\u00e1 normal agora! \"SessionFixFailure\" Uma tentativa de recuperar o link da conex\u00e3o falhou... Se a mensagem \"SessionWillTryToFixIn\" for disparada logo a seguir, ent\u00e3o o RRPG continuar\u00e1 tentando consertar o link. Se a mensagem \"SessionLost\" for disparada logo a seguir, ent\u00e3o o RRPG n\u00e3o vai mais tentar recuperar o link.","title":"Mensagens-Eventos sobre a conex\u00e3o com o RRPG Server"},{"location":"MensagensdeConexao/#estados-de-conexao-do-rrpg","text":"As mensagens-eventos sobre a conex\u00e3o do RRPG s\u00e3o disparadas conforme o seguinte fluxo: Created with the Personal Edition of HelpNDoc: Effortlessly Support Your Windows Applications with HelpNDoc's CHM Generation","title":"Estados de Conex\u00e3o do RRPG"},{"location":"MensagensdeEstadodasMesas/","text":"Mensagens de Estado das Mesas Mensagens-Eventos a respeito do Estado das Mesas no RRPG \"MesaJoined\" Enviada quando algu\u00e9m entrar em alguma mesa no RRPG. Par\u00e2metros da Mensagem: room - Objeto Mesa representando a mesa onde o jogador entrou. me - Booleano, onde true significa que o usu\u00e1rio atual do RRPG foi quem entrou na mesa. player - Objeto Jogador representando quem entrou na mesa. \"MesaParted\" Enviada quando algu\u00e9m sair de alguma mesa do RRPG. Par\u00e2metros da Mensagem: room - Objeto Mesa representando a mesa que o jogador saiu. me - Booleano, onde true significa que o usu\u00e1rio atual do RRPG foi quem saiu da mesa. player - Objeto Jogador representando quem saiu da mesa. (OPCIONAL) text - Cadeia de caracteres contendo, opcionalmente, um texto deixada pelo usu\u00e1rio no momento da sa\u00edda. isKick - Booleano, onde true significa que o jogador saiu da mesa por causa de um kick. (OPCIONAL) responsible - Quando \"isKick\" for true, este campo contem o Objeto Jogador representando quem realizou o kick. Observa\u00e7\u00e3o: Se este atributo vier nil durante um kick, significa que o sistema RRPG kickou o usu\u00e1rio. Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities","title":"Mensagens de Estado das Mesas"},{"location":"MensagensdeEstadodasMesas/#mensagens-de-estado-das-mesas","text":"","title":"Mensagens de Estado das Mesas"},{"location":"MensagensdeEstadodasMesas/#mensagens-eventos-a-respeito-do-estado-das-mesas-no-rrpg","text":"\"MesaJoined\" Enviada quando algu\u00e9m entrar em alguma mesa no RRPG. Par\u00e2metros da Mensagem: room - Objeto Mesa representando a mesa onde o jogador entrou. me - Booleano, onde true significa que o usu\u00e1rio atual do RRPG foi quem entrou na mesa. player - Objeto Jogador representando quem entrou na mesa. \"MesaParted\" Enviada quando algu\u00e9m sair de alguma mesa do RRPG. Par\u00e2metros da Mensagem: room - Objeto Mesa representando a mesa que o jogador saiu. me - Booleano, onde true significa que o usu\u00e1rio atual do RRPG foi quem saiu da mesa. player - Objeto Jogador representando quem saiu da mesa. (OPCIONAL) text - Cadeia de caracteres contendo, opcionalmente, um texto deixada pelo usu\u00e1rio no momento da sa\u00edda. isKick - Booleano, onde true significa que o jogador saiu da mesa por causa de um kick. (OPCIONAL) responsible - Quando \"isKick\" for true, este campo contem o Objeto Jogador representando quem realizou o kick. Observa\u00e7\u00e3o: Se este atributo vier nil durante um kick, significa que o sistema RRPG kickou o usu\u00e1rio. Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities","title":"Mensagens-Eventos a respeito do Estado das Mesas no RRPG"},{"location":"MensagensdoGerenciadordePlugins/","text":"Mensagens do Gerenciador de Plugins Mensagens-Eventos do Gerenciador de Plug-ins \"PluginInstalled\" Mensagem enviada quando um plug-in for instalado no RRPG Firecast. Par\u00e2metros: moduleId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do plug-in \"PluginUninstalled\" Mensagem enviada quando um plug-in for desinstalado do RRPG Firecast Par\u00e2metros: moduleId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do plug-in que foi desinstalado. Created with the Personal Edition of HelpNDoc: Easily convert your WinHelp HLP help files to CHM with HelpNDoc's step-by-step guide","title":"Mensagens do Gerenciador de Plugins"},{"location":"MensagensdoGerenciadordePlugins/#mensagens-do-gerenciador-de-plugins","text":"","title":"Mensagens do Gerenciador de Plugins"},{"location":"MensagensdoGerenciadordePlugins/#mensagens-eventos-do-gerenciador-de-plug-ins","text":"\"PluginInstalled\" Mensagem enviada quando um plug-in for instalado no RRPG Firecast. Par\u00e2metros: moduleId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do plug-in \"PluginUninstalled\" Mensagem enviada quando um plug-in for desinstalado do RRPG Firecast Par\u00e2metros: moduleId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o do plug-in que foi desinstalado. Created with the Personal Edition of HelpNDoc: Easily convert your WinHelp HLP help files to CHM with HelpNDoc's step-by-step guide","title":"Mensagens-Eventos do Gerenciador de Plug-ins"},{"location":"MetricadoMundovsMetricadaTela/","text":"M\u00e9trica do Mundo vs M\u00e9trica da Tela \\< A escrever ...> Created with the Personal Edition of HelpNDoc: Easy EPub and documentation editor","title":"M\u00e9trica do Mundo vs M\u00e9trica da Tela"},{"location":"MetricadoMundovsMetricadaTela/#metrica-do-mundo-vs-metrica-da-tela","text":"\\< A escrever ...> Created with the Personal Edition of HelpNDoc: Easy EPub and documentation editor","title":"M\u00e9trica do Mundo vs M\u00e9trica da Tela"},{"location":"ModelosdeFichas/","text":"Modelos de Fichas Modelos de Fichas Cada modelo de ficha do SDK3 \u00e9 um documento Lua Form (extens\u00e3o \u2018.lfm\u2019) e toda vez que o usu\u00e1rio abre um personagem, o RRPG Firecast localiza o Lua Form adequado, cria uma nova inst\u00e2ncia e a exibe na tela. Veja: Interfaces Visuais (Lua Forms) Lua Form e Inst\u00e2ncias Criando um novo modelo de ficha Para criar um novo modelo de ficha: Crie um arquivo texto vazio de extens\u00e3o \u2018.lfm\u201d dentro da pasta do projeto do plug-in. Abra o arquivo em um editor de texto, copie e cole o seguinte documento: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form formType=\"sheetTemplate\" dataType=\"DATA_TYPE_AQUI\" title=\"TITULO_AQUI\" name=\"NOME_AQUI\" > \\</form> Preencha os campos \u201cdataType\u201d, \u201ctitle\u201d e \u201cname\u201d: dataType \u2013 Um texto que identifica qual \u00e9 o tipo de conte\u00fado do seu modelo de ficha. Voc\u00ea deve inventar um Data Type \u00fanico que possua ao menos cinco caracteres alfanum\u00e9ricos, \"_\" ou \".\" e que n\u00e3o comece com d\u00edgitos. Use a criatividade! Exemplos: \u201cbr.com.rrpg.DnD5_S3\u201d, \u201cbr.com.rrpg.VampiroAMascara\u201d, \u201cbr.com.meusite.MeuModeloDeFicha\u201d, \u201cmeuplugin.FichaX\u201d, etc..\\ title \u2013 O t\u00edtulo do seu modelo de ficha. Este texto aparecer\u00e1 na lista de fichas quando o usu\u00e1rio criar um personagem. Exemplos: \u201cDnD 5th\u201d, \u201cVampiro a M\u00e1scara\u201d, \u201cMeu modelo de ficha\u201d, etc..\\ name \u2013 Nome interno do Lua Form. Deve conter apenas caracteres alfanum\u00e9ricos ou \"_\" e n\u00e3o deve come\u00e7ar com d\u00edgitos. Exemplos: \u201cfrmDnD5\u201d, \u201cfrmVampiroAMascara\u201d, \u201cfrmMeuModeloDeFicha\u201d, etc.. Apesar de n\u00e3o ser exigida, a pr\u00e1tica de colocar \u201cfrm\u201d no in\u00edcio do name \u00e9 recomendada. Pronto! Voc\u00ea acaba de criar um modelo de ficha vazio. Veja agora: Interfaces Visuais (Lua Forms) para saber mais sobre o arquivo .lfm e completar seu plug-in. Tutoriais para ter mais ideias para seu modelo de ficha =). Criando um novo modelo de ficha - Exemplo passo a passo O exemplo a seguir utiliza o editor de texto Notepad++. Criando o arquivo texto vazio de extens\u00e3o \u2018.lfm\u2019 dentro da pasta do projeto de plug-in: \\ \\ Preenchendo o conte\u00fado do arquivo LFM:\\ Instalando o plug-in:\\ Testando a ficha no RRPG: \\ Created with the Personal Edition of HelpNDoc: Easily create CHM Help documents","title":"Modelos de Fichas"},{"location":"ModelosdeFichas/#modelos-de-fichas","text":"","title":"Modelos de Fichas"},{"location":"ModelosdeFichas/#modelos-de-fichas_1","text":"Cada modelo de ficha do SDK3 \u00e9 um documento Lua Form (extens\u00e3o \u2018.lfm\u2019) e toda vez que o usu\u00e1rio abre um personagem, o RRPG Firecast localiza o Lua Form adequado, cria uma nova inst\u00e2ncia e a exibe na tela. Veja: Interfaces Visuais (Lua Forms) Lua Form e Inst\u00e2ncias","title":"Modelos de Fichas"},{"location":"ModelosdeFichas/#criando-um-novo-modelo-de-ficha","text":"Para criar um novo modelo de ficha: Crie um arquivo texto vazio de extens\u00e3o \u2018.lfm\u201d dentro da pasta do projeto do plug-in. Abra o arquivo em um editor de texto, copie e cole o seguinte documento: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form formType=\"sheetTemplate\" dataType=\"DATA_TYPE_AQUI\" title=\"TITULO_AQUI\" name=\"NOME_AQUI\" > \\</form> Preencha os campos \u201cdataType\u201d, \u201ctitle\u201d e \u201cname\u201d: dataType \u2013 Um texto que identifica qual \u00e9 o tipo de conte\u00fado do seu modelo de ficha. Voc\u00ea deve inventar um Data Type \u00fanico que possua ao menos cinco caracteres alfanum\u00e9ricos, \"_\" ou \".\" e que n\u00e3o comece com d\u00edgitos. Use a criatividade! Exemplos: \u201cbr.com.rrpg.DnD5_S3\u201d, \u201cbr.com.rrpg.VampiroAMascara\u201d, \u201cbr.com.meusite.MeuModeloDeFicha\u201d, \u201cmeuplugin.FichaX\u201d, etc..\\ title \u2013 O t\u00edtulo do seu modelo de ficha. Este texto aparecer\u00e1 na lista de fichas quando o usu\u00e1rio criar um personagem. Exemplos: \u201cDnD 5th\u201d, \u201cVampiro a M\u00e1scara\u201d, \u201cMeu modelo de ficha\u201d, etc..\\ name \u2013 Nome interno do Lua Form. Deve conter apenas caracteres alfanum\u00e9ricos ou \"_\" e n\u00e3o deve come\u00e7ar com d\u00edgitos. Exemplos: \u201cfrmDnD5\u201d, \u201cfrmVampiroAMascara\u201d, \u201cfrmMeuModeloDeFicha\u201d, etc.. Apesar de n\u00e3o ser exigida, a pr\u00e1tica de colocar \u201cfrm\u201d no in\u00edcio do name \u00e9 recomendada. Pronto! Voc\u00ea acaba de criar um modelo de ficha vazio. Veja agora: Interfaces Visuais (Lua Forms) para saber mais sobre o arquivo .lfm e completar seu plug-in. Tutoriais para ter mais ideias para seu modelo de ficha =).","title":"Criando um novo modelo de ficha"},{"location":"ModelosdeFichas/#criando-um-novo-modelo-de-ficha-exemplo-passo-a-passo","text":"O exemplo a seguir utiliza o editor de texto Notepad++. Criando o arquivo texto vazio de extens\u00e3o \u2018.lfm\u2019 dentro da pasta do projeto de plug-in: \\ \\ Preenchendo o conte\u00fado do arquivo LFM:\\ Instalando o plug-in:\\ Testando a ficha no RRPG: \\ Created with the Personal Edition of HelpNDoc: Easily create CHM Help documents","title":"Criando um novo modelo de ficha - Exemplo passo a passo"},{"location":"NodeDatabase/","text":"NodeDatabase NodeDatabase Um NodeDatabase \u00e9 um documento de f\u00e1cil leitura, altera\u00e7\u00e3o e compartilhamento de dados usado para salvar fichas de personagens, configura\u00e7\u00f5es e outras informa\u00e7\u00f5es. Se chama assim pois \u00e9 estruturado como uma \u00e1rvore, isto \u00e9, existe um n\u00f3 raiz e cada n\u00f3 pode possuir outros n\u00f3s de forma recursiva. Cada n\u00f3 possui um nome, um n\u00f3 pai (com exce\u00e7\u00e3o do n\u00f3 raiz), n\u00f3s filhos e atributos. Todas as altera\u00e7\u00f5es feitas em um n\u00f3 de um NodeDatabase s\u00e3o automaticamente salvas no documento. Conte\u00fado: Objeto Nodo Biblioteca NDB Veja tamb\u00e9m: Integrando LuaForm com NodeDatabase Created with the Personal Edition of HelpNDoc: Don't Let Unauthorized Users View Your PDFs: Learn How to Set Passwords","title":"NodeDatabase"},{"location":"NodeDatabase/#nodedatabase","text":"","title":"NodeDatabase"},{"location":"NodeDatabase/#nodedatabase_1","text":"Um NodeDatabase \u00e9 um documento de f\u00e1cil leitura, altera\u00e7\u00e3o e compartilhamento de dados usado para salvar fichas de personagens, configura\u00e7\u00f5es e outras informa\u00e7\u00f5es. Se chama assim pois \u00e9 estruturado como uma \u00e1rvore, isto \u00e9, existe um n\u00f3 raiz e cada n\u00f3 pode possuir outros n\u00f3s de forma recursiva. Cada n\u00f3 possui um nome, um n\u00f3 pai (com exce\u00e7\u00e3o do n\u00f3 raiz), n\u00f3s filhos e atributos. Todas as altera\u00e7\u00f5es feitas em um n\u00f3 de um NodeDatabase s\u00e3o automaticamente salvas no documento.","title":"NodeDatabase"},{"location":"NodeDatabase/#conteudo","text":"Objeto Nodo Biblioteca NDB","title":"Conte\u00fado:"},{"location":"NodeDatabase/#veja-tambem","text":"Integrando LuaForm com NodeDatabase Created with the Personal Edition of HelpNDoc: Don't Let Unauthorized Users View Your PDFs: Learn How to Set Passwords","title":"Veja tamb\u00e9m:"},{"location":"Oarquivomodulexml/","text":"O arquivo \"module.xml\" Structure \\ Todo projeto de plugin deve conter um arquivo de nome \u201cmodule.xml\u201d em sua raiz que cont\u00e9m as informa\u00e7\u00f5es sobre o mesmo. A estrutura das tags/marca\u00e7\u00f5es deste documento \u00e9: module id \u2013 Uma identifica\u00e7\u00e3o global e \u00fanica do plug-in. \u00c9 um texto que cont\u00e9m apenas caracteres alfanum\u00e9ricos, underlines, pontos e deve conter ao menos 5 caracteres e um m\u00e1ximo de 40. Voc\u00ea deve inventar um valor \u00fanico para este campo, e, uma vez definido, o ID n\u00e3o deve mudar. Exemplos: \u201cbr.com.rrpg.DnD5_SDK3\u201d, \u201cbr.com.outrosite.storytellerX\u201d. version \u2013 Um texto que identifica a vers\u00e3o do seu plug-in. N\u00e3o se esque\u00e7a de atualizar este campo quando for lan\u00e7ar uma nova vers\u00e3o do seu plug-in =). Exemplos: \u201c1.0\u201d, \u201c1.1\u201d, \u201c1.2b\u201d info \u2013 Tag que re\u00fane as informa\u00e7\u00f5es do puglin traduzidas em uma determinada l\u00edngua. Pode aparecer mais de uma vez, uma para cada tradu\u00e7\u00e3o. Ela cont\u00e9m as seguintes tags filhas: name \u2013 O um texto curto que nomeia seu plug-in. Exemplos: \u201cDnD 5\u201d, \u201cPlugin de Mighty Blade\u201d, \u201cPlugin X\u201d, etc.. description \u2013 Um texto breve que descreve o que seu plug-in faz. Exemplos: \u201cAdiciona suporte a fichas de DnD 5\u201d. author \u2013 Seu nome/nickname site \u2013 Voc\u00ea possui um site? Coloq-ue aqui o endere\u00e7o dele se tiver contact \u2013 Como se faz contato com voc\u00ea? Adicione endere\u00e7o de e-mail, facebook, twitter, etc.. settings \u2013 A tag to configure the behaviors of your plugin. Available settings are: automaticStringLocalization \u2013 When true, it allows the Firecast to automatically translate attributes of LFM files and strings passed to the API calls. It's a very cool feature to make your plugin multi-language but may produce inconsistent behaviors. Default: false. See Criando um plug-in para v\u00e1rios idiomas \\ \\ Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\"?> \\< module sdkVersion=\" 3.6 \"> \\<!-- O id identifica seu m\u00f3dulo globalmente. Deve ser \u00fanico, conter apenas caracteres alfanum\u00e9ricos, underlines, pontos e deve conter ao menos 5 caracteres e um m\u00e1ximo de 40. Uma vez definido o ID, voc\u00ea n\u00e3o deve alterar ele ;) --> \\< id > br.com.rrpg.DnD5_SDK3 \\<!-- id --> \\<!-- version \u00e9 a vers\u00e3o do seu m\u00f3dulo. Quando for lan\u00e7ar uma nova vers\u00e3o do seu m\u00f3dulo, altere aqui =) --> \\< version > 1.0 \\<!-- version --> \\< settings > \\< automaticStringLocalization > true \\<!-- automaticStringLocalization --> \\<!-- settings --> \\< info lang=\" pt-BR \"> \\<!-- Informa\u00e7\u00f5es do plugin na l\u00edngua \"pt-BR\". Voc\u00ea pode ter v\u00e1rias tags \"info\", uma para cada tradu\u00e7\u00e3o que quiser. --> \\< name > D\\&D 5e \\<!-- name --> \\< description > Modelo de ficha de D\\&D 5\u00aa edi\u00e7\u00e3o \\<!-- description --> \\< author > Firecast \\<!-- author --> \\< site > https://firecast.app/ \\<!-- site --> \\< contact > https://www.facebook.com/AlyssonRPG \\<!-- contact --> \\<!-- info --> \\< info lang=\" en \"> \\<!-- Informa\u00e7\u00f5es do plugin na l\u00edngua \"en\". Voc\u00ea pode ter v\u00e1rias tags \"info\", uma para cada tradu\u00e7\u00e3o que quiser. --> \\< name > D\\&D 5th Edition \\<!-- name --> \\< description > D\\&D 5th edition character sheet for firecast \\<!-- description --> \\<!-- info --> \\<!-- module --> \\ Created with the Personal Edition of HelpNDoc: Single source CHM, PDF, DOC and HTML Help creation","title":"O arquivo \"module.xml\""},{"location":"Oarquivomodulexml/#o-arquivo-modulexml","text":"","title":"O arquivo \"module.xml\""},{"location":"Oarquivomodulexml/#structure","text":"\\ Todo projeto de plugin deve conter um arquivo de nome \u201cmodule.xml\u201d em sua raiz que cont\u00e9m as informa\u00e7\u00f5es sobre o mesmo. A estrutura das tags/marca\u00e7\u00f5es deste documento \u00e9: module id \u2013 Uma identifica\u00e7\u00e3o global e \u00fanica do plug-in. \u00c9 um texto que cont\u00e9m apenas caracteres alfanum\u00e9ricos, underlines, pontos e deve conter ao menos 5 caracteres e um m\u00e1ximo de 40. Voc\u00ea deve inventar um valor \u00fanico para este campo, e, uma vez definido, o ID n\u00e3o deve mudar. Exemplos: \u201cbr.com.rrpg.DnD5_SDK3\u201d, \u201cbr.com.outrosite.storytellerX\u201d. version \u2013 Um texto que identifica a vers\u00e3o do seu plug-in. N\u00e3o se esque\u00e7a de atualizar este campo quando for lan\u00e7ar uma nova vers\u00e3o do seu plug-in =). Exemplos: \u201c1.0\u201d, \u201c1.1\u201d, \u201c1.2b\u201d info \u2013 Tag que re\u00fane as informa\u00e7\u00f5es do puglin traduzidas em uma determinada l\u00edngua. Pode aparecer mais de uma vez, uma para cada tradu\u00e7\u00e3o. Ela cont\u00e9m as seguintes tags filhas: name \u2013 O um texto curto que nomeia seu plug-in. Exemplos: \u201cDnD 5\u201d, \u201cPlugin de Mighty Blade\u201d, \u201cPlugin X\u201d, etc.. description \u2013 Um texto breve que descreve o que seu plug-in faz. Exemplos: \u201cAdiciona suporte a fichas de DnD 5\u201d. author \u2013 Seu nome/nickname site \u2013 Voc\u00ea possui um site? Coloq-ue aqui o endere\u00e7o dele se tiver contact \u2013 Como se faz contato com voc\u00ea? Adicione endere\u00e7o de e-mail, facebook, twitter, etc.. settings \u2013 A tag to configure the behaviors of your plugin. Available settings are: automaticStringLocalization \u2013 When true, it allows the Firecast to automatically translate attributes of LFM files and strings passed to the API calls. It's a very cool feature to make your plugin multi-language but may produce inconsistent behaviors. Default: false. See Criando um plug-in para v\u00e1rios idiomas \\ \\ Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\"?> \\< module sdkVersion=\" 3.6 \"> \\<!-- O id identifica seu m\u00f3dulo globalmente. Deve ser \u00fanico, conter apenas caracteres alfanum\u00e9ricos, underlines, pontos e deve conter ao menos 5 caracteres e um m\u00e1ximo de 40. Uma vez definido o ID, voc\u00ea n\u00e3o deve alterar ele ;) --> \\< id > br.com.rrpg.DnD5_SDK3 \\<!-- id --> \\<!-- version \u00e9 a vers\u00e3o do seu m\u00f3dulo. Quando for lan\u00e7ar uma nova vers\u00e3o do seu m\u00f3dulo, altere aqui =) --> \\< version > 1.0 \\<!-- version --> \\< settings > \\< automaticStringLocalization > true \\<!-- automaticStringLocalization --> \\<!-- settings --> \\< info lang=\" pt-BR \"> \\<!-- Informa\u00e7\u00f5es do plugin na l\u00edngua \"pt-BR\". Voc\u00ea pode ter v\u00e1rias tags \"info\", uma para cada tradu\u00e7\u00e3o que quiser. --> \\< name > D\\&D 5e \\<!-- name --> \\< description > Modelo de ficha de D\\&D 5\u00aa edi\u00e7\u00e3o \\<!-- description --> \\< author > Firecast \\<!-- author --> \\< site > https://firecast.app/ \\<!-- site --> \\< contact > https://www.facebook.com/AlyssonRPG \\<!-- contact --> \\<!-- info --> \\< info lang=\" en \"> \\<!-- Informa\u00e7\u00f5es do plugin na l\u00edngua \"en\". Voc\u00ea pode ter v\u00e1rias tags \"info\", uma para cada tradu\u00e7\u00e3o que quiser. --> \\< name > D\\&D 5th Edition \\<!-- name --> \\< description > D\\&D 5th edition character sheet for firecast \\<!-- description --> \\<!-- info --> \\<!-- module --> \\ Created with the Personal Edition of HelpNDoc: Single source CHM, PDF, DOC and HTML Help creation","title":"Structure"},{"location":"ObjetoBibliotecaItem/","text":"Objeto BibliotecaItem Objeto BibliotecaItem Este objeto representa um item na biblioteca de uma mesa no RRPG Firecast. Heran\u00e7a O Objeto BibliotecaItem possui todas as caracter\u00edsticas de um WrappedObject. Veja: Objeto WrappedObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o Objeto BibliotecaItem tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o mesa Objeto Mesa Somente leitura, cont\u00e9m o Objeto Mesa que representa em qual mesa este item est\u00e1. pai Objeto BibliotecaItem Somente leitura, cont\u00e9m o objeto BibliotecaItem que \u00e9 pai deste item. Observa\u00e7\u00e3o: Se o item for raiz da biblioteca, esta propriedade conter\u00e1 nil . filhos Arranjo de Objeto BibliotecaItem Cont\u00e9m um arranjo de Objetos BibliotecaItem representando os sub-itens deste item. Um arranjo \u00e9 uma tabela lua indexada de 1 a N. tipo Enumerado: \"biblioteca\" \"diretorio\" \"personagem\" \"imagem\" \"sceneUnitClass\" \"scene2\" Somente leitura, cont\u00e9m que tipo de item este \u00e9. \"biblioteca\" - diret\u00f3rio raiz da biblioteca. \"diretorio\" - uma pasta na biblioteca \"personagem\" - Um personagem \"imagem\" - Uma imagem (implementa\u00e7\u00e3o futura) \"sceneUnitClass\" - Um item do Scene2 \"scene2\" - Um tabuleiro de Scene 2 codigoInterno Integer Somente Leitura, cont\u00e9m o c\u00f3digo interno que identifica este item de biblioteca unicamente no RRPG Firecast. nome String Somente leitura, cont\u00e9m o nome do item da biblioteca. loginDono String Somente leitura, cont\u00e9m o login RRPG do usu\u00e1rio que \u00e9 dono deste item. dono Objeto Jogador Somente leitura, cont\u00e9m o o objeto Jogador do dono deste item. Observa\u00e7\u00e3o: Se o dono n\u00e3o estiver na mesa no momento, esta propriedade conter\u00e1 nil. Utilize a propriedade \"loginDono\" para descobrir o login do dono mesmo se ele n\u00e3o estiver na mesa. loginCriador String Somente leitura, cont\u00e9m o login do usu\u00e1rio que criou este item. criador Objeto Jogador Somente leitura, cont\u00e9m o objeto Jogador do usu\u00e1rio que criou este item. Observa\u00e7\u00e3o: Se o criador n\u00e3o estiver na mesa no momento, esta propriedade conter\u00e1 nil. Utilize a propriedade \"loginCriador\" se voc\u00ea quiser descobrir quem criou o item mesmo se ele n\u00e3o estiver na mesa. visivel Boolean Somente leitura, cont\u00e9m true se o item estiver marcado para ser vis\u00edvel a todos da mesa. Observa\u00e7\u00e3o: Esta propriedade pode conter true mas o item n\u00e3o estar de fato vis\u00edvel a todos. Isto ocorre quando o item est\u00e1 dentro de um item pai que est\u00e1 escondido. Para descobrir se o item est\u00e1 realmente vis\u00edvel a todos, utilize a propriedade \"visivelRecursivamente\". visivelRecursivamente Boolean Somente leitura, cont\u00e9m true se o item est\u00e1 realmente vis\u00edvel a todos da mesa. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o bibliotecaItem:isType(typeName) Retorna true se passado \"bibliotecaItem\" como par\u00e2metro. Exemplos Exemplo 1 - Obter todos os nomes de todos os itens na biblioteca de uma mesa local function obterNomesRecursivo(bibItem) local itensFilhos = bibItem.filhos; local nomes = bibItem.nome; local i; for i = 1, #itensFilhos, 1 do local bibItemFilho = itensFilhos[i]; local nomesDoFilho = obterNomesRecursivo(bibItemFilho) or \"\"; if nomesDoFilho ~= \"\" then nomes = nomes .. \" \\n \" .. nomesDoFilho; end ; end ; return nomes; end ; local nomesDeTodosOsItens = obterNomesRecursivo(umObjetoMesa.biblioteca); showMessage(nomesDeTodosOsItens); \\ Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool","title":"Objeto BibliotecaItem"},{"location":"ObjetoBibliotecaItem/#objeto-bibliotecaitem","text":"","title":"Objeto BibliotecaItem"},{"location":"ObjetoBibliotecaItem/#objeto-bibliotecaitem_1","text":"Este objeto representa um item na biblioteca de uma mesa no RRPG Firecast.","title":"Objeto BibliotecaItem"},{"location":"ObjetoBibliotecaItem/#heranca","text":"O Objeto BibliotecaItem possui todas as caracter\u00edsticas de um WrappedObject. Veja: Objeto WrappedObject","title":"Heran\u00e7a"},{"location":"ObjetoBibliotecaItem/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o Objeto BibliotecaItem tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoBibliotecaItem/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o mesa Objeto Mesa Somente leitura, cont\u00e9m o Objeto Mesa que representa em qual mesa este item est\u00e1. pai Objeto BibliotecaItem Somente leitura, cont\u00e9m o objeto BibliotecaItem que \u00e9 pai deste item. Observa\u00e7\u00e3o: Se o item for raiz da biblioteca, esta propriedade conter\u00e1 nil . filhos Arranjo de Objeto BibliotecaItem Cont\u00e9m um arranjo de Objetos BibliotecaItem representando os sub-itens deste item. Um arranjo \u00e9 uma tabela lua indexada de 1 a N. tipo Enumerado: \"biblioteca\" \"diretorio\" \"personagem\" \"imagem\" \"sceneUnitClass\" \"scene2\" Somente leitura, cont\u00e9m que tipo de item este \u00e9. \"biblioteca\" - diret\u00f3rio raiz da biblioteca. \"diretorio\" - uma pasta na biblioteca \"personagem\" - Um personagem \"imagem\" - Uma imagem (implementa\u00e7\u00e3o futura) \"sceneUnitClass\" - Um item do Scene2 \"scene2\" - Um tabuleiro de Scene 2 codigoInterno Integer Somente Leitura, cont\u00e9m o c\u00f3digo interno que identifica este item de biblioteca unicamente no RRPG Firecast. nome String Somente leitura, cont\u00e9m o nome do item da biblioteca. loginDono String Somente leitura, cont\u00e9m o login RRPG do usu\u00e1rio que \u00e9 dono deste item. dono Objeto Jogador Somente leitura, cont\u00e9m o o objeto Jogador do dono deste item. Observa\u00e7\u00e3o: Se o dono n\u00e3o estiver na mesa no momento, esta propriedade conter\u00e1 nil. Utilize a propriedade \"loginDono\" para descobrir o login do dono mesmo se ele n\u00e3o estiver na mesa. loginCriador String Somente leitura, cont\u00e9m o login do usu\u00e1rio que criou este item. criador Objeto Jogador Somente leitura, cont\u00e9m o objeto Jogador do usu\u00e1rio que criou este item. Observa\u00e7\u00e3o: Se o criador n\u00e3o estiver na mesa no momento, esta propriedade conter\u00e1 nil. Utilize a propriedade \"loginCriador\" se voc\u00ea quiser descobrir quem criou o item mesmo se ele n\u00e3o estiver na mesa. visivel Boolean Somente leitura, cont\u00e9m true se o item estiver marcado para ser vis\u00edvel a todos da mesa. Observa\u00e7\u00e3o: Esta propriedade pode conter true mas o item n\u00e3o estar de fato vis\u00edvel a todos. Isto ocorre quando o item est\u00e1 dentro de um item pai que est\u00e1 escondido. Para descobrir se o item est\u00e1 realmente vis\u00edvel a todos, utilize a propriedade \"visivelRecursivamente\". visivelRecursivamente Boolean Somente leitura, cont\u00e9m true se o item est\u00e1 realmente vis\u00edvel a todos da mesa.","title":"Propriedades e atributos"},{"location":"ObjetoBibliotecaItem/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o bibliotecaItem:isType(typeName) Retorna true se passado \"bibliotecaItem\" como par\u00e2metro.","title":"M\u00e9todos"},{"location":"ObjetoBibliotecaItem/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoBibliotecaItem/#exemplo-1-obter-todos-os-nomes-de-todos-os-itens-na-biblioteca-de-uma-mesa","text":"local function obterNomesRecursivo(bibItem) local itensFilhos = bibItem.filhos; local nomes = bibItem.nome; local i; for i = 1, #itensFilhos, 1 do local bibItemFilho = itensFilhos[i]; local nomesDoFilho = obterNomesRecursivo(bibItemFilho) or \"\"; if nomesDoFilho ~= \"\" then nomes = nomes .. \" \\n \" .. nomesDoFilho; end ; end ; return nomes; end ; local nomesDeTodosOsItens = obterNomesRecursivo(umObjetoMesa.biblioteca); showMessage(nomesDeTodosOsItens); \\ Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool","title":"Exemplo 1 - Obter todos os nomes de todos os itens na biblioteca de uma mesa"},{"location":"ObjetoChat/","text":"Objeto Chat Objeto Chat Este objeto representa uma interface de batepapo no RRPG Firecast. Heran\u00e7a O Objeto Chat possui todas as caracter\u00edsticas de um WrappedObject. Veja: Objeto WrappedObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Chat tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o room Objeto Mesa (Somente leitura) Cont\u00e9m a mesa a qual este chat pertence. Importante : Pode ser nil se o chat n\u00e3o pertencer a uma mesa. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o chat:enviarMensagem(msg) Envia uma mensagem comum para o chat, como se o usu\u00e1rio a tivesse digitado. Par\u00e2metros: msg - a mensagem que deseja enviar no chat. chat:enviarAcao(acao) Enviar uma mensagem como uma a\u00e7\u00e3o para o chat. Par\u00e2metros: acao - a mensagem que deseja enviar no chat com formata\u00e7\u00e3o de a\u00e7\u00e3o. chat:enviarRisada() Enviar uma t\u00edpica risada do RRPG para o chat. chat:enviarMensagemNPC(npc, msg) Envia uma mensagem para o chat como se um NPC estivesse falando. Par\u00e2metros: npc - cadeia de caracteres contendo o nome do NPC msg - a mensagem que deseja enviar no chat. Observa\u00e7\u00e3o: Apenas o mestre da mesa consegue enviar mensagens como NPC. chat:enviarNarracao(narracao) Enviar uma mensagem como narrador para o chat. Par\u00e2metros: narracao - a mensagem que deseja enviar no chat com formata\u00e7\u00e3o de narra\u00e7\u00e3o. Observa\u00e7\u00e3o: Apenas o mestre da mesa consegue enviar narra\u00e7\u00f5es. chat:rolarDados(rolagem [, msg, calllback]) Envia uma rolagem de dados para o chat. Par\u00e2metros: rolagem - um Objeto Rolagem ou uma cadeia de caracteres contendo a rolagem de dados. (OPCIONAL) msg - Uma mensagem para acompanhar a rolagem de dados. (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ap\u00f3s a rolagem ser executada no chat. A fun\u00e7\u00e3o recebe no primeiro par\u00e2metro um NOVO Objeto Rolagem contendo o resultado da rolagem. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o tem comportamento ass\u00edncrono. Isto \u00e9, a fun\u00e7\u00e3o retorna imediatamente e o resto do c\u00f3digo continua sendo executado enquanto a rolagem \u00e9 feita em segundo plano. Depois de algum tempo, quando o RRPG j\u00e1 souber o resultado, \u00e9 que a fun\u00e7\u00e3o \"callback\" ser\u00e1 invocada. A fun\u00e7\u00e3o callback pode n\u00e3o ser invocada se a rolagem n\u00e3o for autorizada/realizada pelo RRPG. Exemplo de situa\u00e7\u00f5es: A mesa est\u00e1 moderada e o usu\u00e1rio n\u00e3o possui o modo +voz para rolar dados, a conex\u00e3o com o servidor caiu antes da rolagem ser realizada, etc.. Veja tamb\u00e9m o exemplo 2 . chat:escrever(texto [, quebrarLinha, permitirSmileys]) Escreve/Imprime um texto no chat. O texto n\u00e3o \u00e9 enviado para ningu\u00e9m e s\u00f3 \u00e9 exibido para o usu\u00e1rio que est\u00e1 usando o RRPG. Par\u00e2metros: texto - cadeia de caracteres contendo o texto que deve ser impresso no chat. (OPCIONAL) quebrarLinha - Booleano indicando se o RRPG deve adicionar uma quebra de linha no chat antes de escrever o texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido. (OPCIONAL) permitirSmileys - Booleano indicando se o RRPG deve interpretar smileys neste texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido. Exemplos Exemplo 1 - Uma ficha enviando um Hello World para a sua mesa. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button> \\<event name=\"onClick\" > local minhaMesa = Firecast.getRoomOf(sheet); local chat = minhaMesa.chat; chat:enviarMensagem(\"Ol\u00e1 mundo!!!!\"); \\</event> \\</button> \\</form> Exemplo 2 - Uma ficha fazendo um teste (de resist\u00eancia, por exemplo) e postando o resultado na mesa. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<script> local function realizarTesteDeResistencia() -- obter a mesa do personagem local mesaDoPersonagem = rrpg.getMesaDe(sheet); -- se o usu\u00e1rio n\u00e3o preencheu modificador, vamos usar o valor 0 sheet.modificador = sheet.modificador or 0; mesaDoPersonagem.chat:rolarDados(\"1d20 + \" .. sheet.modificador, \"Teste de Resist\u00eancia\", function (rolado) -- A dificuldade do teste \u00e9 15 if rolado.resultado >= 15 then mesaDoPersonagem.chat:enviarMensagem(\"SUCESSO =) voc\u00ea tirou \" .. rolado.resultado); else mesaDoPersonagem.chat:enviarMensagem(\"FALHA =/ voc\u00ea tirou \" .. rolado.resultado); end ; end ); end ; \\</script> \\<button onClick=\"realizarTesteDeResistencia()\" /> \\</form> Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's WinHelp HLP to CHM conversion feature","title":"Objeto Chat"},{"location":"ObjetoChat/#objeto-chat","text":"","title":"Objeto Chat"},{"location":"ObjetoChat/#objeto-chat_1","text":"Este objeto representa uma interface de batepapo no RRPG Firecast.","title":"Objeto Chat"},{"location":"ObjetoChat/#heranca","text":"O Objeto Chat possui todas as caracter\u00edsticas de um WrappedObject. Veja: Objeto WrappedObject","title":"Heran\u00e7a"},{"location":"ObjetoChat/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Chat tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoChat/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o room Objeto Mesa (Somente leitura) Cont\u00e9m a mesa a qual este chat pertence. Importante : Pode ser nil se o chat n\u00e3o pertencer a uma mesa.","title":"Propriedades e atributos"},{"location":"ObjetoChat/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o chat:enviarMensagem(msg) Envia uma mensagem comum para o chat, como se o usu\u00e1rio a tivesse digitado. Par\u00e2metros: msg - a mensagem que deseja enviar no chat. chat:enviarAcao(acao) Enviar uma mensagem como uma a\u00e7\u00e3o para o chat. Par\u00e2metros: acao - a mensagem que deseja enviar no chat com formata\u00e7\u00e3o de a\u00e7\u00e3o. chat:enviarRisada() Enviar uma t\u00edpica risada do RRPG para o chat. chat:enviarMensagemNPC(npc, msg) Envia uma mensagem para o chat como se um NPC estivesse falando. Par\u00e2metros: npc - cadeia de caracteres contendo o nome do NPC msg - a mensagem que deseja enviar no chat. Observa\u00e7\u00e3o: Apenas o mestre da mesa consegue enviar mensagens como NPC. chat:enviarNarracao(narracao) Enviar uma mensagem como narrador para o chat. Par\u00e2metros: narracao - a mensagem que deseja enviar no chat com formata\u00e7\u00e3o de narra\u00e7\u00e3o. Observa\u00e7\u00e3o: Apenas o mestre da mesa consegue enviar narra\u00e7\u00f5es. chat:rolarDados(rolagem [, msg, calllback]) Envia uma rolagem de dados para o chat. Par\u00e2metros: rolagem - um Objeto Rolagem ou uma cadeia de caracteres contendo a rolagem de dados. (OPCIONAL) msg - Uma mensagem para acompanhar a rolagem de dados. (OPCIONAL) callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ap\u00f3s a rolagem ser executada no chat. A fun\u00e7\u00e3o recebe no primeiro par\u00e2metro um NOVO Objeto Rolagem contendo o resultado da rolagem. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o tem comportamento ass\u00edncrono. Isto \u00e9, a fun\u00e7\u00e3o retorna imediatamente e o resto do c\u00f3digo continua sendo executado enquanto a rolagem \u00e9 feita em segundo plano. Depois de algum tempo, quando o RRPG j\u00e1 souber o resultado, \u00e9 que a fun\u00e7\u00e3o \"callback\" ser\u00e1 invocada. A fun\u00e7\u00e3o callback pode n\u00e3o ser invocada se a rolagem n\u00e3o for autorizada/realizada pelo RRPG. Exemplo de situa\u00e7\u00f5es: A mesa est\u00e1 moderada e o usu\u00e1rio n\u00e3o possui o modo +voz para rolar dados, a conex\u00e3o com o servidor caiu antes da rolagem ser realizada, etc.. Veja tamb\u00e9m o exemplo 2 . chat:escrever(texto [, quebrarLinha, permitirSmileys]) Escreve/Imprime um texto no chat. O texto n\u00e3o \u00e9 enviado para ningu\u00e9m e s\u00f3 \u00e9 exibido para o usu\u00e1rio que est\u00e1 usando o RRPG. Par\u00e2metros: texto - cadeia de caracteres contendo o texto que deve ser impresso no chat. (OPCIONAL) quebrarLinha - Booleano indicando se o RRPG deve adicionar uma quebra de linha no chat antes de escrever o texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido. (OPCIONAL) permitirSmileys - Booleano indicando se o RRPG deve interpretar smileys neste texto. Se omitido, o valor padr\u00e3o true \u00e9 assumido.","title":"M\u00e9todos"},{"location":"ObjetoChat/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoChat/#exemplo-1-uma-ficha-enviando-um-hello-world-para-a-sua-mesa","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button> \\<event name=\"onClick\" > local minhaMesa = Firecast.getRoomOf(sheet); local chat = minhaMesa.chat; chat:enviarMensagem(\"Ol\u00e1 mundo!!!!\"); \\</event> \\</button> \\</form> Exemplo 2 - Uma ficha fazendo um teste (de resist\u00eancia, por exemplo) e postando o resultado na mesa. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<script> local function realizarTesteDeResistencia() -- obter a mesa do personagem local mesaDoPersonagem = rrpg.getMesaDe(sheet); -- se o usu\u00e1rio n\u00e3o preencheu modificador, vamos usar o valor 0 sheet.modificador = sheet.modificador or 0; mesaDoPersonagem.chat:rolarDados(\"1d20 + \" .. sheet.modificador, \"Teste de Resist\u00eancia\", function (rolado) -- A dificuldade do teste \u00e9 15 if rolado.resultado >= 15 then mesaDoPersonagem.chat:enviarMensagem(\"SUCESSO =) voc\u00ea tirou \" .. rolado.resultado); else mesaDoPersonagem.chat:enviarMensagem(\"FALHA =/ voc\u00ea tirou \" .. rolado.resultado); end ; end ); end ; \\</script> \\<button onClick=\"realizarTesteDeResistencia()\" /> \\</form> Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's WinHelp HLP to CHM conversion feature","title":"Exemplo 1 - Uma ficha enviando um Hello World para a sua mesa."},{"location":"ObjetoDrag/","text":"Objeto Drag Objeto Drag Este objeto \u00e9 respons\u00e1vel por conter informa\u00e7\u00f5es da opera\u00e7\u00e3o arrastar-e-soltar em opera\u00e7\u00e3o. Leia mais sobre a opera\u00e7\u00e3o Arraste e Solte / Drag And Drop. Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o dataCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de dados associados neste Drag/Arraste. actionCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de a\u00e7\u00f5es associadas neste Drag/Arraste. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o drag:addData(dataType, dataValue) Adiciona um dado a este Drag/Arraste. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType dataValue - O valor associado ao dataType drag:getData(dataType) Retorna um dado deste Drag/Arraste. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType Retorno: O valor associado ao dataType ou nil se n\u00e3o possuir associa\u00e7\u00e3o. drag:addAction(dataType, callback) Adiciona uma a\u00e7\u00e3o a este Drag/Arraste. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados associado a esta a\u00e7\u00e3o. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada caso o usu\u00e1rio arraste este drag a uma \u00e1rea de drop que contenha informa\u00e7\u00e3o do tipo \"dataType\" nela. A fun\u00e7\u00e3o recebe os seguintes 2 par\u00e2metros na ordem: value - O valor da informa\u00e7\u00e3o provida pela \u00e1rea de drop. drop - Objeto Drop que cont\u00e9m as informa\u00e7\u00f5es da \u00e1rea de drop combinada. Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc","title":"Objeto Drag"},{"location":"ObjetoDrag/#objeto-drag","text":"","title":"Objeto Drag"},{"location":"ObjetoDrag/#objeto-drag_1","text":"Este objeto \u00e9 respons\u00e1vel por conter informa\u00e7\u00f5es da opera\u00e7\u00e3o arrastar-e-soltar em opera\u00e7\u00e3o. Leia mais sobre a opera\u00e7\u00e3o Arraste e Solte / Drag And Drop.","title":"Objeto Drag"},{"location":"ObjetoDrag/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"ObjetoDrag/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o dataCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de dados associados neste Drag/Arraste. actionCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de a\u00e7\u00f5es associadas neste Drag/Arraste.","title":"Propriedades e atributos"},{"location":"ObjetoDrag/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o drag:addData(dataType, dataValue) Adiciona um dado a este Drag/Arraste. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType dataValue - O valor associado ao dataType drag:getData(dataType) Retorna um dado deste Drag/Arraste. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType Retorno: O valor associado ao dataType ou nil se n\u00e3o possuir associa\u00e7\u00e3o. drag:addAction(dataType, callback) Adiciona uma a\u00e7\u00e3o a este Drag/Arraste. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados associado a esta a\u00e7\u00e3o. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada caso o usu\u00e1rio arraste este drag a uma \u00e1rea de drop que contenha informa\u00e7\u00e3o do tipo \"dataType\" nela. A fun\u00e7\u00e3o recebe os seguintes 2 par\u00e2metros na ordem: value - O valor da informa\u00e7\u00e3o provida pela \u00e1rea de drop. drop - Objeto Drop que cont\u00e9m as informa\u00e7\u00f5es da \u00e1rea de drop combinada.","title":"M\u00e9todos"},{"location":"ObjetoDrag/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoDrag/#exemplos","text":"Created with the Personal Edition of HelpNDoc: Leave the tedious WinHelp HLP to CHM conversion process behind with HelpNDoc","title":"Exemplos"},{"location":"ObjetoDrop/","text":"Objeto Drop Objeto Drop Este objeto \u00e9 respons\u00e1vel por conter informa\u00e7\u00f5es da \u00e1rea de drop em uma opera\u00e7\u00e3o arraste e solte / drag and drop. Leia mais sobre a opera\u00e7\u00e3o Arraste e Solte / Drag And Drop. Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o dataCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de dados associados nesta \u00e1rea de Drop. actionCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de a\u00e7\u00f5es associadas nesta \u00e1rea de Drop. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o drop:addData(dataType, dataValue) Adiciona um dado a esta \u00e1rea de drop. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType dataValue - O valor associado ao dataType drop:getData(dataType) Retorna um dado desta \u00e1rea de drop. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType Retorno: O valor associado ao dataType ou nil se n\u00e3o possuir associa\u00e7\u00e3o. drop:addAction(dataType, callback) Adiciona uma a\u00e7\u00e3o a esta \u00e1rea de drop. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados associado a esta a\u00e7\u00e3o. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada caso o usu\u00e1rio arraste uma informa\u00e7\u00e3o que contenha \"dataType\" nela. A fun\u00e7\u00e3o recebe os seguintes 4 par\u00e2metros na ordem: value - O valor da informa\u00e7\u00e3o que est\u00e1 sendo arrastada x - A posi\u00e7\u00e3o na coordenada x de onde a informa\u00e7\u00e3o est\u00e1 sendo arrastada y - A posi\u00e7\u00e3o na coordenada y de onde a informa\u00e7\u00e3o est\u00e1 sendo arrastada drag - Objeto Drag que cont\u00e9m a informa\u00e7\u00e3o arrastada Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Created with the Personal Edition of HelpNDoc: Maximize Your Documentation Capabilities with a Help Authoring Tool","title":"Objeto Drop"},{"location":"ObjetoDrop/#objeto-drop","text":"","title":"Objeto Drop"},{"location":"ObjetoDrop/#objeto-drop_1","text":"Este objeto \u00e9 respons\u00e1vel por conter informa\u00e7\u00f5es da \u00e1rea de drop em uma opera\u00e7\u00e3o arraste e solte / drag and drop. Leia mais sobre a opera\u00e7\u00e3o Arraste e Solte / Drag And Drop.","title":"Objeto Drop"},{"location":"ObjetoDrop/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"ObjetoDrop/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o dataCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de dados associados nesta \u00e1rea de Drop. actionCount Inteiro (Somente Leitura) Cont\u00e9m a quantidade de a\u00e7\u00f5es associadas nesta \u00e1rea de Drop.","title":"Propriedades e atributos"},{"location":"ObjetoDrop/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o drop:addData(dataType, dataValue) Adiciona um dado a esta \u00e1rea de drop. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType dataValue - O valor associado ao dataType drop:getData(dataType) Retorna um dado desta \u00e1rea de drop. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType Retorno: O valor associado ao dataType ou nil se n\u00e3o possuir associa\u00e7\u00e3o. drop:addAction(dataType, callback) Adiciona uma a\u00e7\u00e3o a esta \u00e1rea de drop. Par\u00e2metros: dataType - Uma cadeia de caracteres que define o tipo de dados associado a esta a\u00e7\u00e3o. Existem alguns dataType que s\u00e3o padr\u00f5es do RRPG mas voc\u00ea pode inventar um dataType novo, se for o caso. N\u00e3o deixe de ler \" Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop \" para mais informa\u00e7\u00f5es sobre o DataType callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada caso o usu\u00e1rio arraste uma informa\u00e7\u00e3o que contenha \"dataType\" nela. A fun\u00e7\u00e3o recebe os seguintes 4 par\u00e2metros na ordem: value - O valor da informa\u00e7\u00e3o que est\u00e1 sendo arrastada x - A posi\u00e7\u00e3o na coordenada x de onde a informa\u00e7\u00e3o est\u00e1 sendo arrastada y - A posi\u00e7\u00e3o na coordenada y de onde a informa\u00e7\u00e3o est\u00e1 sendo arrastada drag - Objeto Drag que cont\u00e9m a informa\u00e7\u00e3o arrastada","title":"M\u00e9todos"},{"location":"ObjetoDrop/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoDrop/#exemplos","text":"Created with the Personal Edition of HelpNDoc: Maximize Your Documentation Capabilities with a Help Authoring Tool","title":"Exemplos"},{"location":"ObjetoHTTPRequest/","text":"Objeto HTTPRequest Objeto HTTPRequest O Objeto HTTPRequest \u00e9 utilizado para a troca de dados com um servidor usando protocolo HTTP ou HTTPS. \u00c9 excelente para integrar o plug-in com alguma api REST, baixar ou enviar informa\u00e7\u00f5es para um servidor da World Wide Web. Para instanciar um Objeto HTTPRequest, utilize a fun\u00e7\u00e3o internet.newHTTPRequest Restri\u00e7\u00f5es: As requisi\u00e7\u00f5es HTTP s\u00e3o permitidas apenas se o usu\u00e1rio do rrpg for um membro GOLD. Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o url String Define a URL para onde a requisi\u00e7\u00e3o HTTP ser\u00e1 direcionada. Exemplo: \"http://www.google.com/xx/document.txt\" \"https://www.rrpg.com.br/apiexemplo\" A URL deve iniciar com \"http://\" ou \"https://\" method String Define o m\u00e9todo/verbo HTTP que ser\u00e1 utilizado na requisi\u00e7\u00e3o. Os poss\u00edveis valores s\u00e3o: \"GET\" (padr\u00e3o) \"POST\" \"PUT\" \"PATCH\" \"TRACE\" \"HEAD\" \"OPTIONS\" \"DELETE\" status Integer Um n\u00famero contendo o status da resposta http. (Exemplos: 200 para ok, 404 para n\u00e3o encontrado, etc..) Consulte http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html para saber quais s\u00e3o os poss\u00edveis status. statusText String Uma cadeia de caracteres contendo o texto-status-resposta da requisi\u00e7\u00e3o HTTP. Diferente da propriedade \"status\", este valor cont\u00e9m o texto completo da resposta (Exemplos: \"200 OK\", \"404 NOT FOUND\"). responseText String Cont\u00e9m o corpo da resposta interpretada como texto. O \"charset\" do cabe\u00e7alho de resposta \"Content-Type\" \u00e9 levado em considera\u00e7\u00e3o antes de retornar o texto. responseStream Objeto Stream Cont\u00e9m o corpo da resposta em um objeto stream . Muito \u00fatil quando a resposta dada pelo servidor for bin\u00e1ria. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o request:send([content]) Inicia o envio da requisi\u00e7\u00e3o HTTP. Antes de chamar esta fun\u00e7\u00e3o, a URL e todos os cabe\u00e7alhos devem ser informados pela fun\u00e7\u00e3o setRequestHeader . Par\u00e2metros: (OPCIONAL) content - Uma cadeia de caracteres ou um objeto stream contendo os dados que ser\u00e3o enviado ao servidor. Se n\u00e3o informado, a requisi\u00e7\u00e3o \u00e9 feita com corpo vazio. Observa\u00e7\u00f5es: A requisi\u00e7\u00e3o \u00e9 ass\u00edncrona. Isto \u00e9, a fun\u00e7\u00e3o send retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Para obter a resposta, manipule os eventos onResponse e onError antes de chamar este m\u00e9todo. Se o par\u00e2metro content for uma cadeia de caracteres, o \"charset\" do cabe\u00e7alho de requisi\u00e7\u00e3o \"Content-Type\" \u00e9 levado em considera\u00e7\u00e3o para a codifica\u00e7\u00e3o do texto. request:setRequestHeader(header, value) Altera o valor de um cabe\u00e7alho de requisi\u00e7\u00e3o HTTP. Voc\u00ea deve enviar setRequestHeader antes de invocar o m\u00e9todo send . Par\u00e2metros: header - Cadeia de caracteres representando o nome do cabe\u00e7alho. Exemplos: \"Content-Type\" , \"Content-Encoding\", etc.. value - Cadeia de caracteres com o valor que deve ser associado ao cabe\u00e7alho. Observa\u00e7\u00f5es: Para saber mais sobre os cabe\u00e7alhos HTTP, veja http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html . Se este m\u00e9todo for chamado v\u00e1rias vezes alterando o mesmo cabe\u00e7alho, o valor da \u00faltima chamada prevalecer\u00e1. request:getRequestHeader(header) Obt\u00e9m o valor de um cabe\u00e7alho de requisi\u00e7\u00e3o HTTP. Par\u00e2metros: header - cadeia de caracteres representando o nome do cabe\u00e7alho. Retorno: Uma cadeia de caracteres, contendo o valor do cabe\u00e7alho. request:getResponseHeader(header) Obt\u00e9m o valor de um cabe\u00e7alho de resposta da requisi\u00e7\u00e3o HTTP. Par\u00e2metros: header - cadeia de caracteres representando o nome do cabe\u00e7alho de resposta. Retorno: Uma cadeia de caracteres, contendo o valor do cabe\u00e7alho, ou \"\" (cadeia de caracteres vazia) se o cabe\u00e7alho n\u00e3o existir na resposta. Para saber mais sobre os cabe\u00e7alhos HTTP, veja http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html . request:getAllResponseHeaders() Retorna uma cadeia de caracteres contendo todos os cabe\u00e7alhos da resposta HTTP de uma s\u00f3 vez. request:abort(); Aborta a requisi\u00e7\u00e3o HTTP que est\u00e1 sendo feita. request:open(method, url); Inicializa a requisi\u00e7\u00e3o HTTP Par\u00e2metros: method - Uma cadeia de caracteres identificando o m\u00e9todo/verbo HTTP utilizado nesta requisi\u00e7\u00e3o. Os valores aceitos s\u00e3o: \"GET\" \"POST\" \"PUT\" \"PATCH\" \"TRACE\" \"HEAD\" \"OPTIONS\" \"DELETE\" url - A URL da requisi\u00e7\u00e3o HTTP Observa\u00e7\u00e3o: O uso deste m\u00e9todo n\u00e3o \u00e9 obrigat\u00f3rio. \u00c9 apenas um \"doce\" para aqueles que est\u00e3o acostumados com a requisi\u00e7\u00e3o HTTP do JavaScript. Eventos Nome do evento Descri\u00e7\u00e3o onResponse Este evento \u00e9 invocado quando a requisi\u00e7\u00e3o HTTP concluir sem erros. Ap\u00f3s este evento, as propriedades de resposta estar\u00e3o dispon\u00edveis no objeto (como, por exemplo, status, statusText, responseText, etc..). Observa\u00e7\u00e3o: Se o servidor retornar status 4xx (algum erro de requisi\u00e7\u00e3o) ou 5xx (algum erro do servidor), o evento \"onError\" ser\u00e1 disparado ao inv\u00e9s de \"onResponse\" onError Este evento \u00e9 disparado quando ocorrer um erro na requisi\u00e7\u00e3o HTTP. Par\u00e2metros: errorMsg - Uma cadeia de caracteres contendo informa\u00e7\u00f5es sobre o erro. Observa\u00e7\u00e3o: Se o servidor retornar status 4xx (algum erro de requisi\u00e7\u00e3o) ou 5xx (algum erro do servidor), o evento \"onError\" ser\u00e1 disparado ao inv\u00e9s de \"onResponse\" onReceiveProgress Evento que \u00e9 disparado frequentemente a fim de informar o progresso de download da requisi\u00e7\u00e3o HTTP. Par\u00e2metros: currentBytes - Um n\u00famero indicando quantos bytes j\u00e1 foram baixados maxBytes - Um n\u00famero indicando quantos bytes ser\u00e3o baixados no final das contas. onSendProgress Evento que \u00e9 disparado frequentemente a fim de informar o progresso de upload da requisi\u00e7\u00e3o HTTP. Par\u00e2metros: currentBytes - Um n\u00famero indicando quantos bytes j\u00e1 foram enviados. maxBytes - Um n\u00famero indicando quantos bytes ser\u00e3o enviados no final das contas. Exemplos Exemplo 1 - Baixar o \"index.html\" de um site. require(\"internet.lua\"); local requisicao = internet.newHTTPRequest(\"GET\", \"http://www.rrpg.com.br/\"); requisicao.onResponse = function () showMessage(\"Conte\u00fado: \" .. requisicao.responseText); end ; requisicao.onError = function (errorMsg) showMessage(\"Ops! Ocorreu algum erro: \" .. errorMsg); end ; requisicao:send(); Exemplo 2 - Fazer um upload de um arquivo, receber outro arquivo, rastreando o progresso. require(\"internet.lua\"); require(\"vhd.lua\"); local requisicao = internet.newHTTPRequest(\"POST\", \"http://www.rrpg.com.br/REST_API/URL\"); requisicao.onResponse = function () local streamResposta = requisicao.responseStream; local tipoRetornado = requisicao:getResponseHeader(\"Content-Type\"); local arquivoDestino; if tipoRetornado == \"image/png\" then arquivoDestino = vhd.openFile(\"/baixado.png\", \"w+\"); else arquivoDestino = vhd.openFile(\"/baixado.outraExtensao\", \"w+\"); end ; arquivoDestino:copyFrom(streamResposta, streamResposta.size); arquivoDestino:close(); end ; requisicao.onError = function (errorMsg) showMessage(\"Ops! Ocorreu algum erro: \" .. errorMsg); end ; requisicao.onSendProgress = function (currentBytes, maxBytes) local porcentagem; if maxBytes ~= 0 then porcentagem = (currentBytes / maxBytes) * 100; else porcentagem = 0; end ; --- porcentagem cont\u00e9m quantos % do arquivo j\u00e1 foram enviados end ; requisicao.onReceiveProgress = function (currentBytes, maxBytes) local porcentagem; if maxBytes ~= 0 then porcentagem = (currentBytes / maxBytes) * 100; else porcentagem = 0; end ; --- porcentagem cont\u00e9m quantos % do arquivo j\u00e1 foi recebido. end ; local arquivoAEnviar = vhd.openFile(\"/arquivoExistente.png\", \"r\"); requisicao:setRequestHeader(\"Content-Type\", \"image/png\"); requisicao:send(arquivoAEnviar); Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with HelpNDoc's Stunning User Interface","title":"Objeto HTTPRequest"},{"location":"ObjetoHTTPRequest/#objeto-httprequest","text":"","title":"Objeto HTTPRequest"},{"location":"ObjetoHTTPRequest/#objeto-httprequest_1","text":"O Objeto HTTPRequest \u00e9 utilizado para a troca de dados com um servidor usando protocolo HTTP ou HTTPS. \u00c9 excelente para integrar o plug-in com alguma api REST, baixar ou enviar informa\u00e7\u00f5es para um servidor da World Wide Web. Para instanciar um Objeto HTTPRequest, utilize a fun\u00e7\u00e3o internet.newHTTPRequest","title":"Objeto HTTPRequest"},{"location":"ObjetoHTTPRequest/#restricoes","text":"As requisi\u00e7\u00f5es HTTP s\u00e3o permitidas apenas se o usu\u00e1rio do rrpg for um membro GOLD.","title":"Restri\u00e7\u00f5es:"},{"location":"ObjetoHTTPRequest/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"ObjetoHTTPRequest/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o url String Define a URL para onde a requisi\u00e7\u00e3o HTTP ser\u00e1 direcionada. Exemplo: \"http://www.google.com/xx/document.txt\" \"https://www.rrpg.com.br/apiexemplo\" A URL deve iniciar com \"http://\" ou \"https://\" method String Define o m\u00e9todo/verbo HTTP que ser\u00e1 utilizado na requisi\u00e7\u00e3o. Os poss\u00edveis valores s\u00e3o: \"GET\" (padr\u00e3o) \"POST\" \"PUT\" \"PATCH\" \"TRACE\" \"HEAD\" \"OPTIONS\" \"DELETE\" status Integer Um n\u00famero contendo o status da resposta http. (Exemplos: 200 para ok, 404 para n\u00e3o encontrado, etc..) Consulte http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html para saber quais s\u00e3o os poss\u00edveis status. statusText String Uma cadeia de caracteres contendo o texto-status-resposta da requisi\u00e7\u00e3o HTTP. Diferente da propriedade \"status\", este valor cont\u00e9m o texto completo da resposta (Exemplos: \"200 OK\", \"404 NOT FOUND\"). responseText String Cont\u00e9m o corpo da resposta interpretada como texto. O \"charset\" do cabe\u00e7alho de resposta \"Content-Type\" \u00e9 levado em considera\u00e7\u00e3o antes de retornar o texto. responseStream Objeto Stream Cont\u00e9m o corpo da resposta em um objeto stream . Muito \u00fatil quando a resposta dada pelo servidor for bin\u00e1ria.","title":"Propriedades e atributos"},{"location":"ObjetoHTTPRequest/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o request:send([content]) Inicia o envio da requisi\u00e7\u00e3o HTTP. Antes de chamar esta fun\u00e7\u00e3o, a URL e todos os cabe\u00e7alhos devem ser informados pela fun\u00e7\u00e3o setRequestHeader . Par\u00e2metros: (OPCIONAL) content - Uma cadeia de caracteres ou um objeto stream contendo os dados que ser\u00e3o enviado ao servidor. Se n\u00e3o informado, a requisi\u00e7\u00e3o \u00e9 feita com corpo vazio. Observa\u00e7\u00f5es: A requisi\u00e7\u00e3o \u00e9 ass\u00edncrona. Isto \u00e9, a fun\u00e7\u00e3o send retorna imediatamente e o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto a comunica\u00e7\u00e3o com o servidor \u00e9 feita em segundo plano. Para obter a resposta, manipule os eventos onResponse e onError antes de chamar este m\u00e9todo. Se o par\u00e2metro content for uma cadeia de caracteres, o \"charset\" do cabe\u00e7alho de requisi\u00e7\u00e3o \"Content-Type\" \u00e9 levado em considera\u00e7\u00e3o para a codifica\u00e7\u00e3o do texto. request:setRequestHeader(header, value) Altera o valor de um cabe\u00e7alho de requisi\u00e7\u00e3o HTTP. Voc\u00ea deve enviar setRequestHeader antes de invocar o m\u00e9todo send . Par\u00e2metros: header - Cadeia de caracteres representando o nome do cabe\u00e7alho. Exemplos: \"Content-Type\" , \"Content-Encoding\", etc.. value - Cadeia de caracteres com o valor que deve ser associado ao cabe\u00e7alho. Observa\u00e7\u00f5es: Para saber mais sobre os cabe\u00e7alhos HTTP, veja http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html . Se este m\u00e9todo for chamado v\u00e1rias vezes alterando o mesmo cabe\u00e7alho, o valor da \u00faltima chamada prevalecer\u00e1. request:getRequestHeader(header) Obt\u00e9m o valor de um cabe\u00e7alho de requisi\u00e7\u00e3o HTTP. Par\u00e2metros: header - cadeia de caracteres representando o nome do cabe\u00e7alho. Retorno: Uma cadeia de caracteres, contendo o valor do cabe\u00e7alho. request:getResponseHeader(header) Obt\u00e9m o valor de um cabe\u00e7alho de resposta da requisi\u00e7\u00e3o HTTP. Par\u00e2metros: header - cadeia de caracteres representando o nome do cabe\u00e7alho de resposta. Retorno: Uma cadeia de caracteres, contendo o valor do cabe\u00e7alho, ou \"\" (cadeia de caracteres vazia) se o cabe\u00e7alho n\u00e3o existir na resposta. Para saber mais sobre os cabe\u00e7alhos HTTP, veja http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html . request:getAllResponseHeaders() Retorna uma cadeia de caracteres contendo todos os cabe\u00e7alhos da resposta HTTP de uma s\u00f3 vez. request:abort(); Aborta a requisi\u00e7\u00e3o HTTP que est\u00e1 sendo feita. request:open(method, url); Inicializa a requisi\u00e7\u00e3o HTTP Par\u00e2metros: method - Uma cadeia de caracteres identificando o m\u00e9todo/verbo HTTP utilizado nesta requisi\u00e7\u00e3o. Os valores aceitos s\u00e3o: \"GET\" \"POST\" \"PUT\" \"PATCH\" \"TRACE\" \"HEAD\" \"OPTIONS\" \"DELETE\" url - A URL da requisi\u00e7\u00e3o HTTP Observa\u00e7\u00e3o: O uso deste m\u00e9todo n\u00e3o \u00e9 obrigat\u00f3rio. \u00c9 apenas um \"doce\" para aqueles que est\u00e3o acostumados com a requisi\u00e7\u00e3o HTTP do JavaScript.","title":"M\u00e9todos"},{"location":"ObjetoHTTPRequest/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onResponse Este evento \u00e9 invocado quando a requisi\u00e7\u00e3o HTTP concluir sem erros. Ap\u00f3s este evento, as propriedades de resposta estar\u00e3o dispon\u00edveis no objeto (como, por exemplo, status, statusText, responseText, etc..). Observa\u00e7\u00e3o: Se o servidor retornar status 4xx (algum erro de requisi\u00e7\u00e3o) ou 5xx (algum erro do servidor), o evento \"onError\" ser\u00e1 disparado ao inv\u00e9s de \"onResponse\" onError Este evento \u00e9 disparado quando ocorrer um erro na requisi\u00e7\u00e3o HTTP. Par\u00e2metros: errorMsg - Uma cadeia de caracteres contendo informa\u00e7\u00f5es sobre o erro. Observa\u00e7\u00e3o: Se o servidor retornar status 4xx (algum erro de requisi\u00e7\u00e3o) ou 5xx (algum erro do servidor), o evento \"onError\" ser\u00e1 disparado ao inv\u00e9s de \"onResponse\" onReceiveProgress Evento que \u00e9 disparado frequentemente a fim de informar o progresso de download da requisi\u00e7\u00e3o HTTP. Par\u00e2metros: currentBytes - Um n\u00famero indicando quantos bytes j\u00e1 foram baixados maxBytes - Um n\u00famero indicando quantos bytes ser\u00e3o baixados no final das contas. onSendProgress Evento que \u00e9 disparado frequentemente a fim de informar o progresso de upload da requisi\u00e7\u00e3o HTTP. Par\u00e2metros: currentBytes - Um n\u00famero indicando quantos bytes j\u00e1 foram enviados. maxBytes - Um n\u00famero indicando quantos bytes ser\u00e3o enviados no final das contas.","title":"Eventos"},{"location":"ObjetoHTTPRequest/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoHTTPRequest/#exemplo-1-baixar-o-indexhtml-de-um-site","text":"require(\"internet.lua\"); local requisicao = internet.newHTTPRequest(\"GET\", \"http://www.rrpg.com.br/\"); requisicao.onResponse = function () showMessage(\"Conte\u00fado: \" .. requisicao.responseText); end ; requisicao.onError = function (errorMsg) showMessage(\"Ops! Ocorreu algum erro: \" .. errorMsg); end ; requisicao:send();","title":"Exemplo 1 - Baixar o \"index.html\" de um site."},{"location":"ObjetoHTTPRequest/#exemplo-2-fazer-um-upload-de-um-arquivo-receber-outro-arquivo-rastreando-o-progresso","text":"require(\"internet.lua\"); require(\"vhd.lua\"); local requisicao = internet.newHTTPRequest(\"POST\", \"http://www.rrpg.com.br/REST_API/URL\"); requisicao.onResponse = function () local streamResposta = requisicao.responseStream; local tipoRetornado = requisicao:getResponseHeader(\"Content-Type\"); local arquivoDestino; if tipoRetornado == \"image/png\" then arquivoDestino = vhd.openFile(\"/baixado.png\", \"w+\"); else arquivoDestino = vhd.openFile(\"/baixado.outraExtensao\", \"w+\"); end ; arquivoDestino:copyFrom(streamResposta, streamResposta.size); arquivoDestino:close(); end ; requisicao.onError = function (errorMsg) showMessage(\"Ops! Ocorreu algum erro: \" .. errorMsg); end ; requisicao.onSendProgress = function (currentBytes, maxBytes) local porcentagem; if maxBytes ~= 0 then porcentagem = (currentBytes / maxBytes) * 100; else porcentagem = 0; end ; --- porcentagem cont\u00e9m quantos % do arquivo j\u00e1 foram enviados end ; requisicao.onReceiveProgress = function (currentBytes, maxBytes) local porcentagem; if maxBytes ~= 0 then porcentagem = (currentBytes / maxBytes) * 100; else porcentagem = 0; end ; --- porcentagem cont\u00e9m quantos % do arquivo j\u00e1 foi recebido. end ; local arquivoAEnviar = vhd.openFile(\"/arquivoExistente.png\", \"r\"); requisicao:setRequestHeader(\"Content-Type\", \"image/png\"); requisicao:send(arquivoAEnviar); Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with HelpNDoc's Stunning User Interface","title":"Exemplo 2 - Fazer um upload de um arquivo, receber outro arquivo, rastreando o progresso."},{"location":"ObjetoInertialMovement/","text":"Objeto InertialMovement Objeto InertialMovement Este objeto \u00e9 respons\u00e1vel por calcular movimentos inerciais em janelas e scrolls de janela. Movimento Inercial \u00e9 aquele movimento produzido quando voc\u00ea \"joga\" o dedo numa tela touchscreen e a tela continua \"scrollando\" por conta pr\u00f3pria. Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o active Boolean Define se o objeto est\u00e1 ativo ou n\u00e3o. Seu valor padr\u00e3o \u00e9 true e quando for false n\u00e3o invoca eventos. animated Boolean true - O objeto ir\u00e1 calcular movimenta\u00e7\u00f5es inerciais false - O objeto n\u00e3o ir\u00e1 calcular movimenta\u00e7\u00f5es inerciais. Valor padr\u00e3o: true decelerationRate Double Um n\u00famero que define a desacelera\u00e7\u00e3o do movimento inercial. O valor padr\u00e3o \u00e9 5.75 e quanto maior este n\u00famero, mais r\u00e1pido o movimento inercial chega ao fim. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o inertialMov:setPos(x, y) Define onde se encontra a posi\u00e7\u00e3o do item/scroll. Par\u00e2metros: x - um n\u00famero contendo a posi\u00e7\u00e3o no eixo X. y - um n\u00famero contendo a posi\u00e7\u00e3o no eixo Y. inertialMov:getPos() Retorna onde est\u00e1 a posi\u00e7\u00e3o atual do item/scroll. Retorna: Dois n\u00fameros, o primeiro contendo a posi\u00e7\u00e3o no eixo X e o segundo contendo a posi\u00e7\u00e3o no eixo Y. Exemplo de uso: local posX, posY = inertialMov:getPos(); inertialMov:setBounds(minX, minY, maxX, maxY) Define os limites de posi\u00e7\u00e3o do item/scroll. Par\u00e2metros: minX - Posi\u00e7\u00e3o m\u00ednima no eixo X minY - Posi\u00e7\u00e3o m\u00ednima no eixo Y maxX - Posi\u00e7\u00e3o m\u00e1xima no eixo X maxY - Posi\u00e7\u00e3o m\u00e1xima no eixo Y inertialMov:pointerDown(x, y) Invoque este m\u00e9todo quando o mouse/touch for pressionado em algum lugar. Par\u00e2metros: x - um n\u00famero contendo a posi\u00e7\u00e3o no eixo X do clique/toque. y - um n\u00famero contendo a posi\u00e7\u00e3o no eixo Y do clique/toque. inertialMov:pointerMove(x, y) Invoque este m\u00e9todo quando o mouse/touch se mover pela tela. Par\u00e2metros: x - um n\u00famero contendo a NOVA posi\u00e7\u00e3o no eixo X do mouse/dedo. y - um n\u00famero contendo a NOVA posi\u00e7\u00e3o no eixo Y do mouse/dedo. inertialMov:pointerUp(x, y) Invoque este m\u00e9todo quando o bot\u00e3o do mouse for solto/quando o dedo soltar da tela. Par\u00e2metros: x - um n\u00famero contendo a onde no eixo X o mouse/toque foi liberado. y - um n\u00famero contendo a onde no eixo Y o mouse/toque foi liberado. inertialMov:pointerLeave() Invoque este m\u00e9todo quando o mouse/toque sair dos limites do controle da tela. inertialMov:pointerWheel(deltaX, deltaY) Invoque este m\u00e9todo quando o usu\u00e1rio rolar a rodinha do mouse. Par\u00e2metros: deltaX - um n\u00famero contendo a varia\u00e7\u00e3o do eixo X, isto \u00e9, o quanto se pretende scrollar no eixo X. deltaY - um n\u00famero contendo a varia\u00e7\u00e3o do eixo Y, isto \u00e9, o quanto se pretende scrollar no eixo Y. Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o objeto possuir novas coordenadas para seu item/scroll. Utilize o m\u00e9todo \"getPos\" para descobrir a nova posi\u00e7\u00e3o. Exemplos Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents","title":"Objeto InertialMovement"},{"location":"ObjetoInertialMovement/#objeto-inertialmovement","text":"","title":"Objeto InertialMovement"},{"location":"ObjetoInertialMovement/#objeto-inertialmovement_1","text":"Este objeto \u00e9 respons\u00e1vel por calcular movimentos inerciais em janelas e scrolls de janela. Movimento Inercial \u00e9 aquele movimento produzido quando voc\u00ea \"joga\" o dedo numa tela touchscreen e a tela continua \"scrollando\" por conta pr\u00f3pria.","title":"Objeto InertialMovement"},{"location":"ObjetoInertialMovement/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"ObjetoInertialMovement/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o active Boolean Define se o objeto est\u00e1 ativo ou n\u00e3o. Seu valor padr\u00e3o \u00e9 true e quando for false n\u00e3o invoca eventos. animated Boolean true - O objeto ir\u00e1 calcular movimenta\u00e7\u00f5es inerciais false - O objeto n\u00e3o ir\u00e1 calcular movimenta\u00e7\u00f5es inerciais. Valor padr\u00e3o: true decelerationRate Double Um n\u00famero que define a desacelera\u00e7\u00e3o do movimento inercial. O valor padr\u00e3o \u00e9 5.75 e quanto maior este n\u00famero, mais r\u00e1pido o movimento inercial chega ao fim.","title":"Propriedades e atributos"},{"location":"ObjetoInertialMovement/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o inertialMov:setPos(x, y) Define onde se encontra a posi\u00e7\u00e3o do item/scroll. Par\u00e2metros: x - um n\u00famero contendo a posi\u00e7\u00e3o no eixo X. y - um n\u00famero contendo a posi\u00e7\u00e3o no eixo Y. inertialMov:getPos() Retorna onde est\u00e1 a posi\u00e7\u00e3o atual do item/scroll. Retorna: Dois n\u00fameros, o primeiro contendo a posi\u00e7\u00e3o no eixo X e o segundo contendo a posi\u00e7\u00e3o no eixo Y. Exemplo de uso: local posX, posY = inertialMov:getPos(); inertialMov:setBounds(minX, minY, maxX, maxY) Define os limites de posi\u00e7\u00e3o do item/scroll. Par\u00e2metros: minX - Posi\u00e7\u00e3o m\u00ednima no eixo X minY - Posi\u00e7\u00e3o m\u00ednima no eixo Y maxX - Posi\u00e7\u00e3o m\u00e1xima no eixo X maxY - Posi\u00e7\u00e3o m\u00e1xima no eixo Y inertialMov:pointerDown(x, y) Invoque este m\u00e9todo quando o mouse/touch for pressionado em algum lugar. Par\u00e2metros: x - um n\u00famero contendo a posi\u00e7\u00e3o no eixo X do clique/toque. y - um n\u00famero contendo a posi\u00e7\u00e3o no eixo Y do clique/toque. inertialMov:pointerMove(x, y) Invoque este m\u00e9todo quando o mouse/touch se mover pela tela. Par\u00e2metros: x - um n\u00famero contendo a NOVA posi\u00e7\u00e3o no eixo X do mouse/dedo. y - um n\u00famero contendo a NOVA posi\u00e7\u00e3o no eixo Y do mouse/dedo. inertialMov:pointerUp(x, y) Invoque este m\u00e9todo quando o bot\u00e3o do mouse for solto/quando o dedo soltar da tela. Par\u00e2metros: x - um n\u00famero contendo a onde no eixo X o mouse/toque foi liberado. y - um n\u00famero contendo a onde no eixo Y o mouse/toque foi liberado. inertialMov:pointerLeave() Invoque este m\u00e9todo quando o mouse/toque sair dos limites do controle da tela. inertialMov:pointerWheel(deltaX, deltaY) Invoque este m\u00e9todo quando o usu\u00e1rio rolar a rodinha do mouse. Par\u00e2metros: deltaX - um n\u00famero contendo a varia\u00e7\u00e3o do eixo X, isto \u00e9, o quanto se pretende scrollar no eixo X. deltaY - um n\u00famero contendo a varia\u00e7\u00e3o do eixo Y, isto \u00e9, o quanto se pretende scrollar no eixo Y.","title":"M\u00e9todos"},{"location":"ObjetoInertialMovement/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o objeto possuir novas coordenadas para seu item/scroll. Utilize o m\u00e9todo \"getPos\" para descobrir a nova posi\u00e7\u00e3o.","title":"Eventos"},{"location":"ObjetoInertialMovement/#exemplos","text":"Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents","title":"Exemplos"},{"location":"ObjetoJogador/","text":"Objeto Jogador Objeto Jogador Este objeto representa um usu\u00e1rio em uma mesa aberta no RRPG Firecast. Observa\u00e7\u00f5es: Se um mesmo usu\u00e1rio estiver em mais de 1 mesa ao mesmo tempo, existir\u00e1 1 Objeto Jogador distinto para cada mesa em que ele estiver. Heran\u00e7a O Objeto Jogador possui todas as caracter\u00edsticas de um WrappedObject. Veja: Objeto WrappedObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Jogador tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o mesa Objeto Mesa Somente leitura, cont\u00e9m o Objeto Mesa que representa em qual mesa este usu\u00e1rio est\u00e1. login String Somente leitura, cont\u00e9m o login do usu\u00e1rio. nick String Somente leitura, cont\u00e9m o nick do usu\u00e1rio. avatar String Somente leitura, cont\u00e9m a URL da imagem de seu avatar. capa String Somente leitura, cont\u00e9m a URL da imagem de capa do usu\u00e1rio. isGold Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Gold. isGoldPlus Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Gold Plus. isRuby Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Ruby. isAusente Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver aparentemente ausente do computador. isCnxDormente Boolean Somente leitura, cont\u00e9m true se a conex\u00e3o do usu\u00e1rio est\u00e1 dormente, isto \u00e9, o usu\u00e1rio perdeu a conex\u00e3o com o RRPG e est\u00e1 tentando a recuperar de volta. isSessaoMobile Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver conectado usando um dispositivo m\u00f3vel (celular/tablet) isEspectador Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio est\u00e1 no modo Espectador na mesa. isJogador Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +jogador na mesa. isMestre Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +mestre na mesa. isJuggernaut Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +juggernaut na mesa. isMudo Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +mudo na mesa. isCego Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +cego na mesa. haveVoice ou ** haveVoz** Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +voz na mesa. codigoInterno Integer Somente leitura, cont\u00e9m um n\u00famero que identifica o jogador naquela mesa. personagemPrincipal Integer Somente leitura, o c\u00f3digo interno do item do personagem principal do jogador na mesa. Este valor \u00e9 o mesmo valor da propriedade \"codigoInterno\" dos objetos BibliotecaItem O valor -1 significa que o jogador n\u00e3o tem personagem. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o jogador:isType(typeName) Retorna true se passado \"jogador\" como par\u00e2metro. jogador:requestSetCego(cego) Requisita a altera\u00e7\u00e3o da propriedade isCego do jogador. Par\u00e2metros: cego - Booleano, onde true significa colocar o modo \"+cego\" e false colocar o modo \"-cego\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestSetMudo(mudo) Requisita a altera\u00e7\u00e3o da propriedade isMudo do jogador. Par\u00e2metros: mudo - Booleano, onde true significa colocar o modo \"+mudo\" e false colocar o modo \"-mudo\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestSetVoz(voz) Requisita a altera\u00e7\u00e3o da propriedade haveVoice do jogador. Par\u00e2metros: voz - Booleano, onde true significa colocar o modo \"+voz\" e false colocar o modo \"-voz\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestSetJogador(isJogador) Requisita a altera\u00e7\u00e3o da propriedade isJogador do usu\u00e1rio. Par\u00e2metros: isJogador - Booleano, onde true significa colocar o modo \"+jogador\" e false colocar o modo \"-jogador\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestKick(); Requisita o kick (expuls\u00e3o) do jogador da mesa. Observa\u00e7\u00f5es: O kick s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-lo. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestSetBarValue(index, currentValue, maxValue) Requisita a altera\u00e7\u00e3o de valores em uma das barrinhas de status do jogador. Par\u00e2metros: index - um n\u00famero que varia de 1 a 4, indicando qual barrinha deseja-se alterar os valores. currentValue - Um n\u00famero representando o novo valor atual da barrinha ou nil se n\u00e3o quiser alterar este campo. maxValue - Um n\u00famero representando o novo valor m\u00e1ximo da barrinha ou nil se n\u00e3o quiser alterar este campo. Observa\u00e7\u00f5es: A altera\u00e7\u00e3o s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-la. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG e o dono da mesa atual n\u00e3o for assinante do Gold Plus. jogador:requestSetEditableLine(index, text) Requisita a altera\u00e7\u00e3o de texto de uma das linhas digit\u00e1veis do jogador. Par\u00e2metros: index - um n\u00famero que varia de 1 a 2, indicando de qual linha se deve alterar o texto. text - Uma cadeia de caracteres/texto contendo o novo texto que ser\u00e1 aplicao \u00e0 linha digit\u00e1vel especificada.. Observa\u00e7\u00f5es: A altera\u00e7\u00e3o s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-la. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG e o dono da mesa atual n\u00e3o for assinante do Gold Plus. jogador:getBarValue(index) Retorna os valores atuais de uma das barrinhas de status do jogador. Par\u00e2metros: index - um n\u00famero que varia de 1 a 4, indicando de qual barrinha se deseja obter informa\u00e7\u00f5es. Retorno: Esta fun\u00e7\u00e3o retorna 3 valores na seguinte ordem: currentValue - Um n\u00famero, valor atual da barrinha maxValue - Um n\u00famero, valor m\u00e1ximo da barrinha percent - Um n\u00famero, percentual da barrinha Observa\u00e7\u00f5es: Se index indicar uma barrinha que n\u00e3o est\u00e1 ativa na mesa, os tr\u00eas valores retornados (currentValue, maxValue e percent) ser\u00e3o nil . Se o usu\u00e1rio atual n\u00e3o tiver permiss\u00f5es para ver os n\u00fameros da barinha (isto \u00e9, a visibilidade est\u00e1 protegida), currentValue e maxValue ser\u00e3o retornados como nil enquanto percent trar\u00e1 uma porcentagem v\u00e1lida. Exemplo: local atual, maximo, percent = player:getBarValue(1); jogador:getEditableLine(index) Retorna os o texto atual de uma das linhas digit\u00e1veis do jogador. Par\u00e2metros: index - um n\u00famero que varia de 1 a 2, indicando de qual linha se deseja obter informa\u00e7\u00f5es. Retorno: Uma cadeia de caracteres/texto contendo o que est\u00e1 escrito na linha digit\u00e1vel especificada. Exemplos Exemplo 1 - Uma ficha que exibe uma mensagem com a lista de Login e Nick dos jogadores que est\u00e3o na mesa \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button> \\<event name=\"onClick\" > local msg = \"\"; local mesaDoPersonagem = rrpg.getMesaDe(sheet); local jogadores = mesaDoPersonagem.jogadores; for i = 1, #jogadores, 1 do local objJogador = jogadores[i]; msg = msg .. objJogador.nick .. \" (\" .. objJogador.login .. \") \\n \"; end ; showMessage(msg); \\</event> \\</button> \\</form> \\ Neste exemplo, tamb\u00e9m foram usados: fun\u00e7\u00e3o rrpg.GetMesaDe propriedade jogadores do Objeto Mesa Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook","title":"Objeto Jogador"},{"location":"ObjetoJogador/#objeto-jogador","text":"","title":"Objeto Jogador"},{"location":"ObjetoJogador/#objeto-jogador_1","text":"Este objeto representa um usu\u00e1rio em uma mesa aberta no RRPG Firecast. Observa\u00e7\u00f5es: Se um mesmo usu\u00e1rio estiver em mais de 1 mesa ao mesmo tempo, existir\u00e1 1 Objeto Jogador distinto para cada mesa em que ele estiver.","title":"Objeto Jogador"},{"location":"ObjetoJogador/#heranca","text":"O Objeto Jogador possui todas as caracter\u00edsticas de um WrappedObject. Veja: Objeto WrappedObject","title":"Heran\u00e7a"},{"location":"ObjetoJogador/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Jogador tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoJogador/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o mesa Objeto Mesa Somente leitura, cont\u00e9m o Objeto Mesa que representa em qual mesa este usu\u00e1rio est\u00e1. login String Somente leitura, cont\u00e9m o login do usu\u00e1rio. nick String Somente leitura, cont\u00e9m o nick do usu\u00e1rio. avatar String Somente leitura, cont\u00e9m a URL da imagem de seu avatar. capa String Somente leitura, cont\u00e9m a URL da imagem de capa do usu\u00e1rio. isGold Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Gold. isGoldPlus Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Gold Plus. isRuby Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio for um assinante RRPG Ruby. isAusente Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver aparentemente ausente do computador. isCnxDormente Boolean Somente leitura, cont\u00e9m true se a conex\u00e3o do usu\u00e1rio est\u00e1 dormente, isto \u00e9, o usu\u00e1rio perdeu a conex\u00e3o com o RRPG e est\u00e1 tentando a recuperar de volta. isSessaoMobile Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver conectado usando um dispositivo m\u00f3vel (celular/tablet) isEspectador Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio est\u00e1 no modo Espectador na mesa. isJogador Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +jogador na mesa. isMestre Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +mestre na mesa. isJuggernaut Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +juggernaut na mesa. isMudo Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +mudo na mesa. isCego Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +cego na mesa. haveVoice ou ** haveVoz** Boolean Somente leitura, cont\u00e9m true se o usu\u00e1rio estiver com o modo +voz na mesa. codigoInterno Integer Somente leitura, cont\u00e9m um n\u00famero que identifica o jogador naquela mesa. personagemPrincipal Integer Somente leitura, o c\u00f3digo interno do item do personagem principal do jogador na mesa. Este valor \u00e9 o mesmo valor da propriedade \"codigoInterno\" dos objetos BibliotecaItem O valor -1 significa que o jogador n\u00e3o tem personagem.","title":"Propriedades e atributos"},{"location":"ObjetoJogador/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o jogador:isType(typeName) Retorna true se passado \"jogador\" como par\u00e2metro. jogador:requestSetCego(cego) Requisita a altera\u00e7\u00e3o da propriedade isCego do jogador. Par\u00e2metros: cego - Booleano, onde true significa colocar o modo \"+cego\" e false colocar o modo \"-cego\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestSetMudo(mudo) Requisita a altera\u00e7\u00e3o da propriedade isMudo do jogador. Par\u00e2metros: mudo - Booleano, onde true significa colocar o modo \"+mudo\" e false colocar o modo \"-mudo\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestSetVoz(voz) Requisita a altera\u00e7\u00e3o da propriedade haveVoice do jogador. Par\u00e2metros: voz - Booleano, onde true significa colocar o modo \"+voz\" e false colocar o modo \"-voz\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestSetJogador(isJogador) Requisita a altera\u00e7\u00e3o da propriedade isJogador do usu\u00e1rio. Par\u00e2metros: isJogador - Booleano, onde true significa colocar o modo \"+jogador\" e false colocar o modo \"-jogador\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestKick(); Requisita o kick (expuls\u00e3o) do jogador da mesa. Observa\u00e7\u00f5es: O kick s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-lo. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG. jogador:requestSetBarValue(index, currentValue, maxValue) Requisita a altera\u00e7\u00e3o de valores em uma das barrinhas de status do jogador. Par\u00e2metros: index - um n\u00famero que varia de 1 a 4, indicando qual barrinha deseja-se alterar os valores. currentValue - Um n\u00famero representando o novo valor atual da barrinha ou nil se n\u00e3o quiser alterar este campo. maxValue - Um n\u00famero representando o novo valor m\u00e1ximo da barrinha ou nil se n\u00e3o quiser alterar este campo. Observa\u00e7\u00f5es: A altera\u00e7\u00e3o s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-la. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG e o dono da mesa atual n\u00e3o for assinante do Gold Plus. jogador:requestSetEditableLine(index, text) Requisita a altera\u00e7\u00e3o de texto de uma das linhas digit\u00e1veis do jogador. Par\u00e2metros: index - um n\u00famero que varia de 1 a 2, indicando de qual linha se deve alterar o texto. text - Uma cadeia de caracteres/texto contendo o novo texto que ser\u00e1 aplicao \u00e0 linha digit\u00e1vel especificada.. Observa\u00e7\u00f5es: A altera\u00e7\u00e3o s\u00f3 ocorre ap\u00f3s o servidor RRPG aprov\u00e1-la. Esta fun\u00e7\u00e3o n\u00e3o faz nada se o usu\u00e1rio do plug-in n\u00e3o for assinante do RRPG e o dono da mesa atual n\u00e3o for assinante do Gold Plus. jogador:getBarValue(index) Retorna os valores atuais de uma das barrinhas de status do jogador. Par\u00e2metros: index - um n\u00famero que varia de 1 a 4, indicando de qual barrinha se deseja obter informa\u00e7\u00f5es. Retorno: Esta fun\u00e7\u00e3o retorna 3 valores na seguinte ordem: currentValue - Um n\u00famero, valor atual da barrinha maxValue - Um n\u00famero, valor m\u00e1ximo da barrinha percent - Um n\u00famero, percentual da barrinha Observa\u00e7\u00f5es: Se index indicar uma barrinha que n\u00e3o est\u00e1 ativa na mesa, os tr\u00eas valores retornados (currentValue, maxValue e percent) ser\u00e3o nil . Se o usu\u00e1rio atual n\u00e3o tiver permiss\u00f5es para ver os n\u00fameros da barinha (isto \u00e9, a visibilidade est\u00e1 protegida), currentValue e maxValue ser\u00e3o retornados como nil enquanto percent trar\u00e1 uma porcentagem v\u00e1lida. Exemplo: local atual, maximo, percent = player:getBarValue(1); jogador:getEditableLine(index) Retorna os o texto atual de uma das linhas digit\u00e1veis do jogador. Par\u00e2metros: index - um n\u00famero que varia de 1 a 2, indicando de qual linha se deseja obter informa\u00e7\u00f5es. Retorno: Uma cadeia de caracteres/texto contendo o que est\u00e1 escrito na linha digit\u00e1vel especificada.","title":"M\u00e9todos"},{"location":"ObjetoJogador/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoJogador/#exemplo-1-uma-ficha-que-exibe-uma-mensagem-com-a-lista-de-login-e-nick-dos-jogadores-que-estao-na-mesa","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button> \\<event name=\"onClick\" > local msg = \"\"; local mesaDoPersonagem = rrpg.getMesaDe(sheet); local jogadores = mesaDoPersonagem.jogadores; for i = 1, #jogadores, 1 do local objJogador = jogadores[i]; msg = msg .. objJogador.nick .. \" (\" .. objJogador.login .. \") \\n \"; end ; showMessage(msg); \\</event> \\</button> \\</form> \\ Neste exemplo, tamb\u00e9m foram usados: fun\u00e7\u00e3o rrpg.GetMesaDe propriedade jogadores do Objeto Mesa Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook","title":"Exemplo 1 - Uma ficha que exibe uma mensagem com a lista de Login e Nick dos jogadores que est\u00e3o na mesa"},{"location":"ObjetoMesa/","text":"Objeto Mesa Objeto Mesa Este objeto representa uma mesa aberta no Firecast. Heran\u00e7a O Objeto Mesa possui todas as caracter\u00edsticas de um WrappedObject. Veja: Objeto WrappedObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Mesa tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o codigoInterno Integer Somente leitura, cont\u00e9m o c\u00f3digo interno da mesa que \u00e9 usado para identific\u00e1-la unicamente em todo o RRPG Firecast. nome String Somente leitura, cont\u00e9m o nome da mesa. msgStatus String Somente leitura, cont\u00e9m a mensagem de status da mesa. site String Somente leitura, cont\u00e9m o endere\u00e7o do site da mesa. logotipo String Somente leitura, cont\u00e9m a URL da imagem logotipo da mesa. sistema String Somente leitura, cont\u00e9m o sistema de RPG da mesa. msgBoasVindas String Somente leitura, cont\u00e9m o texto da mensagem de boas vindas da mesa. isRestrito18Anos Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como n\u00e3o recomendada para menores de 18 anos. haVagas Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como h\u00e1 vagas. isModerada Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como Moderada. podeTablesDock Boolean Somente leitura, cont\u00e9m true se a mesa pode exibir Table's Dock do usu\u00e1rio. \u00c9 true quando o criador da mesa \u00e9 Gold Plus ou quando o usu\u00e1rio local \u00e9 assinante Gold. jogadores Arranjo de Objeto Jogador Somente leitura, cont\u00e9m um arranjo de Objeto Jogador representando todos os usu\u00e1rios que est\u00e3o conectados na mesa no momento. Um arranjo \u00e9 uma tabela lua indexada de 1 a N, onde N \u00e9 o comprimento da tabela (operador # no lua) meuJogador Objeto Jogador Somente leitura, cont\u00e9m o Objeto Jogador do usu\u00e1rio que est\u00e1 usando o RRPG. biblioteca Objeto BibliotecaItem Somente leitura, cont\u00e9m o objeto BibliotecaItem raiz da biblioteca da mesa. A raiz da biblioteca \u00e9 aquela pasta que tem no topo da mesma, de nome \"Biblioteca\". chat Objeto Chat Somente leitura, cont\u00e9m o Objeto Chat da interface de bate papo principal da mesa. activeChat Objeto Chat Somente leitura, cont\u00e9m o Objeto Chat da mesa que est\u00e1 atualmente ativo/focado na interface. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o mesa:isType(typeName) Retorna true se passado \"mesa\" como par\u00e2metro. mesa:findBibliotecaItem(codigoInterno) Dado um n\u00famero c\u00f3digo interno, localiza o objeto BibliotecaItem que possui \"codigoInterno\" igual ao valor passado no par\u00e2metro \"codigoInterno\". Retorna um objeto BibliotecaItem ou nil caso n\u00e3o encontre. mesa:findJogador(loginOuCodigoInterno) Dado um login de usu\u00e1rio ou seu c\u00f3digo interno, localiza o objeto Jogador correspondente representando o jogador atualmente na mesa. Retorna um objeto Jogador ou nil caso n\u00e3o encontre. Observa\u00e7\u00e3o: A fun\u00e7\u00e3o retorna nil se o usu\u00e1rio n\u00e3o estiver na mesa no momento, mesmo quando o par\u00e2metro passado for um login ou um c\u00f3digo interno v\u00e1lido. mesa:requestSetModerada(moderada) Requisita a ativa\u00e7\u00e3o/desativa\u00e7\u00e3o da mesa moderada. Par\u00e2metros: moderada - Booleano, onde true significa \"Ativar a mesa moderada\" e false \"Desativar a mesa moderada\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento \"mesa moderada\" s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. mesa:abrirNDBDeMesa(nome, callback[, opcoes]) Abre um NodeDatabase da mesa que est\u00e1 fisicamente armazenado no servidor do Firecast. Par\u00e2metros: nome - Cadeia de caracteres que identifica qual NodeDatabase remoto da mesa deve ser aberto. callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o NodeDatabase for carregado ou quando ocorrer um erro no carregamento. Quando o carregamento for bem sucedido, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo o Objeto Nodo raiz do NodeDatabase no primeiro par\u00e2metro. Quando ocorrer algum erro no carregamento, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo nil no primeiro par\u00e2metro. (OPCIONAL) opcoes - Uma tabela lua contendo as seguintes op\u00e7\u00f5es extras de carregamento do nodedatabase: (OPCIONAL) criar - Um booleano que define o que fazer quando o NodeDatabase n\u00e3o existir no servidor. true = criar o nodeDatabase quando n\u00e3o existir, false = falhar (invocar a fun\u00e7\u00e3o callback com valor nil) quando o nodeDatabase n\u00e3o existir. Padr\u00e3o se n\u00e3o informado: false. (OPCIONAL) callbackDeCarga - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando os dados do NodeDatabase come\u00e7arem a ser carregados pela internet. Se voc\u00ea abrir duas vezes o mesmo NodeDatabase de mesa, a segunda vez n\u00e3o ocorrer\u00e1 uma carga de dados pela internet pois o NDB j\u00e1 est\u00e1 carregado. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto o NDB \u00e9 carregado em segundo plano. \u00c9 preciso informar o par\u00e2metro \"callback\" para obter o NodeDatabase carregado. Cada mesa possui seu pr\u00f3prio conjunto de NodeDatabases que existem independentemente das outras mesas. Altera\u00e7\u00f5es feitas no NodeDatabase aberto por esta fun\u00e7\u00e3o s\u00e3o automaticamente sincronizadas com os outros usu\u00e1rios que tamb\u00e9m abriram o mesmo NodeDatabase. Se o usu\u00e1rio sair da mesa, o NodeDatabase ter\u00e1 sua conex\u00e3o cortada e n\u00e3o mais sincronizar\u00e1 as altera\u00e7\u00f5es. Por padr\u00e3o, os usu\u00e1rios com o modo +mestre podem ler e alterar o NodeDatabase de mesa enquanto os demais usu\u00e1rios podem apenas ler valores. Para abrir um NodeDatabase de mesa, uma das seguintes afirmativas deve ser verdadeira: O usu\u00e1rio atual \u00e9 assinante Gold; ou O criador da mesa \u00e9 assinante Platinum. mesa:asyncOpenUserRoomNDB(name[, options]) Asynchronously open a per user NodeDatabase in this room that is physically stored in the Firecast server. Arguments: name - A string identifying which remote user NodeDatabase in this room should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false skipLoad - a boolean. If true , the returned Promise will be resolved before the load process is finished. If true , you will receive a \u201cLoading node\u201d instead of a \u201cLoaded node\u201d. Default: false Return: a Promise of a Node Object . As default behavior, the Promise will be resolved after all data is downloaded and available to be used. Remarks: The content of NodeDatabases opened by this function is stored separately per-user and per-room. Each user in the room will have their own copy of the NodeDatabase identified by the \u201cname\u201d. Example: local promise = room:asyncOpenUserRoomNDB(\"exampleNodeDatabase\", {create=true}); promise:thenDo( function(node) -- This function will be called when/if the * -- load completes. The first argument, * -- \"node\", contains the root node of the -- opened nodedatabase end, function(errorMsg) -- This function will be called when/if the * -- load fails. The first argument, * -- \"errorMsg\", contains the message explaining * -- why it was not possible to open the -- nodeDatabase* end); Exemplos Exemplo 1 - Exibindo uma mensagem com o nome e sistema de todas as mesas que o usu\u00e1rio est\u00e1 dentro. local mesas = rrpg.getMesas(); local msg = \"\"; for i = 1, #mesas, 1 do local objMesa = mesas[i]; msg = msg .. objMesa.nome .. \" (\" .. objMesa.sistema .. \") \\n \"; end ; if msg ~= \"\" then showMessage(msg); else showMessage(\"O usu\u00e1rio n\u00e3o est\u00e1 em nenhuma mesa\"); end ; \\ Created with the Personal Edition of HelpNDoc: Easily create Qt Help files","title":"Objeto Mesa"},{"location":"ObjetoMesa/#objeto-mesa","text":"","title":"Objeto Mesa"},{"location":"ObjetoMesa/#objeto-mesa_1","text":"Este objeto representa uma mesa aberta no Firecast.","title":"Objeto Mesa"},{"location":"ObjetoMesa/#heranca","text":"O Objeto Mesa possui todas as caracter\u00edsticas de um WrappedObject. Veja: Objeto WrappedObject","title":"Heran\u00e7a"},{"location":"ObjetoMesa/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Mesa tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoMesa/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o codigoInterno Integer Somente leitura, cont\u00e9m o c\u00f3digo interno da mesa que \u00e9 usado para identific\u00e1-la unicamente em todo o RRPG Firecast. nome String Somente leitura, cont\u00e9m o nome da mesa. msgStatus String Somente leitura, cont\u00e9m a mensagem de status da mesa. site String Somente leitura, cont\u00e9m o endere\u00e7o do site da mesa. logotipo String Somente leitura, cont\u00e9m a URL da imagem logotipo da mesa. sistema String Somente leitura, cont\u00e9m o sistema de RPG da mesa. msgBoasVindas String Somente leitura, cont\u00e9m o texto da mensagem de boas vindas da mesa. isRestrito18Anos Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como n\u00e3o recomendada para menores de 18 anos. haVagas Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como h\u00e1 vagas. isModerada Boolean Somente leitura, cont\u00e9m true se a mesa estiver marcada como Moderada. podeTablesDock Boolean Somente leitura, cont\u00e9m true se a mesa pode exibir Table's Dock do usu\u00e1rio. \u00c9 true quando o criador da mesa \u00e9 Gold Plus ou quando o usu\u00e1rio local \u00e9 assinante Gold. jogadores Arranjo de Objeto Jogador Somente leitura, cont\u00e9m um arranjo de Objeto Jogador representando todos os usu\u00e1rios que est\u00e3o conectados na mesa no momento. Um arranjo \u00e9 uma tabela lua indexada de 1 a N, onde N \u00e9 o comprimento da tabela (operador # no lua) meuJogador Objeto Jogador Somente leitura, cont\u00e9m o Objeto Jogador do usu\u00e1rio que est\u00e1 usando o RRPG. biblioteca Objeto BibliotecaItem Somente leitura, cont\u00e9m o objeto BibliotecaItem raiz da biblioteca da mesa. A raiz da biblioteca \u00e9 aquela pasta que tem no topo da mesma, de nome \"Biblioteca\". chat Objeto Chat Somente leitura, cont\u00e9m o Objeto Chat da interface de bate papo principal da mesa. activeChat Objeto Chat Somente leitura, cont\u00e9m o Objeto Chat da mesa que est\u00e1 atualmente ativo/focado na interface.","title":"Propriedades e atributos"},{"location":"ObjetoMesa/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o mesa:isType(typeName) Retorna true se passado \"mesa\" como par\u00e2metro. mesa:findBibliotecaItem(codigoInterno) Dado um n\u00famero c\u00f3digo interno, localiza o objeto BibliotecaItem que possui \"codigoInterno\" igual ao valor passado no par\u00e2metro \"codigoInterno\". Retorna um objeto BibliotecaItem ou nil caso n\u00e3o encontre. mesa:findJogador(loginOuCodigoInterno) Dado um login de usu\u00e1rio ou seu c\u00f3digo interno, localiza o objeto Jogador correspondente representando o jogador atualmente na mesa. Retorna um objeto Jogador ou nil caso n\u00e3o encontre. Observa\u00e7\u00e3o: A fun\u00e7\u00e3o retorna nil se o usu\u00e1rio n\u00e3o estiver na mesa no momento, mesmo quando o par\u00e2metro passado for um login ou um c\u00f3digo interno v\u00e1lido. mesa:requestSetModerada(moderada) Requisita a ativa\u00e7\u00e3o/desativa\u00e7\u00e3o da mesa moderada. Par\u00e2metros: moderada - Booleano, onde true significa \"Ativar a mesa moderada\" e false \"Desativar a mesa moderada\". Observa\u00e7\u00f5es: A altera\u00e7\u00e3o do comportamento \"mesa moderada\" s\u00f3 ocorre ap\u00f3s o servidor RRPG aprovar a mudan\u00e7a. mesa:abrirNDBDeMesa(nome, callback[, opcoes]) Abre um NodeDatabase da mesa que est\u00e1 fisicamente armazenado no servidor do Firecast. Par\u00e2metros: nome - Cadeia de caracteres que identifica qual NodeDatabase remoto da mesa deve ser aberto. callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o NodeDatabase for carregado ou quando ocorrer um erro no carregamento. Quando o carregamento for bem sucedido, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo o Objeto Nodo raiz do NodeDatabase no primeiro par\u00e2metro. Quando ocorrer algum erro no carregamento, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo nil no primeiro par\u00e2metro. (OPCIONAL) opcoes - Uma tabela lua contendo as seguintes op\u00e7\u00f5es extras de carregamento do nodedatabase: (OPCIONAL) criar - Um booleano que define o que fazer quando o NodeDatabase n\u00e3o existir no servidor. true = criar o nodeDatabase quando n\u00e3o existir, false = falhar (invocar a fun\u00e7\u00e3o callback com valor nil) quando o nodeDatabase n\u00e3o existir. Padr\u00e3o se n\u00e3o informado: false. (OPCIONAL) callbackDeCarga - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando os dados do NodeDatabase come\u00e7arem a ser carregados pela internet. Se voc\u00ea abrir duas vezes o mesmo NodeDatabase de mesa, a segunda vez n\u00e3o ocorrer\u00e1 uma carga de dados pela internet pois o NDB j\u00e1 est\u00e1 carregado. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto o NDB \u00e9 carregado em segundo plano. \u00c9 preciso informar o par\u00e2metro \"callback\" para obter o NodeDatabase carregado. Cada mesa possui seu pr\u00f3prio conjunto de NodeDatabases que existem independentemente das outras mesas. Altera\u00e7\u00f5es feitas no NodeDatabase aberto por esta fun\u00e7\u00e3o s\u00e3o automaticamente sincronizadas com os outros usu\u00e1rios que tamb\u00e9m abriram o mesmo NodeDatabase. Se o usu\u00e1rio sair da mesa, o NodeDatabase ter\u00e1 sua conex\u00e3o cortada e n\u00e3o mais sincronizar\u00e1 as altera\u00e7\u00f5es. Por padr\u00e3o, os usu\u00e1rios com o modo +mestre podem ler e alterar o NodeDatabase de mesa enquanto os demais usu\u00e1rios podem apenas ler valores. Para abrir um NodeDatabase de mesa, uma das seguintes afirmativas deve ser verdadeira: O usu\u00e1rio atual \u00e9 assinante Gold; ou O criador da mesa \u00e9 assinante Platinum. mesa:asyncOpenUserRoomNDB(name[, options]) Asynchronously open a per user NodeDatabase in this room that is physically stored in the Firecast server. Arguments: name - A string identifying which remote user NodeDatabase in this room should be opened (OPTIONAL) options - A Lua table describing additional settings that may contain: create - a boolean. If true , the NodeDatabase can be created if it does not exist. Default: false skipLoad - a boolean. If true , the returned Promise will be resolved before the load process is finished. If true , you will receive a \u201cLoading node\u201d instead of a \u201cLoaded node\u201d. Default: false Return: a Promise of a Node Object . As default behavior, the Promise will be resolved after all data is downloaded and available to be used. Remarks: The content of NodeDatabases opened by this function is stored separately per-user and per-room. Each user in the room will have their own copy of the NodeDatabase identified by the \u201cname\u201d. Example: local promise = room:asyncOpenUserRoomNDB(\"exampleNodeDatabase\", {create=true}); promise:thenDo( function(node) -- This function will be called when/if the * -- load completes. The first argument, * -- \"node\", contains the root node of the -- opened nodedatabase end, function(errorMsg) -- This function will be called when/if the * -- load fails. The first argument, * -- \"errorMsg\", contains the message explaining * -- why it was not possible to open the -- nodeDatabase* end);","title":"M\u00e9todos"},{"location":"ObjetoMesa/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoMesa/#exemplo-1-exibindo-uma-mensagem-com-o-nome-e-sistema-de-todas-as-mesas-que-o-usuario-esta-dentro","text":"local mesas = rrpg.getMesas(); local msg = \"\"; for i = 1, #mesas, 1 do local objMesa = mesas[i]; msg = msg .. objMesa.nome .. \" (\" .. objMesa.sistema .. \") \\n \"; end ; if msg ~= \"\" then showMessage(msg); else showMessage(\"O usu\u00e1rio n\u00e3o est\u00e1 em nenhuma mesa\"); end ; \\ Created with the Personal Edition of HelpNDoc: Easily create Qt Help files","title":"Exemplo 1 - Exibindo uma mensagem com o nome e sistema de todas as mesas que o usu\u00e1rio est\u00e1 dentro."},{"location":"ObjetoNodeObserver/","text":"Objeto NodeObserver Objeto NodeObserver Este objeto representa um NodeObserver, um mecanismo capaz de monitorar e notificar mudan\u00e7as que ocorrerem em um determinado Nodo do NodeDatabase . Como instanciar um NodeObserver \u00c9 poss\u00edvel instanciar um NodeObserver atrav\u00e9s do m\u00e9todo NDB.newObserver Caracter\u00edsticas O objeto NodeObserver possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o enabled Boolean Determina se o NodeObserve est\u00e1 ativo e se pode disparar eventos notificando mudan\u00e7as. Valor padr\u00e3o: true node objeto Nodo Somente leitura, cont\u00e9m o objeto Nodo que est\u00e1 sendo monitorado pelo NodeObserver Eventos Nome do evento Descri\u00e7\u00e3o onChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado no nodo que est\u00e1 sendo monitorado. Par\u00e2metros: node - O objeto nodo filho que foi criado. onChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 deletado do nodo que est\u00e1 sendo monitorado. Par\u00e2metros: node - O objeto nodo filho que foi removido. onDeepChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado no nodo que est\u00e1 sendo monitorado ou em algum de seus filhos (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo filho que foi criado. onDeepChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 deletado do nodo que est\u00e1 sendo monitorado ou de algum de seus filhos (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo filho que foi removido. onChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo que est\u00e1 sendo monitorado \u00e9 alterado. Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo. onDeepChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo ou nodo filho do nodo que est\u00e1 sendo monitorado \u00e9 alterado (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo. onPersistedChanged Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no servidor de algum atributo do nodo que est\u00e1 sendo monitrado. Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor no servidor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor de servidor do atributo. Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onDeepPersistedChanged Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no servidor de algum atributo do nodoou nodo filho que est\u00e1 sendo monitrado (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor no servidor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor de servidor do atributo. Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onUserChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo que est\u00e1 sendo monitorado \u00e9 alterado porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua. Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo. Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos do nodo monitorado. onDeepUserChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo ou nodo filho que est\u00e1 sendo monitorado \u00e9 alterado porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo. Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos do nodo ou nodo filho monitorado. onDeleted Este evento \u00e9 invocado quando o objeto nodo que est\u00e1 sendo monitorado \u00e9 apagado. Par\u00e2metros: node - O objeto nodo que foi removido. onPermissionListChanged Este evento \u00e9 invocado quando defini\u00e7\u00f5es de permiss\u00f5es de acesso s\u00e3o inseridas ou removidas do objeto nodo que est\u00e1 sendo monitorado. Par\u00e2metros: node - O objeto nodo que sofreu altera\u00e7\u00e3o na lista de defini\u00e7\u00f5es de permiss\u00f5es. onDeepPermissionListChanged Este evento \u00e9 invocado quando defini\u00e7\u00f5es de permiss\u00f5es de acesso s\u00e3o inseridas ou removidas do objeto nodo que est\u00e1 sendo monitorado ou em algum de seus nodos filhos (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo que sofreu altera\u00e7\u00e3o na lista de defini\u00e7\u00f5es de permiss\u00f5es. onFinalPermissionsCouldBeChanged Este evento \u00e9 invocado quando as permiss\u00f5es finais de acesso a este nodo podem ter sofrido altera\u00e7\u00f5es porque uma permiss\u00e3o em um nodo pai foi removida/inserida e, por consequ\u00eancia, pode ter sido herdada pelo nodo que est\u00e1 sendo monitorado, ou as permiss\u00f5es finais podem ter sofrido altera\u00e7\u00f5es porque o usu\u00e1rio mudou de grupo de permiss\u00f5es (Exemplo: O usu\u00e1rio atual virou +mestre). Par\u00e2metros: node - O objeto nodo que pode ter sofrido altera\u00e7\u00e3o nas permiss\u00f5es finais. onStateChanged Este evento \u00e9 invocado quando o estado de carregamento do node (ver ndb.getState ) muda. Par\u00e2metros: node - O objeto nodo que sofreu mudan\u00e7a no estado de carregamento. Observa\u00e7\u00f5es: Se um NodeObserver n\u00e3o for mais acess\u00edvel pelo c\u00f3digo e for destru\u00eddo pela coleta de lixos do Lua, os eventos n\u00e3o ser\u00e3o mais disparados. Exemplos Exemplo 1 - Monitorando um Node \"sheet\" self.observer = ndb.newObserver(sheet); self.observer.onChildAdded = function (node) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando um novo Nodo Filho for criado em sheet end ; self.observer.onChildRemoved = function (node) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando um nodo Filho for removido de sheet end ; self.observer.onChanged = function (node, attribute, oldValue) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando algum atributo de sheet mudar de valor -- attribute possui o nome do atributo que sofreu altera\u00e7\u00e3o end ; Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Objeto NodeObserver"},{"location":"ObjetoNodeObserver/#objeto-nodeobserver","text":"","title":"Objeto NodeObserver"},{"location":"ObjetoNodeObserver/#objeto-nodeobserver_1","text":"Este objeto representa um NodeObserver, um mecanismo capaz de monitorar e notificar mudan\u00e7as que ocorrerem em um determinado Nodo do NodeDatabase .","title":"Objeto NodeObserver"},{"location":"ObjetoNodeObserver/#como-instanciar-um-nodeobserver","text":"\u00c9 poss\u00edvel instanciar um NodeObserver atrav\u00e9s do m\u00e9todo NDB.newObserver","title":"Como instanciar um NodeObserver"},{"location":"ObjetoNodeObserver/#caracteristicas","text":"O objeto NodeObserver possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoNodeObserver/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o enabled Boolean Determina se o NodeObserve est\u00e1 ativo e se pode disparar eventos notificando mudan\u00e7as. Valor padr\u00e3o: true node objeto Nodo Somente leitura, cont\u00e9m o objeto Nodo que est\u00e1 sendo monitorado pelo NodeObserver","title":"Propriedades e atributos"},{"location":"ObjetoNodeObserver/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado no nodo que est\u00e1 sendo monitorado. Par\u00e2metros: node - O objeto nodo filho que foi criado. onChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 deletado do nodo que est\u00e1 sendo monitorado. Par\u00e2metros: node - O objeto nodo filho que foi removido. onDeepChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado no nodo que est\u00e1 sendo monitorado ou em algum de seus filhos (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo filho que foi criado. onDeepChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 deletado do nodo que est\u00e1 sendo monitorado ou de algum de seus filhos (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo filho que foi removido. onChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo que est\u00e1 sendo monitorado \u00e9 alterado. Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo. onDeepChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo ou nodo filho do nodo que est\u00e1 sendo monitorado \u00e9 alterado (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo. onPersistedChanged Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no servidor de algum atributo do nodo que est\u00e1 sendo monitrado. Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor no servidor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor de servidor do atributo. Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onDeepPersistedChanged Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no servidor de algum atributo do nodoou nodo filho que est\u00e1 sendo monitrado (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor no servidor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor de servidor do atributo. Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onUserChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo que est\u00e1 sendo monitorado \u00e9 alterado porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua. Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo. Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos do nodo monitorado. onDeepUserChanged Este evento \u00e9 invocado quando o valor de algum atributo do nodo ou nodo filho que est\u00e1 sendo monitorado \u00e9 alterado porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo onde ocorreu a mudan\u00e7a do do valor. attribute - Cadeia de caracteres contendo o nome do atributo que mudou. oldValue - Antigo valor do atributo. Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos do nodo ou nodo filho monitorado. onDeleted Este evento \u00e9 invocado quando o objeto nodo que est\u00e1 sendo monitorado \u00e9 apagado. Par\u00e2metros: node - O objeto nodo que foi removido. onPermissionListChanged Este evento \u00e9 invocado quando defini\u00e7\u00f5es de permiss\u00f5es de acesso s\u00e3o inseridas ou removidas do objeto nodo que est\u00e1 sendo monitorado. Par\u00e2metros: node - O objeto nodo que sofreu altera\u00e7\u00e3o na lista de defini\u00e7\u00f5es de permiss\u00f5es. onDeepPermissionListChanged Este evento \u00e9 invocado quando defini\u00e7\u00f5es de permiss\u00f5es de acesso s\u00e3o inseridas ou removidas do objeto nodo que est\u00e1 sendo monitorado ou em algum de seus nodos filhos (monitoramento recursivo). Par\u00e2metros: node - O objeto nodo que sofreu altera\u00e7\u00e3o na lista de defini\u00e7\u00f5es de permiss\u00f5es. onFinalPermissionsCouldBeChanged Este evento \u00e9 invocado quando as permiss\u00f5es finais de acesso a este nodo podem ter sofrido altera\u00e7\u00f5es porque uma permiss\u00e3o em um nodo pai foi removida/inserida e, por consequ\u00eancia, pode ter sido herdada pelo nodo que est\u00e1 sendo monitorado, ou as permiss\u00f5es finais podem ter sofrido altera\u00e7\u00f5es porque o usu\u00e1rio mudou de grupo de permiss\u00f5es (Exemplo: O usu\u00e1rio atual virou +mestre). Par\u00e2metros: node - O objeto nodo que pode ter sofrido altera\u00e7\u00e3o nas permiss\u00f5es finais. onStateChanged Este evento \u00e9 invocado quando o estado de carregamento do node (ver ndb.getState ) muda. Par\u00e2metros: node - O objeto nodo que sofreu mudan\u00e7a no estado de carregamento.","title":"Eventos"},{"location":"ObjetoNodeObserver/#observacoes","text":"Se um NodeObserver n\u00e3o for mais acess\u00edvel pelo c\u00f3digo e for destru\u00eddo pela coleta de lixos do Lua, os eventos n\u00e3o ser\u00e3o mais disparados.","title":"Observa\u00e7\u00f5es:"},{"location":"ObjetoNodeObserver/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoNodeObserver/#exemplo-1-monitorando-um-node-sheet","text":"self.observer = ndb.newObserver(sheet); self.observer.onChildAdded = function (node) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando um novo Nodo Filho for criado em sheet end ; self.observer.onChildRemoved = function (node) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando um nodo Filho for removido de sheet end ; self.observer.onChanged = function (node, attribute, oldValue) -- Esta fun\u00e7\u00e3o ser\u00e1 chamada quando algum atributo de sheet mudar de valor -- attribute possui o nome do atributo que sofreu altera\u00e7\u00e3o end ; Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Exemplo 1 - Monitorando um Node \"sheet\""},{"location":"ObjetoNodeTransaction/","text":"Objeto NodeTransaction Objeto NodeTransaction Este objeto representa uma transa\u00e7\u00e3o em um NodeDatabase , um mecanismo que d\u00e1 maior controle ao programador sobre as mudan\u00e7as locais. Uma Transa\u00e7\u00e3o \u00e9 um objeto que armazena localmente todas as mudan\u00e7a realizadas em um NodeDatabase para que voc\u00ea possa decidir, mais tarde, se quer descart\u00e1-las ou confirm\u00e1-las. Como instanciar um NodeTransaction \u00c9 poss\u00edvel instanciar um NodeTransaction atrav\u00e9s do m\u00e9todo ndb.newTransaction Observa\u00e7\u00e3o importante: Apenas criar um NodeTransaction n\u00e3o faz com que os dados sejam controlados. \u00c9 preciso tamb\u00e9m utilizar os m\u00e9todos ndb.pushTransaction e ndb.popTransaction para isso. Caracter\u00edsticas O objeto NodeTransaction possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o M\u00e9todos Nome do m\u00e9todo Descri\u00e7\u00e3o transaction:commit() Confirma as mudan\u00e7as que estavam armazenadas localmente. Ao realizar Commit, os dados ser\u00e3o salvos em arquivo/Servidor RRPG e compartilhados com os demais usu\u00e1rios. transaction:rollback() Desfaz as mudan\u00e7as que estavam armazenadas localmente. transaction:createUndoData() Cria um objeto NodeUndoData que contem as instru\u00e7\u00f5es necess\u00e1rio para desfazer todas as mudan\u00e7as que est\u00e3o armazenadas localmente. Voc\u00ea pode, ent\u00e3o, depois, decidir se deseja desfazer as mudan\u00e7as guardadas utilizando o m\u00e9todo transaction:applyUndoData Observa\u00e7\u00f5es: Armazenar o NodeUndoData \u00e9 uma \u00f3tima forma de criar recursos parecidos com o famoso \"ctrl+z\" Esta fun\u00e7\u00e3o deve ser chamada antes de invocar \"commit\" para ter o efeito esperado. transaction:applyUndoData(undoData) Aplica as instru\u00e7\u00f5es de um objeto NodeUndoData para desfazer mudan\u00e7as previamente feitas. Par\u00e2metros: undoData - O objeto NodeUndoData que cont\u00e9m o material/instru\u00e7\u00f5es para desfazer mudan\u00e7as, criado previamente pela fun\u00e7\u00e3o transaction:createUndoData() Observa\u00e7\u00f5es: Ap\u00f3s invocar este m\u00e9todo, ainda \u00e9 necess\u00e1rio invocar \"commit\" para que os dados sejam de fato desfeitos Materiais de undo devem ser aplicados na ordem reversa que ocorreram e apenas uma vez. Desfazer mudan\u00e7as fora de ordem ou mais de uma vez leva a um comportamento indefinido Exemplos Exemplo 1 - Exemplo de uso do Transaction local tr1 = ndb.newTransaction(sheet); local tr2 = ndb.newTransaction(sheet); sheet.nome = \"Maria\"; -- Mudan\u00e7a 1 ndb.pushTransaction(sheet, tr1); sheet.idade = 20; -- Mudan\u00e7a 2 ndb.pushTransaction(sheet, tr2); sheet.nome = \"Ana\"; -- Mudan\u00e7a 3 ndb.popTransaction(sheet); sheet.altura = \"1.60m\"; -- Mudan\u00e7a 4 ndb.popTransaction(sheet); tr2:rollback(); --[[ Ao final da execu\u00e7\u00e3o: * Mudan\u00e7a 1 - Ser\u00e1 salva e compartilhada com todos, pois foi realizada fora de qualquer transa\u00e7\u00e3o. * Mudan\u00e7as 2 e 4 - Ser\u00e1 mantida APENAS localmente e ningu\u00e9m mais enxergar\u00e1 as mudan\u00e7as, pois foram feitas na transa\u00e7\u00e3o \"tr1\" e esta n\u00e3o recebeu nem commit e nem rollback. Esta mudan\u00e7a local existir\u00e1 enquanto o objeto \"tr1\" existir. Quando ele for destru\u00eddo pelo coletor de lixo do Lua, as mudan\u00e7as ser\u00e3o desfeitas. * Mudan\u00e7a 3 - Ser\u00e1 desfeita pois foi realizada na transa\u00e7\u00e3o \"tr2\" e ela recebeu uma chamada de \"rollback\" ]]-- Exemplo 2 - Perguntando ao usu\u00e1rio se ele deseja salvar mudan\u00e7as feitas local tr = ndb.newTransaction(sheet); ndb.pushTransaction(sheet, tr); sheet.nome = \"maria\"; sheet.idade = 20; sheet.altura = \"1.60m\" ndb.popTransaction(sheet); dialogs.confirmYesNo(\"Deseja salvar as altera\u00e7\u00f5es?\", function (resposta) if resposta then tr:commit(); else tr:rollback(); end ; end ); Created with the Personal Edition of HelpNDoc: Benefits of a Help Authoring Tool","title":"Objeto NodeTransaction"},{"location":"ObjetoNodeTransaction/#objeto-nodetransaction","text":"","title":"Objeto NodeTransaction"},{"location":"ObjetoNodeTransaction/#objeto-nodetransaction_1","text":"Este objeto representa uma transa\u00e7\u00e3o em um NodeDatabase , um mecanismo que d\u00e1 maior controle ao programador sobre as mudan\u00e7as locais. Uma Transa\u00e7\u00e3o \u00e9 um objeto que armazena localmente todas as mudan\u00e7a realizadas em um NodeDatabase para que voc\u00ea possa decidir, mais tarde, se quer descart\u00e1-las ou confirm\u00e1-las.","title":"Objeto NodeTransaction"},{"location":"ObjetoNodeTransaction/#como-instanciar-um-nodetransaction","text":"\u00c9 poss\u00edvel instanciar um NodeTransaction atrav\u00e9s do m\u00e9todo ndb.newTransaction","title":"Como instanciar um NodeTransaction"},{"location":"ObjetoNodeTransaction/#observacao-importante","text":"Apenas criar um NodeTransaction n\u00e3o faz com que os dados sejam controlados. \u00c9 preciso tamb\u00e9m utilizar os m\u00e9todos ndb.pushTransaction e ndb.popTransaction para isso.","title":"Observa\u00e7\u00e3o importante:"},{"location":"ObjetoNodeTransaction/#caracteristicas","text":"O objeto NodeTransaction possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoNodeTransaction/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o","title":"Propriedades e atributos"},{"location":"ObjetoNodeTransaction/#metodos","text":"Nome do m\u00e9todo Descri\u00e7\u00e3o transaction:commit() Confirma as mudan\u00e7as que estavam armazenadas localmente. Ao realizar Commit, os dados ser\u00e3o salvos em arquivo/Servidor RRPG e compartilhados com os demais usu\u00e1rios. transaction:rollback() Desfaz as mudan\u00e7as que estavam armazenadas localmente. transaction:createUndoData() Cria um objeto NodeUndoData que contem as instru\u00e7\u00f5es necess\u00e1rio para desfazer todas as mudan\u00e7as que est\u00e3o armazenadas localmente. Voc\u00ea pode, ent\u00e3o, depois, decidir se deseja desfazer as mudan\u00e7as guardadas utilizando o m\u00e9todo transaction:applyUndoData Observa\u00e7\u00f5es: Armazenar o NodeUndoData \u00e9 uma \u00f3tima forma de criar recursos parecidos com o famoso \"ctrl+z\" Esta fun\u00e7\u00e3o deve ser chamada antes de invocar \"commit\" para ter o efeito esperado. transaction:applyUndoData(undoData) Aplica as instru\u00e7\u00f5es de um objeto NodeUndoData para desfazer mudan\u00e7as previamente feitas. Par\u00e2metros: undoData - O objeto NodeUndoData que cont\u00e9m o material/instru\u00e7\u00f5es para desfazer mudan\u00e7as, criado previamente pela fun\u00e7\u00e3o transaction:createUndoData() Observa\u00e7\u00f5es: Ap\u00f3s invocar este m\u00e9todo, ainda \u00e9 necess\u00e1rio invocar \"commit\" para que os dados sejam de fato desfeitos Materiais de undo devem ser aplicados na ordem reversa que ocorreram e apenas uma vez. Desfazer mudan\u00e7as fora de ordem ou mais de uma vez leva a um comportamento indefinido","title":"M\u00e9todos"},{"location":"ObjetoNodeTransaction/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoNodeTransaction/#exemplo-1-exemplo-de-uso-do-transaction","text":"local tr1 = ndb.newTransaction(sheet); local tr2 = ndb.newTransaction(sheet); sheet.nome = \"Maria\"; -- Mudan\u00e7a 1 ndb.pushTransaction(sheet, tr1); sheet.idade = 20; -- Mudan\u00e7a 2 ndb.pushTransaction(sheet, tr2); sheet.nome = \"Ana\"; -- Mudan\u00e7a 3 ndb.popTransaction(sheet); sheet.altura = \"1.60m\"; -- Mudan\u00e7a 4 ndb.popTransaction(sheet); tr2:rollback(); --[[ Ao final da execu\u00e7\u00e3o: * Mudan\u00e7a 1 - Ser\u00e1 salva e compartilhada com todos, pois foi realizada fora de qualquer transa\u00e7\u00e3o. * Mudan\u00e7as 2 e 4 - Ser\u00e1 mantida APENAS localmente e ningu\u00e9m mais enxergar\u00e1 as mudan\u00e7as, pois foram feitas na transa\u00e7\u00e3o \"tr1\" e esta n\u00e3o recebeu nem commit e nem rollback. Esta mudan\u00e7a local existir\u00e1 enquanto o objeto \"tr1\" existir. Quando ele for destru\u00eddo pelo coletor de lixo do Lua, as mudan\u00e7as ser\u00e3o desfeitas. * Mudan\u00e7a 3 - Ser\u00e1 desfeita pois foi realizada na transa\u00e7\u00e3o \"tr2\" e ela recebeu uma chamada de \"rollback\" ]]--","title":"Exemplo 1 - Exemplo de uso do Transaction"},{"location":"ObjetoNodeTransaction/#exemplo-2-perguntando-ao-usuario-se-ele-deseja-salvar-mudancas-feitas","text":"local tr = ndb.newTransaction(sheet); ndb.pushTransaction(sheet, tr); sheet.nome = \"maria\"; sheet.idade = 20; sheet.altura = \"1.60m\" ndb.popTransaction(sheet); dialogs.confirmYesNo(\"Deseja salvar as altera\u00e7\u00f5es?\", function (resposta) if resposta then tr:commit(); else tr:rollback(); end ; end ); Created with the Personal Edition of HelpNDoc: Benefits of a Help Authoring Tool","title":"Exemplo 2 - Perguntando ao usu\u00e1rio se ele deseja salvar mudan\u00e7as feitas"},{"location":"ObjetoNodeUndoData/","text":"Objeto NodeUndoData Objeto NodeUndoData Este objeto representa um material de \"desfazer\" de um NodeDatabase , uma estrutura que permite criar mecanismos parecidos com o famoso \"ctrl+z\" NodeUndoData armazena internamente as informa\u00e7\u00f5es necess\u00e1rias para desfazer alguma mudan\u00e7a no NodeDatabase. Para aplicar o material de \"desfazer\", voc\u00ea pode invocar o m\u00e9todo transaction:applyUndoData passando o objeto NodeUndoData. Como instanciar um NodeUndoData \u00c9 poss\u00edvel instanciar um NodeUndoData atrav\u00e9s do m\u00e9todo transaction:createUndoData Caracter\u00edsticas O objeto NodeUndoData possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o M\u00e9todos Nome do m\u00e9todo Descri\u00e7\u00e3o Exemplos Created with the Personal Edition of HelpNDoc: Step-by-Step Guide: How to Turn Your Word Document into an eBook","title":"Objeto NodeUndoData"},{"location":"ObjetoNodeUndoData/#objeto-nodeundodata","text":"","title":"Objeto NodeUndoData"},{"location":"ObjetoNodeUndoData/#objeto-nodeundodata_1","text":"Este objeto representa um material de \"desfazer\" de um NodeDatabase , uma estrutura que permite criar mecanismos parecidos com o famoso \"ctrl+z\" NodeUndoData armazena internamente as informa\u00e7\u00f5es necess\u00e1rias para desfazer alguma mudan\u00e7a no NodeDatabase. Para aplicar o material de \"desfazer\", voc\u00ea pode invocar o m\u00e9todo transaction:applyUndoData passando o objeto NodeUndoData.","title":"Objeto NodeUndoData"},{"location":"ObjetoNodeUndoData/#como-instanciar-um-nodeundodata","text":"\u00c9 poss\u00edvel instanciar um NodeUndoData atrav\u00e9s do m\u00e9todo transaction:createUndoData","title":"Como instanciar um NodeUndoData"},{"location":"ObjetoNodeUndoData/#caracteristicas","text":"O objeto NodeUndoData possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoNodeUndoData/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o","title":"Propriedades e atributos"},{"location":"ObjetoNodeUndoData/#metodos","text":"Nome do m\u00e9todo Descri\u00e7\u00e3o","title":"M\u00e9todos"},{"location":"ObjetoNodeUndoData/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoNodeUndoData/#_1","text":"Created with the Personal Edition of HelpNDoc: Step-by-Step Guide: How to Turn Your Word Document into an eBook","title":""},{"location":"ObjetoNodo/","text":"Objeto Nodo Objeto Nodo de um NodeDatabase Um Objeto Nodo \u00e9 uma tabela LUA com um comportamento diferenciado que representa um n\u00f3/nodo de um NodeDatabase. Suas principais caracter\u00edsticas s\u00e3o: Aparentam ser uma tabela/objeto LUA normal. Isto \u00e9, voc\u00ea pode ler e atribuir propriedades como faria com qualquer outra tabela/objeto LUA. Todas as altera\u00e7\u00f5es feitas no objeto nodo s\u00e3o salvas e sincronizadas automaticamente com as outras pessoas que est\u00e3o acessando o mesmo NodeDatabase. Quando outras pessoas alteram atributos do nodo, o seu objeto nodo recebe e reflete tais altera\u00e7\u00f5es automaticamente. N\u00e3o \u00e9 poss\u00edvel atribuir uma \u201cfun\u00e7\u00e3o\u201d a uma propriedade do nodo. Quando se atribui uma tabela LUA a uma propriedade do nodo, uma c\u00f3pia recursiva de todos os valores \u00e9 realizada. O nome dos atributos s\u00e3o case-insensitive, isto \u00e9, n\u00e3o s\u00e3o diferenciadas letras min\u00fasculas das mai\u00fasculas (Ex: \u201cnome\u201d e \u201cNoME\u201d representam o mesmo atributo do nodo). Alterando atributos de um Objeto Nodo Para alterar um atributo de um Objeto Nodo basta fazer uma atribui\u00e7\u00e3o como voc\u00ea faria em qualquer outra tabela/objeto Lua. Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] nodoRaiz.atributo1 = \"valor em string\"; nodoRaiz.atributo2 = 2; nodoRaiz.atributo3 = true; nodoRaiz.atributoDeOutroNome = 6.7; nodoRaiz[\"atributo5\"] = \"outro valor em string\"; nodoRaiz[\"atributo6\"] = 9999; nodoRaiz[\"atributo7\"] = false; N\u00e3o tem mist\u00e9rio! Voc\u00ea atribui normalmente.... S\u00f3 n\u00e3o s\u00e3o aceitos function como valores. As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento. Lendo atributos de um Objeto Nodo. Mais uma vez, n\u00e3o h\u00e1 mist\u00e9rio: Basta acessar normalmente como uma tabela LUA qualquer. Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] showMessage(nodoRaiz.atributo1); if nodoRaiz.atributo2 == 2 then -- faz alguma coisa.... end ; nodoRaiz.atributo200 = nodoRaiz.atributo3; nodoRaiz.atributo250 = nodoRaiz.atributo2 + 50; local valor = nodoRaiz[\"atributoDeOutroNome\"]; valor = nodoRaiz[\"atributo3\"]; Removendo um atributo de um Objeto Nodo Basta atribuir nil ao atributo que deseja remover. Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] nodoRaiz.atributoQueDesejoRemover = nil; nodoRaiz.atributo1 = nil; nodoRaiz[\"atributo2\"] = nil; As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento. Criando um Objeto Nodo filho Basta atribuir uma tabela a uma propriedade.... Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- Ap\u00f3s a linha abaixo, nodoRaiz.nodoFilho ser\u00e1 um Objeto Nodo filho de \"nodoRaiz\" de nome \"nodoFilho\" nodoRaiz.nodoFilho = {}; -- Na linha abaixo, nodoRaiz.nodoFilho2 ser\u00e1 um Objeto Nodo filho de \"nodoRaiz\" de nome \"nodoFilho2\". -- Al\u00e9m disso, o novo Objeto Nodo j\u00e1 possuir\u00e1 os valores nome=\"Meu Nome\" e idade=7. nodoRaiz.nodoFilho2 = {nome=\"Meu Nome\", idade=7}; -- Como nodoRaiz.nodoFilho \u00e9 um Objeto Nodo, voc\u00ea pode criar um nodo filho \"nodoNeto\" dentro de --\"nodoRaiz.nodoFilho\" facilmente: nodoRaiz.nodoFilho.nodoNeto = {}; -- E pode atribuir propriedades a ele normalmente, pois \"nodoNeto\" tamb\u00e9m \u00e9 um Objeto Nodo. nodoRaiz.nodoFilho.nodoNeto.atributoDoNeto = \"Valor\"; As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento. Deletando um Objeto Nodo basta atribuir nil ou usar a fun\u00e7\u00e3o \" ndb.deleteNode(nodo) \" Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- apagando o nodo \"nodoFilho\" e todos seus filhos recursivamente do nodo raiz nodoRaiz.nodoFilho = nil; -- apgando usando a fun\u00e7\u00e3o ndb.deleteNode(node) ndb.deleteNode(nodoRaiz.nodoFilho2); As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento. Duplicando um Objeto Nodo Basta fazer uma atribui\u00e7\u00e3o simples... Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- criando um nodo filho com valores padr\u00f5es: nodoRaiz.nodoFilho = {nome=\"Jos\u00e9\", idade=75, corFavorita=\"red\", nodoNeto={}}; -- duplicando o nodo filho. nodoRaiz.nodoClone = nodoRaiz.nodoFilho; As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento. Outras opera\u00e7\u00f5es em um Objeto Nodo Obter o nome do objeto nodo: ndb.getNodeName(nodo); Limpar o conte\u00fado do objeto nodo: ndb.clearNode(nodo); Obter o nodo pai: ndb.getParent(nodo); Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents","title":"Objeto Nodo"},{"location":"ObjetoNodo/#objeto-nodo","text":"","title":"Objeto Nodo"},{"location":"ObjetoNodo/#objeto-nodo-de-um-nodedatabase","text":"Um Objeto Nodo \u00e9 uma tabela LUA com um comportamento diferenciado que representa um n\u00f3/nodo de um NodeDatabase. Suas principais caracter\u00edsticas s\u00e3o: Aparentam ser uma tabela/objeto LUA normal. Isto \u00e9, voc\u00ea pode ler e atribuir propriedades como faria com qualquer outra tabela/objeto LUA. Todas as altera\u00e7\u00f5es feitas no objeto nodo s\u00e3o salvas e sincronizadas automaticamente com as outras pessoas que est\u00e3o acessando o mesmo NodeDatabase. Quando outras pessoas alteram atributos do nodo, o seu objeto nodo recebe e reflete tais altera\u00e7\u00f5es automaticamente. N\u00e3o \u00e9 poss\u00edvel atribuir uma \u201cfun\u00e7\u00e3o\u201d a uma propriedade do nodo. Quando se atribui uma tabela LUA a uma propriedade do nodo, uma c\u00f3pia recursiva de todos os valores \u00e9 realizada. O nome dos atributos s\u00e3o case-insensitive, isto \u00e9, n\u00e3o s\u00e3o diferenciadas letras min\u00fasculas das mai\u00fasculas (Ex: \u201cnome\u201d e \u201cNoME\u201d representam o mesmo atributo do nodo).","title":"Objeto Nodo de um NodeDatabase"},{"location":"ObjetoNodo/#alterando-atributos-de-um-objeto-nodo","text":"Para alterar um atributo de um Objeto Nodo basta fazer uma atribui\u00e7\u00e3o como voc\u00ea faria em qualquer outra tabela/objeto Lua. Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] nodoRaiz.atributo1 = \"valor em string\"; nodoRaiz.atributo2 = 2; nodoRaiz.atributo3 = true; nodoRaiz.atributoDeOutroNome = 6.7; nodoRaiz[\"atributo5\"] = \"outro valor em string\"; nodoRaiz[\"atributo6\"] = 9999; nodoRaiz[\"atributo7\"] = false; N\u00e3o tem mist\u00e9rio! Voc\u00ea atribui normalmente.... S\u00f3 n\u00e3o s\u00e3o aceitos function como valores. As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.","title":"Alterando atributos de um Objeto Nodo"},{"location":"ObjetoNodo/#lendo-atributos-de-um-objeto-nodo","text":"Mais uma vez, n\u00e3o h\u00e1 mist\u00e9rio: Basta acessar normalmente como uma tabela LUA qualquer. Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] showMessage(nodoRaiz.atributo1); if nodoRaiz.atributo2 == 2 then -- faz alguma coisa.... end ; nodoRaiz.atributo200 = nodoRaiz.atributo3; nodoRaiz.atributo250 = nodoRaiz.atributo2 + 50; local valor = nodoRaiz[\"atributoDeOutroNome\"]; valor = nodoRaiz[\"atributo3\"];","title":"Lendo atributos de um Objeto Nodo."},{"location":"ObjetoNodo/#removendo-um-atributo-de-um-objeto-nodo","text":"Basta atribuir nil ao atributo que deseja remover. Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] nodoRaiz.atributoQueDesejoRemover = nil; nodoRaiz.atributo1 = nil; nodoRaiz[\"atributo2\"] = nil; As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.","title":"Removendo um atributo de um Objeto Nodo"},{"location":"ObjetoNodo/#criando-um-objeto-nodo-filho","text":"Basta atribuir uma tabela a uma propriedade.... Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- Ap\u00f3s a linha abaixo, nodoRaiz.nodoFilho ser\u00e1 um Objeto Nodo filho de \"nodoRaiz\" de nome \"nodoFilho\" nodoRaiz.nodoFilho = {}; -- Na linha abaixo, nodoRaiz.nodoFilho2 ser\u00e1 um Objeto Nodo filho de \"nodoRaiz\" de nome \"nodoFilho2\". -- Al\u00e9m disso, o novo Objeto Nodo j\u00e1 possuir\u00e1 os valores nome=\"Meu Nome\" e idade=7. nodoRaiz.nodoFilho2 = {nome=\"Meu Nome\", idade=7}; -- Como nodoRaiz.nodoFilho \u00e9 um Objeto Nodo, voc\u00ea pode criar um nodo filho \"nodoNeto\" dentro de --\"nodoRaiz.nodoFilho\" facilmente: nodoRaiz.nodoFilho.nodoNeto = {}; -- E pode atribuir propriedades a ele normalmente, pois \"nodoNeto\" tamb\u00e9m \u00e9 um Objeto Nodo. nodoRaiz.nodoFilho.nodoNeto.atributoDoNeto = \"Valor\"; As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.","title":"Criando um Objeto Nodo filho"},{"location":"ObjetoNodo/#deletando-um-objeto-nodo","text":"basta atribuir nil ou usar a fun\u00e7\u00e3o \" ndb.deleteNode(nodo) \" Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- apagando o nodo \"nodoFilho\" e todos seus filhos recursivamente do nodo raiz nodoRaiz.nodoFilho = nil; -- apgando usando a fun\u00e7\u00e3o ndb.deleteNode(node) ndb.deleteNode(nodoRaiz.nodoFilho2); As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.","title":"Deletando um Objeto Nodo"},{"location":"ObjetoNodo/#duplicando-um-objeto-nodo","text":"Basta fazer uma atribui\u00e7\u00e3o simples... Exemplo: require(\"ndb.lua\"); local nodoRaiz = ndb.load(\"MeuNodeDatabase.xml\"); --[[ nodoRaiz \u00e9 um Objeto Nodo --]] -- criando um nodo filho com valores padr\u00f5es: nodoRaiz.nodoFilho = {nome=\"Jos\u00e9\", idade=75, corFavorita=\"red\", nodoNeto={}}; -- duplicando o nodo filho. nodoRaiz.nodoClone = nodoRaiz.nodoFilho; As altera\u00e7\u00f5es s\u00e3o salvas automaticamente no documento.","title":"Duplicando um Objeto Nodo"},{"location":"ObjetoNodo/#outras-operacoes-em-um-objeto-nodo","text":"Obter o nome do objeto nodo: ndb.getNodeName(nodo); Limpar o conte\u00fado do objeto nodo: ndb.clearNode(nodo); Obter o nodo pai: ndb.getParent(nodo); Created with the Personal Edition of HelpNDoc: Easily create PDF Help documents","title":"Outras opera\u00e7\u00f5es em um Objeto Nodo"},{"location":"ObjetoPersonagem/","text":"Objeto Personagem Objeto Personagem Este objeto representa um personagem na biblioteca de uma mesa no RRPG Firecast. Heran\u00e7a O Objeto Personagem possui todas as caracter\u00edsticas de um Objeto BibliotecaItem. Veja: Objeto BibliotecaItem Objeto WrappedObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Personagem tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o dataType String Somente leitura, cont\u00e9m o dataType da ficha do personagem, isto \u00e9, em qual formato de dados est\u00e1 a ficha do personagem. escritaBloqueada Boolean Somente leitura, cont\u00e9m true se a ficha do personagem estiver com marcada como edi\u00e7\u00e3o bloqueada. avatar String Somente leitura, cont\u00e9m a URL da imagem do personagem. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o personagem:isType(typeName) Retorna true se passado \"personagem\" como par\u00e2metro. personagem:loadSheetNDB(callback) Abre um NodeDatabase do personagem que est\u00e1 fisicamente armazenado no servidor do RRPG. Par\u00e2metros: callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o NodeDatabase for carregado ou quando ocorrer um erro no carregamento. Quando o carregamento for bem sucedido, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo o Objeto Nodo raiz do NodeDatabase no primeiro par\u00e2metro. Este node \u00e9 o mesmo equivalente ao \"sheet\" do lua form de fichas. Quando ocorrer algum erro no carregamento, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo nil no primeiro par\u00e2metro. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto o NDB \u00e9 carregado em segundo plano. \u00c9 preciso informar o par\u00e2metro \"callback\" para obter o NodeDatabase carregado. Cada personagem possui apenas um NodeDatabase. Altera\u00e7\u00f5es feitas no NodeDatabase aberto por esta fun\u00e7\u00e3o s\u00e3o automaticamente sincronizadas com os outros usu\u00e1rios que tamb\u00e9m abriram o mesmo NodeDatabase, inclusives com a ficha aberta localmente (se tiver aberta). Se o usu\u00e1rio sair da mesa, o NodeDatabase ter\u00e1 sua conex\u00e3o cortada e n\u00e3o mais sincronizar\u00e1 as altera\u00e7\u00f5es. Por padr\u00e3o, os usu\u00e1rios com o modo +mestre e o dono do personagem podem ler e alterar o NodeDatabase enquanto os demais usu\u00e1rios podem apenas ler valores. A fun\u00e7\u00e3o \"callback\" pode demorar um pouco para ser chamada, pois um download precisar\u00e1 ser feito se o nodedatabase do personagem ainda n\u00e3o foi carregado localmente. O que acontece ao executar esta fun\u00e7\u00e3o em um personagem que utiliza SDK 2 ou SDK 1: Um nodedatabase \u00e9 carregado mesmo assim, por\u00e9m as altera\u00e7\u00f5es feitas aqui n\u00e3o s\u00e3o refletidas na ficha pois os dados reais dela est\u00e3o salvos em outro formato e outro lugar. Created with the Personal Edition of HelpNDoc: Free PDF documentation generator","title":"Objeto Personagem"},{"location":"ObjetoPersonagem/#objeto-personagem","text":"","title":"Objeto Personagem"},{"location":"ObjetoPersonagem/#objeto-personagem_1","text":"Este objeto representa um personagem na biblioteca de uma mesa no RRPG Firecast.","title":"Objeto Personagem"},{"location":"ObjetoPersonagem/#heranca","text":"O Objeto Personagem possui todas as caracter\u00edsticas de um Objeto BibliotecaItem. Veja: Objeto BibliotecaItem Objeto WrappedObject","title":"Heran\u00e7a"},{"location":"ObjetoPersonagem/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o Objeto Personagem tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoPersonagem/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o dataType String Somente leitura, cont\u00e9m o dataType da ficha do personagem, isto \u00e9, em qual formato de dados est\u00e1 a ficha do personagem. escritaBloqueada Boolean Somente leitura, cont\u00e9m true se a ficha do personagem estiver com marcada como edi\u00e7\u00e3o bloqueada. avatar String Somente leitura, cont\u00e9m a URL da imagem do personagem.","title":"Propriedades e atributos"},{"location":"ObjetoPersonagem/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o personagem:isType(typeName) Retorna true se passado \"personagem\" como par\u00e2metro. personagem:loadSheetNDB(callback) Abre um NodeDatabase do personagem que est\u00e1 fisicamente armazenado no servidor do RRPG. Par\u00e2metros: callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada quando o NodeDatabase for carregado ou quando ocorrer um erro no carregamento. Quando o carregamento for bem sucedido, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo o Objeto Nodo raiz do NodeDatabase no primeiro par\u00e2metro. Este node \u00e9 o mesmo equivalente ao \"sheet\" do lua form de fichas. Quando ocorrer algum erro no carregamento, a fun\u00e7\u00e3o callback ser\u00e1 chamada contendo nil no primeiro par\u00e2metro. Observa\u00e7\u00f5es: Esta fun\u00e7\u00e3o \u00e9 ass\u00edncrona, isto \u00e9, o c\u00f3digo LUA continua sua execu\u00e7\u00e3o normal enquanto o NDB \u00e9 carregado em segundo plano. \u00c9 preciso informar o par\u00e2metro \"callback\" para obter o NodeDatabase carregado. Cada personagem possui apenas um NodeDatabase. Altera\u00e7\u00f5es feitas no NodeDatabase aberto por esta fun\u00e7\u00e3o s\u00e3o automaticamente sincronizadas com os outros usu\u00e1rios que tamb\u00e9m abriram o mesmo NodeDatabase, inclusives com a ficha aberta localmente (se tiver aberta). Se o usu\u00e1rio sair da mesa, o NodeDatabase ter\u00e1 sua conex\u00e3o cortada e n\u00e3o mais sincronizar\u00e1 as altera\u00e7\u00f5es. Por padr\u00e3o, os usu\u00e1rios com o modo +mestre e o dono do personagem podem ler e alterar o NodeDatabase enquanto os demais usu\u00e1rios podem apenas ler valores. A fun\u00e7\u00e3o \"callback\" pode demorar um pouco para ser chamada, pois um download precisar\u00e1 ser feito se o nodedatabase do personagem ainda n\u00e3o foi carregado localmente. O que acontece ao executar esta fun\u00e7\u00e3o em um personagem que utiliza SDK 2 ou SDK 1: Um nodedatabase \u00e9 carregado mesmo assim, por\u00e9m as altera\u00e7\u00f5es feitas aqui n\u00e3o s\u00e3o refletidas na ficha pois os dados reais dela est\u00e3o salvos em outro formato e outro lugar. Created with the Personal Edition of HelpNDoc: Free PDF documentation generator","title":"M\u00e9todos"},{"location":"ObjetoRolagem/","text":"Objeto Rolagem Objeto Rolagem Este objeto cont\u00e9m informa\u00e7\u00f5es sobre uma rolagem de dados que ocorreu ou que poder\u00e1 ocorrer. Voc\u00ea pode criar um objeto rolagem utilizando a fun\u00e7\u00e3o rrpg.interpretarRolagem Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o tipo Enumerado: \"direta\" \"storyteller\" Somente leitura, cont\u00e9m o tipo da rolagem. \"direta\" - Rolagem de dados padr\u00e3o. \"storyteller\" - Rolagem de dados storyteller. Quantidade de dados cuja face seja maior ou igual a algum numero e que um resultado natural 1 anula um sucesso possuiAlgumDado Boolean Somente leitura, cont\u00e9m true se a rolagem possuir pelo menos um dado de qualquer face. Exemplo: Na rolagem \"+5\" a propriedade conteria false, enquanto na rolagem \"d6 + 5\" conteria true. asString String Somente leitura, cont\u00e9m a rolagem como uma cadeia de caracteres. isRolado Boolean Somente leitura, cont\u00e9m true se a rolagem j\u00e1 foi executada e possui o resultado, ou false se ainda n\u00e3o. resultado Integer Somente leitura, cont\u00e9m o valor resultado da rolagem se ela j\u00e1 tiver sido feita. Se a rolagem ainda n\u00e3o tiver executada, cont\u00e9m 0. ops Arranjo de Objetos OperacaoRolagem Cont\u00e9m a lista de opera\u00e7\u00f5es \"aritm\u00e9ticas\" da rolagem. \u00c9 um arranjo de tabelas/objetos, isto \u00e9, uma tabela lua indexada de 1 a N, onde cada posi\u00e7\u00e3o possui uma tabela conforme a opera\u00e7\u00e3o... Veja Lista de Opera\u00e7\u00f5es de Rolagens M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o rolagem:interpretarString(str) Dado uma cadeia de caracteres representando uma rolagem de dados (Exemplos: \"1d20 + 5\", \"1d20 + 1d10 - 5\", etc..), atualiza as informa\u00e7\u00f5es da rolagem de dados. Observa\u00e7\u00e3o: Se \"str\" n\u00e3o contiver um texto de uma rolagem v\u00e1lida, o objeto rolagem \u00e9 resetado. rolagem:concatenar(outraRolagem) Adiciona ao final desta rolagem de dados as opera\u00e7\u00f5es \"aritm\u00e9ticas\" de outra rolagem, juntando-as. Par\u00e2metros: outraRolagem - uma cadeia de caracteres ou um outro objeto rolagem que ser\u00e1 concatenada. Retorno: Retorna o pr\u00f3prio objeto rolagem. rolagem:rolarLocalmente() Executa a rolagem localmente. Esta fun\u00e7\u00e3o realiza os sorteios e demais opera\u00e7\u00f5es sem haver necessidade do usu\u00e1rio estar em uma mesa. Observa\u00e7\u00f5es: Ap\u00f3s a chamada desta fun\u00e7\u00e3o, o resultado pode ser acessado atrav\u00e9s das propriedades \"resultado\" e \"ops\". Este resultado n\u00e3o ser\u00e1 exibido em lugar algum automaticamente e depende de voc\u00ea trat\u00e1-lo conforme desejar. Se voc\u00ea executar este m\u00e9todo em uma rolagem que j\u00e1 foi rolada, o resultado anterior ser\u00e1 sobrescrito com novos resultados. Opera\u00e7\u00f5es de Rolagem (Cada item do arranjo Rolagem.ops ) Cada opera\u00e7\u00e3o de rolagem \u00e9 uma tabela lua com as seguintes propriedades: Propriedade Tipo Descri\u00e7\u00e3o tipo Enumerado: \"dado\" \"imediato\" \"soma\" \"subtracao\" \"comparacao\" \"ordenacao\" \"desconhecido\" Determina qual \u00e9 a opera\u00e7\u00e3o. \"dado\" - Um grupo de dados a serem rolados \"imediato\" - Um n\u00famero constante especificado pelo usu\u00e1rio. \"comparacao\" - Uma compara\u00e7\u00e3o entre n\u00fameros/dados. \"ordenacao\" - Pedido para ordenar o resultado de forma decrescente. Os demais valores s\u00e3o autoexplicativos. quantidade Integer Quando o tipo == \"dado\", determina quantos dados da face informada ser\u00e3o rolados. face Integer ou String Quando tipo == \"dado\", cont\u00e9m qual \u00e9 face dos dados.. Exemplos: 4 6 8 10 \"F\" (dado fudge) resultados Arranjo de Integer Quando tipo == \"dado\" e se a rolagem j\u00e1 tiver sido feita, cont\u00e9m um arranjo de n\u00fameros representando o resultado individual de cada dado na opera\u00e7\u00e3o. comparacao String Quando tipo == \"comparacao\", cont\u00e9m qual \u00e9 o comparador. valor Integer Quando tipo == \"imediato\" cont\u00e9m o valor do n\u00famero constante literal informado. Exemplos Exemplo 1 - Uma ficha que rola dados na mesa \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button> \\<event name=\"onClick\" > local rolagem = rrpg.interpretarRolagem(sheet.ataqueDoPersonagem); if not rolagem.possuiAlgumDado then -- se o usuario n\u00e3o tiver preenchido qual dado rolar, -- vamos adicionar um 1d20 + na \"f\u00f3rmula da rolagem\" rolagem = rrpg.interpretarRolagem(\"1d20\"):concatenar(rolagem); end ; local mesaDoPersonagem = rrpg.getMesaDe(sheet); mesaDoPersonagem.chat:rolarDados(rolagem, \"Ataque do personagem\"); \\</event> \\</button> \\</form> \\ Exemplo 2 - Rolar localmente e exibir uma mensagem personalizada. local msg = \"\"; -- Interpretar uma rolagem, digamos: 4d6 + 2d4 + d20 + 5 local rolagem = rrpg.interpretarRolagem(\"4d6 + 2d4 + d20 + 5\"); -- Executar a rolagem localmente rolagem:rolarLocalmente(); -- Loop para navegar em cada uma das opera\u00e7\u00f5es da rolagem for i = 1, #rolagem.ops, 1 do local operacao = rolagem.ops[i]; -- Vamos verificar que tipo de opera\u00e7\u00e3o \u00e9 esta. if operacao.tipo == \"dado\" then -- Adicionar \u00e0 mensagem informa\u00e7\u00f5es sobre este conjunto de dados. msg = msg .. operacao.quantidade .. \"d\" .. operacao.face .. \": \\n \"; -- Loop percorrendo cada um dos resultados individuais deste conjunto de dados. for j = 1, #operacao.resultados, 1 do msg = msg .. \" \" .. operacao.resultados[j]; end ; msg = msg .. \" \\n \"; elseif operacao.tipo == \"imediato\" then msg = msg .. \"Valor imediato: \" .. operacao.valor .. \" \\n \"; end ; end ; -- Concatenar \u00e0 mensagem o resultado final da rolagem msg = msg .. \"------------------- \\n Resultado Final: \" .. rolagem.resultado; -- Exibir a mensagem que montamos. showMessage(msg); Exemplo 3 - Uma ficha fazendo um teste (de resist\u00eancia, por exemplo) e postando o resultado na mesa. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<script> local function realizarTesteDeResistencia() -- obter a mesa do personagem local mesaDoPersonagem = rrpg.getMesaDe(sheet); -- se o usu\u00e1rio n\u00e3o preencheu modificador, vamos usar o valor 0 sheet.modificador = sheet.modificador or 0; mesaDoPersonagem.chat:rolarDados(\"1d20 + \" .. sheet.modificador, \"Teste de Resist\u00eancia\", function (rolado) -- A dificuldade do teste \u00e9 15 if rolado.resultado >= 15 then mesaDoPersonagem.chat:enviarMensagem(\"SUCESSO =) voc\u00ea tirou \" .. rolado.resultado); else mesaDoPersonagem.chat:enviarMensagem(\"FALHA =/ voc\u00ea tirou \" .. rolado.resultado); end ; end ); end ; \\</script> \\<button onClick=\"realizarTesteDeResistencia()\" /> \\</form> Created with the Personal Edition of HelpNDoc: Powerful and User-Friendly Help Authoring Tool for Markdown Documents","title":"Objeto Rolagem"},{"location":"ObjetoRolagem/#objeto-rolagem","text":"","title":"Objeto Rolagem"},{"location":"ObjetoRolagem/#objeto-rolagem_1","text":"Este objeto cont\u00e9m informa\u00e7\u00f5es sobre uma rolagem de dados que ocorreu ou que poder\u00e1 ocorrer. Voc\u00ea pode criar um objeto rolagem utilizando a fun\u00e7\u00e3o rrpg.interpretarRolagem","title":"Objeto Rolagem"},{"location":"ObjetoRolagem/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"ObjetoRolagem/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o tipo Enumerado: \"direta\" \"storyteller\" Somente leitura, cont\u00e9m o tipo da rolagem. \"direta\" - Rolagem de dados padr\u00e3o. \"storyteller\" - Rolagem de dados storyteller. Quantidade de dados cuja face seja maior ou igual a algum numero e que um resultado natural 1 anula um sucesso possuiAlgumDado Boolean Somente leitura, cont\u00e9m true se a rolagem possuir pelo menos um dado de qualquer face. Exemplo: Na rolagem \"+5\" a propriedade conteria false, enquanto na rolagem \"d6 + 5\" conteria true. asString String Somente leitura, cont\u00e9m a rolagem como uma cadeia de caracteres. isRolado Boolean Somente leitura, cont\u00e9m true se a rolagem j\u00e1 foi executada e possui o resultado, ou false se ainda n\u00e3o. resultado Integer Somente leitura, cont\u00e9m o valor resultado da rolagem se ela j\u00e1 tiver sido feita. Se a rolagem ainda n\u00e3o tiver executada, cont\u00e9m 0. ops Arranjo de Objetos OperacaoRolagem Cont\u00e9m a lista de opera\u00e7\u00f5es \"aritm\u00e9ticas\" da rolagem. \u00c9 um arranjo de tabelas/objetos, isto \u00e9, uma tabela lua indexada de 1 a N, onde cada posi\u00e7\u00e3o possui uma tabela conforme a opera\u00e7\u00e3o... Veja Lista de Opera\u00e7\u00f5es de Rolagens","title":"Propriedades e atributos"},{"location":"ObjetoRolagem/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o rolagem:interpretarString(str) Dado uma cadeia de caracteres representando uma rolagem de dados (Exemplos: \"1d20 + 5\", \"1d20 + 1d10 - 5\", etc..), atualiza as informa\u00e7\u00f5es da rolagem de dados. Observa\u00e7\u00e3o: Se \"str\" n\u00e3o contiver um texto de uma rolagem v\u00e1lida, o objeto rolagem \u00e9 resetado. rolagem:concatenar(outraRolagem) Adiciona ao final desta rolagem de dados as opera\u00e7\u00f5es \"aritm\u00e9ticas\" de outra rolagem, juntando-as. Par\u00e2metros: outraRolagem - uma cadeia de caracteres ou um outro objeto rolagem que ser\u00e1 concatenada. Retorno: Retorna o pr\u00f3prio objeto rolagem. rolagem:rolarLocalmente() Executa a rolagem localmente. Esta fun\u00e7\u00e3o realiza os sorteios e demais opera\u00e7\u00f5es sem haver necessidade do usu\u00e1rio estar em uma mesa. Observa\u00e7\u00f5es: Ap\u00f3s a chamada desta fun\u00e7\u00e3o, o resultado pode ser acessado atrav\u00e9s das propriedades \"resultado\" e \"ops\". Este resultado n\u00e3o ser\u00e1 exibido em lugar algum automaticamente e depende de voc\u00ea trat\u00e1-lo conforme desejar. Se voc\u00ea executar este m\u00e9todo em uma rolagem que j\u00e1 foi rolada, o resultado anterior ser\u00e1 sobrescrito com novos resultados.","title":"M\u00e9todos"},{"location":"ObjetoRolagem/#operacoes-de-rolagem-cada-item-do-arranjo-rolagemops","text":"Cada opera\u00e7\u00e3o de rolagem \u00e9 uma tabela lua com as seguintes propriedades: Propriedade Tipo Descri\u00e7\u00e3o tipo Enumerado: \"dado\" \"imediato\" \"soma\" \"subtracao\" \"comparacao\" \"ordenacao\" \"desconhecido\" Determina qual \u00e9 a opera\u00e7\u00e3o. \"dado\" - Um grupo de dados a serem rolados \"imediato\" - Um n\u00famero constante especificado pelo usu\u00e1rio. \"comparacao\" - Uma compara\u00e7\u00e3o entre n\u00fameros/dados. \"ordenacao\" - Pedido para ordenar o resultado de forma decrescente. Os demais valores s\u00e3o autoexplicativos. quantidade Integer Quando o tipo == \"dado\", determina quantos dados da face informada ser\u00e3o rolados. face Integer ou String Quando tipo == \"dado\", cont\u00e9m qual \u00e9 face dos dados.. Exemplos: 4 6 8 10 \"F\" (dado fudge) resultados Arranjo de Integer Quando tipo == \"dado\" e se a rolagem j\u00e1 tiver sido feita, cont\u00e9m um arranjo de n\u00fameros representando o resultado individual de cada dado na opera\u00e7\u00e3o. comparacao String Quando tipo == \"comparacao\", cont\u00e9m qual \u00e9 o comparador. valor Integer Quando tipo == \"imediato\" cont\u00e9m o valor do n\u00famero constante literal informado.","title":"Opera\u00e7\u00f5es de Rolagem (Cada item do arranjo Rolagem.ops)"},{"location":"ObjetoRolagem/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoRolagem/#exemplo-1-uma-ficha-que-rola-dados-na-mesa","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button> \\<event name=\"onClick\" > local rolagem = rrpg.interpretarRolagem(sheet.ataqueDoPersonagem); if not rolagem.possuiAlgumDado then -- se o usuario n\u00e3o tiver preenchido qual dado rolar, -- vamos adicionar um 1d20 + na \"f\u00f3rmula da rolagem\" rolagem = rrpg.interpretarRolagem(\"1d20\"):concatenar(rolagem); end ; local mesaDoPersonagem = rrpg.getMesaDe(sheet); mesaDoPersonagem.chat:rolarDados(rolagem, \"Ataque do personagem\"); \\</event> \\</button> \\</form> \\ Exemplo 2 - Rolar localmente e exibir uma mensagem personalizada. local msg = \"\"; -- Interpretar uma rolagem, digamos: 4d6 + 2d4 + d20 + 5 local rolagem = rrpg.interpretarRolagem(\"4d6 + 2d4 + d20 + 5\"); -- Executar a rolagem localmente rolagem:rolarLocalmente(); -- Loop para navegar em cada uma das opera\u00e7\u00f5es da rolagem for i = 1, #rolagem.ops, 1 do local operacao = rolagem.ops[i]; -- Vamos verificar que tipo de opera\u00e7\u00e3o \u00e9 esta. if operacao.tipo == \"dado\" then -- Adicionar \u00e0 mensagem informa\u00e7\u00f5es sobre este conjunto de dados. msg = msg .. operacao.quantidade .. \"d\" .. operacao.face .. \": \\n \"; -- Loop percorrendo cada um dos resultados individuais deste conjunto de dados. for j = 1, #operacao.resultados, 1 do msg = msg .. \" \" .. operacao.resultados[j]; end ; msg = msg .. \" \\n \"; elseif operacao.tipo == \"imediato\" then msg = msg .. \"Valor imediato: \" .. operacao.valor .. \" \\n \"; end ; end ; -- Concatenar \u00e0 mensagem o resultado final da rolagem msg = msg .. \"------------------- \\n Resultado Final: \" .. rolagem.resultado; -- Exibir a mensagem que montamos. showMessage(msg); Exemplo 3 - Uma ficha fazendo um teste (de resist\u00eancia, por exemplo) e postando o resultado na mesa. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<script> local function realizarTesteDeResistencia() -- obter a mesa do personagem local mesaDoPersonagem = rrpg.getMesaDe(sheet); -- se o usu\u00e1rio n\u00e3o preencheu modificador, vamos usar o valor 0 sheet.modificador = sheet.modificador or 0; mesaDoPersonagem.chat:rolarDados(\"1d20 + \" .. sheet.modificador, \"Teste de Resist\u00eancia\", function (rolado) -- A dificuldade do teste \u00e9 15 if rolado.resultado >= 15 then mesaDoPersonagem.chat:enviarMensagem(\"SUCESSO =) voc\u00ea tirou \" .. rolado.resultado); else mesaDoPersonagem.chat:enviarMensagem(\"FALHA =/ voc\u00ea tirou \" .. rolado.resultado); end ; end ); end ; \\</script> \\<button onClick=\"realizarTesteDeResistencia()\" /> \\</form> Created with the Personal Edition of HelpNDoc: Powerful and User-Friendly Help Authoring Tool for Markdown Documents","title":"Exemplo 1 - Uma ficha que rola dados na mesa"},{"location":"ObjetoScene/","text":"Objeto Scene Objeto Scene O Objeto Scene representa um \"tabuleiro de combate\" aberto pelo usu\u00e1rio e \u00e9 a inst\u00e2ncia principal de um Scene e, atrav\u00e9s deste objeto, o programador consegue acessar todas as propriedades do mesmo. O programador n\u00e3o consegue instanciar um \"Objeto Scene\" atrav\u00e9s do SDK 3, mas: Consegue descobrir todos os Scenes abertos pelo usu\u00e1rio utilizando a fun\u00e7\u00e3o SceneLib.getScenes Consegue instalar um plug-in de Scene para todos os plug-ins abertos (e que vierem a ser abertos depois) utilizando a fun\u00e7\u00e3o SceneLib.registerPlugin . Heran\u00e7a O o bjeto Scene herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas. Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto Scene tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o worldWidth Double Define a LARGURA do tabuleiro de combate. O valor desta propriedade contem o valor em M\u00e9trica do Mundo Scene . worldHeight Double Define a ALTURA do tabuleiro de combate. O valor desta propriedade contem o valor em M\u00e9trica do Mundo Scene . worldMetricName String Define o nome da m\u00e9trica do mundo que \u00e9 usada por este scene. Exemplo: \"m\", \"km\", \"cm\", etc.. Exemplo2: supondo que a propriedade worldWidth = 60 e worldMetricName = \"km\", intepreta-se que tabuleiro possui uma largura de 60 quil\u00f4metros. bkgColor String de Color Define a cor de fundo do tabuleiro. Exemplo: \"white\", \"black\", \"#FFDE05\" bkgImageURL String Cont\u00e9m a URL da imagem/bitmap que ser\u00e1 renderizada como fundo do tabuleiro. Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. workingLayer Enumerado: \"background\" \"objects\" \"tokens\" Define qual em que camada do scene o usu\u00e1rio est\u00e1 trabalhando. \"map\" - O usu\u00e1rio est\u00e1 trabalhando na camada Background \"objects\" - O usu\u00e1rio est\u00e1 trabalhando na camada Objetos \"tokens\" - O usu\u00e1rio est\u00e1 trabalhando na camada Tokens. Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene. Saiba mais sobre as camadas em: As camadas do tabuleiro viewport Objeto SceneViewport (Somente Leitura) Objeto viewport do Scene. Objeto que cont\u00e9m propriedades sobre a \"tela\" do Scene, como \"Qual regi\u00e3o do scene o usu\u00e1rio est\u00e1 vendo\", \"Qual o zoom que o usu\u00e1rio aplicou no tabuleiro?\", etc.. grid Objeto SceneGridLayer (Somente Leitura) Objeto que cont\u00e9m caracter\u00edsticas, informa\u00e7\u00f5es e utilit\u00e1rios a respeito da GRID do scene. items Objeto SceneGraphicItemList (Somente Leitura) Objeto que re\u00fane os itens visuais do tabuleiro como tokens. fogOfWar Objeto SceneFogOfWar (Somente Leitura) Objeto que re\u00fane informa\u00e7\u00f5es e opera\u00e7\u00f5es com o FogOfWar/N\u00e9voa de Guerra do Tabuleiro de combate. isGM Boolean (Somente Leitura) True se o usu\u00e1rio atual \u00e9 mestre deste scene ou false. isViewingAsGM Boolean True se o usu\u00e1rio atual for mestre e estiver visualizado como mestre do scene. O usu\u00e1rio atual pode ser mestre mas desejar ver como os jogadores est\u00e3o enxergando o scene, ent\u00e3o isGM = true e isViewingAsGM = false. isViewingWalls Boolean True se o usu\u00e1rio atual for mestre e estiver visualizado as paredes/\u00e1reas opacas do tabuleiro. currentUserID String (Somente Leitura) Cont\u00e9m o login do usu\u00e1rio atual que est\u00e1 utilizando o Scene. renderAsPlayer Boolean (Somente Leitura) Uma propriedade bem peculiar e mais dif\u00edcil de explicar. Algumas vezes, mesmo quando \"isGM\" \u00e9 true e \"isViewingAsGM\" \u00e9 true, o tabuleiro deve ser renderizado como \"visualizando como jogador\". Esta propriedade foi feita inicialmente pensando na integra\u00e7\u00e3o do Firecast com o programa \"OBS Studio\" para streaming. Enquanto o mestre est\u00e1 visualizando o tabuleiro como GM, o tabuleiro deve ser renderizado como jogador para o \"OBS Studio\". M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o scene:newTransaction() Cria um NodeTransaction que poder\u00e1 ser utilizado para gerenciar as mudan\u00e7as feitas localmente no Scene. Retorna: Um objeto NodeTransaction que poder\u00e1 ser utilizado em scene:pushTransaction() scene:pushTransaction(transaction) Ativa uma transa\u00e7\u00e3o para controlar mudan\u00e7as no Scene. Par\u00e2metros: transaction - um objeto NodeTransaction previamente criado pela fun\u00e7\u00e3o scene:newTransaction que controlar\u00e1 as pr\u00f3ximas mudan\u00e7as no Scene. Observa\u00e7\u00f5es: Ap\u00f3s ativar uma transa\u00e7\u00e3o, todas as altera\u00e7\u00f5es que ocorrerem no Scene ser\u00e3o mantidas localmente e n\u00e3o ser\u00e3o compartilhadas automaticamente com os outros usu\u00e1rios. Voc\u00ea dever\u00e1 controlar o que acontecer\u00e1 com estas mudan\u00e7as ao invocar \" transaction:rollback() \" se quiser desfaz\u00ea-las ou \" transaction:commit() \" para confirm\u00e1-las e compartilhar-lhas com os outros usu\u00e1rios. Para cada chamada de scene:pushTransaction() , deve haver uma chamada de scene:popTransaction() . scene:popTransaction() Desativa a \u00faltima transa\u00e7\u00e3o ativada no Scene pela fun\u00e7\u00e3o scene:pushTransaction() Observa\u00e7\u00f5es: Para cada chamada de scene:pushTransaction() , deve haver uma chamada de scene:popTransaction() . Se antes de chamar pushTransaction o Scene j\u00e1 estava sendo controlado por alguma transa\u00e7\u00e3o, esta transa\u00e7\u00e3o \u00e9 restaurada. Apenas invocar este m\u00e9todo n\u00e3o \u00e9 o suficiente para realizar o controle das mudan\u00e7as. Voc\u00ea o invocar o m\u00e9todo \" rollback() \" da transaction se quiser desfazer as mudan\u00e7as capturadas ou invocar o m\u00e9todo \" commit() \" da transaction para confirmar e compartilhar as mudan\u00e7as capturadas. scene:broadcastMessage(messageId, message [, loopBack]) Envia uma mensagem a todos os outros usu\u00e1rios que est\u00e3o com o scene aberto. Par\u00e2metros: messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem. message - A mensagem a ser transmitida. Aqui s\u00e3o aceitos textos, tabelas lua, n\u00fameros e booleanos. (OPICIONAL) loopBack - Informa se quer que esta mensagem seja retransmitida para voc\u00ea mesmo. Valor padr\u00e3o: false Observa\u00e7\u00f5es: A mensagem enviada \u00e9 entregue a todos os outros usu\u00e1rios conectados no scene. Para receber as mensagens recebidas, o usu\u00e1rio destinat\u00e1rio deve ter previamente invocado a fun\u00e7\u00e3o scene:newBroadcastListener scene:newBroadcastListener(messageId, callback) Cria uma escuta de mensagens para receber mensagens postadas pela fun\u00e7\u00e3o scene:broadcastMessage Par\u00e2metros: messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o das mensagens que deseja receber. Deve ser igual ao messageId usado na fun\u00e7\u00e3o scene:broadcastMessage . callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ao receber mensagens. Esta fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: sender - Cadeia de caracteres contendo o login do usu\u00e1rio que enviou a mensagem messageId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem recebida message - A mensagem que foi postada. Retorno: Retorna um objeto representando o Listener. Observa\u00e7\u00f5es: Importante: Mantenha refer\u00eancia ao objeto retornado por esta fun\u00e7\u00e3o enquanto quiser que a escuta esteja ativa. Se o coletor de lixo LUA coletar este objeto, a escuta \u00e9 destru\u00edda e a fun\u00e7\u00e3o callback n\u00e3o ser\u00e1 mais invocada. Se quiser destruir a escuta imediatamente, invoque a fun\u00e7\u00e3o destroy do objeto retornado.... obj:destroy(); scene:sendDelayedUpdates() Force the scene to transmit all the pending delayed updates caused by the network transfer optimization Eventos Nome do evento Descri\u00e7\u00e3o onWorkingLayerChange Evento que \u00e9 chamado quando a propriedade workingLayer for alterada. onGMStateChange Evento que \u00e9 chamado quando as propriedades isGM, isViewingAsGM ou isViewingWalls mudarem. Exemplos Exemplo 1 - Um Plugin de Scene que, ao se anexar a um tabuleiro, exibe uma mensagem com algumas caracter\u00edsticas do Scene. require(\"scene.lua\"); require(\"dialogs.lua\"); SceneLib.registerPlugin( function (scene, attachment) showMessage(\"Plugin anexado a um tabuleiro de tamanho \" .. scene.worldWidth .. scene.worldMetricName .. \" x \" .. scene.worldHeight .. scene.worldMetricName .. \" de cor de fundo \".. scene.bkgColor); end ); Created with the Personal Edition of HelpNDoc: Add an Extra Layer of Security to Your PDFs with Encryption","title":"Objeto Scene"},{"location":"ObjetoScene/#objeto-scene","text":"","title":"Objeto Scene"},{"location":"ObjetoScene/#objeto-scene_1","text":"O Objeto Scene representa um \"tabuleiro de combate\" aberto pelo usu\u00e1rio e \u00e9 a inst\u00e2ncia principal de um Scene e, atrav\u00e9s deste objeto, o programador consegue acessar todas as propriedades do mesmo. O programador n\u00e3o consegue instanciar um \"Objeto Scene\" atrav\u00e9s do SDK 3, mas: Consegue descobrir todos os Scenes abertos pelo usu\u00e1rio utilizando a fun\u00e7\u00e3o SceneLib.getScenes Consegue instalar um plug-in de Scene para todos os plug-ins abertos (e que vierem a ser abertos depois) utilizando a fun\u00e7\u00e3o SceneLib.registerPlugin .","title":"Objeto Scene"},{"location":"ObjetoScene/#heranca","text":"O o bjeto Scene herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.","title":"Heran\u00e7a"},{"location":"ObjetoScene/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto Scene tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoScene/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o worldWidth Double Define a LARGURA do tabuleiro de combate. O valor desta propriedade contem o valor em M\u00e9trica do Mundo Scene . worldHeight Double Define a ALTURA do tabuleiro de combate. O valor desta propriedade contem o valor em M\u00e9trica do Mundo Scene . worldMetricName String Define o nome da m\u00e9trica do mundo que \u00e9 usada por este scene. Exemplo: \"m\", \"km\", \"cm\", etc.. Exemplo2: supondo que a propriedade worldWidth = 60 e worldMetricName = \"km\", intepreta-se que tabuleiro possui uma largura de 60 quil\u00f4metros. bkgColor String de Color Define a cor de fundo do tabuleiro. Exemplo: \"white\", \"black\", \"#FFDE05\" bkgImageURL String Cont\u00e9m a URL da imagem/bitmap que ser\u00e1 renderizada como fundo do tabuleiro. Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. workingLayer Enumerado: \"background\" \"objects\" \"tokens\" Define qual em que camada do scene o usu\u00e1rio est\u00e1 trabalhando. \"map\" - O usu\u00e1rio est\u00e1 trabalhando na camada Background \"objects\" - O usu\u00e1rio est\u00e1 trabalhando na camada Objetos \"tokens\" - O usu\u00e1rio est\u00e1 trabalhando na camada Tokens. Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene. Saiba mais sobre as camadas em: As camadas do tabuleiro viewport Objeto SceneViewport (Somente Leitura) Objeto viewport do Scene. Objeto que cont\u00e9m propriedades sobre a \"tela\" do Scene, como \"Qual regi\u00e3o do scene o usu\u00e1rio est\u00e1 vendo\", \"Qual o zoom que o usu\u00e1rio aplicou no tabuleiro?\", etc.. grid Objeto SceneGridLayer (Somente Leitura) Objeto que cont\u00e9m caracter\u00edsticas, informa\u00e7\u00f5es e utilit\u00e1rios a respeito da GRID do scene. items Objeto SceneGraphicItemList (Somente Leitura) Objeto que re\u00fane os itens visuais do tabuleiro como tokens. fogOfWar Objeto SceneFogOfWar (Somente Leitura) Objeto que re\u00fane informa\u00e7\u00f5es e opera\u00e7\u00f5es com o FogOfWar/N\u00e9voa de Guerra do Tabuleiro de combate. isGM Boolean (Somente Leitura) True se o usu\u00e1rio atual \u00e9 mestre deste scene ou false. isViewingAsGM Boolean True se o usu\u00e1rio atual for mestre e estiver visualizado como mestre do scene. O usu\u00e1rio atual pode ser mestre mas desejar ver como os jogadores est\u00e3o enxergando o scene, ent\u00e3o isGM = true e isViewingAsGM = false. isViewingWalls Boolean True se o usu\u00e1rio atual for mestre e estiver visualizado as paredes/\u00e1reas opacas do tabuleiro. currentUserID String (Somente Leitura) Cont\u00e9m o login do usu\u00e1rio atual que est\u00e1 utilizando o Scene. renderAsPlayer Boolean (Somente Leitura) Uma propriedade bem peculiar e mais dif\u00edcil de explicar. Algumas vezes, mesmo quando \"isGM\" \u00e9 true e \"isViewingAsGM\" \u00e9 true, o tabuleiro deve ser renderizado como \"visualizando como jogador\". Esta propriedade foi feita inicialmente pensando na integra\u00e7\u00e3o do Firecast com o programa \"OBS Studio\" para streaming. Enquanto o mestre est\u00e1 visualizando o tabuleiro como GM, o tabuleiro deve ser renderizado como jogador para o \"OBS Studio\".","title":"Propriedades e atributos"},{"location":"ObjetoScene/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o scene:newTransaction() Cria um NodeTransaction que poder\u00e1 ser utilizado para gerenciar as mudan\u00e7as feitas localmente no Scene. Retorna: Um objeto NodeTransaction que poder\u00e1 ser utilizado em scene:pushTransaction() scene:pushTransaction(transaction) Ativa uma transa\u00e7\u00e3o para controlar mudan\u00e7as no Scene. Par\u00e2metros: transaction - um objeto NodeTransaction previamente criado pela fun\u00e7\u00e3o scene:newTransaction que controlar\u00e1 as pr\u00f3ximas mudan\u00e7as no Scene. Observa\u00e7\u00f5es: Ap\u00f3s ativar uma transa\u00e7\u00e3o, todas as altera\u00e7\u00f5es que ocorrerem no Scene ser\u00e3o mantidas localmente e n\u00e3o ser\u00e3o compartilhadas automaticamente com os outros usu\u00e1rios. Voc\u00ea dever\u00e1 controlar o que acontecer\u00e1 com estas mudan\u00e7as ao invocar \" transaction:rollback() \" se quiser desfaz\u00ea-las ou \" transaction:commit() \" para confirm\u00e1-las e compartilhar-lhas com os outros usu\u00e1rios. Para cada chamada de scene:pushTransaction() , deve haver uma chamada de scene:popTransaction() . scene:popTransaction() Desativa a \u00faltima transa\u00e7\u00e3o ativada no Scene pela fun\u00e7\u00e3o scene:pushTransaction() Observa\u00e7\u00f5es: Para cada chamada de scene:pushTransaction() , deve haver uma chamada de scene:popTransaction() . Se antes de chamar pushTransaction o Scene j\u00e1 estava sendo controlado por alguma transa\u00e7\u00e3o, esta transa\u00e7\u00e3o \u00e9 restaurada. Apenas invocar este m\u00e9todo n\u00e3o \u00e9 o suficiente para realizar o controle das mudan\u00e7as. Voc\u00ea o invocar o m\u00e9todo \" rollback() \" da transaction se quiser desfazer as mudan\u00e7as capturadas ou invocar o m\u00e9todo \" commit() \" da transaction para confirmar e compartilhar as mudan\u00e7as capturadas. scene:broadcastMessage(messageId, message [, loopBack]) Envia uma mensagem a todos os outros usu\u00e1rios que est\u00e3o com o scene aberto. Par\u00e2metros: messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem. message - A mensagem a ser transmitida. Aqui s\u00e3o aceitos textos, tabelas lua, n\u00fameros e booleanos. (OPICIONAL) loopBack - Informa se quer que esta mensagem seja retransmitida para voc\u00ea mesmo. Valor padr\u00e3o: false Observa\u00e7\u00f5es: A mensagem enviada \u00e9 entregue a todos os outros usu\u00e1rios conectados no scene. Para receber as mensagens recebidas, o usu\u00e1rio destinat\u00e1rio deve ter previamente invocado a fun\u00e7\u00e3o scene:newBroadcastListener scene:newBroadcastListener(messageId, callback) Cria uma escuta de mensagens para receber mensagens postadas pela fun\u00e7\u00e3o scene:broadcastMessage Par\u00e2metros: messageId - Uma cadeia de caracteres contendo a identifica\u00e7\u00e3o das mensagens que deseja receber. Deve ser igual ao messageId usado na fun\u00e7\u00e3o scene:broadcastMessage . callback - Uma fun\u00e7\u00e3o que ser\u00e1 invocada ao receber mensagens. Esta fun\u00e7\u00e3o recebe tr\u00eas par\u00e2metros na seguinte ordem: sender - Cadeia de caracteres contendo o login do usu\u00e1rio que enviou a mensagem messageId - Cadeia de caracteres contendo a identifica\u00e7\u00e3o da mensagem recebida message - A mensagem que foi postada. Retorno: Retorna um objeto representando o Listener. Observa\u00e7\u00f5es: Importante: Mantenha refer\u00eancia ao objeto retornado por esta fun\u00e7\u00e3o enquanto quiser que a escuta esteja ativa. Se o coletor de lixo LUA coletar este objeto, a escuta \u00e9 destru\u00edda e a fun\u00e7\u00e3o callback n\u00e3o ser\u00e1 mais invocada. Se quiser destruir a escuta imediatamente, invoque a fun\u00e7\u00e3o destroy do objeto retornado.... obj:destroy(); scene:sendDelayedUpdates() Force the scene to transmit all the pending delayed updates caused by the network transfer optimization","title":"M\u00e9todos"},{"location":"ObjetoScene/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onWorkingLayerChange Evento que \u00e9 chamado quando a propriedade workingLayer for alterada. onGMStateChange Evento que \u00e9 chamado quando as propriedades isGM, isViewingAsGM ou isViewingWalls mudarem.","title":"Eventos"},{"location":"ObjetoScene/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoScene/#exemplo-1-um-plugin-de-scene-que-ao-se-anexar-a-um-tabuleiro-exibe-uma-mensagem-com-algumas-caracteristicas-do-scene","text":"require(\"scene.lua\"); require(\"dialogs.lua\"); SceneLib.registerPlugin( function (scene, attachment) showMessage(\"Plugin anexado a um tabuleiro de tamanho \" .. scene.worldWidth .. scene.worldMetricName .. \" x \" .. scene.worldHeight .. scene.worldMetricName .. \" de cor de fundo \".. scene.bkgColor); end ); Created with the Personal Edition of HelpNDoc: Add an Extra Layer of Security to Your PDFs with Encryption","title":"Exemplo 1 - Um Plugin de Scene que, ao se anexar a um tabuleiro, exibe uma mensagem com algumas caracter\u00edsticas do Scene."},{"location":"ObjetoSceneBaseObject/","text":"Objeto SceneBaseObject Objeto SceneBaseObject A classe SceneBaseObject \u00e9 uma abstra\u00e7\u00e3o e todos os outros objetos do SceneLib herdam desta classe. Isto significa que n\u00e3o \u00e9 poss\u00edvel existir um objeto SceneBaseObject diretamente e que sua exist\u00eancia est\u00e1 condicionada \u00e0 exist\u00eancia dos objetos que herdam dele. Caracter\u00edsticas Todos os objetos que herdam de SceneBaseObject possuem as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectType String (Somente Leitura) Cadeia de caracteres que informam o tipo do objeto. Exemplos de valores: \"scene\", \"viewport\", \"token\", etc.. isObjectAlive Boolean (Somente Leitura) Cont\u00e9m true se o objeto ainda estiver vivo no c\u00f3digo fonte do RRPG ou false se ele j\u00e1 foi destru\u00eddo objectID Integer (Somente Leitura) Cont\u00e9m um n\u00famero \u00fanico que identifica o objeto no RRPG local. userData Objeto Nodo (Somente Leitura) Cont\u00e9m um objeto nodo de um NodeDatabase que armazena dados extras que o programador possa querer armazenar. Cada Objeto do Scene 3 possui seu pr\u00f3prio userData. Saiba mais lendo sobre NodeDatabase e sobre Objeto Nodo. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o obj:isType(typeName) Retorna true se o objeto \u00e9 do tipo \"typeName\", sen\u00e3o retorna false. obj:beginUpdate() Coloca o objeto em estado de altera\u00e7\u00e3o. Se voc\u00ea for fazer v\u00e1rias mudan\u00e7as em um objeto de uma \u00fanica vez, talvez seja poss\u00edvel obter uma melhoria de performance usando beginUpdate. para cada chamada de beginUpdate, deve haver 1 chamada de endUpdate obj:endUpdate() Retira o objeto do estado de altera\u00e7\u00e3o que foi previamente configurado pela fun\u00e7\u00e3o beginUpdate. para cada chamada de beginUpdate, deve haver 1 chamada de endUpdate obj:newUserDataLink([field]) Cria e retorna um novo objeto DataLink que monitora um determinado field do objeto nodo \"userData\". Par\u00e2metros: (OPCIONAL) field - Uma cadeia de string contendo o nome/caminho do campo que ser\u00e1 monitorado. Retorna: Um objeto dataLink que monitora o field solicitado do \"userData\" deste objeto. Observa\u00e7\u00f5es: Esta \u00e9 a melhor maneira de capturar mudan\u00e7a de valores nos valores de userData. Eventos Nome do evento Descri\u00e7\u00e3o Created with the Personal Edition of HelpNDoc: Transform Your Help Documentation Process with a Help Authoring Tool","title":"Objeto SceneBaseObject"},{"location":"ObjetoSceneBaseObject/#objeto-scenebaseobject","text":"","title":"Objeto SceneBaseObject"},{"location":"ObjetoSceneBaseObject/#objeto-scenebaseobject_1","text":"A classe SceneBaseObject \u00e9 uma abstra\u00e7\u00e3o e todos os outros objetos do SceneLib herdam desta classe. Isto significa que n\u00e3o \u00e9 poss\u00edvel existir um objeto SceneBaseObject diretamente e que sua exist\u00eancia est\u00e1 condicionada \u00e0 exist\u00eancia dos objetos que herdam dele.","title":"Objeto SceneBaseObject"},{"location":"ObjetoSceneBaseObject/#caracteristicas","text":"Todos os objetos que herdam de SceneBaseObject possuem as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneBaseObject/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String (Somente Leitura) Cadeia de caracteres que informam o tipo do objeto. Exemplos de valores: \"scene\", \"viewport\", \"token\", etc.. isObjectAlive Boolean (Somente Leitura) Cont\u00e9m true se o objeto ainda estiver vivo no c\u00f3digo fonte do RRPG ou false se ele j\u00e1 foi destru\u00eddo objectID Integer (Somente Leitura) Cont\u00e9m um n\u00famero \u00fanico que identifica o objeto no RRPG local. userData Objeto Nodo (Somente Leitura) Cont\u00e9m um objeto nodo de um NodeDatabase que armazena dados extras que o programador possa querer armazenar. Cada Objeto do Scene 3 possui seu pr\u00f3prio userData. Saiba mais lendo sobre NodeDatabase e sobre Objeto Nodo.","title":"Propriedades e atributos"},{"location":"ObjetoSceneBaseObject/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o obj:isType(typeName) Retorna true se o objeto \u00e9 do tipo \"typeName\", sen\u00e3o retorna false. obj:beginUpdate() Coloca o objeto em estado de altera\u00e7\u00e3o. Se voc\u00ea for fazer v\u00e1rias mudan\u00e7as em um objeto de uma \u00fanica vez, talvez seja poss\u00edvel obter uma melhoria de performance usando beginUpdate. para cada chamada de beginUpdate, deve haver 1 chamada de endUpdate obj:endUpdate() Retira o objeto do estado de altera\u00e7\u00e3o que foi previamente configurado pela fun\u00e7\u00e3o beginUpdate. para cada chamada de beginUpdate, deve haver 1 chamada de endUpdate obj:newUserDataLink([field]) Cria e retorna um novo objeto DataLink que monitora um determinado field do objeto nodo \"userData\". Par\u00e2metros: (OPCIONAL) field - Uma cadeia de string contendo o nome/caminho do campo que ser\u00e1 monitorado. Retorna: Um objeto dataLink que monitora o field solicitado do \"userData\" deste objeto. Observa\u00e7\u00f5es: Esta \u00e9 a melhor maneira de capturar mudan\u00e7a de valores nos valores de userData.","title":"M\u00e9todos"},{"location":"ObjetoSceneBaseObject/#eventos","text":"Nome do evento Descri\u00e7\u00e3o Created with the Personal Edition of HelpNDoc: Transform Your Help Documentation Process with a Help Authoring Tool","title":"Eventos"},{"location":"ObjetoSceneCanvas/","text":"Objeto SceneCanvas Objeto SceneCanvas O Objeto SceneCanvas representa como um item do Scene deve ser desenhado na tela do usu\u00e1rio e, no fundo, \u00e9 uma lista de opera\u00e7\u00f5es gr\u00e1ficas que devem ser executadas para compor a apar\u00eancia de um item no tabuleiro. O SceneCanvas de um item gr\u00e1fico pode ser obtido atrav\u00e9s da propriedade \" canvas \" de um que herde de objeto SceneGraphicItem A grande vantagem em utilizar o SceneCanvas \u00e9 que as opera\u00e7\u00f5es gr\u00e1ficas s\u00e3o persistidas no scene e ser\u00e3o executadas no tabuleiro de cada usu\u00e1rio, mesmo que algum n\u00e3o tenha instalado algum determinado plug-in. Heran\u00e7a O o bjeto SceneCanvas herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas. Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneCanvas tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o opCount Integer (Somente Leitura) Cont\u00e9m a quantidade de opera\u00e7\u00f5es gr\u00e1ficas que este Canvas possui. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o canvas:getOp(index) Retorna a opera\u00e7\u00e3o gr\u00e1fica de \u00edndice passado por par\u00e2metro. Par\u00e2metros: index - Um n\u00famero inteiro informando qual opera\u00e7\u00e3o gr\u00e1fica do canvas voc\u00ea deseja obter. Este valor deve estar entre 0 e \"opCount\" - 1 Retorno: Um objeto SceneDrawingOp representando a opera\u00e7\u00e3o gr\u00e1fica do \u00edndice informado. Observa\u00e7\u00e3o: O item retornado pode ser uma opera\u00e7\u00e3o gr\u00e1fica de bitmap/imagem ( objeto SceneDrawingOpBitmap ) ou uma opera\u00e7\u00e3o gr\u00e1fica de caminho/formas/pol\u00edgonos ( objeto SceneDrawingOpPath ). Para saber qual \u00e9 o tipo da opera\u00e7\u00e3o gr\u00e1fica, verifique a propriedade objectType do objeto retornado. canvas:addBitmap() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de bitmap/imagem ao canvas. Par\u00e2metros: Nenhum Retorno: Um objeto SceneDrawingOpBitmap representando a opera\u00e7\u00e3o gr\u00e1fica criada. canvas:addPath() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de caminho/formas/pol\u00edgonos ao canvas. Par\u00e2metros: Nenhum Retorno: Um objeto SceneDrawingOpPath representando a opera\u00e7\u00e3o gr\u00e1fica criada. canvas:addText() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de texto ao canvas. Par\u00e2metros: Nenhum Retorno: Um objeto SceneDrawingOpText representando a opera\u00e7\u00e3o gr\u00e1fica criada. canvas:findByName(name) Localiza uma opera\u00e7\u00e3o gr\u00e1fica pelo seu nome. Par\u00e2metros: name - Um texto, o nome da opera\u00e7\u00e3o gr\u00e1fica que est\u00e1 procurando neste Canvas/Item do Scene. Retorno: Se o Scene encontrar uma opera\u00e7\u00e3o gr\u00e1fica cuja propriedade name for igual ao texto informado, retorna um objeto SceneDrawingOp representando a opera\u00e7\u00e3o gr\u00e1fica localizada. Se o Scene n\u00e3o encontrar, retorna nil . Observa\u00e7\u00e3o: O item retornado pode ser uma opera\u00e7\u00e3o gr\u00e1fica de bitmap/imagem ( objeto SceneDrawingOpBitmap ) ou uma opera\u00e7\u00e3o gr\u00e1fica de caminho/formas/pol\u00edgonos ( objeto SceneDrawingOpPath ). Para saber qual \u00e9 o tipo da opera\u00e7\u00e3o gr\u00e1fica, verifique a propriedade objectType do objeto retornado. canvas:clear() Limpa o canvas excluindo todas as opera\u00e7\u00f5es gr\u00e1ficas contida nele. Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene. require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca Exemplo 2 - Created with the Personal Edition of HelpNDoc: From Word to ePub or Kindle eBook: A Comprehensive Guide","title":"Objeto SceneCanvas"},{"location":"ObjetoSceneCanvas/#objeto-scenecanvas","text":"","title":"Objeto SceneCanvas"},{"location":"ObjetoSceneCanvas/#objeto-scenecanvas_1","text":"O Objeto SceneCanvas representa como um item do Scene deve ser desenhado na tela do usu\u00e1rio e, no fundo, \u00e9 uma lista de opera\u00e7\u00f5es gr\u00e1ficas que devem ser executadas para compor a apar\u00eancia de um item no tabuleiro. O SceneCanvas de um item gr\u00e1fico pode ser obtido atrav\u00e9s da propriedade \" canvas \" de um que herde de objeto SceneGraphicItem A grande vantagem em utilizar o SceneCanvas \u00e9 que as opera\u00e7\u00f5es gr\u00e1ficas s\u00e3o persistidas no scene e ser\u00e3o executadas no tabuleiro de cada usu\u00e1rio, mesmo que algum n\u00e3o tenha instalado algum determinado plug-in.","title":"Objeto SceneCanvas"},{"location":"ObjetoSceneCanvas/#heranca","text":"O o bjeto SceneCanvas herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.","title":"Heran\u00e7a"},{"location":"ObjetoSceneCanvas/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneCanvas tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneCanvas/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o opCount Integer (Somente Leitura) Cont\u00e9m a quantidade de opera\u00e7\u00f5es gr\u00e1ficas que este Canvas possui.","title":"Propriedades e atributos"},{"location":"ObjetoSceneCanvas/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o canvas:getOp(index) Retorna a opera\u00e7\u00e3o gr\u00e1fica de \u00edndice passado por par\u00e2metro. Par\u00e2metros: index - Um n\u00famero inteiro informando qual opera\u00e7\u00e3o gr\u00e1fica do canvas voc\u00ea deseja obter. Este valor deve estar entre 0 e \"opCount\" - 1 Retorno: Um objeto SceneDrawingOp representando a opera\u00e7\u00e3o gr\u00e1fica do \u00edndice informado. Observa\u00e7\u00e3o: O item retornado pode ser uma opera\u00e7\u00e3o gr\u00e1fica de bitmap/imagem ( objeto SceneDrawingOpBitmap ) ou uma opera\u00e7\u00e3o gr\u00e1fica de caminho/formas/pol\u00edgonos ( objeto SceneDrawingOpPath ). Para saber qual \u00e9 o tipo da opera\u00e7\u00e3o gr\u00e1fica, verifique a propriedade objectType do objeto retornado. canvas:addBitmap() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de bitmap/imagem ao canvas. Par\u00e2metros: Nenhum Retorno: Um objeto SceneDrawingOpBitmap representando a opera\u00e7\u00e3o gr\u00e1fica criada. canvas:addPath() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de caminho/formas/pol\u00edgonos ao canvas. Par\u00e2metros: Nenhum Retorno: Um objeto SceneDrawingOpPath representando a opera\u00e7\u00e3o gr\u00e1fica criada. canvas:addText() Adiciona uma opera\u00e7\u00e3o gr\u00e1fica de desenho de texto ao canvas. Par\u00e2metros: Nenhum Retorno: Um objeto SceneDrawingOpText representando a opera\u00e7\u00e3o gr\u00e1fica criada. canvas:findByName(name) Localiza uma opera\u00e7\u00e3o gr\u00e1fica pelo seu nome. Par\u00e2metros: name - Um texto, o nome da opera\u00e7\u00e3o gr\u00e1fica que est\u00e1 procurando neste Canvas/Item do Scene. Retorno: Se o Scene encontrar uma opera\u00e7\u00e3o gr\u00e1fica cuja propriedade name for igual ao texto informado, retorna um objeto SceneDrawingOp representando a opera\u00e7\u00e3o gr\u00e1fica localizada. Se o Scene n\u00e3o encontrar, retorna nil . Observa\u00e7\u00e3o: O item retornado pode ser uma opera\u00e7\u00e3o gr\u00e1fica de bitmap/imagem ( objeto SceneDrawingOpBitmap ) ou uma opera\u00e7\u00e3o gr\u00e1fica de caminho/formas/pol\u00edgonos ( objeto SceneDrawingOpPath ). Para saber qual \u00e9 o tipo da opera\u00e7\u00e3o gr\u00e1fica, verifique a propriedade objectType do objeto retornado. canvas:clear() Limpa o canvas excluindo todas as opera\u00e7\u00f5es gr\u00e1ficas contida nele.","title":"M\u00e9todos"},{"location":"ObjetoSceneCanvas/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoSceneCanvas/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneCanvas/#exemplo-1-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca","title":"Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene."},{"location":"ObjetoSceneCanvas/#exemplo-2-","text":"Created with the Personal Edition of HelpNDoc: From Word to ePub or Kindle eBook: A Comprehensive Guide","title":"Exemplo 2 -"},{"location":"ObjetoSceneDawingOpPath/","text":"Objeto SceneDawingOpPath Objeto SceneDrawingOpPath O Objeto SceneDrawingOpPath representa uma opera\u00e7\u00e3o gr\u00e1fica de um caminho/forma/pol\u00edgono em um SceneCanvas . Heran\u00e7a O o bjeto SceneDrawingOpPath herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneDrawingOp Objecto SceneBaseObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpPath tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opPath\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\". data, pathData ou path String Define a forma vetorial do path. Este texto deve estar no mesmo padr\u00e3o do path do SVG e do XAML. Consulte a documenta\u00e7\u00e3o deles na internet ! Outro link que pode ajudar: http://www.w3schools.com/svg/svg_path.asp Observa\u00e7\u00e3o Importante: Path ser\u00e1 automaticamente redimensionado para ficar com a mesma dimens\u00e3o definida para esta opera\u00e7\u00e3o gr\u00e1fica. color String de Cor Define a cor do conte\u00fado da forma. Veja String de cores para obter a completa de cores e outras formas de uso. Define a cor do conte\u00fado da forma. Valor padr\u00e3o: White strokeColor String de Cor Define a cor do contorno da forma. Veja String de cores para obter a completa de cores e outras formas de uso. Define a cor do conte\u00fado da forma. Valor padr\u00e3o: Black strokeSize Double Define a largura do contorno da forma. O significado deste n\u00famero depende do valor da propriedade \"strokeSizeMetric\" Valor padr\u00e3o: 0.0; strokeSizeMetric Enumerado: \"screenMetric\" \"worldMetric\" \"canvasMetric\" \"cellMetric\" Define em que medida a propriedade \"strokeSize\" est\u00e1 medida. \"screenMetric\" - (Padr\u00e3o) strokeSize est\u00e1 representado em m\u00e9tricas de tela . \"worldMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de mundo . \"canvasMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de canvas, onde, por exemplo, 0.5 = metade da largura/altura do token/desenho e 1.0 = largura/altura do token/desenho. \"cellMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de c\u00e9lulas. (Exemplo, 0.5 = meia c\u00e9lula do grid, 2 = duas c\u00e9lulas do grid) strokeCap Enumerado: \"flat\" \"round\" Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas. \"flat\" - linhas com pontas retangulares \"round\" - linhas com pontas arredondadas. Valor padr\u00e3o: \"flat\" strokeJoin Enumerado: \"miter\" \"round\" \"bevel\" Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma. \"miter\" - As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\". \"round\" - As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas. \"bevel\" - As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal. Valor padr\u00e3o: \"miter\" strokeDash Enumerado: \"solid\" \"dash\" \"dot\" \"dashDot\" \"dashDotDot\" Define o estilo gr\u00e1fico da linha. \"solid\" - A linha \u00e9 s\u00f3lida \"dash\" - A linha \u00e9 tracejada \"dot\" - A linha \u00e9 feita de pontos. \"dashDot\" - A linha \u00e9 alternada entre tra\u00e7os e pontos. \"dashDotDot\" - A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto. Valor padr\u00e3o: \"solid\" M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Exemplo 1 - Um plug-in que adiciona/remove um tri\u00e2ngulo amarelo quando o usu\u00e1rio clica nos itens do scene. require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addPath(); opGrafica.name = NOME_MINHA_MARCA; -- Come\u00e7ar a desenhar no X equivalente a 80% da largura do item -- Come\u00e7ar a desenhar no Y equivalente a 25% da altura do item opGrafica.x = 0.8; opGrafica.y = 0.25; opGrafica.width = 0.5; -- Largura do Path: 50% da largura do item * opGrafica.height = 0.4; -- Altura do Path: 40% da altura do item opGrafica.z = 10; -- Cores e estilo do PATH opGrafica.color = \"yellow\"; opGrafica.strokeSize = 1; -- O path data (Um tri\u00e2ngulo apontado para a direita) opGrafica.data = \"M 0 0 L 1 0.5 L 0 1 Z\"; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end ); Item sem a marca Item com a marca Exemplo 2 - Created with the Personal Edition of HelpNDoc: Easily create EBooks","title":"Objeto SceneDawingOpPath"},{"location":"ObjetoSceneDawingOpPath/#objeto-scenedawingoppath","text":"","title":"Objeto SceneDawingOpPath"},{"location":"ObjetoSceneDawingOpPath/#objeto-scenedrawingoppath","text":"O Objeto SceneDrawingOpPath representa uma opera\u00e7\u00e3o gr\u00e1fica de um caminho/forma/pol\u00edgono em um SceneCanvas .","title":"Objeto SceneDrawingOpPath"},{"location":"ObjetoSceneDawingOpPath/#heranca","text":"O o bjeto SceneDrawingOpPath herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneDrawingOp Objecto SceneBaseObject","title":"Heran\u00e7a"},{"location":"ObjetoSceneDawingOpPath/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpPath tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneDawingOpPath/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opPath\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\". data, pathData ou path String Define a forma vetorial do path. Este texto deve estar no mesmo padr\u00e3o do path do SVG e do XAML. Consulte a documenta\u00e7\u00e3o deles na internet ! Outro link que pode ajudar: http://www.w3schools.com/svg/svg_path.asp Observa\u00e7\u00e3o Importante: Path ser\u00e1 automaticamente redimensionado para ficar com a mesma dimens\u00e3o definida para esta opera\u00e7\u00e3o gr\u00e1fica. color String de Cor Define a cor do conte\u00fado da forma. Veja String de cores para obter a completa de cores e outras formas de uso. Define a cor do conte\u00fado da forma. Valor padr\u00e3o: White strokeColor String de Cor Define a cor do contorno da forma. Veja String de cores para obter a completa de cores e outras formas de uso. Define a cor do conte\u00fado da forma. Valor padr\u00e3o: Black strokeSize Double Define a largura do contorno da forma. O significado deste n\u00famero depende do valor da propriedade \"strokeSizeMetric\" Valor padr\u00e3o: 0.0; strokeSizeMetric Enumerado: \"screenMetric\" \"worldMetric\" \"canvasMetric\" \"cellMetric\" Define em que medida a propriedade \"strokeSize\" est\u00e1 medida. \"screenMetric\" - (Padr\u00e3o) strokeSize est\u00e1 representado em m\u00e9tricas de tela . \"worldMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de mundo . \"canvasMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de canvas, onde, por exemplo, 0.5 = metade da largura/altura do token/desenho e 1.0 = largura/altura do token/desenho. \"cellMetric\" - strokeSize est\u00e1 representado em m\u00e9tricas de c\u00e9lulas. (Exemplo, 0.5 = meia c\u00e9lula do grid, 2 = duas c\u00e9lulas do grid) strokeCap Enumerado: \"flat\" \"round\" Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas. \"flat\" - linhas com pontas retangulares \"round\" - linhas com pontas arredondadas. Valor padr\u00e3o: \"flat\" strokeJoin Enumerado: \"miter\" \"round\" \"bevel\" Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma. \"miter\" - As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\". \"round\" - As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas. \"bevel\" - As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal. Valor padr\u00e3o: \"miter\" strokeDash Enumerado: \"solid\" \"dash\" \"dot\" \"dashDot\" \"dashDotDot\" Define o estilo gr\u00e1fico da linha. \"solid\" - A linha \u00e9 s\u00f3lida \"dash\" - A linha \u00e9 tracejada \"dot\" - A linha \u00e9 feita de pontos. \"dashDot\" - A linha \u00e9 alternada entre tra\u00e7os e pontos. \"dashDotDot\" - A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto. Valor padr\u00e3o: \"solid\"","title":"Propriedades e atributos"},{"location":"ObjetoSceneDawingOpPath/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o","title":"M\u00e9todos"},{"location":"ObjetoSceneDawingOpPath/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoSceneDawingOpPath/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneDawingOpPath/#exemplo-1-um-plug-in-que-adicionaremove-um-triangulo-amarelo-quando-o-usuario-clica-nos-itens-do-scene","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addPath(); opGrafica.name = NOME_MINHA_MARCA; -- Come\u00e7ar a desenhar no X equivalente a 80% da largura do item -- Come\u00e7ar a desenhar no Y equivalente a 25% da altura do item opGrafica.x = 0.8; opGrafica.y = 0.25; opGrafica.width = 0.5; -- Largura do Path: 50% da largura do item * opGrafica.height = 0.4; -- Altura do Path: 40% da altura do item opGrafica.z = 10; -- Cores e estilo do PATH opGrafica.color = \"yellow\"; opGrafica.strokeSize = 1; -- O path data (Um tri\u00e2ngulo apontado para a direita) opGrafica.data = \"M 0 0 L 1 0.5 L 0 1 Z\"; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end ); Item sem a marca Item com a marca","title":"Exemplo 1 - Um plug-in que adiciona/remove um tri\u00e2ngulo amarelo quando o usu\u00e1rio clica nos itens do scene."},{"location":"ObjetoSceneDawingOpPath/#exemplo-2-","text":"Created with the Personal Edition of HelpNDoc: Easily create EBooks","title":"Exemplo 2 -&nbsp;"},{"location":"ObjetoSceneDrawingOp/","text":"Objeto SceneDrawingOp Objeto SceneDrawingOp O Objeto SceneDrawingOp representa uma opera\u00e7\u00e3o gr\u00e1fica de um SceneCanvas . Heran\u00e7a O o bjeto SceneDrawingOp herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas. Abstra\u00e7\u00e3o Esta \u00e9 uma classe abstrata e voc\u00ea nunca encontrar\u00e1 um objeto SceneDrawingOp vivo sem ser uma das seguintes classes: Objeto SceneDrawingOpBitmap Objeto SceneDrawingOpPath Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOp tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectType String: \"opBitmap\" \"opPath\" \"opText\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica e pode conter um dos seguintes valores: \"opBitmap\" - este opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpBitmap , uma imagem/bitmap. \"opPath\" - esta opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpPath , um caminho/forma/pol\u00edgono. \"opText\" - Esta opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpText , um texto. x Double Cont\u00e9m a posi\u00e7\u00e3o X de onde esta opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada. Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto esquerdo do item, 0.5 = centro do item e 1.0 = canto direito do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) y Double Cont\u00e9m a posi\u00e7\u00e3o Y de onde esta opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada. Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto superior do item, 0.5 = centro do item e 1.0 = canto inferior do item (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) width Double Cont\u00e9m a largura que a opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada. Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.5 = metade da largura do item, 1.0 = largura do item e 2.0 = duas vezes a largura do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) height Double Cont\u00e9m a altura que a opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada. Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.5 = metade da altura do item, 1.0 = altura do item e 2.0 = duas vezes a altura do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) z Double Cont\u00e9m um n\u00famero para definir a ordem Z da opera\u00e7\u00e3o gr\u00e1fica, isto \u00e9, a ordem em que deve ser renderizada. Exemplo: Se A e B forem duas opera\u00e7\u00f5es gr\u00e1ficas de um mesmo Item de Scene e se A possuir ordem Z equivalente a 5 e B possuir ordem Z equivalente a 10, a opera\u00e7\u00e3o gr\u00e1fica A aparecer\u00e1 abaixo da opera\u00e7\u00e3o gr\u00e1fica B na tela. name String Um texto auxiliar qualquer para ajudar a identificar qual \u00e9 esta opera\u00e7\u00e3o gr\u00e1fica. Pode ser utilizado pela fun\u00e7\u00e3o \"canvas:findByName()\" do objeto SceneCanvas para f\u00e1cil localiza\u00e7\u00e3o. opacity Double Define a opacidade da opera\u00e7\u00e3o gr\u00e1fica. Este valor varia de 0.0 a 1.0, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. rotMode Enumerado: \"default\" \"ignoreCanvasRot\" Define como a opera\u00e7\u00e3o gr\u00e1fica deve se comportar em rela\u00e7\u00e3o \u00e0 rota\u00e7\u00e3o do item/canvas dono da opera\u00e7\u00e3o gr\u00e1fica. \"default\": Padr\u00e3o, a opera\u00e7\u00e3o gr\u00e1fica deve ser rotacionada conforme a rota\u00e7\u00e3o de seu canvas/item do scene. \"ignoreCanvasRot\": A renderiza\u00e7\u00e3o desta opera\u00e7\u00e3o gr\u00e1fica deve ignorar a rota\u00e7\u00e3o de seu canvas/item do scene. visibility Enumerado: \"everyone\" \"gmOnly\" Define quem pode visualizar esta opera\u00e7\u00e3o gr\u00e1fica: \"everyone\": Padr\u00e3o, todos podem visualizar esta opera\u00e7\u00e3o gr\u00e1fica. \"gmOnly\": Apenas o mestre da mesa pode ver esta opera\u00e7\u00e3o gr\u00e1fica. rotation Double Define a rota\u00e7\u00e3o da opera\u00e7\u00e3o gr\u00e1fica em graus. rotCenterX Double Define onde, no eixo X da opera\u00e7\u00e3o gr\u00e1fica, est\u00e1 o piv\u00f4 de rota\u00e7\u00e3o. O valor varia entre 0.0 a 1.0: 0.0 = lado esquerdo do desenho. 0.5 = centro do desenho (Padr\u00e3o) 1.0 = lado direito do desenho. rotCenterY Double Define onde, no eixo Y da opera\u00e7\u00e3o gr\u00e1fica, est\u00e1 o piv\u00f4 de rota\u00e7\u00e3o. O valor varia entre 0.0 a 1.0: 0.0 = parte superior do desenho. 0.5 = centro do desenho (Padr\u00e3o). 1.0 = parte inferior do desenho. drawingTrigger Conjunto: \"hover\" \"selected\" Define gatilhos para esta opera\u00e7\u00e3o ser desenhada. \u00c9 um conjunto, uma tabela contendo um ou mais dos seguintes itens: \"hover\" - Quando o mouse estiver por cima do objeto/token. \"selected\" - Quando o objeto/token estiver selecionado. Exemplos: {} - N\u00e3o h\u00e1 gatilhos, sempre \u00e9 desenhada {\"hover\"} - Quando o mouse estiver por cima do item. {\"hover\", \"selected\"} - Quando o mouse estiver por cima do item ou quando o item estiver selecionado. outOfOrderMode Enumerado: \"noOutOfOrder\" \"afterFogOfWarLayer\" \"beforeOwnerLayer\" \"afterOwnerLayer\" Define se a opera\u00e7\u00e3o gr\u00e1fica possui um comportamento fora da ordem padr\u00e3o. \"noOutOfOrder\" - (Padr\u00e3o) A opera\u00e7\u00e3o n\u00e3o possui comportamento de desenho fora da ordem e \u00e9 desenhado na ordem normal. \"afterFogOfWarLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. \u00c9 desenhada ap\u00f3s a camada de Fog Of War ser desenhada no tabuleiro. \"beforeOwnerLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. Ela \u00e9 desenhada abaixo da camada do item que a possui. \"afterOwnerLayer\" - \"beforeOwnerLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. Ela \u00e9 desenhada acima da camada do item que a possui. xMetric yMetric widthMetric heightMetric Enumerado: \"screenMetric\" \"worldMetric\" \"canvasMetric\" \"cellMetric\" Altera a medida em que as propriedades \"x\", \"y\", \"width\" e \"height\" foram informadas: \"canvasMetric\" - (Padr\u00e3o) A propriedade est\u00e1 representado em m\u00e9tricas de canvas, onde, por exemplo, 0.5 = metade da largura/altura do token/desenho e 1.0 = largura/altura do token/desenho. \"screenMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de tela . \"worldMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de mundo . \"cellMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de c\u00e9lulas. (Exemplo, 0.5 = meia c\u00e9lula do grid, 2 = duas c\u00e9lulas do grid) xOrigin yOrigin Double Cont\u00e9m a posi\u00e7\u00e3o de origem no eixo X e no eixo Y de onde as propriedades \"x\" e \"y\" s\u00e3o relativas. Este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto esquerdo do item, 0.5 = centro do item e 1.0 = canto direito do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) Observa\u00e7\u00e3o: Estes valores s\u00e3o \u00fateis apenas quando \u00e9 usado xMetric/yMetric diferente de \"canvasMetric\". Exemplo: x = -1; xMetric = \"cellMetric\"; xOrigin = 0.5; width=2 widthMetric=\"cellMetric\" Faz com que a opera\u00e7\u00e3o gr\u00e1fica tenha largura equivalente a 2 c\u00e9lulas do grid e sua posi\u00e7\u00e3o X seja equivalente ao \"centro X do token menos 1 c\u00e9lula do grid\" (Horizontalmente alinhado) M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o drawingOp:delete() Remove/Apaga a opera\u00e7\u00e3o gr\u00e1fica do Canvas do Item no Scene. Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene. require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca Exemplo 2 - Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide","title":"Objeto SceneDrawingOp"},{"location":"ObjetoSceneDrawingOp/#objeto-scenedrawingop","text":"","title":"Objeto SceneDrawingOp"},{"location":"ObjetoSceneDrawingOp/#objeto-scenedrawingop_1","text":"O Objeto SceneDrawingOp representa uma opera\u00e7\u00e3o gr\u00e1fica de um SceneCanvas .","title":"Objeto SceneDrawingOp"},{"location":"ObjetoSceneDrawingOp/#heranca","text":"O o bjeto SceneDrawingOp herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.","title":"Heran\u00e7a"},{"location":"ObjetoSceneDrawingOp/#abstracao","text":"Esta \u00e9 uma classe abstrata e voc\u00ea nunca encontrar\u00e1 um objeto SceneDrawingOp vivo sem ser uma das seguintes classes: Objeto SceneDrawingOpBitmap Objeto SceneDrawingOpPath","title":"Abstra\u00e7\u00e3o"},{"location":"ObjetoSceneDrawingOp/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOp tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneDrawingOp/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String: \"opBitmap\" \"opPath\" \"opText\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica e pode conter um dos seguintes valores: \"opBitmap\" - este opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpBitmap , uma imagem/bitmap. \"opPath\" - esta opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpPath , um caminho/forma/pol\u00edgono. \"opText\" - Esta opera\u00e7\u00e3o gr\u00e1fica \u00e9 um Objeto SceneDrawingOpText , um texto. x Double Cont\u00e9m a posi\u00e7\u00e3o X de onde esta opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada. Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto esquerdo do item, 0.5 = centro do item e 1.0 = canto direito do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) y Double Cont\u00e9m a posi\u00e7\u00e3o Y de onde esta opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada. Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto superior do item, 0.5 = centro do item e 1.0 = canto inferior do item (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) width Double Cont\u00e9m a largura que a opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada. Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.5 = metade da largura do item, 1.0 = largura do item e 2.0 = duas vezes a largura do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) height Double Cont\u00e9m a altura que a opera\u00e7\u00e3o gr\u00e1fica deve ser renderizada. Por padr\u00e3o, este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.5 = metade da altura do item, 1.0 = altura do item e 2.0 = duas vezes a altura do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) z Double Cont\u00e9m um n\u00famero para definir a ordem Z da opera\u00e7\u00e3o gr\u00e1fica, isto \u00e9, a ordem em que deve ser renderizada. Exemplo: Se A e B forem duas opera\u00e7\u00f5es gr\u00e1ficas de um mesmo Item de Scene e se A possuir ordem Z equivalente a 5 e B possuir ordem Z equivalente a 10, a opera\u00e7\u00e3o gr\u00e1fica A aparecer\u00e1 abaixo da opera\u00e7\u00e3o gr\u00e1fica B na tela. name String Um texto auxiliar qualquer para ajudar a identificar qual \u00e9 esta opera\u00e7\u00e3o gr\u00e1fica. Pode ser utilizado pela fun\u00e7\u00e3o \"canvas:findByName()\" do objeto SceneCanvas para f\u00e1cil localiza\u00e7\u00e3o. opacity Double Define a opacidade da opera\u00e7\u00e3o gr\u00e1fica. Este valor varia de 0.0 a 1.0, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. rotMode Enumerado: \"default\" \"ignoreCanvasRot\" Define como a opera\u00e7\u00e3o gr\u00e1fica deve se comportar em rela\u00e7\u00e3o \u00e0 rota\u00e7\u00e3o do item/canvas dono da opera\u00e7\u00e3o gr\u00e1fica. \"default\": Padr\u00e3o, a opera\u00e7\u00e3o gr\u00e1fica deve ser rotacionada conforme a rota\u00e7\u00e3o de seu canvas/item do scene. \"ignoreCanvasRot\": A renderiza\u00e7\u00e3o desta opera\u00e7\u00e3o gr\u00e1fica deve ignorar a rota\u00e7\u00e3o de seu canvas/item do scene. visibility Enumerado: \"everyone\" \"gmOnly\" Define quem pode visualizar esta opera\u00e7\u00e3o gr\u00e1fica: \"everyone\": Padr\u00e3o, todos podem visualizar esta opera\u00e7\u00e3o gr\u00e1fica. \"gmOnly\": Apenas o mestre da mesa pode ver esta opera\u00e7\u00e3o gr\u00e1fica. rotation Double Define a rota\u00e7\u00e3o da opera\u00e7\u00e3o gr\u00e1fica em graus. rotCenterX Double Define onde, no eixo X da opera\u00e7\u00e3o gr\u00e1fica, est\u00e1 o piv\u00f4 de rota\u00e7\u00e3o. O valor varia entre 0.0 a 1.0: 0.0 = lado esquerdo do desenho. 0.5 = centro do desenho (Padr\u00e3o) 1.0 = lado direito do desenho. rotCenterY Double Define onde, no eixo Y da opera\u00e7\u00e3o gr\u00e1fica, est\u00e1 o piv\u00f4 de rota\u00e7\u00e3o. O valor varia entre 0.0 a 1.0: 0.0 = parte superior do desenho. 0.5 = centro do desenho (Padr\u00e3o). 1.0 = parte inferior do desenho. drawingTrigger Conjunto: \"hover\" \"selected\" Define gatilhos para esta opera\u00e7\u00e3o ser desenhada. \u00c9 um conjunto, uma tabela contendo um ou mais dos seguintes itens: \"hover\" - Quando o mouse estiver por cima do objeto/token. \"selected\" - Quando o objeto/token estiver selecionado. Exemplos: {} - N\u00e3o h\u00e1 gatilhos, sempre \u00e9 desenhada {\"hover\"} - Quando o mouse estiver por cima do item. {\"hover\", \"selected\"} - Quando o mouse estiver por cima do item ou quando o item estiver selecionado. outOfOrderMode Enumerado: \"noOutOfOrder\" \"afterFogOfWarLayer\" \"beforeOwnerLayer\" \"afterOwnerLayer\" Define se a opera\u00e7\u00e3o gr\u00e1fica possui um comportamento fora da ordem padr\u00e3o. \"noOutOfOrder\" - (Padr\u00e3o) A opera\u00e7\u00e3o n\u00e3o possui comportamento de desenho fora da ordem e \u00e9 desenhado na ordem normal. \"afterFogOfWarLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. \u00c9 desenhada ap\u00f3s a camada de Fog Of War ser desenhada no tabuleiro. \"beforeOwnerLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. Ela \u00e9 desenhada abaixo da camada do item que a possui. \"afterOwnerLayer\" - \"beforeOwnerLayer\" - A opera\u00e7\u00e3o possui comportamento de desenho fora de ordem. Ela \u00e9 desenhada acima da camada do item que a possui. xMetric yMetric widthMetric heightMetric Enumerado: \"screenMetric\" \"worldMetric\" \"canvasMetric\" \"cellMetric\" Altera a medida em que as propriedades \"x\", \"y\", \"width\" e \"height\" foram informadas: \"canvasMetric\" - (Padr\u00e3o) A propriedade est\u00e1 representado em m\u00e9tricas de canvas, onde, por exemplo, 0.5 = metade da largura/altura do token/desenho e 1.0 = largura/altura do token/desenho. \"screenMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de tela . \"worldMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de mundo . \"cellMetric\" - A propriedade est\u00e1 representado em m\u00e9tricas de c\u00e9lulas. (Exemplo, 0.5 = meia c\u00e9lula do grid, 2 = duas c\u00e9lulas do grid) xOrigin yOrigin Double Cont\u00e9m a posi\u00e7\u00e3o de origem no eixo X e no eixo Y de onde as propriedades \"x\" e \"y\" s\u00e3o relativas. Este valor est\u00e1 em uma m\u00e9trica relativa ao SceneCanvas de um item no scene e \u00e9 normalizado entre 0.0 e 1.0, onde 0.0 = canto esquerdo do item, 0.5 = centro do item e 1.0 = canto direito do item. (Item, neste caso, \u00e9 o Token/UserDrawing/EffectArea desta opera\u00e7\u00e3o gr\u00e1fica) Observa\u00e7\u00e3o: Estes valores s\u00e3o \u00fateis apenas quando \u00e9 usado xMetric/yMetric diferente de \"canvasMetric\". Exemplo: x = -1; xMetric = \"cellMetric\"; xOrigin = 0.5; width=2 widthMetric=\"cellMetric\" Faz com que a opera\u00e7\u00e3o gr\u00e1fica tenha largura equivalente a 2 c\u00e9lulas do grid e sua posi\u00e7\u00e3o X seja equivalente ao \"centro X do token menos 1 c\u00e9lula do grid\" (Horizontalmente alinhado)","title":"Propriedades e atributos"},{"location":"ObjetoSceneDrawingOp/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o drawingOp:delete() Remove/Apaga a opera\u00e7\u00e3o gr\u00e1fica do Canvas do Item no Scene.","title":"M\u00e9todos"},{"location":"ObjetoSceneDrawingOp/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoSceneDrawingOp/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneDrawingOp/#exemplo-1-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca","title":"Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene."},{"location":"ObjetoSceneDrawingOp/#exemplo-2-","text":"Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide","title":"Exemplo 2 -"},{"location":"ObjetoSceneDrawingOpBitmap/","text":"Objeto SceneDrawingOpBitmap Objeto SceneDrawingOpBitmap O Objeto SceneDrawingOpBitmap representa uma opera\u00e7\u00e3o gr\u00e1fica de um Bitmap/Imagem em um SceneCanvas . Heran\u00e7a O o bjeto SceneDrawingOpBitmap herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneDrawingOp Objecto SceneBaseObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpBitmap tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opBitmap\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\". url String Cont\u00e9m a URL da imagem/bitmap que ser\u00e1 renderizada. Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. flipHorz Boolean Determina se a imagem deve ser desenhada de forma espelhada horizontalmente. flipVert Boolean Determina se a imagem deve ser desenhada de forma espelhada verticalmente. grayscale Boolean Determina se imagem deve ser desenhada usando um filtro de cores que transforma a imagem em uma imagem de escala cinzenta. colorBlend String de Cor Determina se a imagem deve ser desenhada utilizando um filtro que misturando as cores originais com uma cor definida pela propriedade \"colorBlend\". O valor padr\u00e3o \u00e9 \"#00000000\" e significa n\u00e3o realizar misturar de cores. Exemplo: \"Blue\" far\u00e1 com que a imagem seja desenhada misturada com a cor azul. colorMask String de Cor Determina se a imagem deve ser desenhada utilizando um filtro que seleciona as cores da imagem realizando uma multiplica\u00e7\u00e3o das cores da imagem pela cor definida em \"colorMask\". O valor padr\u00e3o \u00e9 \"#FFFFFFFF\" e significa que todas as coras originais da imagem deve ser desenhadas sem altera\u00e7\u00e3o. Exemplo: \"Blue\" far\u00e1 com que a imagem seja desenhada selecionando apenas os tons azuis pois os componentes da cor azul s\u00e3o R = 0, G = 0 e B = 255, o que transformando em nota\u00e7\u00e3o de ponto flutuante fica R = 0.0, G = 0.0, B = 1.0... Para cada pixel da imagem, o Red ser\u00e1 multiplicado por 0, o Green ser\u00e1 multiplicado por 0 e o Blue ser\u00e1 multiplicado por 1.0. filterEx Enumerado: \"none\" (Padr\u00e3o) \"glow\" \"innerGlow\" \"blur\" \"sepia\" Determina se a imagem deve ser desenhada com mais algum filtro de imagem especial. \"none\" - Nenhum filtro especial. \"glow\" - Um filtro que adiciona uma incandesc\u00eancia \u00e0 imagem. N\u00e3o esque\u00e7a de preencher a propriedade \"filterExColor\" ao utilizar este filtro. \"innerGlow\" - Um filtro que adiciona um brilho interno \u00e0 imagem. N\u00e3o esque\u00e7a de preencher a propriedade \"filterExColor\" ao utilizar este filtro. \"blur\" - Um filtro que aplica um \"borr\u00e3o\" na imagem. \"sepia\" - Um filtro que aplica um tom marrom na imagem. filterExColor String de Cor Alguns filtros permitem escolher uma cor como par\u00e2metro. Se a propriedade filterEx for: \"glow\" - Esta propriedade cont\u00e9m a cor da incandesc\u00eancia que ser\u00e1 criada na imagem. \"innerGlow\" - Esta propriedade cont\u00e9m a cor do brilho interno que ser\u00e1 criado na imagem. A cor padr\u00e3o \u00e9 \"Red\" frame Enumerado: \"none\" (Padr\u00e3o) \"boton\" Determina se a imagem deve ser desenhada com alguma borda. \"none\" - A imagem ser\u00e1 desenhada sem bordas. \"boton\" - A imagem ser\u00e1 desenhada com borda de um b\u00f3ton arredondado. sourceRect Estrutura SceneRect Determina, utilizando uma Estrutura SceneRect , qual por\u00e7\u00e3o da imagem original deve ser desenhada. Os valores de left, top, right e bottom v\u00e3o de 0.0 a 1.0, onde 0.0 = representa o inicio e 1.0 o final do eixo. O valor padr\u00e3o \u00e9: {left=0.0, top=0.0, right=1.0, bottom=1.0} ... isto \u00e9, desenhar todo cont\u00e9udo da imagem original. Exemplo: {left=0.5, top=0, right=1.0, bottom=0.5} - Desenhar apenas o quadrante superior-direita da imagem. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene. require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca Exemplo 2 - Created with the Personal Edition of HelpNDoc: Transform Your Word Document into a Professional eBook with HelpNDoc","title":"Objeto SceneDrawingOpBitmap"},{"location":"ObjetoSceneDrawingOpBitmap/#objeto-scenedrawingopbitmap","text":"","title":"Objeto SceneDrawingOpBitmap"},{"location":"ObjetoSceneDrawingOpBitmap/#objeto-scenedrawingopbitmap_1","text":"O Objeto SceneDrawingOpBitmap representa uma opera\u00e7\u00e3o gr\u00e1fica de um Bitmap/Imagem em um SceneCanvas .","title":"Objeto SceneDrawingOpBitmap"},{"location":"ObjetoSceneDrawingOpBitmap/#heranca","text":"O o bjeto SceneDrawingOpBitmap herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneDrawingOp Objecto SceneBaseObject","title":"Heran\u00e7a"},{"location":"ObjetoSceneDrawingOpBitmap/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpBitmap tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneDrawingOpBitmap/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opBitmap\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\". url String Cont\u00e9m a URL da imagem/bitmap que ser\u00e1 renderizada. Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. flipHorz Boolean Determina se a imagem deve ser desenhada de forma espelhada horizontalmente. flipVert Boolean Determina se a imagem deve ser desenhada de forma espelhada verticalmente. grayscale Boolean Determina se imagem deve ser desenhada usando um filtro de cores que transforma a imagem em uma imagem de escala cinzenta. colorBlend String de Cor Determina se a imagem deve ser desenhada utilizando um filtro que misturando as cores originais com uma cor definida pela propriedade \"colorBlend\". O valor padr\u00e3o \u00e9 \"#00000000\" e significa n\u00e3o realizar misturar de cores. Exemplo: \"Blue\" far\u00e1 com que a imagem seja desenhada misturada com a cor azul. colorMask String de Cor Determina se a imagem deve ser desenhada utilizando um filtro que seleciona as cores da imagem realizando uma multiplica\u00e7\u00e3o das cores da imagem pela cor definida em \"colorMask\". O valor padr\u00e3o \u00e9 \"#FFFFFFFF\" e significa que todas as coras originais da imagem deve ser desenhadas sem altera\u00e7\u00e3o. Exemplo: \"Blue\" far\u00e1 com que a imagem seja desenhada selecionando apenas os tons azuis pois os componentes da cor azul s\u00e3o R = 0, G = 0 e B = 255, o que transformando em nota\u00e7\u00e3o de ponto flutuante fica R = 0.0, G = 0.0, B = 1.0... Para cada pixel da imagem, o Red ser\u00e1 multiplicado por 0, o Green ser\u00e1 multiplicado por 0 e o Blue ser\u00e1 multiplicado por 1.0. filterEx Enumerado: \"none\" (Padr\u00e3o) \"glow\" \"innerGlow\" \"blur\" \"sepia\" Determina se a imagem deve ser desenhada com mais algum filtro de imagem especial. \"none\" - Nenhum filtro especial. \"glow\" - Um filtro que adiciona uma incandesc\u00eancia \u00e0 imagem. N\u00e3o esque\u00e7a de preencher a propriedade \"filterExColor\" ao utilizar este filtro. \"innerGlow\" - Um filtro que adiciona um brilho interno \u00e0 imagem. N\u00e3o esque\u00e7a de preencher a propriedade \"filterExColor\" ao utilizar este filtro. \"blur\" - Um filtro que aplica um \"borr\u00e3o\" na imagem. \"sepia\" - Um filtro que aplica um tom marrom na imagem. filterExColor String de Cor Alguns filtros permitem escolher uma cor como par\u00e2metro. Se a propriedade filterEx for: \"glow\" - Esta propriedade cont\u00e9m a cor da incandesc\u00eancia que ser\u00e1 criada na imagem. \"innerGlow\" - Esta propriedade cont\u00e9m a cor do brilho interno que ser\u00e1 criado na imagem. A cor padr\u00e3o \u00e9 \"Red\" frame Enumerado: \"none\" (Padr\u00e3o) \"boton\" Determina se a imagem deve ser desenhada com alguma borda. \"none\" - A imagem ser\u00e1 desenhada sem bordas. \"boton\" - A imagem ser\u00e1 desenhada com borda de um b\u00f3ton arredondado. sourceRect Estrutura SceneRect Determina, utilizando uma Estrutura SceneRect , qual por\u00e7\u00e3o da imagem original deve ser desenhada. Os valores de left, top, right e bottom v\u00e3o de 0.0 a 1.0, onde 0.0 = representa o inicio e 1.0 o final do eixo. O valor padr\u00e3o \u00e9: {left=0.0, top=0.0, right=1.0, bottom=1.0} ... isto \u00e9, desenhar todo cont\u00e9udo da imagem original. Exemplo: {left=0.5, top=0, right=1.0, bottom=0.5} - Desenhar apenas o quadrante superior-direita da imagem.","title":"Propriedades e atributos"},{"location":"ObjetoSceneDrawingOpBitmap/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o","title":"M\u00e9todos"},{"location":"ObjetoSceneDrawingOpBitmap/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoSceneDrawingOpBitmap/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneDrawingOpBitmap/#exemplo-1-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca","title":"Exemplo 1 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene."},{"location":"ObjetoSceneDrawingOpBitmap/#exemplo-2-","text":"Created with the Personal Edition of HelpNDoc: Transform Your Word Document into a Professional eBook with HelpNDoc","title":"Exemplo 2 -&nbsp;"},{"location":"ObjetoSceneDrawingOpText/","text":"Objeto SceneDrawingOpText Objeto SceneDrawingOpText O Objeto SceneDrawingOpText representa uma opera\u00e7\u00e3o gr\u00e1fica de um texto em um SceneCanvas . Heran\u00e7a O o bjeto SceneDrawingOpText herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneDrawingOp Objecto SceneBaseObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpText tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opText\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\". text String O texto a ser desenhado no canvas. color String de Cor Define a cor do texto. Veja String de cores para obter a completa de cores e outras formas de uso. Valor padr\u00e3o: Black. fontStyle Uma tabela contendo de um ou mais dos seguintes valores: \"bold\" \"italic\" \"underline\" \"strikeout\" Define o estilo que ser\u00e1 aplicado ao texto e pode ser a combina\u00e7\u00e3o de 0 ou mais dos seguintes valores: \"bold\" - Texto negrito \"italic\" - Texto em it\u00e1lico \"underline\" - Texto com underline. \"strikeout\" - Texto tachado. Exemplos: {} - (Valor padr\u00e3o) {\"bold\", \"italic\"} - (negrito e it\u00e1lico) {\"bold\"} - (apenas negrito) horzTextAlign Enumerado: \"leading\" \"center\" \"trailing\" Define como ser\u00e1 o alinhamento horizontal do texto. \"leading\" - Alinhado \u00e0 esquerda \"center\" - Alinhado ao centro \"trailing\" - Alinhado \u00e0 direita Valor padr\u00e3o: \"leading\" vertTextAlign Enumerado: \"leading\" \"center\" \"trailing\" Define como ser\u00e1 o alinhamento vertical do texto. \"leading\" - Alinhado ao topo. \"center\" - Alinhado ao centro \"trailing\" - Alinhado ao fundo. Valor padr\u00e3o: \"center\". aspect Double (Somente Leitura) Retorna o aspecto do conte\u00fado do texto, isto \u00e9, a divis\u00e3o entre a largura do texto por sua altura. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports","title":"Objeto SceneDrawingOpText"},{"location":"ObjetoSceneDrawingOpText/#objeto-scenedrawingoptext","text":"","title":"Objeto SceneDrawingOpText"},{"location":"ObjetoSceneDrawingOpText/#objeto-scenedrawingoptext_1","text":"O Objeto SceneDrawingOpText representa uma opera\u00e7\u00e3o gr\u00e1fica de um texto em um SceneCanvas .","title":"Objeto SceneDrawingOpText"},{"location":"ObjetoSceneDrawingOpText/#heranca","text":"O o bjeto SceneDrawingOpText herda de SceneDrawingOp e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneDrawingOp Objecto SceneBaseObject","title":"Heran\u00e7a"},{"location":"ObjetoSceneDrawingOpText/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpText tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneDrawingOpText/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"opText\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo da opera\u00e7\u00e3o gr\u00e1fica - \"opBitmap\". text String O texto a ser desenhado no canvas. color String de Cor Define a cor do texto. Veja String de cores para obter a completa de cores e outras formas de uso. Valor padr\u00e3o: Black. fontStyle Uma tabela contendo de um ou mais dos seguintes valores: \"bold\" \"italic\" \"underline\" \"strikeout\" Define o estilo que ser\u00e1 aplicado ao texto e pode ser a combina\u00e7\u00e3o de 0 ou mais dos seguintes valores: \"bold\" - Texto negrito \"italic\" - Texto em it\u00e1lico \"underline\" - Texto com underline. \"strikeout\" - Texto tachado. Exemplos: {} - (Valor padr\u00e3o) {\"bold\", \"italic\"} - (negrito e it\u00e1lico) {\"bold\"} - (apenas negrito) horzTextAlign Enumerado: \"leading\" \"center\" \"trailing\" Define como ser\u00e1 o alinhamento horizontal do texto. \"leading\" - Alinhado \u00e0 esquerda \"center\" - Alinhado ao centro \"trailing\" - Alinhado \u00e0 direita Valor padr\u00e3o: \"leading\" vertTextAlign Enumerado: \"leading\" \"center\" \"trailing\" Define como ser\u00e1 o alinhamento vertical do texto. \"leading\" - Alinhado ao topo. \"center\" - Alinhado ao centro \"trailing\" - Alinhado ao fundo. Valor padr\u00e3o: \"center\". aspect Double (Somente Leitura) Retorna o aspecto do conte\u00fado do texto, isto \u00e9, a divis\u00e3o entre a largura do texto por sua altura.","title":"Propriedades e atributos"},{"location":"ObjetoSceneDrawingOpText/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o","title":"M\u00e9todos"},{"location":"ObjetoSceneDrawingOpText/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoSceneDrawingOpText/#exemplos","text":"Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports","title":"Exemplos"},{"location":"ObjetoSceneEffectArea/","text":"Objeto SceneEffectArea \\< A escrever ...> Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface","title":"Objeto SceneEffectArea"},{"location":"ObjetoSceneEffectArea/#objeto-sceneeffectarea","text":"\\< A escrever ...> Created with the Personal Edition of HelpNDoc: Maximize Your Productivity with HelpNDoc's Efficient User Interface","title":"Objeto SceneEffectArea"},{"location":"ObjetoSceneFogOfWar/","text":"Objeto SceneFogOfWar Objeto SceneFogOfWar O Objeto SceneFogOfWar \u00e9 respons\u00e1vel por lidar a n\u00e9voa de guerra do scene. Heran\u00e7a O o bjeto SceneFogOfWar herda de SceneBaseObject e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objecto SceneBaseObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpText tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectType String \"fogOfWar\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto - \"fogOfWar\" enabled Boolean Define se o Fog of War est\u00e1 ativo no tabuleiro. Apenas o mestre pode alterar esta propriedade. ambientLight Enumerado: \"intense\" \"weak\" \"none\" Define qual \u00e9 a ilumina\u00e7\u00e3o ambiente do scene e pode ser: \"intense\" (Padr\u00e3o) - Todo o tabuleiro recebe uma ilumina\u00e7\u00e3o de ambiente Intensa. Exemplo: Ambiente \u00e0 luz do sol. \"weak\" - Todo o tabuleiro recebe uma ilumina\u00e7\u00e3o de ambiente fraca. Exemplo: Luz do luar. \"none\" - O tabuleiro n\u00e3o recebe nenhum tipo de ilumina\u00e7\u00e3o do ambiente. sharingMode Enumerado: \"individual\" \"group\" Define como ocorre o compartilhamento de vis\u00e3o entre os membros do grupo. \"individual\" (Padr\u00e3o) - Cada membro do grupo enxerga apenas o que seus personagens enxergam. \"group\" - Cada membro do grupo enxerga o que todo o grupo enxerga. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o fogOfWar:setArea(polygon, areaType) Configura uma \u00e1rea do tabuleiro para se comportar como um determinado tipo de \u00e1rea de Fog of War. Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y ( em m\u00e9trica de mundo ), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 configurado. areaType - O tipo que esta \u00e1rea se comportar\u00e1 como. Pode ser um dos seguintes valores: \"explorable\" - Uma \u00e1rea \u00e0 explorar \"alwaysVisible\" - Uma \u00e1rea sempre vis\u00edvel aos jogadores \"alwaysHidden\" - Uma \u00e1rea sempre escondida dos jogadores \"semiVisible\" - Uma \u00e1rea parcialmente vis\u00edvel aos jogadores Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas do tabuleiro fogOfWar:resetAreas(); Reseta todas as \u00e1reas definidas no tabuleiro. Isto \u00e9, todo o tabuleiro passar\u00e1 a ser uma \u00e1rea do tipo \"explorable\". Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas do tabuleiro fogOfWar:addOpaqueArea(polygon) Adiciona uma \u00e1rea opaca/parede ao tabuleiro. Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y ( em m\u00e9trica de mundo ), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 configurado. Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro. fogOfWar:removeOpaqueArea(polygon) Remove uma \u00e1rea opaca/parede ao tabuleiro. Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y ( em m\u00e9trica de mundo ), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 removido das \u00e1reas opacas. Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro. fogOfWar:resetOpaqueAreas(); Remove todas as \u00e1reas opacas do tabuleiro. Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro. fogOfWar:testCircleMovementCollisionVsOpaqueAreas(centerX, centerY, r, offsetX, offsetY) Verifica se um determinado c\u00edrculo movendo colide com alguma \u00e1rea opaca/parede do tabuleiro. Par\u00e2metros: centerX - Centro do c\u00edrculo no eixo X ( em m\u00e9trica de mundo ) antes de realizar o movimento centerX - Centro do c\u00edrculo no eixo Y ( em m\u00e9trica de mundo ) antes de realizar o movimento. r - Raio do c\u00edrculo ( em m\u00e9trica de mundo ) offsetX - Define o sentido e comprimento do movimento do c\u00edrculo no eixo X ( em m\u00e9trica de mundo ) ... Exemplo: 1.0 significa que o c\u00edrculo andou 1.0 m\u00e9trica mundo para a direita. offsetX - dirX - Define o sentido e comprimento do movimento do c\u00edrculo no eixo Y ( em m\u00e9trica de mundo ) ... Exemplo: 1.0 significa que o c\u00edrculo andou 1.0 m\u00e9trica mundo para baixo. Retorno: Esta fun\u00e7\u00e3o retorna 3 valores na seguinte ordem: true se o ocorre uma colis\u00e3o durante o movimento ou false Centro do c\u00edrculo no eixo X ( em m\u00e9trica de mundo ) onde ocorreu a colis\u00e3o. Centro do c\u00edrculo no eixo Y ( em m\u00e9trica de mundo ) onde ocorreu a colis\u00e3o. Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures","title":"Objeto SceneFogOfWar"},{"location":"ObjetoSceneFogOfWar/#objeto-scenefogofwar","text":"","title":"Objeto SceneFogOfWar"},{"location":"ObjetoSceneFogOfWar/#objeto-scenefogofwar_1","text":"O Objeto SceneFogOfWar \u00e9 respons\u00e1vel por lidar a n\u00e9voa de guerra do scene.","title":"Objeto SceneFogOfWar"},{"location":"ObjetoSceneFogOfWar/#heranca","text":"O o bjeto SceneFogOfWar herda de SceneBaseObject e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objecto SceneBaseObject","title":"Heran\u00e7a"},{"location":"ObjetoSceneFogOfWar/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneDrawingOpText tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneFogOfWar/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"fogOfWar\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto - \"fogOfWar\" enabled Boolean Define se o Fog of War est\u00e1 ativo no tabuleiro. Apenas o mestre pode alterar esta propriedade. ambientLight Enumerado: \"intense\" \"weak\" \"none\" Define qual \u00e9 a ilumina\u00e7\u00e3o ambiente do scene e pode ser: \"intense\" (Padr\u00e3o) - Todo o tabuleiro recebe uma ilumina\u00e7\u00e3o de ambiente Intensa. Exemplo: Ambiente \u00e0 luz do sol. \"weak\" - Todo o tabuleiro recebe uma ilumina\u00e7\u00e3o de ambiente fraca. Exemplo: Luz do luar. \"none\" - O tabuleiro n\u00e3o recebe nenhum tipo de ilumina\u00e7\u00e3o do ambiente. sharingMode Enumerado: \"individual\" \"group\" Define como ocorre o compartilhamento de vis\u00e3o entre os membros do grupo. \"individual\" (Padr\u00e3o) - Cada membro do grupo enxerga apenas o que seus personagens enxergam. \"group\" - Cada membro do grupo enxerga o que todo o grupo enxerga.","title":"Propriedades e atributos"},{"location":"ObjetoSceneFogOfWar/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o fogOfWar:setArea(polygon, areaType) Configura uma \u00e1rea do tabuleiro para se comportar como um determinado tipo de \u00e1rea de Fog of War. Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y ( em m\u00e9trica de mundo ), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 configurado. areaType - O tipo que esta \u00e1rea se comportar\u00e1 como. Pode ser um dos seguintes valores: \"explorable\" - Uma \u00e1rea \u00e0 explorar \"alwaysVisible\" - Uma \u00e1rea sempre vis\u00edvel aos jogadores \"alwaysHidden\" - Uma \u00e1rea sempre escondida dos jogadores \"semiVisible\" - Uma \u00e1rea parcialmente vis\u00edvel aos jogadores Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas do tabuleiro fogOfWar:resetAreas(); Reseta todas as \u00e1reas definidas no tabuleiro. Isto \u00e9, todo o tabuleiro passar\u00e1 a ser uma \u00e1rea do tipo \"explorable\". Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas do tabuleiro fogOfWar:addOpaqueArea(polygon) Adiciona uma \u00e1rea opaca/parede ao tabuleiro. Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y ( em m\u00e9trica de mundo ), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 configurado. Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro. fogOfWar:removeOpaqueArea(polygon) Remove uma \u00e1rea opaca/parede ao tabuleiro. Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y ( em m\u00e9trica de mundo ), e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. Este \u00e9 o pol\u00edgono que ser\u00e1 removido das \u00e1reas opacas. Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro. fogOfWar:resetOpaqueAreas(); Remove todas as \u00e1reas opacas do tabuleiro. Observa\u00e7\u00f5es: Apenas o mestre pode configurar \u00e1reas opacas do tabuleiro. fogOfWar:testCircleMovementCollisionVsOpaqueAreas(centerX, centerY, r, offsetX, offsetY) Verifica se um determinado c\u00edrculo movendo colide com alguma \u00e1rea opaca/parede do tabuleiro. Par\u00e2metros: centerX - Centro do c\u00edrculo no eixo X ( em m\u00e9trica de mundo ) antes de realizar o movimento centerX - Centro do c\u00edrculo no eixo Y ( em m\u00e9trica de mundo ) antes de realizar o movimento. r - Raio do c\u00edrculo ( em m\u00e9trica de mundo ) offsetX - Define o sentido e comprimento do movimento do c\u00edrculo no eixo X ( em m\u00e9trica de mundo ) ... Exemplo: 1.0 significa que o c\u00edrculo andou 1.0 m\u00e9trica mundo para a direita. offsetX - dirX - Define o sentido e comprimento do movimento do c\u00edrculo no eixo Y ( em m\u00e9trica de mundo ) ... Exemplo: 1.0 significa que o c\u00edrculo andou 1.0 m\u00e9trica mundo para baixo. Retorno: Esta fun\u00e7\u00e3o retorna 3 valores na seguinte ordem: true se o ocorre uma colis\u00e3o durante o movimento ou false Centro do c\u00edrculo no eixo X ( em m\u00e9trica de mundo ) onde ocorreu a colis\u00e3o. Centro do c\u00edrculo no eixo Y ( em m\u00e9trica de mundo ) onde ocorreu a colis\u00e3o.","title":"M\u00e9todos"},{"location":"ObjetoSceneFogOfWar/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoSceneFogOfWar/#exemplos","text":"Created with the Personal Edition of HelpNDoc: Keep Your PDFs Safe from Unauthorized Access with These Security Measures","title":"Exemplos"},{"location":"ObjetoSceneGraphicItem/","text":"Objeto SceneGraphicItem Objeto SceneGraphicItem O Objeto GraphicItem representa um \u00fanico item gr\u00e1fico no Scene, como, por exemplo, um token. Heran\u00e7a O o bjeto SceneGraphicItem herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas. Abstra\u00e7\u00e3o Esta \u00e9 uma classe abstrata e voc\u00ea nunca encontrar\u00e1 um objeto SceneGraphicItem vivo sem ser uma das seguintes classes: Objeto SceneToken Objeto SceneEffectArea Objeto SceneUserDrawing Por ser uma abstra\u00e7\u00e3o, um objeto SceneGraphicItem possui todas as caracter\u00edsticas que s\u00e3o comuns aos objetos listados acima. Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneGraphicItem tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene a qual este item gr\u00e1fico pertence. objectType String: \"token\" \"effectArea\" \"userDrawing\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico e pode conter um dos seguintes valores: \"token\" - este item gr\u00e1fico \u00e9 um Objeto SceneToken \"effectArea\" - este item gr\u00e1fico \u00e9 um Objeto SceneEffectArea \"userDrawing\" - este item gr\u00e1fico \u00e9 um Objeto SceneUserDrawing width Double Contem a LARGURA do item em m\u00e9trica de mundo . height Double Contem a ALTURA do item em m\u00e9trica de mundo . layer Enumerado: \"background\" \"objects\" \"tokens\" Define em qual camada do tabuleiro este item se encontra. x Double Cont\u00e9m, em m\u00e9trica de mundo , a posi\u00e7\u00e3o do item no eixo X. y Double Cont\u00e9m, em m\u00e9trica de mundo , a posi\u00e7\u00e3o do item no eixo Y. z Double Cont\u00e9m um n\u00famero para definir a ordem Z do item, isto \u00e9, a ordem em que o item \u00e9 desenhado na tela. Exemplo: Se A e B forem dois items de uma mesma camada do scene e se A possuir ordem Z equivalente a 5 e B possuir ordem Z equivalente a 10, o item A aparecer\u00e1 abaixo do item B na tela. rotation Double Cont\u00e9m um \u00e2ngulo em graus que define a rota\u00e7\u00e3o do item na interface. visible Boolean Se for true , o item deve ser desenhado para todos. Se for false , o item deve ser desenhado apenas para o mestre. snapToGrid Boolean Define como o item deve se posicionar em rela\u00e7\u00e3o ao grid. Se for true, o item deve se ajeitar para se encaixar na grid do tabuleiro. Se for false, o item n\u00e3o deve tentar ajeitar sua posi\u00e7\u00e3o de forma autom\u00e1tica. locked Boolean Se true, os usu\u00e1rios n\u00e3o conseguir\u00e3o mover o item pelo scene. \u00d3timo para, ap\u00f3s o tabuleiro tiver sido montado pelo mestre, evitar que os usu\u00e1rios movam pe\u00e7as sem querer e desmontarem o scene. selected Boolean Indica se o item est\u00e1 contido na lista de itens selecionados do usu\u00e1rio atual. isHover Boolean Indica se o mouse do usu\u00e1rio est\u00e1 em cima do item. isMine Boolean (Somente Leitura) Cont\u00e9m true se o usu\u00e1rio atual do RRPG puder controlar/for dono do item. ownerUserID String Cont\u00e9m o login do usu\u00e1rio do RRPG que \u00e9 dono deste item. canBeRendered Boolean (Somente Leitura) Cont\u00e9m true se o item pode ser renderizado na tela do usu\u00e1rio. O valor desta propriedade considera o Fog of War do tabuleiro. canvas Objeto SceneCanvas (Somente Leitura) Cont\u00e9m o objeto SceneCanvas do item. Este objeto cont\u00e9m as opera\u00e7\u00f5es gr\u00e1ficas que comp\u00f5e a apar\u00eancia do item; Se for um SceneToken, por exemplo, voc\u00ea encontrar\u00e1 um item dentro de canvas que \u00e9 respons\u00e1vel por desenhar a imagem no tabuleiro. Se for um SceneUserDrawing, dentro de canvas voc\u00ea encontrar\u00e1 as informa\u00e7\u00f5es do desenho que o usu\u00e1rio fez. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o item:getCenter([snapToGrid]) Retorna onde no mundo do tabuleiro fica o centro do item. Par\u00e2metros: (OPCIONAL) snapToGrid - Booleano. Se True, o scene retornar\u00e1 a posi\u00e7\u00e3o mais perto do centro do item que se encaixe na grid. False, o scene n\u00e3o tentar\u00e1 fazer nenhum tipo de arredondamento. Se este par\u00e2metro n\u00e3o for informado, o scene usar\u00e1 o valor da propriedade \"snapToGrid\" do item como par\u00e2metro. Retorno: A fun\u00e7\u00e3o retorna dois n\u00fameros na seguinte ordem: worldX - A posi\u00e7\u00e3o central no eixo X em rela\u00e7\u00e3o ao tabuleiro, em m\u00e9trica de mundo . worldY - A posi\u00e7\u00e3o central no eixo Y em rela\u00e7\u00e3o ao tabuleiro, em m\u00e9trica de mundo . Exemplo: local wX, wY = scene.items[1]:getCenter(); item:setCenter(worldX, worldY[, snapToGrid]) Move o item de forma que seu centro ocupe a posi\u00e7\u00e3o passada como par\u00e2metro. Par\u00e2metros: worldX - Posi\u00e7\u00e3o no eixo X do tabuleiro, em m\u00e9trica de mundo , onde o centro do item deve ficar. worldY - Posi\u00e7\u00e3o no eixo Y do tabuleiro, em m\u00e9trica de mundo , onde o centro do item deve ficar. (OPCIONAL) snapToGrid - Booleano. Caso seja True, o Scene tentar\u00e1 arredondar a posi\u00e7\u00e3o de forma que o item se encaixe no grid do tabuleiro. Se n\u00e3o informado, o scene utiliza o valor da propriedade \"snapToGrid\" do pr\u00f3prio item. item:getBounds() Retorna as informa\u00e7\u00f5es dos limites do item no scene. Esta fun\u00e7\u00e3o retorna 5 valores na seguinte ordem: left - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x\" do item. top - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y\" do item. right - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x + width\" do item. bottom - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y + height\" do item. rotation - Valor num\u00e9rico contendo o valor da propriedade \"rotation\" do item. item:setBounds(left, top, right, bottom[, rotation]) Altera os limites do item no scene. Par\u00e2metros left - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x\" do item. top - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y\" do item. right - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x + width\" do item. bottom - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y + height\" do item. (OPCIONAL) rotation - Valor num\u00e9rico contendo o valor da propriedade \"rotation\" do item. item:getCellsOccupied() Retorna as c\u00e9lulas do grid que o item est\u00e1 ocupando no momento. Par\u00e2metros: N\u00e3o h\u00e1 Retorno: Um array (tabela lua indexada de 1 a #tabela) de tabelas luas, cada uma contendo as propriedades \"i\"e \"j\" das coordenadas Aij de cada c\u00e9lula ocupada pelo item. item:compareZOrder(otherItem) Realiza uma compara\u00e7\u00e3o de ordem Z entre dois graphics itens e retorna a ordem em rela\u00e7\u00e3o aos dois. Par\u00e2metros: otherItem - Outro objeto SceneGraphicItem com o qual deseja comparar Retorno: -1 se item fica abaixo de otherItem 0 se item fica exatamente na mesma ordem z 1 se item fica acima de otherItem item:doSnapToGrid() Ajusta a posi\u00e7\u00e3o atual do item para que fique agarrado ao grid. item:delete() Remove o item do tabuleiro. Eventos Nome do evento Descri\u00e7\u00e3o onBeforeDraw Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 chamado antes do RRPG desenhar o item gr\u00e1fico na tela. onAfterDraw Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 chamado depois do RRPG desenhar o item gr\u00e1fico na tela. onBoundsChange Evento que \u00e9 chamado quando os limites do item for alterado (posi\u00e7\u00e3o, largura, altura, rota\u00e7\u00e3o, etc..) Par\u00e2metros: item - objeto SceneGraphicItem que sofreu a altera\u00e7\u00e3o nos limites. Exemplos Exemplo 1 - Um plugin que movimenta de forma simples os itens do Scene com o mouse require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Vari\u00e1veis para armazenar informa\u00e7\u00f5es sobre o \"arrastar\" dos itens local objMouseDown = nil; -- Qual objeto est\u00e1 sendo arrastado local selecaoX, selecaoY; -- Em que ponto do item o usu\u00e1rio clicou (em rela\u00e7\u00e3o ao centro do item) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse * scene.viewport.onMouseDown = function (event) -- Converter para m\u00e9trica de mundo a posi\u00e7\u00e3o do clique local wx, wy = scene.viewport:screenToWorld(event.x, event.y); -- Descobrir qual item se encontra neste ponto objMouseDown = scene.items:itemAtPoint(wx, wy); if objMouseDown ~= nil then -- Existe um item nesta posi\u00e7\u00e3o. * -- Vamos obter onde fica a posi\u00e7\u00e3o central deste item local centerX, centerY = objMouseDown:getCenter(); if objMouseDown.snapToGrid then -- Movimento \"agarrado\" ao grid * -- Vamos pegar a posi\u00e7\u00e3o do mundo e arredondar para o centro -- de uma c\u00e9lula mais pr\u00f3xima local cellI, cellJ = scene.grid:worldToCell(wx, wy); wx, wy = scene.grid:cellToWorld(cellI, cellJ); end ; -- calcular onde no item o usu\u00e1rio clicou, em rela\u00e7\u00e3o ao seu centro. selecaoX = wx - centerX; selecaoY = wy - centerY; end ; end ; -- Manipular o evento onMouseMove para arrastar o item scene.viewport.onMouseMove = function (event) if objMouseDown ~= nil then -- Mouse moveu e existe um item selecionado -- Converter a posi\u00e7\u00e3o clicada para m\u00e9trica de mundo local wx, wy = scene.viewport:screenToWorld(event.x, event.y); if objMouseDown.snapToGrid then -- Movimento agarrado ao grid -- Arredondar a posi\u00e7\u00e3o do mouse para o centro de uma c\u00e9lula mais -- pr\u00f3xima. local newCellI, newCellJ = scene.grid:worldToCell(wx, wy); wx, wy = scene.grid:cellToWorld(newCellI, newCellJ); end ; -- Calcular o novo centro do item local centerX, centerY = objMouseDown:getCenter(); centerX = wx - selecaoX; centerY = wy - selecaoY; -- Setar o novo centro do item. objMouseDown:setCenter(centerX, centerY); end ; end ; -- Manipular o evento onMouseUp para parar de arrastar o item scene.viewport.onMouseUp = function (event) -- Mouse liberou o click, vamos -- sinalizar para o onMouseMove que n\u00e3o estamos mais arrastando -- ninguem objMouseDown = nil; end ; end *); Exemplo 2 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene. require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca Created with the Personal Edition of HelpNDoc: Protect Your Confidential PDFs with These Simple Security Measures","title":"Objeto SceneGraphicItem"},{"location":"ObjetoSceneGraphicItem/#objeto-scenegraphicitem","text":"","title":"Objeto SceneGraphicItem"},{"location":"ObjetoSceneGraphicItem/#objeto-scenegraphicitem_1","text":"O Objeto GraphicItem representa um \u00fanico item gr\u00e1fico no Scene, como, por exemplo, um token.","title":"Objeto SceneGraphicItem"},{"location":"ObjetoSceneGraphicItem/#heranca","text":"O o bjeto SceneGraphicItem herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.","title":"Heran\u00e7a"},{"location":"ObjetoSceneGraphicItem/#abstracao","text":"Esta \u00e9 uma classe abstrata e voc\u00ea nunca encontrar\u00e1 um objeto SceneGraphicItem vivo sem ser uma das seguintes classes: Objeto SceneToken Objeto SceneEffectArea Objeto SceneUserDrawing Por ser uma abstra\u00e7\u00e3o, um objeto SceneGraphicItem possui todas as caracter\u00edsticas que s\u00e3o comuns aos objetos listados acima.","title":"Abstra\u00e7\u00e3o"},{"location":"ObjetoSceneGraphicItem/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneGraphicItem tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneGraphicItem/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene a qual este item gr\u00e1fico pertence. objectType String: \"token\" \"effectArea\" \"userDrawing\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico e pode conter um dos seguintes valores: \"token\" - este item gr\u00e1fico \u00e9 um Objeto SceneToken \"effectArea\" - este item gr\u00e1fico \u00e9 um Objeto SceneEffectArea \"userDrawing\" - este item gr\u00e1fico \u00e9 um Objeto SceneUserDrawing width Double Contem a LARGURA do item em m\u00e9trica de mundo . height Double Contem a ALTURA do item em m\u00e9trica de mundo . layer Enumerado: \"background\" \"objects\" \"tokens\" Define em qual camada do tabuleiro este item se encontra. x Double Cont\u00e9m, em m\u00e9trica de mundo , a posi\u00e7\u00e3o do item no eixo X. y Double Cont\u00e9m, em m\u00e9trica de mundo , a posi\u00e7\u00e3o do item no eixo Y. z Double Cont\u00e9m um n\u00famero para definir a ordem Z do item, isto \u00e9, a ordem em que o item \u00e9 desenhado na tela. Exemplo: Se A e B forem dois items de uma mesma camada do scene e se A possuir ordem Z equivalente a 5 e B possuir ordem Z equivalente a 10, o item A aparecer\u00e1 abaixo do item B na tela. rotation Double Cont\u00e9m um \u00e2ngulo em graus que define a rota\u00e7\u00e3o do item na interface. visible Boolean Se for true , o item deve ser desenhado para todos. Se for false , o item deve ser desenhado apenas para o mestre. snapToGrid Boolean Define como o item deve se posicionar em rela\u00e7\u00e3o ao grid. Se for true, o item deve se ajeitar para se encaixar na grid do tabuleiro. Se for false, o item n\u00e3o deve tentar ajeitar sua posi\u00e7\u00e3o de forma autom\u00e1tica. locked Boolean Se true, os usu\u00e1rios n\u00e3o conseguir\u00e3o mover o item pelo scene. \u00d3timo para, ap\u00f3s o tabuleiro tiver sido montado pelo mestre, evitar que os usu\u00e1rios movam pe\u00e7as sem querer e desmontarem o scene. selected Boolean Indica se o item est\u00e1 contido na lista de itens selecionados do usu\u00e1rio atual. isHover Boolean Indica se o mouse do usu\u00e1rio est\u00e1 em cima do item. isMine Boolean (Somente Leitura) Cont\u00e9m true se o usu\u00e1rio atual do RRPG puder controlar/for dono do item. ownerUserID String Cont\u00e9m o login do usu\u00e1rio do RRPG que \u00e9 dono deste item. canBeRendered Boolean (Somente Leitura) Cont\u00e9m true se o item pode ser renderizado na tela do usu\u00e1rio. O valor desta propriedade considera o Fog of War do tabuleiro. canvas Objeto SceneCanvas (Somente Leitura) Cont\u00e9m o objeto SceneCanvas do item. Este objeto cont\u00e9m as opera\u00e7\u00f5es gr\u00e1ficas que comp\u00f5e a apar\u00eancia do item; Se for um SceneToken, por exemplo, voc\u00ea encontrar\u00e1 um item dentro de canvas que \u00e9 respons\u00e1vel por desenhar a imagem no tabuleiro. Se for um SceneUserDrawing, dentro de canvas voc\u00ea encontrar\u00e1 as informa\u00e7\u00f5es do desenho que o usu\u00e1rio fez.","title":"Propriedades e atributos"},{"location":"ObjetoSceneGraphicItem/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o item:getCenter([snapToGrid]) Retorna onde no mundo do tabuleiro fica o centro do item. Par\u00e2metros: (OPCIONAL) snapToGrid - Booleano. Se True, o scene retornar\u00e1 a posi\u00e7\u00e3o mais perto do centro do item que se encaixe na grid. False, o scene n\u00e3o tentar\u00e1 fazer nenhum tipo de arredondamento. Se este par\u00e2metro n\u00e3o for informado, o scene usar\u00e1 o valor da propriedade \"snapToGrid\" do item como par\u00e2metro. Retorno: A fun\u00e7\u00e3o retorna dois n\u00fameros na seguinte ordem: worldX - A posi\u00e7\u00e3o central no eixo X em rela\u00e7\u00e3o ao tabuleiro, em m\u00e9trica de mundo . worldY - A posi\u00e7\u00e3o central no eixo Y em rela\u00e7\u00e3o ao tabuleiro, em m\u00e9trica de mundo . Exemplo: local wX, wY = scene.items[1]:getCenter(); item:setCenter(worldX, worldY[, snapToGrid]) Move o item de forma que seu centro ocupe a posi\u00e7\u00e3o passada como par\u00e2metro. Par\u00e2metros: worldX - Posi\u00e7\u00e3o no eixo X do tabuleiro, em m\u00e9trica de mundo , onde o centro do item deve ficar. worldY - Posi\u00e7\u00e3o no eixo Y do tabuleiro, em m\u00e9trica de mundo , onde o centro do item deve ficar. (OPCIONAL) snapToGrid - Booleano. Caso seja True, o Scene tentar\u00e1 arredondar a posi\u00e7\u00e3o de forma que o item se encaixe no grid do tabuleiro. Se n\u00e3o informado, o scene utiliza o valor da propriedade \"snapToGrid\" do pr\u00f3prio item. item:getBounds() Retorna as informa\u00e7\u00f5es dos limites do item no scene. Esta fun\u00e7\u00e3o retorna 5 valores na seguinte ordem: left - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x\" do item. top - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y\" do item. right - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x + width\" do item. bottom - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y + height\" do item. rotation - Valor num\u00e9rico contendo o valor da propriedade \"rotation\" do item. item:setBounds(left, top, right, bottom[, rotation]) Altera os limites do item no scene. Par\u00e2metros left - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x\" do item. top - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y\" do item. right - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"x + width\" do item. bottom - Valor num\u00e9rico em m\u00e9trica de mundo contendo o valor da propriedade \"y + height\" do item. (OPCIONAL) rotation - Valor num\u00e9rico contendo o valor da propriedade \"rotation\" do item. item:getCellsOccupied() Retorna as c\u00e9lulas do grid que o item est\u00e1 ocupando no momento. Par\u00e2metros: N\u00e3o h\u00e1 Retorno: Um array (tabela lua indexada de 1 a #tabela) de tabelas luas, cada uma contendo as propriedades \"i\"e \"j\" das coordenadas Aij de cada c\u00e9lula ocupada pelo item. item:compareZOrder(otherItem) Realiza uma compara\u00e7\u00e3o de ordem Z entre dois graphics itens e retorna a ordem em rela\u00e7\u00e3o aos dois. Par\u00e2metros: otherItem - Outro objeto SceneGraphicItem com o qual deseja comparar Retorno: -1 se item fica abaixo de otherItem 0 se item fica exatamente na mesma ordem z 1 se item fica acima de otherItem item:doSnapToGrid() Ajusta a posi\u00e7\u00e3o atual do item para que fique agarrado ao grid. item:delete() Remove o item do tabuleiro.","title":"M\u00e9todos"},{"location":"ObjetoSceneGraphicItem/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onBeforeDraw Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 chamado antes do RRPG desenhar o item gr\u00e1fico na tela. onAfterDraw Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 chamado depois do RRPG desenhar o item gr\u00e1fico na tela. onBoundsChange Evento que \u00e9 chamado quando os limites do item for alterado (posi\u00e7\u00e3o, largura, altura, rota\u00e7\u00e3o, etc..) Par\u00e2metros: item - objeto SceneGraphicItem que sofreu a altera\u00e7\u00e3o nos limites.","title":"Eventos"},{"location":"ObjetoSceneGraphicItem/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneGraphicItem/#exemplo-1-um-plugin-que-movimenta-de-forma-simples-os-itens-do-scene-com-o-mouse","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Vari\u00e1veis para armazenar informa\u00e7\u00f5es sobre o \"arrastar\" dos itens local objMouseDown = nil; -- Qual objeto est\u00e1 sendo arrastado local selecaoX, selecaoY; -- Em que ponto do item o usu\u00e1rio clicou (em rela\u00e7\u00e3o ao centro do item) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse * scene.viewport.onMouseDown = function (event) -- Converter para m\u00e9trica de mundo a posi\u00e7\u00e3o do clique local wx, wy = scene.viewport:screenToWorld(event.x, event.y); -- Descobrir qual item se encontra neste ponto objMouseDown = scene.items:itemAtPoint(wx, wy); if objMouseDown ~= nil then -- Existe um item nesta posi\u00e7\u00e3o. * -- Vamos obter onde fica a posi\u00e7\u00e3o central deste item local centerX, centerY = objMouseDown:getCenter(); if objMouseDown.snapToGrid then -- Movimento \"agarrado\" ao grid * -- Vamos pegar a posi\u00e7\u00e3o do mundo e arredondar para o centro -- de uma c\u00e9lula mais pr\u00f3xima local cellI, cellJ = scene.grid:worldToCell(wx, wy); wx, wy = scene.grid:cellToWorld(cellI, cellJ); end ; -- calcular onde no item o usu\u00e1rio clicou, em rela\u00e7\u00e3o ao seu centro. selecaoX = wx - centerX; selecaoY = wy - centerY; end ; end ; -- Manipular o evento onMouseMove para arrastar o item scene.viewport.onMouseMove = function (event) if objMouseDown ~= nil then -- Mouse moveu e existe um item selecionado -- Converter a posi\u00e7\u00e3o clicada para m\u00e9trica de mundo local wx, wy = scene.viewport:screenToWorld(event.x, event.y); if objMouseDown.snapToGrid then -- Movimento agarrado ao grid -- Arredondar a posi\u00e7\u00e3o do mouse para o centro de uma c\u00e9lula mais -- pr\u00f3xima. local newCellI, newCellJ = scene.grid:worldToCell(wx, wy); wx, wy = scene.grid:cellToWorld(newCellI, newCellJ); end ; -- Calcular o novo centro do item local centerX, centerY = objMouseDown:getCenter(); centerX = wx - selecaoX; centerY = wy - selecaoY; -- Setar o novo centro do item. objMouseDown:setCenter(centerX, centerY); end ; end ; -- Manipular o evento onMouseUp para parar de arrastar o item scene.viewport.onMouseUp = function (event) -- Mouse liberou o click, vamos -- sinalizar para o onMouseMove que n\u00e3o estamos mais arrastando -- ninguem objMouseDown = nil; end ; end *);","title":"Exemplo 1 - Um plugin que movimenta de forma simples os itens do Scene com o mouse"},{"location":"ObjetoSceneGraphicItem/#exemplo-2-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca Created with the Personal Edition of HelpNDoc: Protect Your Confidential PDFs with These Simple Security Measures","title":"Exemplo 2 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene."},{"location":"ObjetoSceneGraphicItemList/","text":"Objeto SceneGraphicItemList Objeto SceneGraphicItemList O Objeto SceneGraphicItem \u00e9 um objeto que cont\u00e9m a cole\u00e7\u00e3o de todos os itens gr\u00e1ficos/visuais do tabuleiro, como os tokens. O SceneGraphicItemList de um scene pode ser obtido atrav\u00e9s da propriedade \" items \" do objeto Scene Heran\u00e7a O o bjeto SceneGraphicItemList herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas. Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneGraphicItemList tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o operador # Integer (Somente Leitura) Contem a quantidade de itens gr\u00e1ficos que existem no scene. Exemplo: local qtDeItens = #scene.items; operador [] Objeto SceneGraphicItem (Somente Leitura) Contem um objeto SceneGraphicItem representando um item gr\u00e1fico do scene, como um token. O valor passado dentro do colchete deve ser um n\u00famero entre 1 a \"count\". Exemplo de uso: local item1 = scene.items[1]; -- Primeiro item local item2 = scene.items[2]; -- Percorrendo todos os itens gr\u00e1ficos do scene for i = 1, #scene.items, 1 do local umItem = scene.items[i]; end; count Integer (Somente Leitura), equivale ao operador #. Contem a quantidade de itens gr\u00e1ficos que existem no scene. selection Array de SceneGraphicItem (Somente Leitura) Retorna um array (uma tabela lua indexada de 1 a #array) contendo os itens do scene que est\u00e3o selecionados no momento. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o list:get(index) Equivalente ao operador [], retorna um SceneGraphicItem representando um item gr\u00e1fico do scene, como um token. Par\u00e2metros: index - um n\u00famero inteiro entre 1 e \"count\" Retorno: Um objeto SceneGraphicItem . list:enumAtPoint(worldX, worldY [, layer]) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo , retorna todos os SceneGraphicItem do scene que podem ser encontrados neste ponto (isto \u00e9, se o ponto for uma posi\u00e7\u00e3o dentro do item). Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo que contem a coordenada X da ponto. worldY - N\u00famero em m\u00e9trica de mundo que contem a coordenada Y do ponto. (OPCIONAL) layer - String contendo uma camada . Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o enumeradas por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto ser\u00e3o retornados, independente de qual camada pertencer. Retorno: Um array (tabela lua com \u00edndices de 1 a #tabela) de objetos SceneGraphicItem . Caso nenhum item seja encontrado na posi\u00e7\u00e3o informada, o array vem vazio. Observa\u00e7\u00e3o: O array retornado pela fun\u00e7\u00e3o vem ordenado pela posi\u00e7\u00e3o Z dos itens quando h\u00e1 sobreposi\u00e7\u00e3o. Isto \u00e9, quando um item ocupa o mesmo espa\u00e7o que outro item ocupa, a fun\u00e7\u00e3o garante que o item que \u00e9 desenhado mais abaixo apare\u00e7a antes no array retornado do que o item que \u00e9 desenhado acima dele.Se um item achado n\u00e3o sobrepor nenhum outro item, sua ordem no array retornado \u00e9 indefinida (Ordena\u00e7\u00e3o Z apenas dos itens em sobreposi\u00e7\u00e3o). list:enumInRect(rect [, layer]) Dado um ret\u00e2ngulo em m\u00e9trica de mundo , retorna todos os SceneGraphicItem do scene que sobrep\u00f5e ao ret\u00e2ngulo (que coincidem, justap\u00f5e, que intercedem, etc..) Par\u00e2metros: rect - Um ret\u00e2ngulo em estrutura SceneRect com valores em m\u00e9trica de mundo . (OPCIONAL) layer - String contendo uma camada . Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o enumeradas por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto ser\u00e3o retornados, independente de qual camada pertencerem. Retorno: Um array (tabela lua com \u00edndices de 1 a #tabela) de objetos SceneGraphicItem . Caso nenhum item seja encontrado no ret\u00e2ngulo informado, o array vem vazio. Observa\u00e7\u00e3o: O array retornado pela fun\u00e7\u00e3o vem ordenado pela posi\u00e7\u00e3o Z dos itens quando h\u00e1 sobreposi\u00e7\u00e3o. Isto \u00e9, quando um item ocupa o mesmo espa\u00e7o que outro item ocupa, a fun\u00e7\u00e3o garante que o item que \u00e9 desenhado mais abaixo apare\u00e7a antes no array retornado do que o item que \u00e9 desenhado acima dele.Se um item achado n\u00e3o sobrepor nenhum outro item, sua ordem no array retornado \u00e9 indefinida (Ordena\u00e7\u00e3o Z apenas dos itens em sobreposi\u00e7\u00e3o). list:itemAtPoint(worldX, worldY [, layer]) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo , retorna um SceneGraphicItem do scene que se encontra neste ponto. Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo que contem a coordenada X da ponto. worldY - N\u00famero em m\u00e9trica de mundo que contem a coordenada Y do ponto. (OPCIONAL) layer - String contendo uma camada . Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o retornados por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto poder\u00e3o ser retornados, independente de qual camada pertencerem. Retorno: Se houver algum item na posi\u00e7\u00e3o informada, retorna um SceneGraphicItem, aquele mais acima na ordem Z, isto \u00e9, o que \u00e9 desenhado acima dos outros. Se n\u00e3o houver item na posi\u00e7\u00e3o informada, retorna nil . list:clearSelection() Deseleciona todos os itens que estavam na lista de sele\u00e7\u00e3o do usu\u00e1rio. list:addToken([layer]) Adiciona um novo Token ao tabuleiro. Par\u00e2metros: (OPCIONAL) layer - Define em qual camada o novo token deve aparecer. Pode conter \"background\", \"objects\" ou \"tokens\". Retorno: Objeto SceneToken representando o novo token. list:addUserDrawing([layer]) Adiciona um novo UserDrawing ao tabuleiro. Par\u00e2metros: (OPCIONAL) layer - Define em qual camada o novo user drawing deve aparecer. Pode conter \"background\", \"objects\" ou \"tokens\". Retorno: Objeto SceneUserDrawing representando o novo desenho de usu\u00e1rio. Eventos Nome do evento Descri\u00e7\u00e3o onItemAdded Evento invocado quando um item for adicionado ao scene, seja porque acabou de ser criado ou porque estava invis\u00edvel e se tornou vis\u00edvel agora. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi adicionado. onItemRemoved Evento invocado quando um item for removido do scene, seja porque foi destru\u00eddo ou porque se tornou invis\u00edvel. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi removido. onItemSelected Evento invocado quando um item for adicionado \u00e0 sele\u00e7\u00e3o de itens do usu\u00e1rio. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi selecionado. onItemDeselected Evento invocado quando um item for removido da sele\u00e7\u00e3o de itens do usu\u00e1rio. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi removido da sele\u00e7\u00e3o. onItemLayerChange Evento invocado quando a camada de um item for alterada. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que teve a propriedade \"layer\" alterada. Exemplos Exemplo 1 - Um plugin que descobre em qual item do scene o usu\u00e1rio clicou require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse * scene.viewport.onMouseUp = function (event) -- Converter para m\u00e9trica de mundo a posi\u00e7\u00e3o do clique local wx, wy = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o objeto mais acima da posi\u00e7\u00e3o clicada local o = scene.items:itemAtPoint(wx, wy); -- Exibir uma mensagem if o ~= nil then showMessage(\"Clique em um objeto\"); else showMessage(\"Clique em nada\"); end ; end ; end *); Created with the Personal Edition of HelpNDoc: Create Professional CHM Help Files with HelpNDoc's Easy-to-Use Tool","title":"Objeto SceneGraphicItemList"},{"location":"ObjetoSceneGraphicItemList/#objeto-scenegraphicitemlist","text":"","title":"Objeto SceneGraphicItemList"},{"location":"ObjetoSceneGraphicItemList/#objeto-scenegraphicitemlist_1","text":"O Objeto SceneGraphicItem \u00e9 um objeto que cont\u00e9m a cole\u00e7\u00e3o de todos os itens gr\u00e1ficos/visuais do tabuleiro, como os tokens. O SceneGraphicItemList de um scene pode ser obtido atrav\u00e9s da propriedade \" items \" do objeto Scene","title":"Objeto SceneGraphicItemList"},{"location":"ObjetoSceneGraphicItemList/#heranca","text":"O o bjeto SceneGraphicItemList herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.","title":"Heran\u00e7a"},{"location":"ObjetoSceneGraphicItemList/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneGraphicItemList tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneGraphicItemList/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o operador # Integer (Somente Leitura) Contem a quantidade de itens gr\u00e1ficos que existem no scene. Exemplo: local qtDeItens = #scene.items; operador [] Objeto SceneGraphicItem (Somente Leitura) Contem um objeto SceneGraphicItem representando um item gr\u00e1fico do scene, como um token. O valor passado dentro do colchete deve ser um n\u00famero entre 1 a \"count\". Exemplo de uso: local item1 = scene.items[1]; -- Primeiro item local item2 = scene.items[2]; -- Percorrendo todos os itens gr\u00e1ficos do scene for i = 1, #scene.items, 1 do local umItem = scene.items[i]; end; count Integer (Somente Leitura), equivale ao operador #. Contem a quantidade de itens gr\u00e1ficos que existem no scene. selection Array de SceneGraphicItem (Somente Leitura) Retorna um array (uma tabela lua indexada de 1 a #array) contendo os itens do scene que est\u00e3o selecionados no momento.","title":"Propriedades e atributos"},{"location":"ObjetoSceneGraphicItemList/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o list:get(index) Equivalente ao operador [], retorna um SceneGraphicItem representando um item gr\u00e1fico do scene, como um token. Par\u00e2metros: index - um n\u00famero inteiro entre 1 e \"count\" Retorno: Um objeto SceneGraphicItem . list:enumAtPoint(worldX, worldY [, layer]) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo , retorna todos os SceneGraphicItem do scene que podem ser encontrados neste ponto (isto \u00e9, se o ponto for uma posi\u00e7\u00e3o dentro do item). Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo que contem a coordenada X da ponto. worldY - N\u00famero em m\u00e9trica de mundo que contem a coordenada Y do ponto. (OPCIONAL) layer - String contendo uma camada . Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o enumeradas por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto ser\u00e3o retornados, independente de qual camada pertencer. Retorno: Um array (tabela lua com \u00edndices de 1 a #tabela) de objetos SceneGraphicItem . Caso nenhum item seja encontrado na posi\u00e7\u00e3o informada, o array vem vazio. Observa\u00e7\u00e3o: O array retornado pela fun\u00e7\u00e3o vem ordenado pela posi\u00e7\u00e3o Z dos itens quando h\u00e1 sobreposi\u00e7\u00e3o. Isto \u00e9, quando um item ocupa o mesmo espa\u00e7o que outro item ocupa, a fun\u00e7\u00e3o garante que o item que \u00e9 desenhado mais abaixo apare\u00e7a antes no array retornado do que o item que \u00e9 desenhado acima dele.Se um item achado n\u00e3o sobrepor nenhum outro item, sua ordem no array retornado \u00e9 indefinida (Ordena\u00e7\u00e3o Z apenas dos itens em sobreposi\u00e7\u00e3o). list:enumInRect(rect [, layer]) Dado um ret\u00e2ngulo em m\u00e9trica de mundo , retorna todos os SceneGraphicItem do scene que sobrep\u00f5e ao ret\u00e2ngulo (que coincidem, justap\u00f5e, que intercedem, etc..) Par\u00e2metros: rect - Um ret\u00e2ngulo em estrutura SceneRect com valores em m\u00e9trica de mundo . (OPCIONAL) layer - String contendo uma camada . Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o enumeradas por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto ser\u00e3o retornados, independente de qual camada pertencerem. Retorno: Um array (tabela lua com \u00edndices de 1 a #tabela) de objetos SceneGraphicItem . Caso nenhum item seja encontrado no ret\u00e2ngulo informado, o array vem vazio. Observa\u00e7\u00e3o: O array retornado pela fun\u00e7\u00e3o vem ordenado pela posi\u00e7\u00e3o Z dos itens quando h\u00e1 sobreposi\u00e7\u00e3o. Isto \u00e9, quando um item ocupa o mesmo espa\u00e7o que outro item ocupa, a fun\u00e7\u00e3o garante que o item que \u00e9 desenhado mais abaixo apare\u00e7a antes no array retornado do que o item que \u00e9 desenhado acima dele.Se um item achado n\u00e3o sobrepor nenhum outro item, sua ordem no array retornado \u00e9 indefinida (Ordena\u00e7\u00e3o Z apenas dos itens em sobreposi\u00e7\u00e3o). list:itemAtPoint(worldX, worldY [, layer]) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo , retorna um SceneGraphicItem do scene que se encontra neste ponto. Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo que contem a coordenada X da ponto. worldY - N\u00famero em m\u00e9trica de mundo que contem a coordenada Y do ponto. (OPCIONAL) layer - String contendo uma camada . Se este par\u00e2metro for informado, apenas itens que estiverem na camada informada ser\u00e3o retornados por esta fun\u00e7\u00e3o. Se este par\u00e2metro n\u00e3o informado, todos os itens no ponto poder\u00e3o ser retornados, independente de qual camada pertencerem. Retorno: Se houver algum item na posi\u00e7\u00e3o informada, retorna um SceneGraphicItem, aquele mais acima na ordem Z, isto \u00e9, o que \u00e9 desenhado acima dos outros. Se n\u00e3o houver item na posi\u00e7\u00e3o informada, retorna nil . list:clearSelection() Deseleciona todos os itens que estavam na lista de sele\u00e7\u00e3o do usu\u00e1rio. list:addToken([layer]) Adiciona um novo Token ao tabuleiro. Par\u00e2metros: (OPCIONAL) layer - Define em qual camada o novo token deve aparecer. Pode conter \"background\", \"objects\" ou \"tokens\". Retorno: Objeto SceneToken representando o novo token. list:addUserDrawing([layer]) Adiciona um novo UserDrawing ao tabuleiro. Par\u00e2metros: (OPCIONAL) layer - Define em qual camada o novo user drawing deve aparecer. Pode conter \"background\", \"objects\" ou \"tokens\". Retorno: Objeto SceneUserDrawing representando o novo desenho de usu\u00e1rio.","title":"M\u00e9todos"},{"location":"ObjetoSceneGraphicItemList/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onItemAdded Evento invocado quando um item for adicionado ao scene, seja porque acabou de ser criado ou porque estava invis\u00edvel e se tornou vis\u00edvel agora. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi adicionado. onItemRemoved Evento invocado quando um item for removido do scene, seja porque foi destru\u00eddo ou porque se tornou invis\u00edvel. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi removido. onItemSelected Evento invocado quando um item for adicionado \u00e0 sele\u00e7\u00e3o de itens do usu\u00e1rio. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi selecionado. onItemDeselected Evento invocado quando um item for removido da sele\u00e7\u00e3o de itens do usu\u00e1rio. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que foi removido da sele\u00e7\u00e3o. onItemLayerChange Evento invocado quando a camada de um item for alterada. Par\u00e2metros: Item - Um objeto SceneGraphicItem representando o item que teve a propriedade \"layer\" alterada.","title":"Eventos"},{"location":"ObjetoSceneGraphicItemList/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneGraphicItemList/#exemplo-1-um-plugin-que-descobre-em-qual-item-do-scene-o-usuario-clicou","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse * scene.viewport.onMouseUp = function (event) -- Converter para m\u00e9trica de mundo a posi\u00e7\u00e3o do clique local wx, wy = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o objeto mais acima da posi\u00e7\u00e3o clicada local o = scene.items:itemAtPoint(wx, wy); -- Exibir uma mensagem if o ~= nil then showMessage(\"Clique em um objeto\"); else showMessage(\"Clique em nada\"); end ; end ; end *); Created with the Personal Edition of HelpNDoc: Create Professional CHM Help Files with HelpNDoc's Easy-to-Use Tool","title":"Exemplo 1 - Um plugin que descobre em qual item do scene o usu\u00e1rio clicou"},{"location":"ObjetoSceneGridLayer/","text":"Objeto SceneGridLayer Objeto SceneGridLayer O Objeto SceneGridLayer representa o grid do tabuleiro de combate e possui informa\u00e7\u00f5es e utilit\u00e1rios a respeito do mesmo. O SceneGridLayer de um scene pode ser obtido atrav\u00e9s da propriedade \" grid \" do objeto Scene Heran\u00e7a O o bjeto SceneGridLayer herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas. Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene a qual este SceneGridLayer pertence. gridType Enumerado: \"square\" \"vertHex\" \"horzHex\" Define o tipo de grid que o tabuleiro de combate utiliza. \"square\": Grid com c\u00e9lulas quadradas \"vertHex\": Grid com c\u00e9lulas hexagonais organizadas verticalmente. \"horzHex\": Grid com c\u00e9lulas hexagonais organizadas horizontalmente. squareDiagonals Enumerado: \"simplified\" \"manhattan\" \"alternated\" \"euclidean\" Quando gridType for \"square\", esta propriedade define como as diagonais do grid quadriculado devem se comportar e pode ser um dos seguintes valores: \"simplified\" - (Valor padr\u00e3o) Movimento pelas diagonais simplificado. Andar pelas diagonais possui o mesmo \"custo\" que andar pelas laterais. \"manhattan\" - O movimento pelas diagonais custam 2x o custo de andar pelas laterais. \"alternated\" - O primeiro movimento diagonal custa 1x, o segundo custa 2x, o terceiro custa 1x, o quarto 2x, e assim por diante. \"euclidean\" - O custo de andar pelas diagonais \u00e9 igual \u00e0 dist\u00e2ncia real. offsetX Double Define o deslocamento em m\u00e9trica de mundo que a primeira c\u00e9lula do grid (i:0, j:0) deve receber no eixo X. Em outras palavras, offsetX e offsetY s\u00e3o usadas para ajuste fino para posicionar corretamente o grid no tabuleiro. O RRPG faz um \"WrapAround\" no offset: Se voc\u00ea especificar um OffsetX que equivalha a 3,3 c\u00e9lulas por exemplo, o RRPG far\u00e1 um deslocamento de apenas 0,3 c\u00e9lulas, pois deslocar 3,3 ou deslocar 0,3 c\u00e9lulas produz o mesmo resultado visual. offsetY Double Define o deslocamento em m\u00e9trica de mundo que a primeira c\u00e9lula do grid (i:0, j:0) deve receber no eixo Y. Em outras palavras, offsetX e offsetY s\u00e3o usadas para ajuste fino para posicionar corretamente o grid no tabuleiro. O RRPG faz um \"WrapAround\" no offset: Se voc\u00ea especificar um OffsetY que equivalha a 3,1 c\u00e9lulas por exemplo, o RRPG far\u00e1 um deslocamento de apenas 0,1 c\u00e9lulas, pois deslocar 3,1 ou deslocar 0,1 c\u00e9lulas produz o mesmo resultado visual. cellSize Double Define o tamanho de cada c\u00e9lula do grid em m\u00e9trica de mundo . Exemplo: 1.5 significa que cada c\u00e9lula do grid ocupam 1.5 metros no espa\u00e7o do mundo do tabuleiro (ou outra unidade de medida, conforme a propriedade scene.worldMetricName ). Dimens\u00f5es se o gridType for \"square\": Dimens\u00f5es se o gridType for \"vertHex\": Dimens\u00f5es se o gridType for \"horzHex\": gridColor String de Cor Define a cor da linha do grid. gridThickness Double Define, em m\u00e9trica de tela , a espessura das linhas do grid. drawGrid Boolean True se as linhas do grid devem ser desenhadas, ou false se as linhas do grid devem ser invis\u00edveis. rowCount Integer (Somente Leitura) Com base no tamanho do tabuleiro (propriedade scene.worldWidth ) e no tamanho de cada c\u00e9lula da grid (cellSize), esta propriedade cont\u00e9m quantas linhas a grid/matriz tem. colCount Integer (Somente Leitura) Com base no tamanho do tabuleiro ( scene.worldHeight ) e no tamanho de cada c\u00e9lula da grid (cellSize), esta propriedade cont\u00e9m quantas colunas a grid/matriz tem. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o grid:cellToWorld(i, j) Dada uma coordenada de matriz/grid Aij, retorna qual \u00e9 a posi\u00e7\u00e3o central desta c\u00e9lula em m\u00e9trica de mundo . Par\u00e2metros: i - N\u00famero inteiro contendo qual linha a c\u00e9lula se encontra, o valor \"i\" da coordenada Aij. A primeira linha da grid come\u00e7a no \u00edndice 0. j - N\u00famero inteiro contendo qual coluna a c\u00e9lula se encontra, o valor \"j\" da coordenada Aij. A primeira coluna da grid come\u00e7a no \u00edndice 0. Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: worldX - Um n\u00famero em m\u00e9trica de mundo contendo onde, no eixo X, fica o centro da c\u00e9lula informada. worldY - Um n\u00famero em m\u00e9trica de mundo contendo onde, no eixo Y, fica o centro da c\u00e9lula informada. Observa\u00e7\u00f5es: Se a c\u00e9lula n\u00e3o existir de fato na grid, a fun\u00e7\u00e3o retornar\u00e1 a posi\u00e7\u00e3o de onde seria o centro desta c\u00e9lula se ela existisse. Exemplo: local wX, wY = scene.grid:cellToWorld(10, 5); Neste exemplo, o centro da c\u00e9lula [Linha 10, Coluna 5] fica na coordenada (wX, wY) em m\u00e9trica de mundo . grid:worldToCell(worldX, worldY) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo , retorna qual c\u00e9lula da grid que este ponto pertence. Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo contendo a posi\u00e7\u00e3o no eixo X worldY - N\u00famero em m\u00e9trica de mundo contendo a posi\u00e7\u00e3o no eixo Y Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: i - N\u00famero inteiro contendo qual linha a c\u00e9lula se encontra j - N\u00famero inteiro contendo qual coluna a c\u00e9lula se encontra Observa\u00e7\u00f5es: Se o ponto (worldX, worldY) n\u00e3o estiver dentro das dimens\u00f5es do tabuleiro, a fun\u00e7\u00e3o retornar\u00e1 qual c\u00e9lula a posi\u00e7\u00e3o se refere se o tabuleiro fosse maior. Exemplo: local i, j = scene.grid:worldToCell(16, 6); Meste exemplo, a posi\u00e7\u00e3o do mundo (x: 16, y: 6) pertence \u00e0 c\u00e9lula Aij [Linha i, Coluna j]. grid:shortestPath(srcI, srcJ, destI, destJ[, options]) Dada duas coordenadas de matriz/grid Aij, calcula e retorna o caminho mais curto entres as duas c\u00e9lulas da grid. Par\u00e2metros: srcI - N\u00famero inteiro contendo qual linha a c\u00e9lula origem se encontra, o valor \"i\" da coordenada Aij. A primeira linha da grid come\u00e7a no \u00edndice 0. srcJ - N\u00famero inteiro contendo qual coluna a c\u00e9lula origem se encontra, o valor \"j\" da coordenada Aij. A primeira coluna da grid come\u00e7a no \u00edndice 0. destI - N\u00famero inteiro contendo qual linha a c\u00e9lula destino se encontra, o valor \"i\" da coordenada Aij. destJ - N\u00famero inteiro contendo qual coluna a c\u00e9lula destino se encontra, o valor \"j\" da coordenada Aij. (OPCIONAL) options - Uma tabela lua contendo op\u00e7\u00f5es de como o caminho mais curto deve ser calculado e pode possuir os seguintes atributos: diagonals - V\u00e1lido apenas para grid do tipo \"square\", Define como o c\u00e1lculo deve se comportar em rela\u00e7\u00e3o \u00e0s diagonais do grid e pode conter um dos seguintes valores: \"simplified\" - (Valor padr\u00e3o) Movimento pelas diagonais simplificado. Andar pelas diagonais possui o mesmo \"custo\" que andar pelas laterais. \"manhattan\" - O movimento pelas diagonais custam 2x o custo de andar pelas laterais. \"alternated\" - O primeiro movimento diagonal custa 1x, o segundo custa 2x, o terceiro custa 1x, o quarto 2x, e assim por diante. \"euclidean\" - O custo de andar pelas diagonais \u00e9 igual \u00e0 dist\u00e2ncia real. endOfGrid - O que acontece quando a c\u00e9lula destino estiver fora dos limites do tabuleiro/grid? Pode conter um dos seguintes valores: \"fail\" - (Valor padr\u00e3o) a busca pelo menor caminho falha. \"continue\" - Ignora o fato e continua como se existisse um grid al\u00e9m dos limites do tabuleiro. \"trunc\" - A busca pelo menor caminho leva at\u00e9 o ponto dentro do tabuleiro mais perto do ponto destino. continuationData - Se quiser emendar caminhos de forma adequada, passe aqui o continuationData retornado pela \u00faltima chamada de shortestPath. trackCollisions - True se quiser que o sistema rastreie colis\u00f5es durante o movimento. O padr\u00e3o \u00e9 false. collisionRadius - Comprimento do raio de um c\u00edrculo (em m\u00e9trica de mundo ) que ser\u00e1 utilizado durante o rastreio de colis\u00f5es de movimento. Retorno: Esta fun\u00e7\u00e3o retorna 4 valores na seguinte ordem: success - True se conseguiu encontrar um menor caminho ou false se n\u00e3o foi poss\u00edvel. distance - Quando success for true, cont\u00e9m um n\u00famero contendo a dist\u00e2ncia do caminho encontrado em m\u00e9trica de mundo . steps - Quando success for true, cont\u00e9m os movimentos necess\u00e1rios no grid para chegar ao destino. \u00c9 um array (tabela lua indexada de 1 a #tabela) de tabelas luas, cada uma contendo as propriedades \"i\"e \"j\" das coordenadas Aij de cada c\u00e9lula no caminho. continuationData - Um valor que voc\u00ea pode passar para a pr\u00f3xima chamada de \"grid:shortestPath\" se quiser emendar caminhos de forma adequada. Eventos Nome do evento Descri\u00e7\u00e3o onChange Evento que \u00e9 disparado quando o Grid do scene mudar. As seguintes situa\u00e7\u00f5es disparam este evento: Altera\u00e7\u00e3o no tamanho do Scene (propriedades scene.worldWidth e scene.worldHeight ) Altera\u00e7\u00e3o em algumas das seguintes propriedades do grid: gridType, cellSize, offsetX, offsetY, gridColor, gridThickness e drawGrid Exemplos Exemplo 1 - Um plug-in que descobre em qual c\u00e9lula do grid o usu\u00e1rio clicou require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse scene.viewport.onMouseUp = function (event) -- Converter coordenada de tela do click para coordenada de mundo local wx, wy = scene.viewport:screenToWorld(event.x, event.y); -- Converter coordenada de mundo para coordenada do grid local i, j = scene.grid:worldToCell(wx, wy); -- Exibir uma Mensagem sobre a c\u00e9lula clicada * showMessage(\"Click na c\u00e9lula [Linha \" .. i .. \", Coluna \" .. j .. \"]\"); end ; end *); Created with the Personal Edition of HelpNDoc: Free Kindle producer","title":"Objeto SceneGridLayer"},{"location":"ObjetoSceneGridLayer/#objeto-scenegridlayer","text":"","title":"Objeto SceneGridLayer"},{"location":"ObjetoSceneGridLayer/#objeto-scenegridlayer_1","text":"O Objeto SceneGridLayer representa o grid do tabuleiro de combate e possui informa\u00e7\u00f5es e utilit\u00e1rios a respeito do mesmo. O SceneGridLayer de um scene pode ser obtido atrav\u00e9s da propriedade \" grid \" do objeto Scene","title":"Objeto SceneGridLayer"},{"location":"ObjetoSceneGridLayer/#heranca","text":"O o bjeto SceneGridLayer herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.","title":"Heran\u00e7a"},{"location":"ObjetoSceneGridLayer/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneGridLayer/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene a qual este SceneGridLayer pertence. gridType Enumerado: \"square\" \"vertHex\" \"horzHex\" Define o tipo de grid que o tabuleiro de combate utiliza. \"square\": Grid com c\u00e9lulas quadradas \"vertHex\": Grid com c\u00e9lulas hexagonais organizadas verticalmente. \"horzHex\": Grid com c\u00e9lulas hexagonais organizadas horizontalmente. squareDiagonals Enumerado: \"simplified\" \"manhattan\" \"alternated\" \"euclidean\" Quando gridType for \"square\", esta propriedade define como as diagonais do grid quadriculado devem se comportar e pode ser um dos seguintes valores: \"simplified\" - (Valor padr\u00e3o) Movimento pelas diagonais simplificado. Andar pelas diagonais possui o mesmo \"custo\" que andar pelas laterais. \"manhattan\" - O movimento pelas diagonais custam 2x o custo de andar pelas laterais. \"alternated\" - O primeiro movimento diagonal custa 1x, o segundo custa 2x, o terceiro custa 1x, o quarto 2x, e assim por diante. \"euclidean\" - O custo de andar pelas diagonais \u00e9 igual \u00e0 dist\u00e2ncia real. offsetX Double Define o deslocamento em m\u00e9trica de mundo que a primeira c\u00e9lula do grid (i:0, j:0) deve receber no eixo X. Em outras palavras, offsetX e offsetY s\u00e3o usadas para ajuste fino para posicionar corretamente o grid no tabuleiro. O RRPG faz um \"WrapAround\" no offset: Se voc\u00ea especificar um OffsetX que equivalha a 3,3 c\u00e9lulas por exemplo, o RRPG far\u00e1 um deslocamento de apenas 0,3 c\u00e9lulas, pois deslocar 3,3 ou deslocar 0,3 c\u00e9lulas produz o mesmo resultado visual. offsetY Double Define o deslocamento em m\u00e9trica de mundo que a primeira c\u00e9lula do grid (i:0, j:0) deve receber no eixo Y. Em outras palavras, offsetX e offsetY s\u00e3o usadas para ajuste fino para posicionar corretamente o grid no tabuleiro. O RRPG faz um \"WrapAround\" no offset: Se voc\u00ea especificar um OffsetY que equivalha a 3,1 c\u00e9lulas por exemplo, o RRPG far\u00e1 um deslocamento de apenas 0,1 c\u00e9lulas, pois deslocar 3,1 ou deslocar 0,1 c\u00e9lulas produz o mesmo resultado visual. cellSize Double Define o tamanho de cada c\u00e9lula do grid em m\u00e9trica de mundo . Exemplo: 1.5 significa que cada c\u00e9lula do grid ocupam 1.5 metros no espa\u00e7o do mundo do tabuleiro (ou outra unidade de medida, conforme a propriedade scene.worldMetricName ). Dimens\u00f5es se o gridType for \"square\": Dimens\u00f5es se o gridType for \"vertHex\": Dimens\u00f5es se o gridType for \"horzHex\": gridColor String de Cor Define a cor da linha do grid. gridThickness Double Define, em m\u00e9trica de tela , a espessura das linhas do grid. drawGrid Boolean True se as linhas do grid devem ser desenhadas, ou false se as linhas do grid devem ser invis\u00edveis. rowCount Integer (Somente Leitura) Com base no tamanho do tabuleiro (propriedade scene.worldWidth ) e no tamanho de cada c\u00e9lula da grid (cellSize), esta propriedade cont\u00e9m quantas linhas a grid/matriz tem. colCount Integer (Somente Leitura) Com base no tamanho do tabuleiro ( scene.worldHeight ) e no tamanho de cada c\u00e9lula da grid (cellSize), esta propriedade cont\u00e9m quantas colunas a grid/matriz tem.","title":"Propriedades e atributos"},{"location":"ObjetoSceneGridLayer/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o grid:cellToWorld(i, j) Dada uma coordenada de matriz/grid Aij, retorna qual \u00e9 a posi\u00e7\u00e3o central desta c\u00e9lula em m\u00e9trica de mundo . Par\u00e2metros: i - N\u00famero inteiro contendo qual linha a c\u00e9lula se encontra, o valor \"i\" da coordenada Aij. A primeira linha da grid come\u00e7a no \u00edndice 0. j - N\u00famero inteiro contendo qual coluna a c\u00e9lula se encontra, o valor \"j\" da coordenada Aij. A primeira coluna da grid come\u00e7a no \u00edndice 0. Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: worldX - Um n\u00famero em m\u00e9trica de mundo contendo onde, no eixo X, fica o centro da c\u00e9lula informada. worldY - Um n\u00famero em m\u00e9trica de mundo contendo onde, no eixo Y, fica o centro da c\u00e9lula informada. Observa\u00e7\u00f5es: Se a c\u00e9lula n\u00e3o existir de fato na grid, a fun\u00e7\u00e3o retornar\u00e1 a posi\u00e7\u00e3o de onde seria o centro desta c\u00e9lula se ela existisse. Exemplo: local wX, wY = scene.grid:cellToWorld(10, 5); Neste exemplo, o centro da c\u00e9lula [Linha 10, Coluna 5] fica na coordenada (wX, wY) em m\u00e9trica de mundo . grid:worldToCell(worldX, worldY) Dada uma posi\u00e7\u00e3o em m\u00e9trica de mundo , retorna qual c\u00e9lula da grid que este ponto pertence. Par\u00e2metros: worldX - N\u00famero em m\u00e9trica de mundo contendo a posi\u00e7\u00e3o no eixo X worldY - N\u00famero em m\u00e9trica de mundo contendo a posi\u00e7\u00e3o no eixo Y Retorno: Esta fun\u00e7\u00e3o retorna dois valores na seguinte ordem: i - N\u00famero inteiro contendo qual linha a c\u00e9lula se encontra j - N\u00famero inteiro contendo qual coluna a c\u00e9lula se encontra Observa\u00e7\u00f5es: Se o ponto (worldX, worldY) n\u00e3o estiver dentro das dimens\u00f5es do tabuleiro, a fun\u00e7\u00e3o retornar\u00e1 qual c\u00e9lula a posi\u00e7\u00e3o se refere se o tabuleiro fosse maior. Exemplo: local i, j = scene.grid:worldToCell(16, 6); Meste exemplo, a posi\u00e7\u00e3o do mundo (x: 16, y: 6) pertence \u00e0 c\u00e9lula Aij [Linha i, Coluna j]. grid:shortestPath(srcI, srcJ, destI, destJ[, options]) Dada duas coordenadas de matriz/grid Aij, calcula e retorna o caminho mais curto entres as duas c\u00e9lulas da grid. Par\u00e2metros: srcI - N\u00famero inteiro contendo qual linha a c\u00e9lula origem se encontra, o valor \"i\" da coordenada Aij. A primeira linha da grid come\u00e7a no \u00edndice 0. srcJ - N\u00famero inteiro contendo qual coluna a c\u00e9lula origem se encontra, o valor \"j\" da coordenada Aij. A primeira coluna da grid come\u00e7a no \u00edndice 0. destI - N\u00famero inteiro contendo qual linha a c\u00e9lula destino se encontra, o valor \"i\" da coordenada Aij. destJ - N\u00famero inteiro contendo qual coluna a c\u00e9lula destino se encontra, o valor \"j\" da coordenada Aij. (OPCIONAL) options - Uma tabela lua contendo op\u00e7\u00f5es de como o caminho mais curto deve ser calculado e pode possuir os seguintes atributos: diagonals - V\u00e1lido apenas para grid do tipo \"square\", Define como o c\u00e1lculo deve se comportar em rela\u00e7\u00e3o \u00e0s diagonais do grid e pode conter um dos seguintes valores: \"simplified\" - (Valor padr\u00e3o) Movimento pelas diagonais simplificado. Andar pelas diagonais possui o mesmo \"custo\" que andar pelas laterais. \"manhattan\" - O movimento pelas diagonais custam 2x o custo de andar pelas laterais. \"alternated\" - O primeiro movimento diagonal custa 1x, o segundo custa 2x, o terceiro custa 1x, o quarto 2x, e assim por diante. \"euclidean\" - O custo de andar pelas diagonais \u00e9 igual \u00e0 dist\u00e2ncia real. endOfGrid - O que acontece quando a c\u00e9lula destino estiver fora dos limites do tabuleiro/grid? Pode conter um dos seguintes valores: \"fail\" - (Valor padr\u00e3o) a busca pelo menor caminho falha. \"continue\" - Ignora o fato e continua como se existisse um grid al\u00e9m dos limites do tabuleiro. \"trunc\" - A busca pelo menor caminho leva at\u00e9 o ponto dentro do tabuleiro mais perto do ponto destino. continuationData - Se quiser emendar caminhos de forma adequada, passe aqui o continuationData retornado pela \u00faltima chamada de shortestPath. trackCollisions - True se quiser que o sistema rastreie colis\u00f5es durante o movimento. O padr\u00e3o \u00e9 false. collisionRadius - Comprimento do raio de um c\u00edrculo (em m\u00e9trica de mundo ) que ser\u00e1 utilizado durante o rastreio de colis\u00f5es de movimento. Retorno: Esta fun\u00e7\u00e3o retorna 4 valores na seguinte ordem: success - True se conseguiu encontrar um menor caminho ou false se n\u00e3o foi poss\u00edvel. distance - Quando success for true, cont\u00e9m um n\u00famero contendo a dist\u00e2ncia do caminho encontrado em m\u00e9trica de mundo . steps - Quando success for true, cont\u00e9m os movimentos necess\u00e1rios no grid para chegar ao destino. \u00c9 um array (tabela lua indexada de 1 a #tabela) de tabelas luas, cada uma contendo as propriedades \"i\"e \"j\" das coordenadas Aij de cada c\u00e9lula no caminho. continuationData - Um valor que voc\u00ea pode passar para a pr\u00f3xima chamada de \"grid:shortestPath\" se quiser emendar caminhos de forma adequada.","title":"M\u00e9todos"},{"location":"ObjetoSceneGridLayer/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Evento que \u00e9 disparado quando o Grid do scene mudar. As seguintes situa\u00e7\u00f5es disparam este evento: Altera\u00e7\u00e3o no tamanho do Scene (propriedades scene.worldWidth e scene.worldHeight ) Altera\u00e7\u00e3o em algumas das seguintes propriedades do grid: gridType, cellSize, offsetX, offsetY, gridColor, gridThickness e drawGrid","title":"Eventos"},{"location":"ObjetoSceneGridLayer/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneGridLayer/#exemplo-1-um-plug-in-que-descobre-em-qual-celula-do-grid-o-usuario-clicou","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse scene.viewport.onMouseUp = function (event) -- Converter coordenada de tela do click para coordenada de mundo local wx, wy = scene.viewport:screenToWorld(event.x, event.y); -- Converter coordenada de mundo para coordenada do grid local i, j = scene.grid:worldToCell(wx, wy); -- Exibir uma Mensagem sobre a c\u00e9lula clicada * showMessage(\"Click na c\u00e9lula [Linha \" .. i .. \", Coluna \" .. j .. \"]\"); end ; end *); Created with the Personal Edition of HelpNDoc: Free Kindle producer","title":"Exemplo 1 - Um plug-in que descobre em qual c\u00e9lula do grid o usu\u00e1rio clicou"},{"location":"ObjetoScenePluginAttachment/","text":"Objeto ScenePluginAttachment \\< A escrever ...> Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Objeto ScenePluginAttachment"},{"location":"ObjetoScenePluginAttachment/#objeto-scenepluginattachment","text":"\\< A escrever ...> Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Objeto ScenePluginAttachment"},{"location":"ObjetoSceneToken/","text":"Objeto SceneToken Objeto SceneToken O Objeto SceneToken representa um \u00fanico item gr\u00e1fico no Scene do tipo token, isto \u00e9, personagens, objetos e outros s\u00edmbolos gr\u00e1ficos. Heran\u00e7a O o bjeto SceneToken herda de SceneGraphicItem e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneGraphicItem Objecto SceneBaseObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneToken tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectType String \"token\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico - \"token\". image Objeto SceneDrawingOpBitmap (Somente Leitura) Cont\u00e9m um Objeto SceneDrawingOpBitmap com os detalhes da imagem principal do token. name String Define o nome do token. Este nome \u00e9 exibido visualmente no Scene. facingMode Enumerado: \"rotate\" \"drawArrow\" Define como o Scene deve indicar visualmente para que lado o token est\u00e1 virado. \"rotate\": Rotacionar a imagem para a dire\u00e7\u00e3o. \"drawArrow\": N\u00e3o rotacionar a imagem e desenhar uma seta para a dire\u00e7\u00e3o. friendOrFoe Enumerado: \"unknown\" \"friend\" \"neutral\" \"foe\" Define se este token \u00e9 hostil ou amig\u00e1vel ao grupo do RRPG. \"unknown\" - Desconhecido, o mestre n\u00e3o definiu ou \u00e9 um objeto. \"friend\" - Este token representa algu\u00e9m/algo amig\u00e1vel aos personagens do grupo. \"neutral\" - Este token representa algu\u00e9m/algo neutro ao grupo. \"foe\" - Este token representa algu\u00e9m/algo hostil aos personagens do grupo. ownerUserID String Cont\u00e9m o login do usu\u00e1rio do RRPG que \u00e9 dono deste token e pode moviment\u00e1-lo. ownerCharacter Inteiro Cont\u00e9m o ID interno do personagem deste token. Este valor \u00e9 equivalente ao valor da propriedade \" codigoIntero \" do objeto \" BibliotecaItem \" 0 = N\u00e3o foi definido o personagem. visionIntenseLightRange Double Define, em m\u00e9trica de mundo , o alcance da vis\u00e3o do token sob luz intensa. visionWeakLightRange Double Define, em m\u00e9trica de mundo , o alcance da vis\u00e3o do token sob luz fraca (exemplo: Luz do luar, uma vela fraca, etc..) visionDarknessRange Double Define, em m\u00e9trica de mundo , o alcance da vis\u00e3o do token na escurid\u00e3o total. visionHaveVision Boolean Define se o token possui vis\u00e3o/enxerga coisas no tabuleiro. Padr\u00e3o: False visionAngle Double Define, em graus, o \u00e2ngulo de vis\u00e3o do token. Padr\u00e3o: 360 lightIntenseRange Double Define, em m\u00e9trica de mundo , o alcance da luz intensa emitida por este token. Se for igual a 0, este token n\u00e3o emite luz intensa. Padr\u00e3o: 0 lightWeakRange Double Define, em m\u00e9trica de mundo , o alcance da luz fraca emitida por este token. Se for igual a 0, este token n\u00e3o emite luz fraca. Padr\u00e3o: 0 lightAngle Double Define, em graus, o \u00e2ngulo da luz emitida por este token. Padr\u00e3o: 360 barValue1 barValue2 barValue3 String Define o valor atual de uma das barrinhas do token. barMax1 barMax2 barMax3 String Define o valor m\u00e1ximo de uma das barrinhas do token. barColor1 barColor2 barColor3 String de Cor Define a cor de uma das barrinhas do token. isMine Boolean (Somente Leitura) Cont\u00e9m true se o token for controlado pelo usu\u00e1rio atual do RRPG. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o token:clearMemoryAreas(); No FogOfWar, limpa a mem\u00f3ria do Token das \u00e1reas que ele j\u00e1 viu em algum momento do passado. Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Exemplo 1 - Exemplo 2 - Created with the Personal Edition of HelpNDoc: Elevate your documentation to new heights with HelpNDoc's built-in SEO","title":"Objeto SceneToken"},{"location":"ObjetoSceneToken/#objeto-scenetoken","text":"","title":"Objeto SceneToken"},{"location":"ObjetoSceneToken/#objeto-scenetoken_1","text":"O Objeto SceneToken representa um \u00fanico item gr\u00e1fico no Scene do tipo token, isto \u00e9, personagens, objetos e outros s\u00edmbolos gr\u00e1ficos.","title":"Objeto SceneToken"},{"location":"ObjetoSceneToken/#heranca","text":"O o bjeto SceneToken herda de SceneGraphicItem e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneGraphicItem Objecto SceneBaseObject","title":"Heran\u00e7a"},{"location":"ObjetoSceneToken/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneToken tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneToken/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"token\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico - \"token\". image Objeto SceneDrawingOpBitmap (Somente Leitura) Cont\u00e9m um Objeto SceneDrawingOpBitmap com os detalhes da imagem principal do token. name String Define o nome do token. Este nome \u00e9 exibido visualmente no Scene. facingMode Enumerado: \"rotate\" \"drawArrow\" Define como o Scene deve indicar visualmente para que lado o token est\u00e1 virado. \"rotate\": Rotacionar a imagem para a dire\u00e7\u00e3o. \"drawArrow\": N\u00e3o rotacionar a imagem e desenhar uma seta para a dire\u00e7\u00e3o. friendOrFoe Enumerado: \"unknown\" \"friend\" \"neutral\" \"foe\" Define se este token \u00e9 hostil ou amig\u00e1vel ao grupo do RRPG. \"unknown\" - Desconhecido, o mestre n\u00e3o definiu ou \u00e9 um objeto. \"friend\" - Este token representa algu\u00e9m/algo amig\u00e1vel aos personagens do grupo. \"neutral\" - Este token representa algu\u00e9m/algo neutro ao grupo. \"foe\" - Este token representa algu\u00e9m/algo hostil aos personagens do grupo. ownerUserID String Cont\u00e9m o login do usu\u00e1rio do RRPG que \u00e9 dono deste token e pode moviment\u00e1-lo. ownerCharacter Inteiro Cont\u00e9m o ID interno do personagem deste token. Este valor \u00e9 equivalente ao valor da propriedade \" codigoIntero \" do objeto \" BibliotecaItem \" 0 = N\u00e3o foi definido o personagem. visionIntenseLightRange Double Define, em m\u00e9trica de mundo , o alcance da vis\u00e3o do token sob luz intensa. visionWeakLightRange Double Define, em m\u00e9trica de mundo , o alcance da vis\u00e3o do token sob luz fraca (exemplo: Luz do luar, uma vela fraca, etc..) visionDarknessRange Double Define, em m\u00e9trica de mundo , o alcance da vis\u00e3o do token na escurid\u00e3o total. visionHaveVision Boolean Define se o token possui vis\u00e3o/enxerga coisas no tabuleiro. Padr\u00e3o: False visionAngle Double Define, em graus, o \u00e2ngulo de vis\u00e3o do token. Padr\u00e3o: 360 lightIntenseRange Double Define, em m\u00e9trica de mundo , o alcance da luz intensa emitida por este token. Se for igual a 0, este token n\u00e3o emite luz intensa. Padr\u00e3o: 0 lightWeakRange Double Define, em m\u00e9trica de mundo , o alcance da luz fraca emitida por este token. Se for igual a 0, este token n\u00e3o emite luz fraca. Padr\u00e3o: 0 lightAngle Double Define, em graus, o \u00e2ngulo da luz emitida por este token. Padr\u00e3o: 360 barValue1 barValue2 barValue3 String Define o valor atual de uma das barrinhas do token. barMax1 barMax2 barMax3 String Define o valor m\u00e1ximo de uma das barrinhas do token. barColor1 barColor2 barColor3 String de Cor Define a cor de uma das barrinhas do token. isMine Boolean (Somente Leitura) Cont\u00e9m true se o token for controlado pelo usu\u00e1rio atual do RRPG.","title":"Propriedades e atributos"},{"location":"ObjetoSceneToken/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o token:clearMemoryAreas(); No FogOfWar, limpa a mem\u00f3ria do Token das \u00e1reas que ele j\u00e1 viu em algum momento do passado.","title":"M\u00e9todos"},{"location":"ObjetoSceneToken/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoSceneToken/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneToken/#exemplo-1-","text":"","title":"Exemplo 1 -&nbsp;"},{"location":"ObjetoSceneToken/#exemplo-2-","text":"Created with the Personal Edition of HelpNDoc: Elevate your documentation to new heights with HelpNDoc's built-in SEO","title":"Exemplo 2 -&nbsp;"},{"location":"ObjetoSceneUnitClass/","text":"Objeto SceneUnitClass Objeto SceneUnitClass Este objeto representa um item de scene 2 na biblioteca de uma mesa no RRPG Firecast. Heran\u00e7a O Objeto SceneUnitClass possui todas as caracter\u00edsticas de um Objeto BibliotecaItem. Veja: Objeto BibliotecaItem Objeto WrappedObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o Objeto SceneUnitClass tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o tamanhoX Double (Somente leitura) Cont\u00e9m quantos metros o item ocupa em sua largura no tabuleiro de combate. tamanhoY Double (Somente leitura) Cont\u00e9m quantos metros o item ocupa em sua altura no tabuleiro de combate. camada Enumerado: \"tokens\" \"objects\" \"background\" (Somente leitura) Cont\u00e9m em qual camada o item pertence por padr\u00e3o no tabuleiro de combate. descricao String (Somente leitura) Cont\u00e9m um texto descritivo do item de scene. urlImg String (Somente leitura) Cont\u00e9m a URL da imagem do item de scene. facing Enumerado: \"rotate\" \"drawArrow\" (Somente leitura) Cont\u00e9m como o item deve se comportar quando for rotacionado no tabuleiro de combate. \"rotate\" - Rotacionar tamb\u00e9m a imagem do item. \"drawArrow\" - N\u00e3o rotacionar a imagem e desenhar uma seta indicando a dire\u00e7\u00e3o do item. snapToGrid Boolean (Somente leitura) Cont\u00e9m true se o item deve se alinhar ao grid do tabuleiro de combate. direcaoImg Double (Somente leitura) Cont\u00e9m, em graus, a dire\u00e7\u00e3o do conte\u00fado da imagem... Isto \u00e9, \"para onde a imagem est\u00e1 apontando\" layoutCenterX Double (Somente leitura) Cont\u00e9m onde o CENTRO do token est\u00e1 na imagem no eixo X. Exemplos de valores: 0.5 - O centro do token est\u00e1 no centro da imagem. 1.0 - O centro do token est\u00e1 no canto da direita da imagem. 0.0 - O centro do token est\u00e1 no canto esquerdo da imagem layoutCenterY Double (Somente leitura) Cont\u00e9m onde o CENTRO do token est\u00e1 na imagem no eixo Y. Exemplos de valores: 0.5 - O centro do token est\u00e1 no centro da imagem. 1.0 - O centro do token est\u00e1 no canto inferior da imagem. 0.0 - O centro do token est\u00e1 no canto superior da imagem layoutTamX Double (Somente leitura) Cont\u00e9m o tamanho da imagem em rela\u00e7\u00e3o ao tamanho do token, no eixo X. Exemplos de valores: 1.0 - A largura da imagem \u00e9 a mesma que a largura do token. 1.5 - A largura da imagem \u00e9 1.5x a largura do token 0.5 - A largura da imagem \u00e9 0.5x a largura do token. layoutTamY Double (Somente leitura) Cont\u00e9m o tamanho da imagem em rela\u00e7\u00e3o ao tamanho do token, no eixo Y. Exemplos de valores: 1.0 - A altura da imagem \u00e9 a mesma que a altura do token. 1.5 - A altura da imagem \u00e9 1.5x a altura do token 0.5 - A altura da imagem \u00e9 0.5x a altura do token. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o sceneUnitClass:isType(typeName) Retorna true se passado \"sceneUnitClass\" como par\u00e2metro. Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Objeto SceneUnitClass"},{"location":"ObjetoSceneUnitClass/#objeto-sceneunitclass","text":"","title":"Objeto SceneUnitClass"},{"location":"ObjetoSceneUnitClass/#objeto-sceneunitclass_1","text":"Este objeto representa um item de scene 2 na biblioteca de uma mesa no RRPG Firecast.","title":"Objeto SceneUnitClass"},{"location":"ObjetoSceneUnitClass/#heranca","text":"O Objeto SceneUnitClass possui todas as caracter\u00edsticas de um Objeto BibliotecaItem. Veja: Objeto BibliotecaItem Objeto WrappedObject","title":"Heran\u00e7a"},{"location":"ObjetoSceneUnitClass/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o Objeto SceneUnitClass tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneUnitClass/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o tamanhoX Double (Somente leitura) Cont\u00e9m quantos metros o item ocupa em sua largura no tabuleiro de combate. tamanhoY Double (Somente leitura) Cont\u00e9m quantos metros o item ocupa em sua altura no tabuleiro de combate. camada Enumerado: \"tokens\" \"objects\" \"background\" (Somente leitura) Cont\u00e9m em qual camada o item pertence por padr\u00e3o no tabuleiro de combate. descricao String (Somente leitura) Cont\u00e9m um texto descritivo do item de scene. urlImg String (Somente leitura) Cont\u00e9m a URL da imagem do item de scene. facing Enumerado: \"rotate\" \"drawArrow\" (Somente leitura) Cont\u00e9m como o item deve se comportar quando for rotacionado no tabuleiro de combate. \"rotate\" - Rotacionar tamb\u00e9m a imagem do item. \"drawArrow\" - N\u00e3o rotacionar a imagem e desenhar uma seta indicando a dire\u00e7\u00e3o do item. snapToGrid Boolean (Somente leitura) Cont\u00e9m true se o item deve se alinhar ao grid do tabuleiro de combate. direcaoImg Double (Somente leitura) Cont\u00e9m, em graus, a dire\u00e7\u00e3o do conte\u00fado da imagem... Isto \u00e9, \"para onde a imagem est\u00e1 apontando\" layoutCenterX Double (Somente leitura) Cont\u00e9m onde o CENTRO do token est\u00e1 na imagem no eixo X. Exemplos de valores: 0.5 - O centro do token est\u00e1 no centro da imagem. 1.0 - O centro do token est\u00e1 no canto da direita da imagem. 0.0 - O centro do token est\u00e1 no canto esquerdo da imagem layoutCenterY Double (Somente leitura) Cont\u00e9m onde o CENTRO do token est\u00e1 na imagem no eixo Y. Exemplos de valores: 0.5 - O centro do token est\u00e1 no centro da imagem. 1.0 - O centro do token est\u00e1 no canto inferior da imagem. 0.0 - O centro do token est\u00e1 no canto superior da imagem layoutTamX Double (Somente leitura) Cont\u00e9m o tamanho da imagem em rela\u00e7\u00e3o ao tamanho do token, no eixo X. Exemplos de valores: 1.0 - A largura da imagem \u00e9 a mesma que a largura do token. 1.5 - A largura da imagem \u00e9 1.5x a largura do token 0.5 - A largura da imagem \u00e9 0.5x a largura do token. layoutTamY Double (Somente leitura) Cont\u00e9m o tamanho da imagem em rela\u00e7\u00e3o ao tamanho do token, no eixo Y. Exemplos de valores: 1.0 - A altura da imagem \u00e9 a mesma que a altura do token. 1.5 - A altura da imagem \u00e9 1.5x a altura do token 0.5 - A altura da imagem \u00e9 0.5x a altura do token.","title":"Propriedades e atributos"},{"location":"ObjetoSceneUnitClass/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o sceneUnitClass:isType(typeName) Retorna true se passado \"sceneUnitClass\" como par\u00e2metro. Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"M\u00e9todos"},{"location":"ObjetoSceneUserDrawing/","text":"Objeto SceneUserDrawing Objeto SceneUserDrawing O Objeto SceneUserDrawing representa um \u00fanico item gr\u00e1fico no Scene do tipo \"desenho do usu\u00e1rio\". Heran\u00e7a O o bjeto SceneUserDrawing herda de SceneGraphicItem e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneGraphicItem Objecto SceneBaseObject Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneUserDrawing tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectType String \"userDrawing\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico - \"userDrawing\". M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o userDrawing:markAsMyDrawing(); Marca o UserDrawing como pertencente ao usu\u00e1rio atual. A marca de dono do userDrawing permite usu\u00e1rios com +jogadores desenhar e controlar seus desenhos no scene. Se o usu\u00e1rio atual for MESTRE, esta fun\u00e7\u00e3o transforma o desenho em um desenho que faz parte do scene e n\u00e3o pertence a ningu\u00e9m. Se o usu\u00e1rio atual for +JOGADOR e se o item tiver acabado de ser criado, esta fun\u00e7\u00e3o marca o desenho como \"desenho de jogador\". Se o usu\u00e1rio atual for +JOGADOR mas o item j\u00e1 existir, a fun\u00e7\u00e3o n\u00e3o faz nada. Eventos Nome do evento Descri\u00e7\u00e3o Exemplos Exemplo 1 - Exemplo 2 - Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?","title":"Objeto SceneUserDrawing"},{"location":"ObjetoSceneUserDrawing/#objeto-sceneuserdrawing","text":"","title":"Objeto SceneUserDrawing"},{"location":"ObjetoSceneUserDrawing/#objeto-sceneuserdrawing_1","text":"O Objeto SceneUserDrawing representa um \u00fanico item gr\u00e1fico no Scene do tipo \"desenho do usu\u00e1rio\".","title":"Objeto SceneUserDrawing"},{"location":"ObjetoSceneUserDrawing/#heranca","text":"O o bjeto SceneUserDrawing herda de SceneGraphicItem e possui tamb\u00e9m TODAS todas as suas caracter\u00edsticas. Veja tamb\u00e9m: Objeto SceneGraphicItem Objecto SceneBaseObject","title":"Heran\u00e7a"},{"location":"ObjetoSceneUserDrawing/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneUserDrawing tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneUserDrawing/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectType String \"userDrawing\" (Somente Leitura) Cont\u00e9m um texto que identifica o tipo do objeto gr\u00e1fico - \"userDrawing\".","title":"Propriedades e atributos"},{"location":"ObjetoSceneUserDrawing/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o userDrawing:markAsMyDrawing(); Marca o UserDrawing como pertencente ao usu\u00e1rio atual. A marca de dono do userDrawing permite usu\u00e1rios com +jogadores desenhar e controlar seus desenhos no scene. Se o usu\u00e1rio atual for MESTRE, esta fun\u00e7\u00e3o transforma o desenho em um desenho que faz parte do scene e n\u00e3o pertence a ningu\u00e9m. Se o usu\u00e1rio atual for +JOGADOR e se o item tiver acabado de ser criado, esta fun\u00e7\u00e3o marca o desenho como \"desenho de jogador\". Se o usu\u00e1rio atual for +JOGADOR mas o item j\u00e1 existir, a fun\u00e7\u00e3o n\u00e3o faz nada.","title":"M\u00e9todos"},{"location":"ObjetoSceneUserDrawing/#eventos","text":"Nome do evento Descri\u00e7\u00e3o","title":"Eventos"},{"location":"ObjetoSceneUserDrawing/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneUserDrawing/#exemplo-1-","text":"","title":"Exemplo 1 -&nbsp;"},{"location":"ObjetoSceneUserDrawing/#exemplo-2-","text":"Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?","title":"Exemplo 2 -&nbsp;"},{"location":"ObjetoSceneViewport/","text":"Objeto SceneViewport Objeto SceneViewport O Objeto Viewport representa a tela do usu\u00e1rio, a janela de exibi\u00e7\u00e3o, onde o scene est\u00e1 sendo renderizado. O Viewport de um scene pode ser obtido atrav\u00e9s da propriedade \" viewport \" do objeto Scene Heran\u00e7a O o bjeto SceneViewport herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas. Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneViewport tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene que este Viewport renderiza. width Double (Somente Leitura) Contem a LARGURA em M\u00e9trica de Tela do viewport, isto \u00e9, da janela onde o scene est\u00e1 sendo renderizado. height Double (Somente Leitura) Contem a ALTURA em M\u00e9trica de Tela do viewport, isto \u00e9, da janela onde o scene est\u00e1 sendo renderizado. worldX Double Define, em M\u00e9trica de Mundo , em qual posi\u00e7\u00e3o do eixo X do mundo o ponto (X: 0, Y: 0) da tela aponta. As propriedades \"worldX\" e \"worldY\" servem para fazer \"scroll\" no scene. Se quiser fazer um scroll para a direita, por exemplo, incrementa-se o valor de worldX. Se quiser fazer um scroll para cima, decrementa-se o valor de worldY; Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene. worldY Double Define, em M\u00e9trica de Mundo , em qual posi\u00e7\u00e3o do eixo Y do mundo o ponto (X: 0, Y: 0) da tela aponta. As propriedades \"worldX\" e \"worldY\" servem para fazer \"scroll\" no scene. Se quiser fazer um scroll para a direita, por exemplo, incrementa-se o valor de worldX. Se quiser fazer um scroll para cima, decrementa-se o valor de worldY; Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene. scale Double Define a escala entre a M\u00e9trica do Mundo e a M\u00e9trica da Tela do Scene. Em outras palavras, esta propriedade controla o \"zoom\" do Scene. Exemplo: Um valor 32.0 significa que cada unidade m\u00e9trica do mundo ocupam 32 unidades m\u00e9tricas de tela. Se quiser, por exemplo, efetuar um zoom+ no scene, incrementa-se \"scale\". Se quiser reduzir o zoom pela metade, divide-se por dois o valor de \"scale\". Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene. cursor Enumerado: \"default\" \"arrow\" \"handPoint\" \"hourGlass\" \"IBeam\" \"size\" \"sizeNESW\" \"sizeNS\" \"sizeNWSE\" \"sizeWE\" \"upArrow\" \"drag\" \"noDrop\" \"hSplit\" \"vSplit\" \"multiDrag\" \"sqlWait\" \"no\" \"appStart\" \"help\" \"cross\" Define qual cursor de mouse deve ser apresentado quando o mouse estiver em em cima do viewport do scene. \"default\" - Cursor padr\u00e3o, uma seta padr\u00e3o. \"arrow\" - Uma seta padr\u00e3o. \"handPoint\" - Uma m\u00e3o com um dedo apontando para cima. Normalmente \u00e9 usado para identificar um item selecion\u00e1vel/clic\u00e1vel \"hourGlass\" - Uma ampulheta para indicar um processo em andamento. \"IBeam\" - Cursor que sinaliza a possibilidade de entrar com texto no controle. \"size\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento. \"sizeNESW\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Nordeste-Sudoeste \"sizeNS\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Norte-Sul \"sizeNWSE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Noroeste-Sudeste \"sizeWE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Leste-Oeste \"upArrow\" - Uma seta apontando para cima. \"drag\" - Um cursor indicando que itens est\u00e3o sendo arrastados. \"noDrop\" - Indica\u00e7\u00e3o de que n\u00e3o \u00e9 poss\u00edvel arrastar para este alvo. \"hSplit\" - Indica\u00e7\u00e3o de splitter horizontal \"vSplit\" - Indica\u00e7\u00e3o de splitter vertical. \"multiDrag\" - Indica\u00e7\u00e3o de que v\u00e1rios itens est\u00e3o sendo arrastados. \"sqlWait\" - Ampulheta indicando um processo de banco de dados em andamento. \"no\" - Uma indica\u00e7\u00e3o de nega\u00e7\u00e3o, de que n\u00e3o \u00e9 poss\u00edvel fazer algo. \"appStart\" - Combina\u00e7\u00e3o de \"default\" e \"hourGlass\", normalmente usado para indicar que um aplicativo est\u00e1 sendo aberto. \"help\" - Uma seta com um ponto de interroga\u00e7\u00e3o. \"cross\" - Um cursor em formato de cruz, usado para indicar um posicionamento preciso. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o viewport:screenToWorld(screenX, screenY) Converte uma posi\u00e7\u00e3o definida em m\u00e9tricas de tela em uma posi\u00e7\u00e3o definida em m\u00e9tricas de mundo . Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ponto (screenX, screenY) da tela do usu\u00e1rio representa qual ponto (worldX, worldY) do tabuleiro? Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport. Par\u00e2metros: screenX - a posi\u00e7\u00e3o do eixo X do ponto da tela screenY - a posi\u00e7\u00e3o do eixo Y do ponto da tela Retorno: Esta fun\u00e7\u00e3o retorna 2 valores na seguinte ordem: worldX e worldY contendo o ponto convertido em m\u00e9tricas de mundo. Exemplo de uso: local worldX, worldY = scene.viewport:screenToWorld(10, 50); viewport:screenToWorld(screenRect) Converte um ret\u00e2ngulo definido em m\u00e9tricas de tela em um ret\u00e2ngulo definido em m\u00e9tricas de mundo . Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ret\u00e2ngulo \"screenRect\" da tela do usu\u00e1rio representa qual ret\u00e2ngulo do tabuleiro? Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport. Par\u00e2metros: screenRect - Uma tabela SceneRect contendo o ret\u00e2ngulo que ser\u00e1 convertido. Retorno: Uma tabela SceneRect contendo o ret\u00e2ngulo convertido em m\u00e9tricas de mundo. viewport:worldToScreen(worldX, worldY) Converte uma posi\u00e7\u00e3o definida em m\u00e9tricas de mundo em uma posi\u00e7\u00e3o definida em m\u00e9tricas de tela . Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ponto (worldX, worldY) do mundo do scene fica em qual posi\u00e7\u00e3o (screenX, screenY) na tela do usu\u00e1rio? Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport. Par\u00e2metros: worldX - a posi\u00e7\u00e3o do eixo X do mundo do scene. worldY - a posi\u00e7\u00e3o do eixo Y do mundo do scene. Retorno: Esta fun\u00e7\u00e3o retorna 2 valores na seguinte ordem: screenX e screenY contendo o ponto convertido em m\u00e9tricas de tela . Exemplo de uso: local screenX, screenY = scene.viewport:worldToScreen(3, 4.5); viewport:worldToScreen(worldRect) Converte um ret\u00e2ngulo definido em m\u00e9tricas de mundo em um ret\u00e2ngulo definido em m\u00e9tricas de tela . Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ret\u00e2ngulo \"worldRect\" do mundo do scene ocupa qual ret\u00e2ngulo da tela do usu\u00e1rio? Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport. Par\u00e2metros: worldRect - Uma tabela SceneRect contendo o ret\u00e2ngulo que ser\u00e1 convertido. Retorno: Uma tabela SceneRect contendo o ret\u00e2ngulo convertido em m\u00e9tricas de tela. viewport:getScrollBounds() Retorna os limites de scroll para os valores worldX e worldY. Retorno: Esta fun\u00e7\u00e3o retorna 4 valores num\u00e9ricos na seguinte ordem e defini\u00e7\u00e3o: minX - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldX ficar menor que este valor. minY - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldY ficar menor que este valor; maxX - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldX ficar maior que este valor. maxY - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldY ficar maior que este valor. Exemplo de uso: local minX, minY, maxX, maxY = viewport:getScrollBounds(); viewport:setupToolCategory(name, title, order) Atualiza ou cria uma categoria de ferramentas no Scene. Par\u00e2metros: name - Uma cadeia de caracteres contendo o nome da categoria. Este nome pode ser referenciado depois pela fun\u00e7\u00e3o addToolButton title - Uma cadeia de caracteres contendo a descri\u00e7\u00e3o/t\u00edtulo da categoria. order - Um n\u00famero definindo a ordem da categoria. Esta categoria ser\u00e1 exibida depois/abaixo de outra categoria de ordem menor. (A grosso modo, quem tiver n\u00famero de ordem menor fica na frente) viewport:addToolButton(categoryName, title, iconURL, order, options, callback [, deactivationCallback]) Adiciona um bot\u00e3o-ferramenta ao Scene. Par\u00e2metros: categoryName - O nome da categoria em que o bot\u00e3o deve ser inserido. Este \u00e9 o mesmo nome usado na fun\u00e7\u00e3o setupToolCategory . Se for especificado uma categoria inexistente, ela ser\u00e1 criada. title - Cadeia de caracteres contendo o t\u00edtulo do bot\u00e3o. iconURL - Cadeia de caracteres contendo o endere\u00e7o/caminho de uma imagem que ser\u00e1 utilizada como \u00edcone da ferramenta. Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. order - Um n\u00famero contendo a ordem do bot\u00e3o em sua categoria. A grosso modo, quem tiver um n\u00famero de ordem menor fica na frente. options - nil ou uma tabela LUA podendo conter os seguintes atributos: \"selectable\" - Booleano, onde true significa que a ferramenta \u00e9 uma ferramenta selecion\u00e1vel. Uma ferramenta selecion\u00e1vel permanece ativa at\u00e9 que fique \"n\u00e3o selecionada\". Por padr\u00e3o, este valor \u00e9 false e significa que a ferramenta executa algo que n\u00e3o precisa mudar sele\u00e7\u00e3o da ferramenta ativa. defaultOfCategory - Booleano onde true significa que esta ferramenta \u00e9 a padr\u00e3o da categoria que est\u00e1 e que ela ser\u00e1 utilizada quando o usu\u00e1rio clicar na categoria. O padr\u00e3o \u00e9 false. dontFocus - Booleano onde true significa que a ferramenta n\u00e3o deve ser focada como ferramenta padr\u00e3o da categoria ap\u00f3s o usu\u00e1rio clicar nela. O padr\u00e3o \u00e9 false. DontFocus n\u00e3o funciona se selectable estiver ativo. callback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o usu\u00e1rio ativar/clicar esta ferramenta. (OPCIONAL) deactivationCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando esta ferramenta estava selecionada e o usu\u00e1rio selecionou outra. Este callback \u00e9 chamado apenas se a ferramenta for do tipo \"selecion\u00e1vel\" e o Scene espera que sua ferramenta pare de fazer o que ela faz quando selecionada. Retorno: Esta fun\u00e7\u00e3o retorna um n\u00famero identificador do ToolButton no scene. Este mesmo valor pode ser utilizado posteriormente na fun\u00e7\u00e3o removeToolButton . viewport:removeToolButton(toolID) Remove um bot\u00e3o ferramenta que foi previamente adicionado pela fun\u00e7\u00e3o addToolButton . Par\u00e2metros: toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. viewport:checkToolButton(toolID[, checked]) Marca ou desmarca um ToolButton. A marca\u00e7\u00e3o \u00e9 uma mera indica\u00e7\u00e3o visual para o usu\u00e1rio entender que o Tool est\u00e1 ativo de alguma forma. Podem existir mais de 1 ToolButton marcados ao mesmo tempo. Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. (OPCIONAL) checked - Um booleano, onde true significa marcar o tool button e false significa desmarcar o tool button. Se n\u00e3o informado, true ser\u00e1 utilizado como padr\u00e3o. viewport:isToolButtonChecked(toolID) Retorna se um determinado ToolButto est\u00e1 marcado. A marca\u00e7\u00e3o \u00e9 uma mera indica\u00e7\u00e3o visual para o usu\u00e1rio entender que o Tool est\u00e1 ativo de alguma forma. Podem existir mais de 1 ToolButton marcados ao mesmo tempo. Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. Retorno: Um Boolean, onde true significa que o toolbutton est\u00e1 marcado. viewport:selectDefaultToolButton() Seleciona a Ferramenta/Tool Button padr\u00e3o. Pode existir apenas uma ferramenta selecionada ao mesmo tempo e representa a ferramenta que o usu\u00e1rio est\u00e1 trabalhando no momento. A ferramenta padr\u00e3o normalmente \u00e9 a de \"selecionar/movimentar\" itens do scene. viewport:selectToolButton(toolID) Seleciona a Ferramenta/Tool Button especificada pelo padr\u00e3o. Pode existir apenas uma ferramenta selecionada ao mesmo tempo e representa a ferramenta que o usu\u00e1rio est\u00e1 trabalhando no momento. Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. viewport:showForm(form[, options]) Exibe uma janela na interface do usu\u00e1rio na forma de um Popup flutuante acima do viewport do scene. Par\u00e2metros: form - O formul\u00e1rio a ser exibido na interface. Deve ser um objeto Lua Form j\u00e1 instanciado. (OPCIONAL) options - Uma tabela/objeto LUA contendo as op\u00e7\u00f5es da exibi\u00e7\u00e3o do popup. As op\u00e7\u00f5es s\u00e3o: onClose - [function, padr\u00e3o = nil] - Uma fun\u00e7\u00e3o lua que ser\u00e1 invocada quando o popup for fechado. placement - [string enumerado] - Onde o popup ser\u00e1 exibido.. Os poss\u00edveis valores s\u00e3o: \"center\" - no centro da tela \"bottom\" - na parte de baixo da tela \"top\" - na parte de cima da tela \"left\" - \u00e0 esquerda na tela \"right\" - \u00e0 direita na tela \"topLeft\" - no canto superior esquerdo da tela \"topRight - no canto superior direito da tela \"bottomLeft\" - no canto inferior esquerdo da tela \"bottomRight\" - no canto inferior direito da tela \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. nil ou n\u00e3o informado - Posi\u00e7\u00e3o personalizada. Retorno: Se conseguir exibir o form como um popup no viewport, retorna true ; Sen\u00e3o retorna false . Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o popup fechar para retornar. Ap\u00f3s esta chamada, o c\u00f3digo LUA continuar\u00e1 sua execu\u00e7\u00e3o normal enquanto o form \u00e9 mostrado. viewport:closeForm(form) Fecha uma janela popup que foi previamente aberta pela da fun\u00e7\u00e3o viewport:showPopup. Par\u00e2metros: form - O formul\u00e1rio a ser fechado/tirado da interface. Deve ser um objeto Lua Form j\u00e1 instanciado Retorno: Se conseguir fechar o form, retorna true ; Sen\u00e3o retorna false . viewport:needRepaint() Informa ao RRPG que o Scene precisa ser redesenhado. M\u00e9todos para renderiza\u00e7\u00e3o Todos os m\u00e9todos listados abaixos s\u00e3o v\u00e1lidos APENAS dentro de eventos \"onBeforeDraw\"s e \"OnAfterDraw\"s M\u00e9todo Descri\u00e7\u00e3o viewport:prepareFill(color) Prepara o viewport para renderizar o preenchimento de pol\u00edgonos com uma cor s\u00f3lida. Par\u00e2metros: color - uma cadeia de caracteres contendo uma cor . Observa\u00e7\u00f5es: Ap\u00f3s chamar este m\u00e9todo, os m\u00e9todos viewport:fill*** utilizar\u00e3o esta cor no desenho. viewport:prepareDraw(color [, thickness, strokeCap, strokeJoin, strokeDash]) Prepara o viewport para renderizar o contorno de pol\u00edgonos com uma cor s\u00f3lida. Par\u00e2metros: color - uma cadeia de caracteres contendo uma cor . (OPCIONAL) thickness - A espessura do contorno m\u00e9trica de tela . Se omitido, o valor padr\u00e3o \u00e9 1.0; (OPCIONAL) strokeCap - Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas. Pode ser \"flat\" (linhas com pontas retangulares) ou \"round\" (linhas com pontas arredondadas). Se omitido, o valor padr\u00e3o \u00e9 \"flat\". (OPCIONAL) strokeJoin - Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma. Pode ser \"miter\" (As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\"), \"round\" (As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas) ou \"bevel\" (As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal). Se omitido, o valor padr\u00e3o \u00e9 \"miter\" (OPCIONAL) strokeDash - Define o estilo gr\u00e1fico da linha. Pode ser \"solid\" (A linha \u00e9 s\u00f3lida), \"dash\" (A linha \u00e9 tracejada), \"dot\" (A linha \u00e9 feita de pontos), \"dashDot\" (A linha \u00e9 alternada entre tra\u00e7os e pontos), ou \"dashDotDot\" (A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto). Se omitido, o valor padr\u00e3o \u00e9 \"solid\" Observa\u00e7\u00f5es: Ap\u00f3s chamar este m\u00e9todo, os m\u00e9todos viewport:draw*** utilizar\u00e3o estas configura\u00e7\u00f5es. viewport:prepareFont(size [,fontName, bold, italic, underline]) Prepara o viewport para preencher textos com uma determinada fonte. Par\u00e2metros: size - Um n\u00famero contendo o tamanho da fonte. Ex: 12 (OPCIONAL) fontName - O nome da fonte a ser usada. Se nil , uma fonte padr\u00e3o ser\u00e1 utilizada. (OPCIONAL) bold - True se desejar que a fonte esteja em negrito. (OPCIONAL) italic - True se desejar que a fonte esteja em it\u00e1lico. (OPCIONAL) underline - True se desejar que a fonte esteja sublinhada. viewport:fillRect(left, top, right, bottom[, opacity]) Desenha o preenchimento de um ret\u00e2ngulo na tela do scene. Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:fillEllipse(left, top, right, bottom[, opacity]) Desenha o preenchimento de uma elipse/figura oval na tela do scene. Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor da elipse, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:fillPolygon(polygon[, opacity]) Desenha o preenchimento de um pol\u00edgono na tela do scene. Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y, e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor do pol\u00edgono, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:fillACell(i, j [, opacity]) Desenha o preenchimento de uma c\u00e9lula do grid do scene. Par\u00e2metros: i - a posi\u00e7\u00e3o i da c\u00e9lula \"Aij\" j - a posi\u00e7\u00e3o j da c\u00e9lula \"Aij\" (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:drawRect(left, top, right, bottom[, opacity]) Desenha o contorno de um ret\u00e2ngulo na tela do scene. Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareDraw\" viewport:drawEllipse(left, top, right, bottom[, opacity]) Desenha o contorno de uma elipse/figura oval na tela do scene. Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor da elipse, invoque primeiro o m\u00e9todo \"prepareDraw\" viewport:drawLine(startX, startY, endX, endY [,opacity]) Desenha uma linha na tela do scene. Par\u00e2metros: startX - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve se originar. startY - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde a linha deve se originar. endX - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve finalizar. endY - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve finalizar. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. viewport:textSize(txt) Calcula o tamanho do texto usando a fonte configurada no viewport. Par\u00e2metros: txt - A cadeia de caracteres que ser\u00e1 medida. Retorno: x - A largura do texto em m\u00e9trica de tela y - A altura do texto em m\u00e9trica de tela Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\" viewport:fillText(x, y, txt [, opacity]) Desenha um texto no scene. Par\u00e2metros: x - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. y - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. txt - A cadeia de caracteres que ser\u00e1 desenhada. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\" Para definir o material/cor do texto, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:fillTextFit(x, y, right, bottom, txt[, horzTextAlign, vertTextAlign, , opacity]) Desenha um texto no scene de forma a fazer cabe-lo da melhor forma em um ret\u00e2ngulo definido. Par\u00e2metros: x - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. y - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. right - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. txt - A cadeia de caracteres que ser\u00e1 desenhada. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\" Para definir o material/cor do texto, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:pushRenderState() Salva as configura\u00e7\u00f5es atuais de renderiza\u00e7\u00e3o para que possam ser restauradas mais tardes usando popRenderState. Observa\u00e7\u00e3o: Para cada chamada de pushRenderState, deve haver uma chamada de popRenderState. viewport:popRenderState() Restaura as configura\u00e7\u00f5es de renderiza\u00e7\u00e3o previamente salvadas pelo m\u00e9todo pushRenderState. Observa\u00e7\u00e3o: Para cada chamada de pushRenderState, deve haver uma chamada de popRenderState. viewport:pushRotationTransform(angle, centerX, centerY) Empurra uma transforma\u00e7\u00e3o de rota\u00e7\u00e3o no viewport. Par\u00e2metros: angle - Angulo em graus da rota\u00e7\u00e3o que deve ser feita. centerX - Posi\u00e7\u00e3o do piv\u00f4 de rota\u00e7\u00e3o no eixo X em m\u00e9trica de tela. centerY - Posi\u00e7\u00e3o do piv\u00f4 de rota\u00e7\u00e3o no eixo Y em m\u00e9trica de tela. Observa\u00e7\u00f5es: As pr\u00f3ximas renderiza\u00e7\u00f5es ser\u00e3o rotacionadas com esta configura\u00e7\u00e3o at\u00e9 a chamada de popTransform. Para cada chamada de pushRotationTransform deve haver uma chamada de popTransform. viewport:pushWorldToScreenTransform(); Empurra uma transforma\u00e7\u00e3o de coordenadas em m\u00e9trica de mundo para m\u00e9trica de tela no viewport. Ap\u00f3s a chamada desta fun\u00e7\u00e3o, todos os m\u00e9todos de desenho entender\u00e3o que as coordenadas passadas est\u00e3o em m\u00e9trica de mundo. Observa\u00e7\u00f5es: Para cada chamada de pushWorldToScreenTransform deve haver uma chamada de popTransform. viewport:popTransform(); Remove do viewport a \u00faltima transforma\u00e7\u00e3o que havia sido empurrada. Eventos Nome do evento Descri\u00e7\u00e3o onChange Evento que \u00e9 disparado quando o Viewport do scene mudar. As seguintes situa\u00e7\u00f5es disparam este evento: Altera\u00e7\u00e3o no tamanho da tela (propriedades width e height) Altera\u00e7\u00e3o no scroll do viewport (propriedades worldX e worldY) Altera\u00e7\u00e3o no zoom do viewport (propriedade scale) onMouseDown Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 pressionado sobre o Viewport ou quando o dedo toca a tela (touchscreen). Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi pressionado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 pressionado (touchscreen), este valor \u00e9 \u201cleft\u201d e isTouch = true. x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde o mouse foi pressionado. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde o mouse foi pressionado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. onMouseMove Este evento \u00e9 invocado quando o mouse se movimenta pelo viewport ou quando o dedo (touchscreen) \u00e9 arrastado pelo viewport. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando para onde o mouse moveu. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando para onde o mouse moveu. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. onMouseUp Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 liberado sobre o Viewport ou quando o dedo solta da tela (touchscreen). Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi liberado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 levantado (touchscreen), este valor \u00e9 \u201cleft\u201d e isTouch = true. x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde o mouse foi liberado. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde o mouse foi liberado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. onMouseDblClick Este evento \u00e9 invocado quando o usu\u00e1rio realiza a a\u00e7\u00e3o duplo clique com o mouse sobre o Viewport. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde ocorreu o duplo clique. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde ocorreu o duplo clique. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. Observa\u00e7\u00e3o: Este evento \u00e9 disparado junto com onMouseDown e onMouseUp na seguinte ordem: Mouse Down -> Mouse Up -> Mouse Down -> Dbl Click -> Mouse Up onMouseWheel Este evento \u00e9 invocado quando a \"rodinha\" do mouse \u00e9 \u00e9 rolada sobre o Viewport. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: delta - Um n\u00famero que indica a distancia que a roda foi rodada. Se for positivo, significa que a rodinha foi rolada para cima e se for negativo significa que ela foi rolada para baixo. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Se seu evento controlou adequadamente este evento e n\u00e3o quer que nenhum outro plug-in tente manipular mais este evento, retorne explicitamente true usando \"return true;\" onFallbackMouseWheel Id\u00eantico ao evento onMouseWheel, por\u00e9m \u00e9 chamado apenas quando nenhum c\u00f3digo tratar o evento onMouseWheel. onGestureBeginZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de zoom. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou zoom, apenas destacou sua inten\u00e7\u00e3o de o fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de zoom. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. delta - Um n\u00famero contendo a dist\u00e2ncia em m\u00e9trica de tela do zoom desejado. Se negativo, \u00e9 um gesto de zoom out. Este valor \u00e9 a varia\u00e7\u00e3o da dist\u00e2ncia deste o \u00faltimo evento onGestureZoom. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureEndZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de zoom. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio j\u00e1 realizou todo zoom que queria fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureBeginRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de rota\u00e7\u00e3o. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou rota\u00e7\u00e3o, apenas destacou sua inten\u00e7\u00e3o de o fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de rota\u00e7\u00e3o. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. angle - N\u00famero contendo o \u00e2ngulo da rota\u00e7\u00e3o em graus. Valor positivo significa rota\u00e7\u00e3o em sentido anti-hor\u00e1rio, valor negativo em sentido hor\u00e1rio. Este valor \u00e9 a varia\u00e7\u00e3o do \u00e2ngulo deste o \u00faltimo evento onGestureRotation. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureEndRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de rota\u00e7\u00e3o. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio j\u00e1 realizou toda rota\u00e7\u00e3o que queria fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureBeginPan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de deslize/scroll. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou deslizamento, apenas destacou sua inten\u00e7\u00e3o de o fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGesturePan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de deslize/scroll. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Este representa onde, no viewport, est\u00e1 o ponteiro/dedo. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Este representa onde, no viewport, est\u00e1 o ponteiro/dedo. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureEndPan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de deslize/scroll. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureLongTap Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de longTap (pressionar e segurar por algum tempo) Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onKeyDown Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 pressionada no Scene. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos key - Cadeia de caracteres contendo a letra do teclado que foi pressionada keyCode \u2013 C\u00f3digo num\u00e9rico da tecla que foi pressionada (algumas teclas, como F7, por exemplo, n\u00e3o representam uma letra, da\u00ed a necessidade do keyCode) shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Se voc\u00ea alterar o valor de key e/ou keyCode, a mudan\u00e7a \u00e9 incorporada. Caso queira suprimir/ignorar a tecla que acabou de ser pressionada, atribua event.key = \"\" e event.keyCode = 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser um atalho, ent\u00e3o event.key vir\u00e1 com valor \"\" (string vazio) e event.keyCode com valor diferente de 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser tratada como um caractere exib\u00edvel, event.key vira com uma string contendo apenas este caracter e event.keyCode vir\u00e1 com valor igual a 0. onKeyUp Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 liberada. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m as mesmas propriedades descritas no evento onKeyDown mas com informa\u00e7\u00f5es sobre a tecla liberada. onBeforeDrawBkgLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado antes do RRPG pintar a camada background do scene. onBeforeDrawGridLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado depois do RRPG pintar a camada background e antes de pintar o grid do scene. onBeforeDrawObjsLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado depois do RRPG pintar o grid e antes de pintar a camada objetos do scene. onBeforeDrawTokensLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado depois do RRPG pintar a camada objetos e antes de pintar a camada tokens do scene. onAfterDrawLayers Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado depois do RRPG pintar a camada tokens. onStartDrop Evento que \u00e9 chamado quando algu\u00e9m arrasta uma informa\u00e7\u00e3o (drag) em cima do scene e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do tabuleiro. Par\u00e2metros: drop - Objeto Drop o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X, em m\u00e9trica de tela , de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y, em m\u00e9trica de tela , de onde o drop est\u00e1 tentando ser feito. drag - Objeto Drag representando a informa\u00e7\u00e3o que est\u00e1 sendo arrastada. Voc\u00ea n\u00e3o deve alterar as propriedades deste objeto. Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop. Exemplos Exemplo 1 - Um plugin que detecta quando o Viewport de um scene muda require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) scene.viewport.onChange = function () local r = scene.viewport:screenToWorld({left=0, top=0, right=scene.viewport.width, bottom=scene.viewport.height}); local texto = \"O Viewport mudou.. \\n \" .. \"Dimens\u00f5es da tela: \" .. scene.viewport.width .. \" por \" .. scene.viewport.height .. \" \\n \" .. \"Posicao do Scroll: \" .. scene.viewport.worldX .. \" por \" .. scene.viewport.worldY .. \" \\n \" .. \"Regi\u00e3o do Scene que \u00e9 exibido neste viewport: \" .. string.format(\"[(left %f, top %f)(right %f, bottom %f)]\", r.left, r.top, r.right, r.bottom); showMessage(texto); end ; end ); Exemplo 2 - Um plug-in que descobre em qual c\u00e9lula do grid o usu\u00e1rio clicou require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse scene.viewport.onMouseUp = function (event) -- Converter coordenada de tela do click para coordenada de mundo local wx, wy = scene.viewport:screenToWorld(event.x, event.y); -- Converter coordenada de mundo para coordenada do grid local i, j = scene.grid:worldToCell(wx, wy); -- Exibir uma Mensagem sobre a c\u00e9lula clicada * showMessage(\"Click na c\u00e9lula [Linha \" .. i .. \", Coluna \" .. j .. \"]\"); end ; end *); Exemplo 3 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene. require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca Created with the Personal Edition of HelpNDoc: Simplify Your Help Documentation Process with a Help Authoring Tool","title":"Objeto SceneViewport"},{"location":"ObjetoSceneViewport/#objeto-sceneviewport","text":"","title":"Objeto SceneViewport"},{"location":"ObjetoSceneViewport/#objeto-sceneviewport_1","text":"O Objeto Viewport representa a tela do usu\u00e1rio, a janela de exibi\u00e7\u00e3o, onde o scene est\u00e1 sendo renderizado. O Viewport de um scene pode ser obtido atrav\u00e9s da propriedade \" viewport \" do objeto Scene","title":"Objeto SceneViewport"},{"location":"ObjetoSceneViewport/#heranca","text":"O o bjeto SceneViewport herda de SceneBaseObject e possui tamb\u00e9m todas as suas caracter\u00edsticas.","title":"Heran\u00e7a"},{"location":"ObjetoSceneViewport/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o objeto SceneViewport tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoSceneViewport/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o scene Objeto Scene (Somente Leitura) Cont\u00e9m o Objeto Scene que este Viewport renderiza. width Double (Somente Leitura) Contem a LARGURA em M\u00e9trica de Tela do viewport, isto \u00e9, da janela onde o scene est\u00e1 sendo renderizado. height Double (Somente Leitura) Contem a ALTURA em M\u00e9trica de Tela do viewport, isto \u00e9, da janela onde o scene est\u00e1 sendo renderizado. worldX Double Define, em M\u00e9trica de Mundo , em qual posi\u00e7\u00e3o do eixo X do mundo o ponto (X: 0, Y: 0) da tela aponta. As propriedades \"worldX\" e \"worldY\" servem para fazer \"scroll\" no scene. Se quiser fazer um scroll para a direita, por exemplo, incrementa-se o valor de worldX. Se quiser fazer um scroll para cima, decrementa-se o valor de worldY; Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene. worldY Double Define, em M\u00e9trica de Mundo , em qual posi\u00e7\u00e3o do eixo Y do mundo o ponto (X: 0, Y: 0) da tela aponta. As propriedades \"worldX\" e \"worldY\" servem para fazer \"scroll\" no scene. Se quiser fazer um scroll para a direita, por exemplo, incrementa-se o valor de worldX. Se quiser fazer um scroll para cima, decrementa-se o valor de worldY; Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene. scale Double Define a escala entre a M\u00e9trica do Mundo e a M\u00e9trica da Tela do Scene. Em outras palavras, esta propriedade controla o \"zoom\" do Scene. Exemplo: Um valor 32.0 significa que cada unidade m\u00e9trica do mundo ocupam 32 unidades m\u00e9tricas de tela. Se quiser, por exemplo, efetuar um zoom+ no scene, incrementa-se \"scale\". Se quiser reduzir o zoom pela metade, divide-se por dois o valor de \"scale\". Este \u00e9 um valor local e n\u00e3o \u00e9 compartilhado com os outros usu\u00e1rios que est\u00e3o visualizando o mesmo scene. cursor Enumerado: \"default\" \"arrow\" \"handPoint\" \"hourGlass\" \"IBeam\" \"size\" \"sizeNESW\" \"sizeNS\" \"sizeNWSE\" \"sizeWE\" \"upArrow\" \"drag\" \"noDrop\" \"hSplit\" \"vSplit\" \"multiDrag\" \"sqlWait\" \"no\" \"appStart\" \"help\" \"cross\" Define qual cursor de mouse deve ser apresentado quando o mouse estiver em em cima do viewport do scene. \"default\" - Cursor padr\u00e3o, uma seta padr\u00e3o. \"arrow\" - Uma seta padr\u00e3o. \"handPoint\" - Uma m\u00e3o com um dedo apontando para cima. Normalmente \u00e9 usado para identificar um item selecion\u00e1vel/clic\u00e1vel \"hourGlass\" - Uma ampulheta para indicar um processo em andamento. \"IBeam\" - Cursor que sinaliza a possibilidade de entrar com texto no controle. \"size\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento. \"sizeNESW\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Nordeste-Sudoeste \"sizeNS\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Norte-Sul \"sizeNWSE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Noroeste-Sudeste \"sizeWE\" - Indica\u00e7\u00e3o de possibilidade de redimensionamento no sentido Leste-Oeste \"upArrow\" - Uma seta apontando para cima. \"drag\" - Um cursor indicando que itens est\u00e3o sendo arrastados. \"noDrop\" - Indica\u00e7\u00e3o de que n\u00e3o \u00e9 poss\u00edvel arrastar para este alvo. \"hSplit\" - Indica\u00e7\u00e3o de splitter horizontal \"vSplit\" - Indica\u00e7\u00e3o de splitter vertical. \"multiDrag\" - Indica\u00e7\u00e3o de que v\u00e1rios itens est\u00e3o sendo arrastados. \"sqlWait\" - Ampulheta indicando um processo de banco de dados em andamento. \"no\" - Uma indica\u00e7\u00e3o de nega\u00e7\u00e3o, de que n\u00e3o \u00e9 poss\u00edvel fazer algo. \"appStart\" - Combina\u00e7\u00e3o de \"default\" e \"hourGlass\", normalmente usado para indicar que um aplicativo est\u00e1 sendo aberto. \"help\" - Uma seta com um ponto de interroga\u00e7\u00e3o. \"cross\" - Um cursor em formato de cruz, usado para indicar um posicionamento preciso.","title":"Propriedades e atributos"},{"location":"ObjetoSceneViewport/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o viewport:screenToWorld(screenX, screenY) Converte uma posi\u00e7\u00e3o definida em m\u00e9tricas de tela em uma posi\u00e7\u00e3o definida em m\u00e9tricas de mundo . Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ponto (screenX, screenY) da tela do usu\u00e1rio representa qual ponto (worldX, worldY) do tabuleiro? Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport. Par\u00e2metros: screenX - a posi\u00e7\u00e3o do eixo X do ponto da tela screenY - a posi\u00e7\u00e3o do eixo Y do ponto da tela Retorno: Esta fun\u00e7\u00e3o retorna 2 valores na seguinte ordem: worldX e worldY contendo o ponto convertido em m\u00e9tricas de mundo. Exemplo de uso: local worldX, worldY = scene.viewport:screenToWorld(10, 50); viewport:screenToWorld(screenRect) Converte um ret\u00e2ngulo definido em m\u00e9tricas de tela em um ret\u00e2ngulo definido em m\u00e9tricas de mundo . Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ret\u00e2ngulo \"screenRect\" da tela do usu\u00e1rio representa qual ret\u00e2ngulo do tabuleiro? Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport. Par\u00e2metros: screenRect - Uma tabela SceneRect contendo o ret\u00e2ngulo que ser\u00e1 convertido. Retorno: Uma tabela SceneRect contendo o ret\u00e2ngulo convertido em m\u00e9tricas de mundo. viewport:worldToScreen(worldX, worldY) Converte uma posi\u00e7\u00e3o definida em m\u00e9tricas de mundo em uma posi\u00e7\u00e3o definida em m\u00e9tricas de tela . Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ponto (worldX, worldY) do mundo do scene fica em qual posi\u00e7\u00e3o (screenX, screenY) na tela do usu\u00e1rio? Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport. Par\u00e2metros: worldX - a posi\u00e7\u00e3o do eixo X do mundo do scene. worldY - a posi\u00e7\u00e3o do eixo Y do mundo do scene. Retorno: Esta fun\u00e7\u00e3o retorna 2 valores na seguinte ordem: screenX e screenY contendo o ponto convertido em m\u00e9tricas de tela . Exemplo de uso: local screenX, screenY = scene.viewport:worldToScreen(3, 4.5); viewport:worldToScreen(worldRect) Converte um ret\u00e2ngulo definido em m\u00e9tricas de mundo em um ret\u00e2ngulo definido em m\u00e9tricas de tela . Em outras palavras, esta fun\u00e7\u00e3o responde a seguinte pergunta: O ret\u00e2ngulo \"worldRect\" do mundo do scene ocupa qual ret\u00e2ngulo da tela do usu\u00e1rio? Esta convers\u00e3o leva em considera\u00e7\u00e3o o \"scroll\" e o \"zoom\" (propriedades worldX, worldY e scale) do Viewport. Par\u00e2metros: worldRect - Uma tabela SceneRect contendo o ret\u00e2ngulo que ser\u00e1 convertido. Retorno: Uma tabela SceneRect contendo o ret\u00e2ngulo convertido em m\u00e9tricas de tela. viewport:getScrollBounds() Retorna os limites de scroll para os valores worldX e worldY. Retorno: Esta fun\u00e7\u00e3o retorna 4 valores num\u00e9ricos na seguinte ordem e defini\u00e7\u00e3o: minX - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldX ficar menor que este valor. minY - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldY ficar menor que este valor; maxX - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldX ficar maior que este valor. maxY - Um n\u00famero. O scene n\u00e3o deixa a propriedade worldY ficar maior que este valor. Exemplo de uso: local minX, minY, maxX, maxY = viewport:getScrollBounds(); viewport:setupToolCategory(name, title, order) Atualiza ou cria uma categoria de ferramentas no Scene. Par\u00e2metros: name - Uma cadeia de caracteres contendo o nome da categoria. Este nome pode ser referenciado depois pela fun\u00e7\u00e3o addToolButton title - Uma cadeia de caracteres contendo a descri\u00e7\u00e3o/t\u00edtulo da categoria. order - Um n\u00famero definindo a ordem da categoria. Esta categoria ser\u00e1 exibida depois/abaixo de outra categoria de ordem menor. (A grosso modo, quem tiver n\u00famero de ordem menor fica na frente) viewport:addToolButton(categoryName, title, iconURL, order, options, callback [, deactivationCallback]) Adiciona um bot\u00e3o-ferramenta ao Scene. Par\u00e2metros: categoryName - O nome da categoria em que o bot\u00e3o deve ser inserido. Este \u00e9 o mesmo nome usado na fun\u00e7\u00e3o setupToolCategory . Se for especificado uma categoria inexistente, ela ser\u00e1 criada. title - Cadeia de caracteres contendo o t\u00edtulo do bot\u00e3o. iconURL - Cadeia de caracteres contendo o endere\u00e7o/caminho de uma imagem que ser\u00e1 utilizada como \u00edcone da ferramenta. Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. order - Um n\u00famero contendo a ordem do bot\u00e3o em sua categoria. A grosso modo, quem tiver um n\u00famero de ordem menor fica na frente. options - nil ou uma tabela LUA podendo conter os seguintes atributos: \"selectable\" - Booleano, onde true significa que a ferramenta \u00e9 uma ferramenta selecion\u00e1vel. Uma ferramenta selecion\u00e1vel permanece ativa at\u00e9 que fique \"n\u00e3o selecionada\". Por padr\u00e3o, este valor \u00e9 false e significa que a ferramenta executa algo que n\u00e3o precisa mudar sele\u00e7\u00e3o da ferramenta ativa. defaultOfCategory - Booleano onde true significa que esta ferramenta \u00e9 a padr\u00e3o da categoria que est\u00e1 e que ela ser\u00e1 utilizada quando o usu\u00e1rio clicar na categoria. O padr\u00e3o \u00e9 false. dontFocus - Booleano onde true significa que a ferramenta n\u00e3o deve ser focada como ferramenta padr\u00e3o da categoria ap\u00f3s o usu\u00e1rio clicar nela. O padr\u00e3o \u00e9 false. DontFocus n\u00e3o funciona se selectable estiver ativo. callback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando o usu\u00e1rio ativar/clicar esta ferramenta. (OPCIONAL) deactivationCallback - Uma fun\u00e7\u00e3o que ser\u00e1 chamada quando esta ferramenta estava selecionada e o usu\u00e1rio selecionou outra. Este callback \u00e9 chamado apenas se a ferramenta for do tipo \"selecion\u00e1vel\" e o Scene espera que sua ferramenta pare de fazer o que ela faz quando selecionada. Retorno: Esta fun\u00e7\u00e3o retorna um n\u00famero identificador do ToolButton no scene. Este mesmo valor pode ser utilizado posteriormente na fun\u00e7\u00e3o removeToolButton . viewport:removeToolButton(toolID) Remove um bot\u00e3o ferramenta que foi previamente adicionado pela fun\u00e7\u00e3o addToolButton . Par\u00e2metros: toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. viewport:checkToolButton(toolID[, checked]) Marca ou desmarca um ToolButton. A marca\u00e7\u00e3o \u00e9 uma mera indica\u00e7\u00e3o visual para o usu\u00e1rio entender que o Tool est\u00e1 ativo de alguma forma. Podem existir mais de 1 ToolButton marcados ao mesmo tempo. Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. (OPCIONAL) checked - Um booleano, onde true significa marcar o tool button e false significa desmarcar o tool button. Se n\u00e3o informado, true ser\u00e1 utilizado como padr\u00e3o. viewport:isToolButtonChecked(toolID) Retorna se um determinado ToolButto est\u00e1 marcado. A marca\u00e7\u00e3o \u00e9 uma mera indica\u00e7\u00e3o visual para o usu\u00e1rio entender que o Tool est\u00e1 ativo de alguma forma. Podem existir mais de 1 ToolButton marcados ao mesmo tempo. Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. Retorno: Um Boolean, onde true significa que o toolbutton est\u00e1 marcado. viewport:selectDefaultToolButton() Seleciona a Ferramenta/Tool Button padr\u00e3o. Pode existir apenas uma ferramenta selecionada ao mesmo tempo e representa a ferramenta que o usu\u00e1rio est\u00e1 trabalhando no momento. A ferramenta padr\u00e3o normalmente \u00e9 a de \"selecionar/movimentar\" itens do scene. viewport:selectToolButton(toolID) Seleciona a Ferramenta/Tool Button especificada pelo padr\u00e3o. Pode existir apenas uma ferramenta selecionada ao mesmo tempo e representa a ferramenta que o usu\u00e1rio est\u00e1 trabalhando no momento. Par\u00e2metros: toolID - toolID - Um n\u00famero identificador do ToolButton. Este valor \u00e9 retornado pela fun\u00e7\u00e3o addToolButton. viewport:showForm(form[, options]) Exibe uma janela na interface do usu\u00e1rio na forma de um Popup flutuante acima do viewport do scene. Par\u00e2metros: form - O formul\u00e1rio a ser exibido na interface. Deve ser um objeto Lua Form j\u00e1 instanciado. (OPCIONAL) options - Uma tabela/objeto LUA contendo as op\u00e7\u00f5es da exibi\u00e7\u00e3o do popup. As op\u00e7\u00f5es s\u00e3o: onClose - [function, padr\u00e3o = nil] - Uma fun\u00e7\u00e3o lua que ser\u00e1 invocada quando o popup for fechado. placement - [string enumerado] - Onde o popup ser\u00e1 exibido.. Os poss\u00edveis valores s\u00e3o: \"center\" - no centro da tela \"bottom\" - na parte de baixo da tela \"top\" - na parte de cima da tela \"left\" - \u00e0 esquerda na tela \"right\" - \u00e0 direita na tela \"topLeft\" - no canto superior esquerdo da tela \"topRight - no canto superior direito da tela \"bottomLeft\" - no canto inferior esquerdo da tela \"bottomRight\" - no canto inferior direito da tela \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. nil ou n\u00e3o informado - Posi\u00e7\u00e3o personalizada. Retorno: Se conseguir exibir o form como um popup no viewport, retorna true ; Sen\u00e3o retorna false . Observa\u00e7\u00f5es: A fun\u00e7\u00e3o n\u00e3o espera o popup fechar para retornar. Ap\u00f3s esta chamada, o c\u00f3digo LUA continuar\u00e1 sua execu\u00e7\u00e3o normal enquanto o form \u00e9 mostrado. viewport:closeForm(form) Fecha uma janela popup que foi previamente aberta pela da fun\u00e7\u00e3o viewport:showPopup. Par\u00e2metros: form - O formul\u00e1rio a ser fechado/tirado da interface. Deve ser um objeto Lua Form j\u00e1 instanciado Retorno: Se conseguir fechar o form, retorna true ; Sen\u00e3o retorna false . viewport:needRepaint() Informa ao RRPG que o Scene precisa ser redesenhado.","title":"M\u00e9todos"},{"location":"ObjetoSceneViewport/#metodos-para-renderizacao","text":"Todos os m\u00e9todos listados abaixos s\u00e3o v\u00e1lidos APENAS dentro de eventos \"onBeforeDraw\"s e \"OnAfterDraw\"s M\u00e9todo Descri\u00e7\u00e3o viewport:prepareFill(color) Prepara o viewport para renderizar o preenchimento de pol\u00edgonos com uma cor s\u00f3lida. Par\u00e2metros: color - uma cadeia de caracteres contendo uma cor . Observa\u00e7\u00f5es: Ap\u00f3s chamar este m\u00e9todo, os m\u00e9todos viewport:fill*** utilizar\u00e3o esta cor no desenho. viewport:prepareDraw(color [, thickness, strokeCap, strokeJoin, strokeDash]) Prepara o viewport para renderizar o contorno de pol\u00edgonos com uma cor s\u00f3lida. Par\u00e2metros: color - uma cadeia de caracteres contendo uma cor . (OPCIONAL) thickness - A espessura do contorno m\u00e9trica de tela . Se omitido, o valor padr\u00e3o \u00e9 1.0; (OPCIONAL) strokeCap - Define o estilo gr\u00e1fico usado ao desenhar o fim das linhas. Pode ser \"flat\" (linhas com pontas retangulares) ou \"round\" (linhas com pontas arredondadas). Se omitido, o valor padr\u00e3o \u00e9 \"flat\". (OPCIONAL) strokeJoin - Define o estilo gr\u00e1fico usado ao juntar segmentos de linha em uma forma. Pode ser \"miter\" (As quinas/jun\u00e7\u00f5es s\u00e3o \"quadradas\"), \"round\" (As quinas/jun\u00e7\u00f5es s\u00e3o arredondadas) ou \"bevel\" (As quintas/jun\u00e7\u00f5es s\u00e3o ligadas de forma diagonal). Se omitido, o valor padr\u00e3o \u00e9 \"miter\" (OPCIONAL) strokeDash - Define o estilo gr\u00e1fico da linha. Pode ser \"solid\" (A linha \u00e9 s\u00f3lida), \"dash\" (A linha \u00e9 tracejada), \"dot\" (A linha \u00e9 feita de pontos), \"dashDot\" (A linha \u00e9 alternada entre tra\u00e7os e pontos), ou \"dashDotDot\" (A linha \u00e9 alternada entre tra\u00e7o, ponto e ponto). Se omitido, o valor padr\u00e3o \u00e9 \"solid\" Observa\u00e7\u00f5es: Ap\u00f3s chamar este m\u00e9todo, os m\u00e9todos viewport:draw*** utilizar\u00e3o estas configura\u00e7\u00f5es. viewport:prepareFont(size [,fontName, bold, italic, underline]) Prepara o viewport para preencher textos com uma determinada fonte. Par\u00e2metros: size - Um n\u00famero contendo o tamanho da fonte. Ex: 12 (OPCIONAL) fontName - O nome da fonte a ser usada. Se nil , uma fonte padr\u00e3o ser\u00e1 utilizada. (OPCIONAL) bold - True se desejar que a fonte esteja em negrito. (OPCIONAL) italic - True se desejar que a fonte esteja em it\u00e1lico. (OPCIONAL) underline - True se desejar que a fonte esteja sublinhada. viewport:fillRect(left, top, right, bottom[, opacity]) Desenha o preenchimento de um ret\u00e2ngulo na tela do scene. Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:fillEllipse(left, top, right, bottom[, opacity]) Desenha o preenchimento de uma elipse/figura oval na tela do scene. Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor da elipse, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:fillPolygon(polygon[, opacity]) Desenha o preenchimento de um pol\u00edgono na tela do scene. Par\u00e2metros: polygon - Um array de tabelas que cont\u00e9m propriedades x e y, e cada cada item do array representando um v\u00e9rtice do pol\u00edgono. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor do pol\u00edgono, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:fillACell(i, j [, opacity]) Desenha o preenchimento de uma c\u00e9lula do grid do scene. Par\u00e2metros: i - a posi\u00e7\u00e3o i da c\u00e9lula \"Aij\" j - a posi\u00e7\u00e3o j da c\u00e9lula \"Aij\" (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:drawRect(left, top, right, bottom[, opacity]) Desenha o contorno de um ret\u00e2ngulo na tela do scene. Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde o ret\u00e2ngulo deve ser preenchido. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor do ret\u00e2ngulo, invoque primeiro o m\u00e9todo \"prepareDraw\" viewport:drawEllipse(left, top, right, bottom[, opacity]) Desenha o contorno de uma elipse/figura oval na tela do scene. Par\u00e2metros: left - Posi\u00e7\u00e3o esquerda (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. top - Posi\u00e7\u00e3o superior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. right - Posi\u00e7\u00e3o direita (no eixo X) em m\u00e9trica de tela de onde a elipse deve ser preenchida. bottom - Posi\u00e7\u00e3o inferior (no eixo Y) em m\u00e9trica de tela de onde a elipse deve ser preenchida. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir o material/cor da elipse, invoque primeiro o m\u00e9todo \"prepareDraw\" viewport:drawLine(startX, startY, endX, endY [,opacity]) Desenha uma linha na tela do scene. Par\u00e2metros: startX - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve se originar. startY - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde a linha deve se originar. endX - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve finalizar. endY - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde a linha deve finalizar. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. viewport:textSize(txt) Calcula o tamanho do texto usando a fonte configurada no viewport. Par\u00e2metros: txt - A cadeia de caracteres que ser\u00e1 medida. Retorno: x - A largura do texto em m\u00e9trica de tela y - A altura do texto em m\u00e9trica de tela Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\" viewport:fillText(x, y, txt [, opacity]) Desenha um texto no scene. Par\u00e2metros: x - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. y - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. txt - A cadeia de caracteres que ser\u00e1 desenhada. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\" Para definir o material/cor do texto, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:fillTextFit(x, y, right, bottom, txt[, horzTextAlign, vertTextAlign, , opacity]) Desenha um texto no scene de forma a fazer cabe-lo da melhor forma em um ret\u00e2ngulo definido. Par\u00e2metros: x - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. y - Posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. right - Posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o texto deve come\u00e7ar a ser desenhado. txt - A cadeia de caracteres que ser\u00e1 desenhada. (OPCIONAL) opacity - Um n\u00famero entre 0.0 e 1.0 definindo a opacidade do desenho, onde 0.0 = totalmente transparente e 1.0 = totalmente opaco. Se este par\u00e2metro n\u00e3o for informado, ser\u00e1 utilizado 1.0. Observa\u00e7\u00f5es: Para definir a fonte, invoque primeiro o m\u00e9todo \"prepareFont\" Para definir o material/cor do texto, invoque primeiro o m\u00e9todo \"prepareFill\" viewport:pushRenderState() Salva as configura\u00e7\u00f5es atuais de renderiza\u00e7\u00e3o para que possam ser restauradas mais tardes usando popRenderState. Observa\u00e7\u00e3o: Para cada chamada de pushRenderState, deve haver uma chamada de popRenderState. viewport:popRenderState() Restaura as configura\u00e7\u00f5es de renderiza\u00e7\u00e3o previamente salvadas pelo m\u00e9todo pushRenderState. Observa\u00e7\u00e3o: Para cada chamada de pushRenderState, deve haver uma chamada de popRenderState. viewport:pushRotationTransform(angle, centerX, centerY) Empurra uma transforma\u00e7\u00e3o de rota\u00e7\u00e3o no viewport. Par\u00e2metros: angle - Angulo em graus da rota\u00e7\u00e3o que deve ser feita. centerX - Posi\u00e7\u00e3o do piv\u00f4 de rota\u00e7\u00e3o no eixo X em m\u00e9trica de tela. centerY - Posi\u00e7\u00e3o do piv\u00f4 de rota\u00e7\u00e3o no eixo Y em m\u00e9trica de tela. Observa\u00e7\u00f5es: As pr\u00f3ximas renderiza\u00e7\u00f5es ser\u00e3o rotacionadas com esta configura\u00e7\u00e3o at\u00e9 a chamada de popTransform. Para cada chamada de pushRotationTransform deve haver uma chamada de popTransform. viewport:pushWorldToScreenTransform(); Empurra uma transforma\u00e7\u00e3o de coordenadas em m\u00e9trica de mundo para m\u00e9trica de tela no viewport. Ap\u00f3s a chamada desta fun\u00e7\u00e3o, todos os m\u00e9todos de desenho entender\u00e3o que as coordenadas passadas est\u00e3o em m\u00e9trica de mundo. Observa\u00e7\u00f5es: Para cada chamada de pushWorldToScreenTransform deve haver uma chamada de popTransform. viewport:popTransform(); Remove do viewport a \u00faltima transforma\u00e7\u00e3o que havia sido empurrada.","title":"M\u00e9todos para renderiza\u00e7\u00e3o"},{"location":"ObjetoSceneViewport/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Evento que \u00e9 disparado quando o Viewport do scene mudar. As seguintes situa\u00e7\u00f5es disparam este evento: Altera\u00e7\u00e3o no tamanho da tela (propriedades width e height) Altera\u00e7\u00e3o no scroll do viewport (propriedades worldX e worldY) Altera\u00e7\u00e3o no zoom do viewport (propriedade scale) onMouseDown Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 pressionado sobre o Viewport ou quando o dedo toca a tela (touchscreen). Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi pressionado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 pressionado (touchscreen), este valor \u00e9 \u201cleft\u201d e isTouch = true. x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde o mouse foi pressionado. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde o mouse foi pressionado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. onMouseMove Este evento \u00e9 invocado quando o mouse se movimenta pelo viewport ou quando o dedo (touchscreen) \u00e9 arrastado pelo viewport. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando para onde o mouse moveu. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando para onde o mouse moveu. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. onMouseUp Este evento \u00e9 invocado quando um bot\u00e3o do mouse \u00e9 liberado sobre o Viewport ou quando o dedo solta da tela (touchscreen). Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: button \u2013 indica qual bot\u00e3o do mouse foi liberado, e pode conter um dos seguintes valores: \u201cleft\u201d, \u201cmiddle\u201d ou \u201cright\u201d... Quando o dedo \u00e9 levantado (touchscreen), este valor \u00e9 \u201cleft\u201d e isTouch = true. x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde o mouse foi liberado. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde o mouse foi liberado. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. onMouseDblClick Este evento \u00e9 invocado quando o usu\u00e1rio realiza a a\u00e7\u00e3o duplo clique com o mouse sobre o Viewport. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: x \u2013 posi\u00e7\u00e3o X em m\u00e9trica de tela indicando onde ocorreu o duplo clique. y \u2013 posi\u00e7\u00e3o Y em m\u00e9trica de tela indicando onde ocorreu o duplo clique. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. isTouch - true se este evento foi disparado por causa de um dedo em um display touchscreen. Observa\u00e7\u00e3o: Este evento \u00e9 disparado junto com onMouseDown e onMouseUp na seguinte ordem: Mouse Down -> Mouse Up -> Mouse Down -> Dbl Click -> Mouse Up onMouseWheel Este evento \u00e9 invocado quando a \"rodinha\" do mouse \u00e9 \u00e9 rolada sobre o Viewport. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos: delta - Um n\u00famero que indica a distancia que a roda foi rodada. Se for positivo, significa que a rodinha foi rolada para cima e se for negativo significa que ela foi rolada para baixo. shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Se seu evento controlou adequadamente este evento e n\u00e3o quer que nenhum outro plug-in tente manipular mais este evento, retorne explicitamente true usando \"return true;\" onFallbackMouseWheel Id\u00eantico ao evento onMouseWheel, por\u00e9m \u00e9 chamado apenas quando nenhum c\u00f3digo tratar o evento onMouseWheel. onGestureBeginZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de zoom. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou zoom, apenas destacou sua inten\u00e7\u00e3o de o fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de zoom. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. delta - Um n\u00famero contendo a dist\u00e2ncia em m\u00e9trica de tela do zoom desejado. Se negativo, \u00e9 um gesto de zoom out. Este valor \u00e9 a varia\u00e7\u00e3o da dist\u00e2ncia deste o \u00faltimo evento onGestureZoom. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureEndZoom Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de zoom. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 do zoom. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio j\u00e1 realizou todo zoom que queria fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureBeginRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de rota\u00e7\u00e3o. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou rota\u00e7\u00e3o, apenas destacou sua inten\u00e7\u00e3o de o fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de rota\u00e7\u00e3o. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. angle - N\u00famero contendo o \u00e2ngulo da rota\u00e7\u00e3o em graus. Valor positivo significa rota\u00e7\u00e3o em sentido anti-hor\u00e1rio, valor negativo em sentido hor\u00e1rio. Este valor \u00e9 a varia\u00e7\u00e3o do \u00e2ngulo deste o \u00faltimo evento onGestureRotation. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureEndRotation Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de rota\u00e7\u00e3o. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. y - N\u00famero, a posi\u00e7\u00e3o CENTRAL no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado. Esta posi\u00e7\u00e3o \u00e9 o piv\u00f4 da rota\u00e7\u00e3o. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio j\u00e1 realizou toda rota\u00e7\u00e3o que queria fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureBeginPan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, come\u00e7a a realizar um gesto de deslize/scroll. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi iniciado. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi iniciado. Observa\u00e7\u00f5es: Neste momento, o usu\u00e1rio ainda n\u00e3o realizou deslizamento, apenas destacou sua inten\u00e7\u00e3o de o fazer. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGesturePan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de deslize/scroll. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. Este representa onde, no viewport, est\u00e1 o ponteiro/dedo. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Este representa onde, no viewport, est\u00e1 o ponteiro/dedo. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureEndPan Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, finaliza um gesto de deslize/scroll. Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi finalizado. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi finalizado. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onGestureLongTap Este evento \u00e9 invocado quando o usu\u00e1rio, utilizando o TouchScreen e seus dedos, realiza um gesto de longTap (pressionar e segurar por algum tempo) Par\u00e2metros: x - N\u00famero, a posi\u00e7\u00e3o no eixo X em m\u00e9trica de tela de onde o gesto foi realizado. y - N\u00famero, a posi\u00e7\u00e3o no eixo Y em m\u00e9trica de tela de onde o gesto foi realizado. Retorne explicitamente true para indicar ao Scene que voc\u00ea j\u00e1 lidou com este evento e nenhum outro script precisa se preocupar com ele. onKeyDown Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 pressionada no Scene. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m os seguintes atributos key - Cadeia de caracteres contendo a letra do teclado que foi pressionada keyCode \u2013 C\u00f3digo num\u00e9rico da tecla que foi pressionada (algumas teclas, como F7, por exemplo, n\u00e3o representam uma letra, da\u00ed a necessidade do keyCode) shiftKey - true se a tecla shift estiver pressionada tamb\u00e9m ctrlKey - true se a tecla control estiver pressionada tamb\u00e9m altKey - true se a tecla alt estiver pressionada tamb\u00e9m. Observa\u00e7\u00f5es: Se voc\u00ea alterar o valor de key e/ou keyCode, a mudan\u00e7a \u00e9 incorporada. Caso queira suprimir/ignorar a tecla que acabou de ser pressionada, atribua event.key = \"\" e event.keyCode = 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser um atalho, ent\u00e3o event.key vir\u00e1 com valor \"\" (string vazio) e event.keyCode com valor diferente de 0. Se a combina\u00e7\u00e3o de teclas pressionada puder ser tratada como um caractere exib\u00edvel, event.key vira com uma string contendo apenas este caracter e event.keyCode vir\u00e1 com valor igual a 0. onKeyUp Este evento \u00e9 invocado quando uma tecla (teclado) \u00e9 liberada. Par\u00e2metros: event - uma tabela Lua que cont\u00e9m as mesmas propriedades descritas no evento onKeyDown mas com informa\u00e7\u00f5es sobre a tecla liberada. onBeforeDrawBkgLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado antes do RRPG pintar a camada background do scene. onBeforeDrawGridLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado depois do RRPG pintar a camada background e antes de pintar o grid do scene. onBeforeDrawObjsLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado depois do RRPG pintar o grid e antes de pintar a camada objetos do scene. onBeforeDrawTokensLayer Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado depois do RRPG pintar a camada objetos e antes de pintar a camada tokens do scene. onAfterDrawLayers Evento de renderiza\u00e7\u00e3o. Quando estiver neste evento, utilize os m\u00e9todos de renderiza\u00e7\u00e3o do viewport para realizar pinturas na tela do usu\u00e1rio. N\u00e3o realize tarefas pesadas neste evento! Este evento \u00e9 invocado depois do RRPG pintar a camada tokens. onStartDrop Evento que \u00e9 chamado quando algu\u00e9m arrasta uma informa\u00e7\u00e3o (drag) em cima do scene e voc\u00ea deseja informar quais a\u00e7\u00f5es ou dados existem em um determinado ponto do tabuleiro. Par\u00e2metros: drop - Objeto Drop o qual voc\u00ea deve preencher as informa\u00e7\u00f5es para o RRPG acasalar o drag com o drop. x - Numero contendo a posi\u00e7\u00e3o do eixo X, em m\u00e9trica de tela , de onde o drop est\u00e1 tentando ser feito. y - Numero contendo a posi\u00e7\u00e3o do eixo y, em m\u00e9trica de tela , de onde o drop est\u00e1 tentando ser feito. drag - Objeto Drag representando a informa\u00e7\u00e3o que est\u00e1 sendo arrastada. Voc\u00ea n\u00e3o deve alterar as propriedades deste objeto. Por favor, consulte Arrastando-e-Soltando Informa\u00e7\u00f5es / Drag and Drop para conhecer melhor sobre o processo drag and drop.","title":"Eventos"},{"location":"ObjetoSceneViewport/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoSceneViewport/#exemplo-1-um-plugin-que-detecta-quando-o-viewport-de-um-scene-muda","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) scene.viewport.onChange = function () local r = scene.viewport:screenToWorld({left=0, top=0, right=scene.viewport.width, bottom=scene.viewport.height}); local texto = \"O Viewport mudou.. \\n \" .. \"Dimens\u00f5es da tela: \" .. scene.viewport.width .. \" por \" .. scene.viewport.height .. \" \\n \" .. \"Posicao do Scroll: \" .. scene.viewport.worldX .. \" por \" .. scene.viewport.worldY .. \" \\n \" .. \"Regi\u00e3o do Scene que \u00e9 exibido neste viewport: \" .. string.format(\"[(left %f, top %f)(right %f, bottom %f)]\", r.left, r.top, r.right, r.bottom); showMessage(texto); end ; end );","title":"Exemplo 1 - Um plugin que detecta quando o Viewport de um scene muda"},{"location":"ObjetoSceneViewport/#exemplo-2-um-plug-in-que-descobre-em-qual-celula-do-grid-o-usuario-clicou","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento onMouseUp do Viewport afim de detectar o click do mouse scene.viewport.onMouseUp = function (event) -- Converter coordenada de tela do click para coordenada de mundo local wx, wy = scene.viewport:screenToWorld(event.x, event.y); -- Converter coordenada de mundo para coordenada do grid local i, j = scene.grid:worldToCell(wx, wy); -- Exibir uma Mensagem sobre a c\u00e9lula clicada * showMessage(\"Click na c\u00e9lula [Linha \" .. i .. \", Coluna \" .. j .. \"]\"); end ; end *);","title":"Exemplo 2 - Um plug-in que descobre em qual c\u00e9lula do grid o usu\u00e1rio clicou"},{"location":"ObjetoSceneViewport/#exemplo-3-um-plug-in-que-adicionaremove-uma-marca-personalizada-quando-o-usuario-clica-nos-itens-do-scene","text":"require(\"scene.lua\"); SceneLib.registerPlugin( function (scene, attachment) -- Manipular o evento OnMouseDown do Viewport scene.viewport.onMouseDown = function (event) -- Usu\u00e1rio clicou no Scene -- Transformar as coordenadas de tela em m\u00e9trica de mundo local worldX, worldY = scene.viewport:screenToWorld(event.x, event.y); -- Localizar o item que o usu\u00e1rio clicou local item = scene.items:itemAtPoint(worldX, worldY); if item ~= nil then -- Encontrou um item na posi\u00e7\u00e3o clicada. * local NOME_MINHA_MARCA = \"MarcaExemplo\"; -- Localizar uma opera\u00e7\u00e3o gr\u00e1fica neste item com o nosso nome local opGrafica = item.canvas:findByName(NOME_MINHA_MARCA); if opGrafica == nil then --[[ A opera\u00e7\u00e3o gr\u00e1fica da minha marca ainda n\u00e3o existe neste token/item. Vamos criar ]] opGrafica = item.canvas:addBitmap(); opGrafica.name = NOME_MINHA_MARCA; -- Abaixo, URL da imagem da nossa marca. opGrafica.url = \"https://wiki.teamfortress.com/w/images/d/dd/Bleed_drop.png?t=20110425044341\"; opGrafica.x = 0.25; opGrafica.width = 0.3; opGrafica.y = -0.1; opGrafica.height = 0.3; opGrafica.z = 10; else -- Vamos apagar nossa opera\u00e7\u00e3o gr\u00e1fica previamente criada opGrafica:delete(); end ; end ; end ; end *); Item sem a marca Item com a marca Created with the Personal Edition of HelpNDoc: Simplify Your Help Documentation Process with a Help Authoring Tool","title":"Exemplo 3 - Um plug-in que adiciona/remove uma marca personalizada quando o usu\u00e1rio clica nos itens do scene."},{"location":"ObjetoStream/","text":"Objeto Stream Objeto Stream Um objeto stream cont\u00e9m uma sequ\u00eancia de dados gen\u00e9ricos, possui um in\u00edcio e um fim e voc\u00ea estar\u00e1 sempre em algum lugar entre estes dois pontos. Usando stream, voc\u00ea pode ler e/ou escrever em v\u00e1rios tipos de armazenamentos, como um arquivo, uma mem\u00f3ria din\u00e2mica, etc.. Um stream representa uma sequ\u00eancia de BYTES que podem ser acessadas de forma sequencial ou aleat\u00f3ria (isto \u00e9, voc\u00ea pode ler o inicio de um stream, pular para seu final para ler mais dados, voltar ao meio do stream, etc..) Exemplos de opera\u00e7\u00f5es t\u00edpicas em um stream: Ler 1 byte. Da pr\u00f3xima vez que voc\u00ea ler, voc\u00ea obter\u00e1 o byte posterior, e assim por diante. Ler v\u00e1rios bytes Mover a posi\u00e7\u00e3o atual do cursor no stream para, da pr\u00f3xima vez que voc\u00ea ler, obter os bytes \u00e0 partir desta nova posi\u00e7\u00e3o. Escrever 1 byte. Escrever v\u00e1rios bytes. Formas de instanciar um objeto stream Existem v\u00e1rias maneiras de obter um objeto stream. Algumas delas s\u00e3o: Criar um stream tempor\u00e1rio que reside na mem\u00f3ria RAM atrav\u00e9s da fun\u00e7\u00e3o utils.newMemoryStream Criar um stream tempor\u00e1rio que reside no HD do dispositivo atrav\u00e9s da fun\u00e7\u00e3o utils.newTempFileStream Abrir ou criar um arquivo no HD virtual usando a fun\u00e7\u00e3o vhd.openFile Baixar um conte\u00fado da internet atrav\u00e9s da fun\u00e7\u00e3o internet.download Realizar uma requisi\u00e7\u00e3o HTTP e obter a resposta atrav\u00e9s da propriedade responseStream do objeto HTTPRequest Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o size Integer Cont\u00e9m o tamanho atual do stream em quantidade de bytes. position Integer A posi\u00e7\u00e3o do cursor do stream. onde o valor 0 representa o primeiro byte do stream. Todas as opera\u00e7\u00f5es de leitura e escrita s\u00e3o feitas nesta posi\u00e7\u00e3o. remainingBytes Integer Quantos bytes ainda podem ser lidos no stream \u00e0 partir da posi\u00e7\u00e3o atual. md5 String Uma cadeia de caracteres contendo o Hash MD5 de todo o conte\u00fado do stream. O Hash \u00e9 calculado na hora de obter o valor da propriedade. sha1 String Uma cadeia de caracteres contendo o Hash SHA1 de todo o conte\u00fado do stream. O Hash \u00e9 calculado na hora de obter o valor da propriedade. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o stream:read(destArray, qtBytes) Efetua a leitura de bytes \u00e0 partir da position atual do stream. Par\u00e2metros: destArray - Uma tabela lua que receber\u00e1 os bytes lidos do stream. Os valores s\u00e3o armazenados em \u00edndices de 1 a N, onde N = quantidade de bytes lidos. qtBytes - Um n\u00famero contendo a quantidade de bytes que devem ser lidos \u00e0 partir desta posi\u00e7\u00e3o. Retorno: Um n\u00famero contendo quantos bytes realmente foram lidos do stream e preenchidos em destArray Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes lidos. Nem sempre \u00e9 poss\u00edvel ler a quantidade de bytes informada no par\u00e2metro qtBytes. Voc\u00ea DEVE analisar o n\u00famero retornado pela fun\u00e7\u00e3o a fim de saber quantos bytes realmente foram lidos. stream:write(sourceArray [, qtBytes]) Efetua a escrita de bytes na position atual do stream. Par\u00e2metros: sourceArray - Uma tabela lua que cont\u00e9m os bytes que devem ser escritos no stream. Os valores devem estar armazenados em \u00edndices de 1 a N, onde N = quantidade de bytes que ser\u00e3o escritos. (OPCIONAL) qtBytes - Quantos bytes do sourceArray devem ser escritos no stream. Se omitido, o length do array (#sourceArray) ser\u00e1 usado. Retorno: Um n\u00famero contendo quantos bytes realmente foram escritos no stream. Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes escritos. Os valores em sourceArray devem ser n\u00fameros! Para cada valor em sourceArray, se for menor que 0, o byte 0 ser\u00e1 gravado e se for maior que 255, o byte 255 ser\u00e1 gravado. Se em algum dos \u00edndices de sourceArray n\u00e3o contiver um n\u00famero v\u00e1lido, o byte 0 \u00e9 escrito no stream. stream:close() Fecha o stream imediatamente e libera os recursos que foram previamente alocados. Ap\u00f3s esta chamada, nenhuma opera\u00e7\u00e3o do stream estar\u00e1 mais dispon\u00edvel. stream:writeBinary(format, valor1 [, valor2 [, valor3 [, valorN...]]]) Escreve um valor codificado em bin\u00e1rio na posi\u00e7\u00e3o atual do stream. Par\u00e2metros: format - Cadeia de caracteres identificando qual formata\u00e7\u00e3o bin\u00e1ria deve ser usada. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os poss\u00edveis formatos. valor1 - O valor a ser codificado e escrito (OPCIONAL) valor2, valor3, valorN, etc... - Outros valores que tamb\u00e9m devem ser codificados e escritos no stream. Retorno: Um n\u00famero contendo quantos bytes foram escritos no stream. Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes escritos. stream:readBinary(format [, qt]) Efetua a leitura de valores codificados em bin\u00e1rio na posi\u00e7\u00e3o atual do stream. Par\u00e2metros: format - Cadeia de caracteres identificando em qual formata\u00e7\u00e3o bin\u00e1ria o valor est\u00e1 codificado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os poss\u00edveis formatos. (OPCIONAL) qt - Um n\u00famero identificando QUANTOS valores codificados devem ser lidos. Se omitido, o valor 1 ser\u00e1 utilizado. Retorno: Retorna os valores decodificados ou nil se n\u00e3o foi poss\u00edvel decodificar. Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes lidos Se especificado os formatos \"ansi', \"utf8\" ou \"utf16\", todo o restando do stream \u00e9 lido como uma cadeia de caracteres e o par\u00e2metro \"qt\" \u00e9 ignorado como se o valor 1 tivesse sido passado para ele. stream:readAsBase64([qtBytes]) L\u00ea bytes do stream e retorna uma cadeia de caracteres representando os dados codificados em Base64. Par\u00e2metros: (OPCIONAL) qtBytes - Um n\u00famero definindo quantos bytes do stream devem ser lidos \u00e0 partir da posi\u00e7\u00e3o atual e codificados. Se omitido, o restante dos dados do stream ser\u00e1 lido. Retorno: Uma cadeia de caracteres representando os dados codificados em Base64 stream:writeBase64(str) Decodifica dados previamente codificados em Base64 e os escreve na posi\u00e7\u00e3o atual do stream. Par\u00e2metros: str - Uma cadeia de caracteres contendo os dados codificados em Base64. Retorno: Um n\u00famero contendo quantos bytes foram escritos no Stream. stream:copyFrom(stream, qtBytes) Copia o conte\u00fado de um outro objeto stream dentro deste stream. Par\u00e2metros: stream - um objeto stream de onde os dados ser\u00e3o copiados. qtBytes - um n\u00famero representando quantos bytes ser\u00e3o copiados \u00e0 partir da posi\u00e7\u00e3o atual do par\u00e2metro \"stream\". Retorno: Um n\u00famero contendo quantos bytes realmente foram copiados para este stream. Exemplos Exemplo 1 - ..... Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Objeto Stream"},{"location":"ObjetoStream/#objeto-stream","text":"","title":"Objeto Stream"},{"location":"ObjetoStream/#objeto-stream_1","text":"Um objeto stream cont\u00e9m uma sequ\u00eancia de dados gen\u00e9ricos, possui um in\u00edcio e um fim e voc\u00ea estar\u00e1 sempre em algum lugar entre estes dois pontos. Usando stream, voc\u00ea pode ler e/ou escrever em v\u00e1rios tipos de armazenamentos, como um arquivo, uma mem\u00f3ria din\u00e2mica, etc.. Um stream representa uma sequ\u00eancia de BYTES que podem ser acessadas de forma sequencial ou aleat\u00f3ria (isto \u00e9, voc\u00ea pode ler o inicio de um stream, pular para seu final para ler mais dados, voltar ao meio do stream, etc..) Exemplos de opera\u00e7\u00f5es t\u00edpicas em um stream: Ler 1 byte. Da pr\u00f3xima vez que voc\u00ea ler, voc\u00ea obter\u00e1 o byte posterior, e assim por diante. Ler v\u00e1rios bytes Mover a posi\u00e7\u00e3o atual do cursor no stream para, da pr\u00f3xima vez que voc\u00ea ler, obter os bytes \u00e0 partir desta nova posi\u00e7\u00e3o. Escrever 1 byte. Escrever v\u00e1rios bytes.","title":"Objeto Stream"},{"location":"ObjetoStream/#formas-de-instanciar-um-objeto-stream","text":"Existem v\u00e1rias maneiras de obter um objeto stream. Algumas delas s\u00e3o: Criar um stream tempor\u00e1rio que reside na mem\u00f3ria RAM atrav\u00e9s da fun\u00e7\u00e3o utils.newMemoryStream Criar um stream tempor\u00e1rio que reside no HD do dispositivo atrav\u00e9s da fun\u00e7\u00e3o utils.newTempFileStream Abrir ou criar um arquivo no HD virtual usando a fun\u00e7\u00e3o vhd.openFile Baixar um conte\u00fado da internet atrav\u00e9s da fun\u00e7\u00e3o internet.download Realizar uma requisi\u00e7\u00e3o HTTP e obter a resposta atrav\u00e9s da propriedade responseStream do objeto HTTPRequest","title":"Formas de instanciar um objeto stream"},{"location":"ObjetoStream/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"ObjetoStream/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o size Integer Cont\u00e9m o tamanho atual do stream em quantidade de bytes. position Integer A posi\u00e7\u00e3o do cursor do stream. onde o valor 0 representa o primeiro byte do stream. Todas as opera\u00e7\u00f5es de leitura e escrita s\u00e3o feitas nesta posi\u00e7\u00e3o. remainingBytes Integer Quantos bytes ainda podem ser lidos no stream \u00e0 partir da posi\u00e7\u00e3o atual. md5 String Uma cadeia de caracteres contendo o Hash MD5 de todo o conte\u00fado do stream. O Hash \u00e9 calculado na hora de obter o valor da propriedade. sha1 String Uma cadeia de caracteres contendo o Hash SHA1 de todo o conte\u00fado do stream. O Hash \u00e9 calculado na hora de obter o valor da propriedade.","title":"Propriedades e atributos"},{"location":"ObjetoStream/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o stream:read(destArray, qtBytes) Efetua a leitura de bytes \u00e0 partir da position atual do stream. Par\u00e2metros: destArray - Uma tabela lua que receber\u00e1 os bytes lidos do stream. Os valores s\u00e3o armazenados em \u00edndices de 1 a N, onde N = quantidade de bytes lidos. qtBytes - Um n\u00famero contendo a quantidade de bytes que devem ser lidos \u00e0 partir desta posi\u00e7\u00e3o. Retorno: Um n\u00famero contendo quantos bytes realmente foram lidos do stream e preenchidos em destArray Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes lidos. Nem sempre \u00e9 poss\u00edvel ler a quantidade de bytes informada no par\u00e2metro qtBytes. Voc\u00ea DEVE analisar o n\u00famero retornado pela fun\u00e7\u00e3o a fim de saber quantos bytes realmente foram lidos. stream:write(sourceArray [, qtBytes]) Efetua a escrita de bytes na position atual do stream. Par\u00e2metros: sourceArray - Uma tabela lua que cont\u00e9m os bytes que devem ser escritos no stream. Os valores devem estar armazenados em \u00edndices de 1 a N, onde N = quantidade de bytes que ser\u00e3o escritos. (OPCIONAL) qtBytes - Quantos bytes do sourceArray devem ser escritos no stream. Se omitido, o length do array (#sourceArray) ser\u00e1 usado. Retorno: Um n\u00famero contendo quantos bytes realmente foram escritos no stream. Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes escritos. Os valores em sourceArray devem ser n\u00fameros! Para cada valor em sourceArray, se for menor que 0, o byte 0 ser\u00e1 gravado e se for maior que 255, o byte 255 ser\u00e1 gravado. Se em algum dos \u00edndices de sourceArray n\u00e3o contiver um n\u00famero v\u00e1lido, o byte 0 \u00e9 escrito no stream. stream:close() Fecha o stream imediatamente e libera os recursos que foram previamente alocados. Ap\u00f3s esta chamada, nenhuma opera\u00e7\u00e3o do stream estar\u00e1 mais dispon\u00edvel. stream:writeBinary(format, valor1 [, valor2 [, valor3 [, valorN...]]]) Escreve um valor codificado em bin\u00e1rio na posi\u00e7\u00e3o atual do stream. Par\u00e2metros: format - Cadeia de caracteres identificando qual formata\u00e7\u00e3o bin\u00e1ria deve ser usada. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os poss\u00edveis formatos. valor1 - O valor a ser codificado e escrito (OPCIONAL) valor2, valor3, valorN, etc... - Outros valores que tamb\u00e9m devem ser codificados e escritos no stream. Retorno: Um n\u00famero contendo quantos bytes foram escritos no stream. Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes escritos. stream:readBinary(format [, qt]) Efetua a leitura de valores codificados em bin\u00e1rio na posi\u00e7\u00e3o atual do stream. Par\u00e2metros: format - Cadeia de caracteres identificando em qual formata\u00e7\u00e3o bin\u00e1ria o valor est\u00e1 codificado. Veja Formatos Bin\u00e1rios para saber quais s\u00e3o os poss\u00edveis formatos. (OPCIONAL) qt - Um n\u00famero identificando QUANTOS valores codificados devem ser lidos. Se omitido, o valor 1 ser\u00e1 utilizado. Retorno: Retorna os valores decodificados ou nil se n\u00e3o foi poss\u00edvel decodificar. Importante: A position do stream \u00e9 avan\u00e7ada automaticamente ap\u00f3s a chamada desta fun\u00e7\u00e3o conforme a quantidade de bytes lidos Se especificado os formatos \"ansi', \"utf8\" ou \"utf16\", todo o restando do stream \u00e9 lido como uma cadeia de caracteres e o par\u00e2metro \"qt\" \u00e9 ignorado como se o valor 1 tivesse sido passado para ele. stream:readAsBase64([qtBytes]) L\u00ea bytes do stream e retorna uma cadeia de caracteres representando os dados codificados em Base64. Par\u00e2metros: (OPCIONAL) qtBytes - Um n\u00famero definindo quantos bytes do stream devem ser lidos \u00e0 partir da posi\u00e7\u00e3o atual e codificados. Se omitido, o restante dos dados do stream ser\u00e1 lido. Retorno: Uma cadeia de caracteres representando os dados codificados em Base64 stream:writeBase64(str) Decodifica dados previamente codificados em Base64 e os escreve na posi\u00e7\u00e3o atual do stream. Par\u00e2metros: str - Uma cadeia de caracteres contendo os dados codificados em Base64. Retorno: Um n\u00famero contendo quantos bytes foram escritos no Stream. stream:copyFrom(stream, qtBytes) Copia o conte\u00fado de um outro objeto stream dentro deste stream. Par\u00e2metros: stream - um objeto stream de onde os dados ser\u00e3o copiados. qtBytes - um n\u00famero representando quantos bytes ser\u00e3o copiados \u00e0 partir da posi\u00e7\u00e3o atual do par\u00e2metro \"stream\". Retorno: Um n\u00famero contendo quantos bytes realmente foram copiados para este stream.","title":"M\u00e9todos"},{"location":"ObjetoStream/#exemplos","text":"","title":"Exemplos"},{"location":"ObjetoStream/#exemplo-1-","text":"Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Exemplo 1 - ....."},{"location":"ObjetoWrappedObject/","text":"Objeto WrappedObject Objeto WrappedObject Objeto que representa algo no RRPG Firecast, \u00e9 como uma classe pai abstrata e n\u00e3o faz sentido sua exist\u00eancia por si s\u00f3. Exemplo de objetos que s\u00e3o/herdam de WrappedObject: O objeto Mesa \u00e9 um WrappedObject O objeto BibliotecaItem \u00e9 um WrappedObject O objeto Personagem \u00e9 um WrappedObject etc... Caracter\u00edsticas Todos objetos que s\u00e3o WrappedObject possuem as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Descri\u00e7\u00e3o objectID Integer Propriedade somente leitura, cont\u00e9m um n\u00famero \u00fanico \u00e0 qual objeto do RRPG Firecast este WrappedObject representa. objectType String Propriedade somente leitura, cont\u00e9m qual tipo de objeto este WrappedObject representa. Exemplo de valores: \"mesa\" \"jogador\" \"bibliotecaItem\" \"personagem\" \"rolagem\" \"chatBase\" \"object\" isObjectAlive Boolean Propriedade somente leitura, cont\u00e9m \"true\" se o objeto ainda \u00e9 v\u00e1lido no RRPG ou \"false\" se j\u00e1 n\u00e3o \u00e9 mais v\u00e1lido. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o objeto:isType(typeName) Retorna true se o objeto \u00e9 do tipo \"typeName\", sen\u00e3o retorna false. Created with the Personal Edition of HelpNDoc: Free HTML Help documentation generator","title":"Objeto WrappedObject"},{"location":"ObjetoWrappedObject/#objeto-wrappedobject","text":"","title":"Objeto WrappedObject"},{"location":"ObjetoWrappedObject/#objeto-wrappedobject_1","text":"Objeto que representa algo no RRPG Firecast, \u00e9 como uma classe pai abstrata e n\u00e3o faz sentido sua exist\u00eancia por si s\u00f3. Exemplo de objetos que s\u00e3o/herdam de WrappedObject: O objeto Mesa \u00e9 um WrappedObject O objeto BibliotecaItem \u00e9 um WrappedObject O objeto Personagem \u00e9 um WrappedObject etc...","title":"Objeto WrappedObject"},{"location":"ObjetoWrappedObject/#caracteristicas","text":"Todos objetos que s\u00e3o WrappedObject possuem as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"ObjetoWrappedObject/#propriedades-e-atributos","text":"Propriedade Tipo Descri\u00e7\u00e3o objectID Integer Propriedade somente leitura, cont\u00e9m um n\u00famero \u00fanico \u00e0 qual objeto do RRPG Firecast este WrappedObject representa. objectType String Propriedade somente leitura, cont\u00e9m qual tipo de objeto este WrappedObject representa. Exemplo de valores: \"mesa\" \"jogador\" \"bibliotecaItem\" \"personagem\" \"rolagem\" \"chatBase\" \"object\" isObjectAlive Boolean Propriedade somente leitura, cont\u00e9m \"true\" se o objeto ainda \u00e9 v\u00e1lido no RRPG ou \"false\" se j\u00e1 n\u00e3o \u00e9 mais v\u00e1lido.","title":"Propriedades e atributos"},{"location":"ObjetoWrappedObject/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o objeto:isType(typeName) Retorna true se o objeto \u00e9 do tipo \"typeName\", sen\u00e3o retorna false. Created with the Personal Edition of HelpNDoc: Free HTML Help documentation generator","title":"M\u00e9todos"},{"location":"OrientacoesaousarcodigoLUAemumLu/","text":"Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Usando c\u00f3digo LUA em um Lua Form. Voc\u00ea pode usar c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA ) em seus Lua Forms de 2 maneiras: Manipulando eventos das tags - Saiba mais como em Tratando eventos do Lua Form . Usando a Tag script . Mas para usar de forma adequada \u00e9 importante voc\u00ea saber as caracter\u00edsticas e comportamento do c\u00f3digo LUA em um Lua Form. 1 - Inst\u00e2ncias Um Lua Form pode ser instanciado v\u00e1rias vezes (veja Lua Form e Inst\u00e2ncias ), isto \u00e9, \u00e9 perfeitamente poss\u00edvel existir mais de 1 \"c\u00f3pia\" de um Lua Form rodando ao mesmo tempo. Seu c\u00f3digo deve estar apto a lidar com esta situa\u00e7\u00e3o! A vari\u00e1vel \"self\" representa a inst\u00e2ncia do Lua Form em que o c\u00f3digo est\u00e1 executado. 2 - Acessando as tags/controles via programa\u00e7\u00e3o. Cada inst\u00e2ncia do Lua Form possui sua pr\u00f3pria \"c\u00f3pia viva\" das tags e, se voc\u00ea quiser acessar uma tag/controle via programa\u00e7\u00e3o, voc\u00ea precisar\u00e1 identificar de qual Lua Form \u00e9 o controle que deseja ter acesso. Para identificar um controle do pr\u00f3prio Lua Form, voc\u00ea deve usar \"self.\". \\ Em 99% dos casos que precisar acessar as tags via programa\u00e7\u00e3o, voc\u00ea provavelmente usar\u00e1 \"self.\". Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<label name=\"labMeuLabel\" left=\"20\" top=\"20\" text=\"Meu Texto!\" /> \\<button text=\"Clique\" left=\"20\" top=\"50\" onClick=\"self.labMeuLabel.text = 'Cliquei no Bot\u00e3o'\" /> \\</form> Importante: Um erro ocorrer\u00e1 se tentar acessar uma tag/controle sem usar \"self.\" (ou outra forma de identificar o Lua Form). 3 - Declarando fun\u00e7\u00f5es Voc\u00ea pode usar a tag script para declarar fun\u00e7\u00f5es, mas voc\u00ea deve usar o modificador \"local\" nestas fun\u00e7\u00f5es para que n\u00e3o haja confus\u00e3o entre as diversas inst\u00e2ncias do Lua Form. N\u00e3o usar o modificador \"local\" nas declara\u00e7\u00f5es de fun\u00e7\u00f5es causa confus\u00e3o entre as inst\u00e2ncias do form, j\u00e1 que se trataria de uma fun\u00e7\u00e3o global a todas as inst\u00e2ncias. Exemplo de declara\u00e7\u00e3o: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> local function exibirMensagem() local texto = \"\"; for i = 1, 5, 1 do texto = texto .. \"Linha \" .. i .. \"\\n\"; end; showMessage(texto); end; \\</script> \\<button name=\"btnMeuBotao\" text=\"Meu Bot\u00e3o\" onClick=\"exibirMensagem()\" /> \\</form> Voc\u00ea tamb\u00e9m pode declarar fun\u00e7\u00f5es ligadas \u00e0 inst\u00e2ncia para evitar os mesmos problemas: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> function self.exibirMensagem() showMessage('Ol\u00e1 Mundo'); end; \\</script> \\<button onClick=\"self.exibirMensagem();\" /> \\</form> 4 - Acessando o Nodo do NodeDatabase associado \u00e0 inst\u00e2ncia do LuaForm Cada inst\u00e2ncia de LuaForm pode estar associada a um objeto nodo de um NodeDatabase (ver NodeDatabase e Lua Form e NodeDatabase ). A vari\u00e1vel \"sheet\" cont\u00e9m este objeto nodo associado e voc\u00ea pode us\u00e1-lo via programa\u00e7\u00e3o. Exemplo de uso: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button onClick=\"sheet.campoDeForca = 8;\" /> \\</form> Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's WinHelp HLP to CHM conversion feature","title":"Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form"},{"location":"OrientacoesaousarcodigoLUAemumLu/#orientacoes-ao-usar-codigo-lua-em-um-lua-form","text":"","title":"Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form"},{"location":"OrientacoesaousarcodigoLUAemumLu/#usando-codigo-lua-em-um-lua-form","text":"Voc\u00ea pode usar c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA ) em seus Lua Forms de 2 maneiras: Manipulando eventos das tags - Saiba mais como em Tratando eventos do Lua Form . Usando a Tag script . Mas para usar de forma adequada \u00e9 importante voc\u00ea saber as caracter\u00edsticas e comportamento do c\u00f3digo LUA em um Lua Form.","title":"Usando c\u00f3digo LUA em um Lua Form."},{"location":"OrientacoesaousarcodigoLUAemumLu/#-instancias","text":"Um Lua Form pode ser instanciado v\u00e1rias vezes (veja Lua Form e Inst\u00e2ncias ), isto \u00e9, \u00e9 perfeitamente poss\u00edvel existir mais de 1 \"c\u00f3pia\" de um Lua Form rodando ao mesmo tempo. Seu c\u00f3digo deve estar apto a lidar com esta situa\u00e7\u00e3o! A vari\u00e1vel \"self\" representa a inst\u00e2ncia do Lua Form em que o c\u00f3digo est\u00e1 executado.","title":"&#49; - Inst\u00e2ncias"},{"location":"OrientacoesaousarcodigoLUAemumLu/#-acessando-as-tagscontroles-via-programacao","text":"Cada inst\u00e2ncia do Lua Form possui sua pr\u00f3pria \"c\u00f3pia viva\" das tags e, se voc\u00ea quiser acessar uma tag/controle via programa\u00e7\u00e3o, voc\u00ea precisar\u00e1 identificar de qual Lua Form \u00e9 o controle que deseja ter acesso. Para identificar um controle do pr\u00f3prio Lua Form, voc\u00ea deve usar \"self.\". \\ Em 99% dos casos que precisar acessar as tags via programa\u00e7\u00e3o, voc\u00ea provavelmente usar\u00e1 \"self.\". Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<label name=\"labMeuLabel\" left=\"20\" top=\"20\" text=\"Meu Texto!\" /> \\<button text=\"Clique\" left=\"20\" top=\"50\" onClick=\"self.labMeuLabel.text = 'Cliquei no Bot\u00e3o'\" /> \\</form> Importante: Um erro ocorrer\u00e1 se tentar acessar uma tag/controle sem usar \"self.\" (ou outra forma de identificar o Lua Form).","title":"&#50; - Acessando as tags/controles via programa\u00e7\u00e3o."},{"location":"OrientacoesaousarcodigoLUAemumLu/#-declarando-funcoes","text":"Voc\u00ea pode usar a tag script para declarar fun\u00e7\u00f5es, mas voc\u00ea deve usar o modificador \"local\" nestas fun\u00e7\u00f5es para que n\u00e3o haja confus\u00e3o entre as diversas inst\u00e2ncias do Lua Form. N\u00e3o usar o modificador \"local\" nas declara\u00e7\u00f5es de fun\u00e7\u00f5es causa confus\u00e3o entre as inst\u00e2ncias do form, j\u00e1 que se trataria de uma fun\u00e7\u00e3o global a todas as inst\u00e2ncias. Exemplo de declara\u00e7\u00e3o: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> local function exibirMensagem() local texto = \"\"; for i = 1, 5, 1 do texto = texto .. \"Linha \" .. i .. \"\\n\"; end; showMessage(texto); end; \\</script> \\<button name=\"btnMeuBotao\" text=\"Meu Bot\u00e3o\" onClick=\"exibirMensagem()\" /> \\</form> Voc\u00ea tamb\u00e9m pode declarar fun\u00e7\u00f5es ligadas \u00e0 inst\u00e2ncia para evitar os mesmos problemas: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> function self.exibirMensagem() showMessage('Ol\u00e1 Mundo'); end; \\</script> \\<button onClick=\"self.exibirMensagem();\" /> \\</form>","title":"&#51; - Declarando fun\u00e7\u00f5es"},{"location":"OrientacoesaousarcodigoLUAemumLu/#-acessando-o-nodo-do-nodedatabase-associado-a-instancia-do-luaform","text":"Cada inst\u00e2ncia de LuaForm pode estar associada a um objeto nodo de um NodeDatabase (ver NodeDatabase e Lua Form e NodeDatabase ). A vari\u00e1vel \"sheet\" cont\u00e9m este objeto nodo associado e voc\u00ea pode us\u00e1-lo via programa\u00e7\u00e3o. Exemplo de uso: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button onClick=\"sheet.campoDeForca = 8;\" /> \\</form> Created with the Personal Edition of HelpNDoc: Streamline your documentation process with HelpNDoc's WinHelp HLP to CHM conversion feature","title":"&#52; - Acessando o Nodo do NodeDatabase associado \u00e0 inst\u00e2ncia do LuaForm"},{"location":"Permitirousuarioescolherumaimage/","text":"Permitir o usu\u00e1rio escolher uma imagem dentro da ficha Permitir o usu\u00e1rio escolher uma imagem dentro da ficha \u00c9 necess\u00e1rio o usar a tag image , colocar sua propriedade \"editable\" para \"true\" e definir um \"field\" para ela. Adicionalmente, voc\u00ea poder\u00e1 definir a propriedade \"style\" da tag como \"autoFit\" para que o a imagem ocupe todo o espa\u00e7o definido para ela. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<image field=\"imagemDoPersonagem\" editable=\"true\" style=\"autoFit\" left=\"20\" top=\"20\" width=\"200\" height=\"200\" /> \\</form> O usu\u00e1rio poder\u00e1 alterar a imagem quando clicar nela: Veja tamb\u00e9m: Interfaces Visuais (Lua Forms) Lua Form e NodeDatabase Created with the Personal Edition of HelpNDoc: Easily create Qt Help files","title":"Permitir o usu\u00e1rio escolher uma imagem dentro da ficha"},{"location":"Permitirousuarioescolherumaimage/#permitir-o-usuario-escolher-uma-imagem-dentro-da-ficha","text":"","title":"Permitir o usu\u00e1rio escolher uma imagem dentro da ficha"},{"location":"Permitirousuarioescolherumaimage/#permitir-o-usuario-escolher-uma-imagem-dentro-da-ficha_1","text":"\u00c9 necess\u00e1rio o usar a tag image , colocar sua propriedade \"editable\" para \"true\" e definir um \"field\" para ela. Adicionalmente, voc\u00ea poder\u00e1 definir a propriedade \"style\" da tag como \"autoFit\" para que o a imagem ocupe todo o espa\u00e7o definido para ela. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<image field=\"imagemDoPersonagem\" editable=\"true\" style=\"autoFit\" left=\"20\" top=\"20\" width=\"200\" height=\"200\" /> \\</form> O usu\u00e1rio poder\u00e1 alterar a imagem quando clicar nela: Veja tamb\u00e9m: Interfaces Visuais (Lua Forms) Lua Form e NodeDatabase Created with the Personal Edition of HelpNDoc: Easily create Qt Help files","title":"Permitir o usu\u00e1rio escolher uma imagem dentro da ficha"},{"location":"PontoLogicovsPixel/","text":"Ponto L\u00f3gico vs Pixel Ponto L\u00f3gico vs Pixel Todas as dimens\u00f5es ligadas \u00e0 interface do Lua Form s\u00e3o medidas em pontos l\u00f3gicos ao inv\u00e9s de pixels. O que \u00e9 um ponto l\u00f3gico? Ponto l\u00f3gico \u00e9 um \"pixel virtual\" que voc\u00ea deve usar quando estiver definindo as interfaces visuais para expressar tamanho ou posi\u00e7\u00e3o de forma independente da densidade da tela dos dispositivos. O que \u00e9 densidade da tela? Representa a quantidade de pixels dentro de uma \u00e1rea f\u00edsica da tela de um dispositivo. A densidade \u00e9 comumente medida em ppi (points per inch - pontos por polegada). Telas de alta densidade possuem mais pixels em uma \u00e1rea (uma polegada\u00b2 ou cent\u00edmetro\u00b2, por exemplo) do que uma tela de menor densidade em uma mesma \u00e1rea. Quanto maior a densidade de pixels, mais definida e \"bonita\" \u00e9 a tela. Um monitor LED padr\u00e3o de computador desktop possui por volta de 100ppi, um celular Motorolla Moto G possui 326ppi A quanto equivale um ponto l\u00f3gico? O valor real de um ponto l\u00f3gico varia de dispositivo para dispositivo, conforme sua densidade de pixels. Densidade de Pixels Equival\u00eancia Exemplos de dispositivos Interface de baixa densidade de pixels. 1 ponto l\u00f3gico = 0,75 pixels Celulares Androids de baixa densidade de pixels. Interface de m\u00e9dia densidade de pixels. 1 ponto l\u00f3gico = 1 pixel Computadores padr\u00f5es, dispositivos iOS sem retina. Interface de alta densidade de pixels. 1 ponto l\u00f3gico = 1,5 pixels Computadores configurados para textos ampliados, celulares Androids de alta resolu\u00e7\u00e3o (Moto G ou Zenfone, por exemplo). Interface de alt\u00edssima densidade de pixels. 1 ponto l\u00f3gico = 2 pixels Google Nexus 7, dispositivos iOS com retina. Interface de super densidade de pixels. 1 ponto l\u00f3gico = 3 pixels Google Nexus 5, Galaxy S4. O que isso tudo significa? Que o SDK 3 lida automaticamente com as diferentes densidades de telas automaticamente para voc\u00ea. Normalmente voc\u00ea pode definir sua interface sem preocupa\u00e7\u00f5es como se 1 ponto l\u00f3gico equivalesse a 1 pixel. Arquivo de imagens e pontos l\u00f3gicos. Os arquivos de imagens (.png, jpg, bmp, etc..) possuem dimens\u00f5es medidas em pixels. Ao usar estas imagens em uma interface medida em pontos l\u00f3gicos, o SDK3 poder\u00e1 automaticamente fazer convers\u00f5es de tamanho para voc\u00ea. Exemplo: O comportamento de uma imagem de 64x64 pixels usada em uma tag image de largura 64 e altura 64, ser\u00e1 diferente para cada densidade de pixels: Equival\u00eancia Comportamento 1 ponto l\u00f3gico = 0,75 pixels A imagem ser\u00e1 reduzida para 48x48 pixels antes de ser desenhada. 1 ponto l\u00f3gico = 1 pixel A imagem ser\u00e1 desenhada como \u00e9, sem escala. 1 ponto l\u00f3gico = 1,5 pixels A imagem ser\u00e1 ampliada para 96x96 pixels antes de ser desenhada. 1 ponto l\u00f3gico = 2 pixels A imagem ser\u00e1 ampliada para 128x128 pixels antes de ser desenhada. 1 ponto l\u00f3gico = 3 pixels A imagem ser\u00e1 ampliada para 192x192 pixels antes de ser desenhada. Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool","title":"Ponto L\u00f3gico vs Pixel"},{"location":"PontoLogicovsPixel/#ponto-logico-vs-pixel","text":"","title":"Ponto L\u00f3gico vs Pixel"},{"location":"PontoLogicovsPixel/#ponto-logico-vs-pixel_1","text":"Todas as dimens\u00f5es ligadas \u00e0 interface do Lua Form s\u00e3o medidas em pontos l\u00f3gicos ao inv\u00e9s de pixels.","title":"Ponto L\u00f3gico vs Pixel"},{"location":"PontoLogicovsPixel/#o-que-e-um-ponto-logico","text":"Ponto l\u00f3gico \u00e9 um \"pixel virtual\" que voc\u00ea deve usar quando estiver definindo as interfaces visuais para expressar tamanho ou posi\u00e7\u00e3o de forma independente da densidade da tela dos dispositivos.","title":"O que \u00e9 um ponto l\u00f3gico?"},{"location":"PontoLogicovsPixel/#o-que-e-densidade-da-tela","text":"Representa a quantidade de pixels dentro de uma \u00e1rea f\u00edsica da tela de um dispositivo. A densidade \u00e9 comumente medida em ppi (points per inch - pontos por polegada). Telas de alta densidade possuem mais pixels em uma \u00e1rea (uma polegada\u00b2 ou cent\u00edmetro\u00b2, por exemplo) do que uma tela de menor densidade em uma mesma \u00e1rea. Quanto maior a densidade de pixels, mais definida e \"bonita\" \u00e9 a tela. Um monitor LED padr\u00e3o de computador desktop possui por volta de 100ppi, um celular Motorolla Moto G possui 326ppi","title":"O que \u00e9 densidade da tela?"},{"location":"PontoLogicovsPixel/#a-quanto-equivale-um-ponto-logico","text":"O valor real de um ponto l\u00f3gico varia de dispositivo para dispositivo, conforme sua densidade de pixels. Densidade de Pixels Equival\u00eancia Exemplos de dispositivos Interface de baixa densidade de pixels. 1 ponto l\u00f3gico = 0,75 pixels Celulares Androids de baixa densidade de pixels. Interface de m\u00e9dia densidade de pixels. 1 ponto l\u00f3gico = 1 pixel Computadores padr\u00f5es, dispositivos iOS sem retina. Interface de alta densidade de pixels. 1 ponto l\u00f3gico = 1,5 pixels Computadores configurados para textos ampliados, celulares Androids de alta resolu\u00e7\u00e3o (Moto G ou Zenfone, por exemplo). Interface de alt\u00edssima densidade de pixels. 1 ponto l\u00f3gico = 2 pixels Google Nexus 7, dispositivos iOS com retina. Interface de super densidade de pixels. 1 ponto l\u00f3gico = 3 pixels Google Nexus 5, Galaxy S4.","title":"A quanto equivale um ponto l\u00f3gico?"},{"location":"PontoLogicovsPixel/#o-que-isso-tudo-significa","text":"Que o SDK 3 lida automaticamente com as diferentes densidades de telas automaticamente para voc\u00ea. Normalmente voc\u00ea pode definir sua interface sem preocupa\u00e7\u00f5es como se 1 ponto l\u00f3gico equivalesse a 1 pixel.","title":"O que isso tudo significa?"},{"location":"PontoLogicovsPixel/#arquivo-de-imagens-e-pontos-logicos","text":"Os arquivos de imagens (.png, jpg, bmp, etc..) possuem dimens\u00f5es medidas em pixels. Ao usar estas imagens em uma interface medida em pontos l\u00f3gicos, o SDK3 poder\u00e1 automaticamente fazer convers\u00f5es de tamanho para voc\u00ea. Exemplo: O comportamento de uma imagem de 64x64 pixels usada em uma tag image de largura 64 e altura 64, ser\u00e1 diferente para cada densidade de pixels: Equival\u00eancia Comportamento 1 ponto l\u00f3gico = 0,75 pixels A imagem ser\u00e1 reduzida para 48x48 pixels antes de ser desenhada. 1 ponto l\u00f3gico = 1 pixel A imagem ser\u00e1 desenhada como \u00e9, sem escala. 1 ponto l\u00f3gico = 1,5 pixels A imagem ser\u00e1 ampliada para 96x96 pixels antes de ser desenhada. 1 ponto l\u00f3gico = 2 pixels A imagem ser\u00e1 ampliada para 128x128 pixels antes de ser desenhada. 1 ponto l\u00f3gico = 3 pixels A imagem ser\u00e1 ampliada para 192x192 pixels antes de ser desenhada. Created with the Personal Edition of HelpNDoc: Elevate Your Help Documentation with a Help Authoring Tool","title":"Arquivo de imagens e pontos l\u00f3gicos."},{"location":"PosicaoeTamanhodosControles/","text":"Posi\u00e7\u00e3o e Tamanho dos Controles Posi\u00e7\u00e3o e Tamanho dos Controles Toda tag/controle visual possui uma localiza\u00e7\u00e3o expressa com um par de coordenadas left e top , e duas dimens\u00f5es, expressas como width e height (largura e altura), uma geometria que lembra um ret\u00e2ngulo. A unidade destes atributos \u00e9 o \u201cponto l\u00f3gico\u201d (Veja Ponto L\u00f3gico vs Pixel ). A posi\u00e7\u00e3o de cada controle \u00e9 relativa \u00e0 posi\u00e7\u00e3o de seus controles/tags pais. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"30\" color=\"white\" width=\"300\" height=\"300\" > \\<rectangle left=\"20\" top=\"30\" color=\"green\" width=\"200\" height=\"200\" > \\<rectangle left=\"0\" top=\"40\" color=\"red\" width=\"50\" /> \\</rectangle> \\</rectangle> \\</form> O exemplo cont\u00e9m 3 ret\u00e2ngulos: Um vermelho, um verde e um branco. O form \u00e9 pai do ret\u00e2ngulo branco, que \u00e9 pai do ret\u00e2ngulo verde, que por sua vez, \u00e9 pai do vermelho. A posi\u00e7\u00e3o top final e absoluta do quadrado vermelho \u00e9 100, pois \u00e9 a soma das posi\u00e7\u00f5es top relativas (40 + 30 + 30). Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool","title":"Posi\u00e7\u00e3o e Tamanho dos Controles"},{"location":"PosicaoeTamanhodosControles/#posicao-e-tamanho-dos-controles","text":"","title":"Posi\u00e7\u00e3o e Tamanho dos Controles"},{"location":"PosicaoeTamanhodosControles/#posicao-e-tamanho-dos-controles_1","text":"Toda tag/controle visual possui uma localiza\u00e7\u00e3o expressa com um par de coordenadas left e top , e duas dimens\u00f5es, expressas como width e height (largura e altura), uma geometria que lembra um ret\u00e2ngulo. A unidade destes atributos \u00e9 o \u201cponto l\u00f3gico\u201d (Veja Ponto L\u00f3gico vs Pixel ). A posi\u00e7\u00e3o de cada controle \u00e9 relativa \u00e0 posi\u00e7\u00e3o de seus controles/tags pais. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"30\" color=\"white\" width=\"300\" height=\"300\" > \\<rectangle left=\"20\" top=\"30\" color=\"green\" width=\"200\" height=\"200\" > \\<rectangle left=\"0\" top=\"40\" color=\"red\" width=\"50\" /> \\</rectangle> \\</rectangle> \\</form> O exemplo cont\u00e9m 3 ret\u00e2ngulos: Um vermelho, um verde e um branco. O form \u00e9 pai do ret\u00e2ngulo branco, que \u00e9 pai do ret\u00e2ngulo verde, que por sua vez, \u00e9 pai do vermelho. A posi\u00e7\u00e3o top final e absoluta do quadrado vermelho \u00e9 100, pois \u00e9 a soma das posi\u00e7\u00f5es top relativas (40 + 30 + 30). Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool","title":"Posi\u00e7\u00e3o e Tamanho dos Controles"},{"location":"Primeirospassos/","text":"Primeiros passos Primeiros passos Agora que voc\u00ea j\u00e1 instalou um bom editor de texto, voc\u00ea j\u00e1 pode criar seu plug-in. Siga estas orienta\u00e7\u00f5es: Certifique-se se voc\u00ea j\u00e1 baixou e instalou o Firecast SDK 3, pois, sem ele, este passo-a-passo n\u00e3o funcionar\u00e1. Voc\u00ea pode baix\u00e1-lo em https://firecast.app/para-programadores/ \\ Crie um novo projeto de plug-in. Saiba como em Criando um novo projeto de plug-in . Adicione funcionalidades ao seu projeto de plug-in: Deseja fazer um modelo de ficha? Veja Modelos de Fichas . Deseja converter um PDF para um modelo de ficha? Veja o tutorial: Criar um modelo de ficha \u00e0 partir de um PDF Veja tamb\u00e9m Tutoriais para ter mais ideias =). Teste seu plug-in! Saiba como em Testando o projeto de plug-in . Distribua seu plug-in Veja tamb\u00e9m: FAQ - Perguntas Frequentes Created with the Personal Edition of HelpNDoc: Upgrade your help files and your workflow with HelpNDoc's WinHelp HLP to CHM conversion","title":"Primeiros passos"},{"location":"Primeirospassos/#primeiros-passos","text":"","title":"Primeiros passos"},{"location":"Primeirospassos/#primeiros-passos_1","text":"Agora que voc\u00ea j\u00e1 instalou um bom editor de texto, voc\u00ea j\u00e1 pode criar seu plug-in. Siga estas orienta\u00e7\u00f5es: Certifique-se se voc\u00ea j\u00e1 baixou e instalou o Firecast SDK 3, pois, sem ele, este passo-a-passo n\u00e3o funcionar\u00e1. Voc\u00ea pode baix\u00e1-lo em https://firecast.app/para-programadores/ \\ Crie um novo projeto de plug-in. Saiba como em Criando um novo projeto de plug-in . Adicione funcionalidades ao seu projeto de plug-in: Deseja fazer um modelo de ficha? Veja Modelos de Fichas . Deseja converter um PDF para um modelo de ficha? Veja o tutorial: Criar um modelo de ficha \u00e0 partir de um PDF Veja tamb\u00e9m Tutoriais para ter mais ideias =). Teste seu plug-in! Saiba como em Testando o projeto de plug-in . Distribua seu plug-in","title":"Primeiros passos"},{"location":"Primeirospassos/#veja-tambem","text":"FAQ - Perguntas Frequentes Created with the Personal Edition of HelpNDoc: Upgrade your help files and your workflow with HelpNDoc's WinHelp HLP to CHM conversion","title":"Veja tamb\u00e9m:"},{"location":"ProjetosdePlugin/","text":"Projetos de Plug-in Projetos de Plug-in Um projeto de plug-in \u00e9 um diret\u00f3rio no computador que cont\u00e9m todo o c\u00f3digo fonte e arquivos auxiliares que s\u00e3o compilados e empacotados sob a forma de um \u00fanico arquivo de extens\u00e3o \u2018.rpk\u2019, o plug-in . Conte\u00fado: Criando um novo projeto de plug-in Testando o projeto de plug-in Created with the Personal Edition of HelpNDoc: Free EBook and documentation generator","title":"Projetos de Plug-in"},{"location":"ProjetosdePlugin/#projetos-de-plug-in","text":"","title":"Projetos de Plug-in"},{"location":"ProjetosdePlugin/#projetos-de-plug-in_1","text":"Um projeto de plug-in \u00e9 um diret\u00f3rio no computador que cont\u00e9m todo o c\u00f3digo fonte e arquivos auxiliares que s\u00e3o compilados e empacotados sob a forma de um \u00fanico arquivo de extens\u00e3o \u2018.rpk\u2019, o plug-in .","title":"Projetos de Plug-in"},{"location":"ProjetosdePlugin/#conteudo","text":"Criando um novo projeto de plug-in Testando o projeto de plug-in Created with the Personal Edition of HelpNDoc: Free EBook and documentation generator","title":"Conte\u00fado:"},{"location":"Promiseobject/","text":"Promise object Promise object This object represents the eventual outcome of an asynchronous operation and its return data. A promise can be in one of the following state: Pending - The asynchronous operation is still in progress Success - The asynchronous operation concluded with success Failed - The asynchronous operation concluded with error or failure Once a Promise has been resolved to either \u201cSuccess\u201d or \u201cFailed\u201d, its state is sealed along with its associated data or error message Characteristics Properties Propriedade Tipo Descri\u00e7\u00e3o Methods M\u00e9todo Descri\u00e7\u00e3o promise:thenDo(successCallback) Set a continuation callback function that will be called when the Promise resolves to success. Arguments: successCallback - A function that will be called when the Promise resolves to success. The first argument of the callback function will receive the associated success data. Remarks: If the Promise is already in a success state, the successCallback will be called as soon as possible Return: A new Promise object that will be resolved asynchronously with the execution of the successCallback. Example: local promise = Firecast.asyncOpenUserNDB(\"name\"); promise:thenDo( function(node) -- This function will be called when the Promise is resolved -- successfully. The first argument, \"node\", contains the -- Promise success data, which in this case is an opened -- nodeDatabse end); promise:thenDo(successCallback, failureCallback) Set continuation callback functions that will be called when the Promise resolves to success or failure. Arguments: successCallback - A function that will be called if the Promise resolves to success. The first argument of the callback function will receive the associated success data failureCallback - A function that will be called if the Promise resolves to failure. The first argument of the callback function will receive the error message. Remarks: This will monitor the Promise for both success and failure states at the same time If the Promise is already in a success state, the successCallback will be called as soon as possible. If the Promise is already in a failure state, the failureCallback will be called as soon as possible If the \u201csuccessCallback\u201d is called, \u201cfailureCallback\u201d will never be called and vice versa. Return: A new Promise object that will be resolved asynchronously with the execution of either the successCallback or failureCallback Example: local promise = Firecast.asyncOpenUserNDB(\"name\"); promise:thenDo( function(node) -- This function will be called when/if the * -- Promise is resolved successfully. The first argument, * -- \"node\", contains the Promise success data, * -- which in this case is an opened nodeDatabase end, function(errorMsg) -- This function will be called when/if the * -- Promise is resolved to failure. The first argument, * -- \"errorMsg\", contains the associated error message, -- which in this case is the message explaining why -- it was not possible to open the nodeDatabase* end); promise:onError(failureCallback) Set a continuation callback function that will be called when the Promise resolves to failure. Arguments: failureCallback - A function that will be called if the Promise resolves to failure. The first argument of the callback function will receive the error message. Remarks: If the Promise is already in a failure state, the failureCallback will be called as soon as possible Return: A new Promise object that will be resolved asynchronously with the execution of failureCallback Example: local promise = Firecast.asyncOpenUserNDB(\"name\"); promise:onError( function(errorMsg) -- This function will be called when/if the * -- Promise is resolved to failure. The first argument, * -- \"errorMsg\", contains the associated error message, -- which in this case is the message explaining why -- it was not possible to open the nodeDatabase end); Created with the Personal Edition of HelpNDoc: Qt Help documentation made easy","title":"Promise object"},{"location":"Promiseobject/#promise-object","text":"","title":"Promise object"},{"location":"Promiseobject/#promise-object_1","text":"This object represents the eventual outcome of an asynchronous operation and its return data. A promise can be in one of the following state: Pending - The asynchronous operation is still in progress Success - The asynchronous operation concluded with success Failed - The asynchronous operation concluded with error or failure Once a Promise has been resolved to either \u201cSuccess\u201d or \u201cFailed\u201d, its state is sealed along with its associated data or error message","title":"Promise object"},{"location":"Promiseobject/#characteristics","text":"","title":"Characteristics"},{"location":"Promiseobject/#properties","text":"Propriedade Tipo Descri\u00e7\u00e3o","title":"Properties"},{"location":"Promiseobject/#methods","text":"M\u00e9todo Descri\u00e7\u00e3o promise:thenDo(successCallback) Set a continuation callback function that will be called when the Promise resolves to success. Arguments: successCallback - A function that will be called when the Promise resolves to success. The first argument of the callback function will receive the associated success data. Remarks: If the Promise is already in a success state, the successCallback will be called as soon as possible Return: A new Promise object that will be resolved asynchronously with the execution of the successCallback. Example: local promise = Firecast.asyncOpenUserNDB(\"name\"); promise:thenDo( function(node) -- This function will be called when the Promise is resolved -- successfully. The first argument, \"node\", contains the -- Promise success data, which in this case is an opened -- nodeDatabse end); promise:thenDo(successCallback, failureCallback) Set continuation callback functions that will be called when the Promise resolves to success or failure. Arguments: successCallback - A function that will be called if the Promise resolves to success. The first argument of the callback function will receive the associated success data failureCallback - A function that will be called if the Promise resolves to failure. The first argument of the callback function will receive the error message. Remarks: This will monitor the Promise for both success and failure states at the same time If the Promise is already in a success state, the successCallback will be called as soon as possible. If the Promise is already in a failure state, the failureCallback will be called as soon as possible If the \u201csuccessCallback\u201d is called, \u201cfailureCallback\u201d will never be called and vice versa. Return: A new Promise object that will be resolved asynchronously with the execution of either the successCallback or failureCallback Example: local promise = Firecast.asyncOpenUserNDB(\"name\"); promise:thenDo( function(node) -- This function will be called when/if the * -- Promise is resolved successfully. The first argument, * -- \"node\", contains the Promise success data, * -- which in this case is an opened nodeDatabase end, function(errorMsg) -- This function will be called when/if the * -- Promise is resolved to failure. The first argument, * -- \"errorMsg\", contains the associated error message, -- which in this case is the message explaining why -- it was not possible to open the nodeDatabase* end); promise:onError(failureCallback) Set a continuation callback function that will be called when the Promise resolves to failure. Arguments: failureCallback - A function that will be called if the Promise resolves to failure. The first argument of the callback function will receive the error message. Remarks: If the Promise is already in a failure state, the failureCallback will be called as soon as possible Return: A new Promise object that will be resolved asynchronously with the execution of failureCallback Example: local promise = Firecast.asyncOpenUserNDB(\"name\"); promise:onError( function(errorMsg) -- This function will be called when/if the * -- Promise is resolved to failure. The first argument, * -- \"errorMsg\", contains the associated error message, -- which in this case is the message explaining why -- it was not possible to open the nodeDatabase end); Created with the Personal Edition of HelpNDoc: Qt Help documentation made easy","title":"Methods"},{"location":"Referencias/","text":"Refer\u00eancias Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool","title":"Refer\u00eancias"},{"location":"Referencias/#referencias","text":"Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool","title":"Refer\u00eancias"},{"location":"SandboxesdePlugins/","text":"Sandboxes de Plug-ins Sandboxes de plug-ins O SDK3 utiliza sandboxes para a execu\u00e7\u00e3o de plug-ins. Suas principais caracter\u00edsticas s\u00e3o: Um sandbox \u00e9 um ambiente virtual que representa um plug-in em execu\u00e7\u00e3o. S\u00e3o instanciados/criados quando o Firecast se inicia (e na instala\u00e7\u00e3o de plug-ins) e s\u00e3o destru\u00eddos quando o Firecast \u00e9 fechado (ou na desinstala\u00e7\u00e3o de plug-ins). Cada plug-in roda em sua pr\u00f3pria sandbox. Os sandboxes restringem o c\u00f3digo dos plug-ins a fim de proteger o computador/dispositivo do usu\u00e1rio de acessos indevidos. Cada plug-in est\u00e1 associado com seu pr\u00f3prio \u201c HD virtual \u201d. Cada sandbox enxerga APENAS o \u201cHD virtual\u201d do plugin que est\u00e1 em execu\u00e7\u00e3o. N\u00e3o \u00e9 poss\u00edvel acessar arquivos que est\u00e3o fora do \u201cHD virtual\u201d Os arquivos do \u201cHD virtual\u201d s\u00e3o persistentes, isto \u00e9, ficam salvos mesmo quando o sandbox \u00e9 destru\u00eddo. Um sandbox n\u00e3o consegue acessar o \u201cHD virtual\u201d de outro sandbox. Um sandbox n\u00e3o consegue acessar o \u201cHD virtual\u201d de outro plugin. O conte\u00fado do \u201cHD virtual\u201d \u00e9 perdido quando o plugin \u00e9 desinstalado. Saiba mais lendo o t\u00f3pico HD Virtual . Os objetos, tabelas e vari\u00e1veis vivem isolados. Isto \u00e9, um sandbox n\u00e3o enxerga as vari\u00e1veis e tabelas Lua de outro sandbox. Os objetos, tabelas e vari\u00e1veis de cada sandbox n\u00e3o s\u00e3o persistentes. Isto \u00e9, estas informa\u00e7\u00f5es s\u00e3o perdidas quando o sandbox \u00e9 destru\u00eddo. Durante o carregamento de uma sandbox, todos os arquivos de extens\u00e3o \u201clua\u201d do plug-in s\u00e3o automaticamente carregados. Se existir o arquivo \"/init.lua\" na raiz do plugin, ele \u00e9 carregado primeiro. A ordem de carregamento dos demais arquivos respeita o uso da fun\u00e7\u00e3o \u201crequire\u201d. Observa\u00e7\u00e3o: A tabela global Lua \u00e9 compartilhada com todos os arquivos Lua do plug-in. Logo, um arquivo Lua enxerga as vari\u00e1veis e tabelas de outro arquivo LUA (se o modificador \u201clocal\u201d n\u00e3o for usado). Apenas arquivos \u201clua\u201d que est\u00e3o na pasta projeto do plug-in s\u00e3o carregados automaticamente. Por seguran\u00e7a, o sandbox oferece APENAS as seguintes fun\u00e7\u00f5es nativas LUA: Vari\u00e1veis: _G _VERSION Fun\u00e7\u00f5es: next pairs ipairs pcall select tonumber tostring type unpack xpcall collectgarbage assert error load rawget rawset rawequal setmetatable getmetatable require Biblioteca String string.byte string.char string.find string.format string.gmatch string.gsub string.len string.lower string.match string.rep string.reverse string.sub string.upper Biblioteca Table table.insert table.maxn table.remove table.sort table.concat table.pack table.unpack Biblioteca Math math.abs math.acos math.asin math.atan math.ceil math.cos math.deg math.exp math.floor math.fmod math.huge math.log math.log10 math.max math.min math.maxinteger math.mininteger math.modf math.pi math.rad math.random math.randomseed math.sin math.sqrt math.tan math.tointeger math.type math.ult Biblioteca debug debug.getmetatable debug.setmetatable debug.traceback Biblioteca OS os.clock os.difftime os.time os.date Biblioteca Package package.loaded package.config Biblioteca coroutine coroutine.create coroutine.resume coroutine.running coroutine.status coroutine.wrap coroutine.yield Biblioteca utf8 utf8.char utf8.charpattern utf8.codes utf8.codepoint utf8.len utf8.offset Veja tamb\u00e9m: O SDK3 j\u00e1 prov\u00ea algumas bibliotecas e fun\u00e7\u00f5es LUA para voc\u00ea utilizar em seus plug-ins! Saiba mais em Bibliotecas LUA . Created with the Personal Edition of HelpNDoc: Add an Extra Layer of Security to Your PDFs with Encryption","title":"Sandboxes de Plug-ins"},{"location":"SandboxesdePlugins/#sandboxes-de-plug-ins","text":"","title":"Sandboxes de Plug-ins"},{"location":"SandboxesdePlugins/#sandboxes-de-plug-ins_1","text":"O SDK3 utiliza sandboxes para a execu\u00e7\u00e3o de plug-ins. Suas principais caracter\u00edsticas s\u00e3o: Um sandbox \u00e9 um ambiente virtual que representa um plug-in em execu\u00e7\u00e3o. S\u00e3o instanciados/criados quando o Firecast se inicia (e na instala\u00e7\u00e3o de plug-ins) e s\u00e3o destru\u00eddos quando o Firecast \u00e9 fechado (ou na desinstala\u00e7\u00e3o de plug-ins). Cada plug-in roda em sua pr\u00f3pria sandbox. Os sandboxes restringem o c\u00f3digo dos plug-ins a fim de proteger o computador/dispositivo do usu\u00e1rio de acessos indevidos. Cada plug-in est\u00e1 associado com seu pr\u00f3prio \u201c HD virtual \u201d. Cada sandbox enxerga APENAS o \u201cHD virtual\u201d do plugin que est\u00e1 em execu\u00e7\u00e3o. N\u00e3o \u00e9 poss\u00edvel acessar arquivos que est\u00e3o fora do \u201cHD virtual\u201d Os arquivos do \u201cHD virtual\u201d s\u00e3o persistentes, isto \u00e9, ficam salvos mesmo quando o sandbox \u00e9 destru\u00eddo. Um sandbox n\u00e3o consegue acessar o \u201cHD virtual\u201d de outro sandbox. Um sandbox n\u00e3o consegue acessar o \u201cHD virtual\u201d de outro plugin. O conte\u00fado do \u201cHD virtual\u201d \u00e9 perdido quando o plugin \u00e9 desinstalado. Saiba mais lendo o t\u00f3pico HD Virtual . Os objetos, tabelas e vari\u00e1veis vivem isolados. Isto \u00e9, um sandbox n\u00e3o enxerga as vari\u00e1veis e tabelas Lua de outro sandbox. Os objetos, tabelas e vari\u00e1veis de cada sandbox n\u00e3o s\u00e3o persistentes. Isto \u00e9, estas informa\u00e7\u00f5es s\u00e3o perdidas quando o sandbox \u00e9 destru\u00eddo. Durante o carregamento de uma sandbox, todos os arquivos de extens\u00e3o \u201clua\u201d do plug-in s\u00e3o automaticamente carregados. Se existir o arquivo \"/init.lua\" na raiz do plugin, ele \u00e9 carregado primeiro. A ordem de carregamento dos demais arquivos respeita o uso da fun\u00e7\u00e3o \u201crequire\u201d. Observa\u00e7\u00e3o: A tabela global Lua \u00e9 compartilhada com todos os arquivos Lua do plug-in. Logo, um arquivo Lua enxerga as vari\u00e1veis e tabelas de outro arquivo LUA (se o modificador \u201clocal\u201d n\u00e3o for usado). Apenas arquivos \u201clua\u201d que est\u00e3o na pasta projeto do plug-in s\u00e3o carregados automaticamente. Por seguran\u00e7a, o sandbox oferece APENAS as seguintes fun\u00e7\u00f5es nativas LUA: Vari\u00e1veis: _G _VERSION Fun\u00e7\u00f5es: next pairs ipairs pcall select tonumber tostring type unpack xpcall collectgarbage assert error load rawget rawset rawequal setmetatable getmetatable require Biblioteca String string.byte string.char string.find string.format string.gmatch string.gsub string.len string.lower string.match string.rep string.reverse string.sub string.upper Biblioteca Table table.insert table.maxn table.remove table.sort table.concat table.pack table.unpack Biblioteca Math math.abs math.acos math.asin math.atan math.ceil math.cos math.deg math.exp math.floor math.fmod math.huge math.log math.log10 math.max math.min math.maxinteger math.mininteger math.modf math.pi math.rad math.random math.randomseed math.sin math.sqrt math.tan math.tointeger math.type math.ult Biblioteca debug debug.getmetatable debug.setmetatable debug.traceback Biblioteca OS os.clock os.difftime os.time os.date Biblioteca Package package.loaded package.config Biblioteca coroutine coroutine.create coroutine.resume coroutine.running coroutine.status coroutine.wrap coroutine.yield Biblioteca utf8 utf8.char utf8.charpattern utf8.codes utf8.codepoint utf8.len utf8.offset","title":"Sandboxes de plug-ins"},{"location":"SandboxesdePlugins/#veja-tambem","text":"O SDK3 j\u00e1 prov\u00ea algumas bibliotecas e fun\u00e7\u00f5es LUA para voc\u00ea utilizar em seus plug-ins! Saiba mais em Bibliotecas LUA . Created with the Personal Edition of HelpNDoc: Add an Extra Layer of Security to Your PDFs with Encryption","title":"Veja tamb\u00e9m:"},{"location":"StringdecoresnoLuaForm/","text":"String de cores no Lua Form String de cores As cores usadas nas tags do Lua Form s\u00e3o definidas por um string, e podem ter 2 formatos: Formato hexadecimal Formato literal Formato hexadecimal As cores no formato hexadecimal s\u00e3o uma mistura de RED, GREEN, BLUE e opcionalmente ALPHA no seguintes formatos: Formato hexadecimal 1 \u2014 dois caracteres por canal de cor #RRGGBB ou 0xRRGGBB \\ onde: RR - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o vermelha GG - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o verde BB - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o azul Formato hexadecimal 2 \u2014 dois caracteres por canal de cor + opacidade Tamb\u00e9m poss\u00edvel especificar a opacidade da cor (ALPHA), seguindo o padr\u00e3o: #RRGGBBAA ou 0xRRGGBBAA onde: RR - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o vermelha GG - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o verde BB - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o azul AA - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) do valor alpha/opacidade, onde 00 = 100% transparente e FF = 100% opaco. Formato hexadecimal 3 \u2014 um caracter por canal de cor (tamb\u00e9m conhecido como shorthand hex color) #RGB ou 0xRGB \\ onde: R - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o vermelha G - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o verde B - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o azul Formato hexadecimal 4 \u2014 um caracter por canal de cor + Opacidade (tamb\u00e9m conhecido como shorthand hex color) #RGBA ou 0xRGBA onde: R - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o vermelha G - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o verde B - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o azul A - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) do valor alpha/opacidade, onde 0 = 100% transparente e F = 100% opaco. Exemplos: #FF0000 - cor vermelha (Formato 1 \u2014 dois caracteres por canal de cor) #F00 - cor vemelha (Formato 3 \u2014 um caracter por canal de cor) #00FF00 - cor verde (Formato 1 \u2014 dois caracteres por canal de cor) #0F0 - cor verde (Formato 3 \u2014 um caracter por canal de cor) #0000FF - cor azul (Formato 1 \u2014 dois caracteres por canal de cor) #00F - cor azul (Formato 3 \u2014 um caracter por canal de cor) #FF00007F - cor vermelha 50% transparente (Formato 2 \u2014 dois caracteres por canal de cor + opacidade) #F007 - cor vermelha 47% transparente (Formato 4 \u2014 um caracter por canal de cor + opacidade) Formato literal O SDK3 tamb\u00e9m prov\u00ea algumas constantes que identificam facilmente algumas cores! S\u00e3o elas: Constante Hexadecimal equivalente Cor AliceBlue #F0F8FF AntiqueWhite #FAEBD7 Aqua #00FFFF Aquamarine #7FFFD4 Azure #F0FFFF Beige #F5F5DC Bisque #FFE4C4 Black #000000 BlanchedAlmond #FFEBCD Blue #0000FF BlueViolet #8A2BE2 Brown #A52A2A BurlyWood #DEB887 CadetBlue #5F9EA0 Chartreuse #7FFF00 Chocolate #D2691E Coral #FF7F50 CornflowerBlue #6495ED Cornsilk #FFF8DC Crimson #DC143C Cyan #00FFFF DarkBlue #00008B DarkCyan #008B8B DarkGoldenRod #B8860B DarkGray #A9A9A9 DarkGreen #006400 DarkKhaki #BDB76B DarkMagenta #8B008B DarkOliveGreen #556B2F DarkOrange #FF8C00 DarkOrchid #9932CC DarkRed #8B0000 DarkSalmon #E9967A DarkSeaGreen #8FBC8F DarkSlateBlue #483D8B DarkSlateGray #2F4F4F DarkTurquoise #00CED1 DarkViolet #9400D3 DeepPink #FF1493 DeepSkyBlue #00BFFF DimGray #696969 DodgerBlue #1E90FF FireBrick #B22222 FloralWhite #FFFAF0 ForestGreen #228B22 Fuchsia #FF00FF Gainsboro #DCDCDC GhostWhite #F8F8FF Gold #FFD700 GoldenRod #DAA520 Gray #808080 Green #008000 GreenYellow #ADFF2F HoneyDew #F0FFF0 HotPink #FF69B4 IndianRed #CD5C5C Indigo #4B0082 Ivory #FFFFF0 Khaki #F0E68C Lavender #E6E6FA LavenderBlush #FFF0F5 LawnGreen #7CFC00 LemonChiffon #FFFACD LightBlue #ADD8E6 LightCoral #F08080 LightCyan #E0FFFF LightGoldenRodYellow #FAFAD2 LightGray #D3D3D3 LightGreen #90EE90 LightPink #FFB6C1 LightSalmon #FFA07A LightSeaGreen #20B2AA LightSkyBlue #87CEFA LightSlateGray #778899 LightSteelBlue #B0C4DE LightYellow #FFFFE0 Lime #00FF00 LimeGreen #32CD32 Linen #FAF0E6 Magenta #FF00FF Maroon #800000 MediumAquaMarine #66CDAA MediumBlue #0000CD MediumOrchid #BA55D3 MediumPurple #9370DB MediumSeaGreen #3CB371 MediumSlateBlue #7B68EE MediumSpringGreen #00FA9A MediumTurquoise #48D1CC MediumVioletRed #C71585 MidnightBlue #191970 MintCream #F5FFFA MistyRose #FFE4E1 Moccasin #FFE4B5 NavajoWhite #FFDEAD Navy #000080 OldLace #FDF5E6 Olive #808000 OliveDrab #6B8E23 Orange #FFA500 OrangeRed #FF4500 Orchid #DA70D6 PaleGoldenRod #EEE8AA PaleGreen #98FB98 PaleTurquoise #AFEEEE PaleVioletRed #DB7093 PapayaWhip #FFEFD5 PeachPuff #FFDAB9 Peru #CD853F Pink #FFC0CB Plum #DDA0DD PowderBlue #B0E0E6 Purple #800080 RebeccaPurple #663399 Red #FF0000 RosyBrown #BC8F8F RoyalBlue #4169E1 SaddleBrown #8B4513 Salmon #FA8072 SandyBrown #F4A460 SeaGreen #2E8B57 SeaShell #FFF5EE Sienna #A0522D Silver #C0C0C0 SkyBlue #87CEEB SlateBlue #6A5ACD SlateGray #708090 Snow #FFFAFA SpringGreen #00FF7F SteelBlue #4682B4 Tan #D2B48C Teal #008080 Thistle #D8BFD8 Tomato #FF6347 Turquoise #40E0D0 Violet #EE82EE Wheat #F5DEB3 White #FFFFFF WhiteSmoke #F5F5F5 Yellow #FFFF00 YellowGreen #9ACD32 None #00000000 Transparent #00000000 Null #00000000 Created with the Personal Edition of HelpNDoc: Experience the power of a responsive website for your documentation","title":"String de cores no Lua Form"},{"location":"StringdecoresnoLuaForm/#string-de-cores-no-lua-form","text":"","title":"String de cores no Lua Form"},{"location":"StringdecoresnoLuaForm/#string-de-cores","text":"As cores usadas nas tags do Lua Form s\u00e3o definidas por um string, e podem ter 2 formatos: Formato hexadecimal Formato literal","title":"String de cores"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal","text":"As cores no formato hexadecimal s\u00e3o uma mistura de RED, GREEN, BLUE e opcionalmente ALPHA no seguintes formatos:","title":"Formato hexadecimal"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal-1-dois-caracteres-por-canal-de-cor","text":"#RRGGBB ou 0xRRGGBB \\ onde: RR - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o vermelha GG - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o verde BB - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o azul","title":"Formato hexadecimal 1 \u2014\u00a0 dois caracteres por canal de cor"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal-2-dois-caracteres-por-canal-de-cor-opacidade","text":"Tamb\u00e9m poss\u00edvel especificar a opacidade da cor (ALPHA), seguindo o padr\u00e3o: #RRGGBBAA ou 0xRRGGBBAA onde: RR - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o vermelha GG - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o verde BB - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) da por\u00e7\u00e3o azul AA - c\u00f3digo hexadecimal em 2 caracteres (valor entre 00 e FF) do valor alpha/opacidade, onde 00 = 100% transparente e FF = 100% opaco.","title":"Formato hexadecimal 2 \u2014\u00a0dois caracteres por canal de cor + opacidade"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal-3-um-caracter-por-canal-de-cor-tambem-conhecido-como-shorthand-hex-color","text":"#RGB ou 0xRGB \\ onde: R - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o vermelha G - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o verde B - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o azul","title":"Formato hexadecimal 3 \u2014\u00a0um caracter por canal de cor (tamb\u00e9m conhecido como shorthand hex color)"},{"location":"StringdecoresnoLuaForm/#formato-hexadecimal-4-um-caracter-por-canal-de-cor-opacidade-tambem-conhecido-como-shorthand-hex-color","text":"#RGBA ou 0xRGBA onde: R - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o vermelha G - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o verde B - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) da por\u00e7\u00e3o azul A - c\u00f3digo hexadecimal em 1 caracter (valor entre 0 e F) do valor alpha/opacidade, onde 0 = 100% transparente e F = 100% opaco. Exemplos: #FF0000 - cor vermelha (Formato 1 \u2014 dois caracteres por canal de cor) #F00 - cor vemelha (Formato 3 \u2014 um caracter por canal de cor) #00FF00 - cor verde (Formato 1 \u2014 dois caracteres por canal de cor) #0F0 - cor verde (Formato 3 \u2014 um caracter por canal de cor) #0000FF - cor azul (Formato 1 \u2014 dois caracteres por canal de cor) #00F - cor azul (Formato 3 \u2014 um caracter por canal de cor) #FF00007F - cor vermelha 50% transparente (Formato 2 \u2014 dois caracteres por canal de cor + opacidade) #F007 - cor vermelha 47% transparente (Formato 4 \u2014 um caracter por canal de cor + opacidade)","title":"Formato hexadecimal 4 \u2014\u00a0 um caracter por canal de cor + Opacidade (tamb\u00e9m conhecido como shorthand hex color)"},{"location":"StringdecoresnoLuaForm/#formato-literal","text":"O SDK3 tamb\u00e9m prov\u00ea algumas constantes que identificam facilmente algumas cores! S\u00e3o elas: Constante Hexadecimal equivalente Cor AliceBlue #F0F8FF AntiqueWhite #FAEBD7 Aqua #00FFFF Aquamarine #7FFFD4 Azure #F0FFFF Beige #F5F5DC Bisque #FFE4C4 Black #000000 BlanchedAlmond #FFEBCD Blue #0000FF BlueViolet #8A2BE2 Brown #A52A2A BurlyWood #DEB887 CadetBlue #5F9EA0 Chartreuse #7FFF00 Chocolate #D2691E Coral #FF7F50 CornflowerBlue #6495ED Cornsilk #FFF8DC Crimson #DC143C Cyan #00FFFF DarkBlue #00008B DarkCyan #008B8B DarkGoldenRod #B8860B DarkGray #A9A9A9 DarkGreen #006400 DarkKhaki #BDB76B DarkMagenta #8B008B DarkOliveGreen #556B2F DarkOrange #FF8C00 DarkOrchid #9932CC DarkRed #8B0000 DarkSalmon #E9967A DarkSeaGreen #8FBC8F DarkSlateBlue #483D8B DarkSlateGray #2F4F4F DarkTurquoise #00CED1 DarkViolet #9400D3 DeepPink #FF1493 DeepSkyBlue #00BFFF DimGray #696969 DodgerBlue #1E90FF FireBrick #B22222 FloralWhite #FFFAF0 ForestGreen #228B22 Fuchsia #FF00FF Gainsboro #DCDCDC GhostWhite #F8F8FF Gold #FFD700 GoldenRod #DAA520 Gray #808080 Green #008000 GreenYellow #ADFF2F HoneyDew #F0FFF0 HotPink #FF69B4 IndianRed #CD5C5C Indigo #4B0082 Ivory #FFFFF0 Khaki #F0E68C Lavender #E6E6FA LavenderBlush #FFF0F5 LawnGreen #7CFC00 LemonChiffon #FFFACD LightBlue #ADD8E6 LightCoral #F08080 LightCyan #E0FFFF LightGoldenRodYellow #FAFAD2 LightGray #D3D3D3 LightGreen #90EE90 LightPink #FFB6C1 LightSalmon #FFA07A LightSeaGreen #20B2AA LightSkyBlue #87CEFA LightSlateGray #778899 LightSteelBlue #B0C4DE LightYellow #FFFFE0 Lime #00FF00 LimeGreen #32CD32 Linen #FAF0E6 Magenta #FF00FF Maroon #800000 MediumAquaMarine #66CDAA MediumBlue #0000CD MediumOrchid #BA55D3 MediumPurple #9370DB MediumSeaGreen #3CB371 MediumSlateBlue #7B68EE MediumSpringGreen #00FA9A MediumTurquoise #48D1CC MediumVioletRed #C71585 MidnightBlue #191970 MintCream #F5FFFA MistyRose #FFE4E1 Moccasin #FFE4B5 NavajoWhite #FFDEAD Navy #000080 OldLace #FDF5E6 Olive #808000 OliveDrab #6B8E23 Orange #FFA500 OrangeRed #FF4500 Orchid #DA70D6 PaleGoldenRod #EEE8AA PaleGreen #98FB98 PaleTurquoise #AFEEEE PaleVioletRed #DB7093 PapayaWhip #FFEFD5 PeachPuff #FFDAB9 Peru #CD853F Pink #FFC0CB Plum #DDA0DD PowderBlue #B0E0E6 Purple #800080 RebeccaPurple #663399 Red #FF0000 RosyBrown #BC8F8F RoyalBlue #4169E1 SaddleBrown #8B4513 Salmon #FA8072 SandyBrown #F4A460 SeaGreen #2E8B57 SeaShell #FFF5EE Sienna #A0522D Silver #C0C0C0 SkyBlue #87CEEB SlateBlue #6A5ACD SlateGray #708090 Snow #FFFAFA SpringGreen #00FF7F SteelBlue #4682B4 Tan #D2B48C Teal #008080 Thistle #D8BFD8 Tomato #FF6347 Turquoise #40E0D0 Violet #EE82EE Wheat #F5DEB3 White #FFFFFF WhiteSmoke #F5F5F5 Yellow #FFFF00 YellowGreen #9ACD32 None #00000000 Transparent #00000000 Null #00000000 Created with the Personal Edition of HelpNDoc: Experience the power of a responsive website for your documentation","title":"Formato literal"},{"location":"TagactivityIndicator/","text":"Tag activityIndicator Tag activityIndicator A tag/componente activityIndicator representa um controle que exibe uma anima\u00e7\u00e3o na interface com o intuito de indicar ao usu\u00e1rio que alguma atividade est\u00e1 sendo feita, como um carregamento ou uma outra espera qualquer! Heran\u00e7a O activityIndicator possui todas as caracter\u00edsticas de uma tag visual qualquer. Veja: Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag activityIndicator tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o enabled Boolean false Este atributo controla a anima\u00e7\u00e3o do indicador de atividade. Quando true, o indicador apresenta uma anima\u00e7\u00e3o na interface. Exemplos: Exemplo 1 - Um indicador de atividade simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<activityIndicator left=\"20\" top=\"20\" enabled=\"true\" /> \\</form> Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI","title":"Tag activityIndicator"},{"location":"TagactivityIndicator/#tag-activityindicator","text":"","title":"Tag activityIndicator"},{"location":"TagactivityIndicator/#tag-activityindicator_1","text":"A tag/componente activityIndicator representa um controle que exibe uma anima\u00e7\u00e3o na interface com o intuito de indicar ao usu\u00e1rio que alguma atividade est\u00e1 sendo feita, como um carregamento ou uma outra espera qualquer!","title":"Tag activityIndicator"},{"location":"TagactivityIndicator/#heranca","text":"O activityIndicator possui todas as caracter\u00edsticas de uma tag visual qualquer. Veja: Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagactivityIndicator/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag activityIndicator tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagactivityIndicator/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o enabled Boolean false Este atributo controla a anima\u00e7\u00e3o do indicador de atividade. Quando true, o indicador apresenta uma anima\u00e7\u00e3o na interface.","title":"Propriedades e atributos"},{"location":"TagactivityIndicator/#exemplos","text":"","title":"Exemplos:"},{"location":"TagactivityIndicator/#exemplo-1-um-indicador-de-atividade-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<activityIndicator left=\"20\" top=\"20\" enabled=\"true\" /> \\</form> Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI","title":"Exemplo 1 - Um indicador de atividade simples"},{"location":"Tagbutton/","text":"Tag button Tag button A tag/componente button representa um bot\u00e3o na interface. Excelente para executar uma tarefa quando o usu\u00e1rio optar por ela! Heran\u00e7a O button possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag button tamb\u00e9m possui as seguintes caracter\u00edsticas: Eventos Nome do evento Descri\u00e7\u00e3o onClick Este evento \u00e9 invocado quando ocorre um click com o bot\u00e3o esquerdo do mouse no controle, ou quando ocorre um \u201ctap touch\u201d no controle. Veja Tratando eventos do Lua Form Exemplos: Exemplo 1 - Um bot\u00e3o simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form fame=\"frmFichaTeste\" > \\<button left=\"40\" top=\"40\" text=\"Eu sou um bot\u00e3o\" width=\"150\" /> \\</form> Exemplo 2 - Tratando o evento onClick (estilo 1) \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button left=\"40\" top=\"40\" text=\"Clique\" onClick=\"showMessage('ol\u00e1 mundo!');\" /> \\</form> Veja tamb\u00e9m Tratando eventos do Lua Form. Exemplo 3 - Tratando o evento onClick (estilo 2) \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button left=\"40\" top=\"40\" text=\"Clique\" > \\<event name=\"onClick\" > local texto = \"\"; for i = 1, 5, 1 do texto = texto .. \"Linha \" .. i .. \"\\n\"; end; showMessage(texto); \\</event> \\</button> \\</form> Veja tamb\u00e9m Tratando eventos do Lua Form. Created with the Personal Edition of HelpNDoc: Produce Kindle eBooks easily","title":"Tag button"},{"location":"Tagbutton/#tag-button","text":"","title":"Tag button"},{"location":"Tagbutton/#tag-button_1","text":"A tag/componente button representa um bot\u00e3o na interface. Excelente para executar uma tarefa quando o usu\u00e1rio optar por ela!","title":"Tag button"},{"location":"Tagbutton/#heranca","text":"O button possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"Tagbutton/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag button tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Tagbutton/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onClick Este evento \u00e9 invocado quando ocorre um click com o bot\u00e3o esquerdo do mouse no controle, ou quando ocorre um \u201ctap touch\u201d no controle. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"Tagbutton/#exemplos","text":"","title":"Exemplos:"},{"location":"Tagbutton/#exemplo-1-um-botao-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form fame=\"frmFichaTeste\" > \\<button left=\"40\" top=\"40\" text=\"Eu sou um bot\u00e3o\" width=\"150\" /> \\</form>","title":"Exemplo 1 - Um bot\u00e3o simples"},{"location":"Tagbutton/#exemplo-2-tratando-o-evento-onclick-estilo-1","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button left=\"40\" top=\"40\" text=\"Clique\" onClick=\"showMessage('ol\u00e1 mundo!');\" /> \\</form> Veja tamb\u00e9m Tratando eventos do Lua Form.","title":"Exemplo 2 - Tratando o evento onClick (estilo 1)"},{"location":"Tagbutton/#exemplo-3-tratando-o-evento-onclick-estilo-2","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button left=\"40\" top=\"40\" text=\"Clique\" > \\<event name=\"onClick\" > local texto = \"\"; for i = 1, 5, 1 do texto = texto .. \"Linha \" .. i .. \"\\n\"; end; showMessage(texto); \\</event> \\</button> \\</form> Veja tamb\u00e9m Tratando eventos do Lua Form. Created with the Personal Edition of HelpNDoc: Produce Kindle eBooks easily","title":"Exemplo 3 - Tratando o evento onClick (estilo 2)"},{"location":"TagcheckBox/","text":"Tag checkBox Tag checkBox A tag/componente checkBox representa uma caixa de marca\u00e7\u00e3o na interface. Heran\u00e7a O checkBox possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag checkBox tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false) field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o checkBox passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do checkBox sofre altera\u00e7\u00e3o. Veja Tratando eventos do Lua Form Exemplos: Exemplo 1 - CheckBox simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<checkBox left=\"10\" top=\"20\" text=\"Caixa de marca\u00e7\u00e3o\" /> \\</form> Created with the Personal Edition of HelpNDoc: Effortlessly optimize your documentation website for search engines","title":"Tag checkBox"},{"location":"TagcheckBox/#tag-checkbox","text":"","title":"Tag checkBox"},{"location":"TagcheckBox/#tag-checkbox_1","text":"A tag/componente checkBox representa uma caixa de marca\u00e7\u00e3o na interface.","title":"Tag checkBox"},{"location":"TagcheckBox/#heranca","text":"O checkBox possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagcheckBox/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag checkBox tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagcheckBox/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false) field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o checkBox passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase","title":"Propriedades e atributos"},{"location":"TagcheckBox/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do checkBox sofre altera\u00e7\u00e3o. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"TagcheckBox/#exemplos","text":"","title":"Exemplos:"},{"location":"TagcheckBox/#exemplo-1-checkbox-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<checkBox left=\"10\" top=\"20\" text=\"Caixa de marca\u00e7\u00e3o\" /> \\</form> Created with the Personal Edition of HelpNDoc: Effortlessly optimize your documentation website for search engines","title":"Exemplo 1 - CheckBox simples"},{"location":"TagcolorComboBox/","text":"Tag colorComboBox Tag colorComboBox A tag/componente colorCmboBox representa uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar uma cor qualquer. Heran\u00e7a O colorComboBox possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag colorComboBox tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color String de Cor \"Null\" A cor escolhida pelo usu\u00e1rio. Exemplos: \"Red\", \"White\", \"#005623\" useAlpha Boolean True Se true, permite o usu\u00e1rio escolher uma cor com transpar\u00eancia. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o colorComboBox passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\<string vazio> Considerando que o componente/tag pai possui um frame (ver Frames ), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome. Veja Frames e Regi\u00f5es M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o colorComboBox:dropDown() \"Abre\" o colorComboBox. Exibe a caixa de sele\u00e7\u00e3o de cores na interface. Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do colorComboBox \u00e9 alterada. onUserChange Este evento \u00e9 disparado quando o valor do campo do objeto Nodo associado (ver atributo \"field\") for alterado porque o usu\u00e1rio alterou o conte\u00fado do colorComboBox. Importante: Este evento \u00e9 disparado APENAS se o atributo \"field\" estiver preenchido corretamente e se a altera\u00e7\u00e3o de valor ocorrer neste colorComboBox mediante a\u00e7\u00e3o do usu\u00e1rio. Veja Tratando eventos do Lua Form Exemplos Exemplo 1 - colorComboBox simples Created with the Personal Edition of HelpNDoc: Easy Qt Help documentation editor","title":"Tag colorComboBox"},{"location":"TagcolorComboBox/#tag-colorcombobox","text":"","title":"Tag colorComboBox"},{"location":"TagcolorComboBox/#tag-colorcombobox_1","text":"A tag/componente colorCmboBox representa uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar uma cor qualquer.","title":"Tag colorComboBox"},{"location":"TagcolorComboBox/#heranca","text":"O colorComboBox possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagcolorComboBox/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag colorComboBox tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagcolorComboBox/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color String de Cor \"Null\" A cor escolhida pelo usu\u00e1rio. Exemplos: \"Red\", \"White\", \"#005623\" useAlpha Boolean True Se true, permite o usu\u00e1rio escolher uma cor com transpar\u00eancia. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o colorComboBox passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\<string vazio> Considerando que o componente/tag pai possui um frame (ver Frames ), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome. Veja Frames e Regi\u00f5es","title":"Propriedades e atributos"},{"location":"TagcolorComboBox/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o colorComboBox:dropDown() \"Abre\" o colorComboBox. Exibe a caixa de sele\u00e7\u00e3o de cores na interface.","title":"M\u00e9todos"},{"location":"TagcolorComboBox/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do colorComboBox \u00e9 alterada. onUserChange Este evento \u00e9 disparado quando o valor do campo do objeto Nodo associado (ver atributo \"field\") for alterado porque o usu\u00e1rio alterou o conte\u00fado do colorComboBox. Importante: Este evento \u00e9 disparado APENAS se o atributo \"field\" estiver preenchido corretamente e se a altera\u00e7\u00e3o de valor ocorrer neste colorComboBox mediante a\u00e7\u00e3o do usu\u00e1rio. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"TagcolorComboBox/#exemplos","text":"","title":"Exemplos"},{"location":"TagcolorComboBox/#exemplo-1-colorcombobox-simples","text":"Created with the Personal Edition of HelpNDoc: Easy Qt Help documentation editor","title":"Exemplo 1 - colorComboBox simples"},{"location":"TagcomboBox/","text":"Tag comboBox Tag comboBox A tag/componente comboBox representa uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar um item entre v\u00e1rios.. Heran\u00e7a O comboBox possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag comboBox tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text String \\<string vazio> O texto escolhido pelo usu\u00e1rio e apresentado na interface pelo comboBox. Observa\u00e7\u00e3o: Este campo retorna e aceita somente valores que est\u00e3o na propriedade \"items\" value String \\<string vazio>> O valor associado ao item escolhido e apresentado na interface. Observa\u00e7\u00e3o: Este campo retorna e aceita somente valores que est\u00e3o na propriedade \"values\". field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o comboBox passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\<string vazio> Considerando que o componente/tag pai possui um frame (ver Frames ), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome. Veja Frames e Regi\u00f5es transparent Boolean false Quando True, as bordas e o fundo do comboBox n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado. items Arranjo de String {} Lista de itens do qual o usu\u00e1rio poder\u00e1 escolher um. Exemplo: {'Lan\u00e7a', 'Espada', 'Adaga'} values Arranjo de String {} Lista de valores associados aos itens da propriedade \"items\". Cada posi\u00e7\u00e3o deste arranjo \u00e9 \"casado\" com a mesma posi\u00e7\u00e3o do arranjo \"items\". Observa\u00e7\u00e3o 1: N\u00e3o \u00e9 obrigat\u00f3rio o uso desta propriedade; Observa\u00e7\u00e3o 2: Quando esta propriedade e o atributo \"field\" estiverem definidos, este s\u00e3o os valores que ser\u00e3o salvos no NodeDatabase. Exemplo: {'L', 'E', 'A'} M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o comboBox:dropDown() \"Abre\" o comboBox. Exibe a lista de sele\u00e7\u00e3o na interface. Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do comboBox \u00e9 alterada. Veja Tratando eventos do Lua Form Exemplos Exemplo 1 - comboBox simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<comboBox left=\"20\" top=\"20\" items=\"{'Lan\u00e7a', 'Espada', 'Adaga'}\" /> \\</form> Exemplo 2 - comboBox usando a propriedade \"values\" para escolha do item padr\u00e3o. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<comboBox left=\"20\" top=\"20\" items=\"{'Lan\u00e7a', 'Espada', 'Adaga'}\" values=\"{'L', 'E', 'A'}\" value=\"E\" /> \\</form> Neste exemplo, devido as propriedades \"items\" e \"values\", houve a associa\u00e7\u00e3o dos seguintes valores e itens: L = Lan\u00e7a E = Espada A = Adaga Created with the Personal Edition of HelpNDoc: Elevate your documentation to new heights with HelpNDoc's built-in SEO","title":"Tag comboBox"},{"location":"TagcomboBox/#tag-combobox","text":"","title":"Tag comboBox"},{"location":"TagcomboBox/#tag-combobox_1","text":"A tag/componente comboBox representa uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar um item entre v\u00e1rios..","title":"Tag comboBox"},{"location":"TagcomboBox/#heranca","text":"O comboBox possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagcomboBox/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag comboBox tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagcomboBox/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text String \\<string vazio> O texto escolhido pelo usu\u00e1rio e apresentado na interface pelo comboBox. Observa\u00e7\u00e3o: Este campo retorna e aceita somente valores que est\u00e3o na propriedade \"items\" value String \\<string vazio>> O valor associado ao item escolhido e apresentado na interface. Observa\u00e7\u00e3o: Este campo retorna e aceita somente valores que est\u00e3o na propriedade \"values\". field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o comboBox passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\<string vazio> Considerando que o componente/tag pai possui um frame (ver Frames ), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome. Veja Frames e Regi\u00f5es transparent Boolean false Quando True, as bordas e o fundo do comboBox n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado. items Arranjo de String {} Lista de itens do qual o usu\u00e1rio poder\u00e1 escolher um. Exemplo: {'Lan\u00e7a', 'Espada', 'Adaga'} values Arranjo de String {} Lista de valores associados aos itens da propriedade \"items\". Cada posi\u00e7\u00e3o deste arranjo \u00e9 \"casado\" com a mesma posi\u00e7\u00e3o do arranjo \"items\". Observa\u00e7\u00e3o 1: N\u00e3o \u00e9 obrigat\u00f3rio o uso desta propriedade; Observa\u00e7\u00e3o 2: Quando esta propriedade e o atributo \"field\" estiverem definidos, este s\u00e3o os valores que ser\u00e3o salvos no NodeDatabase. Exemplo: {'L', 'E', 'A'}","title":"Propriedades e atributos"},{"location":"TagcomboBox/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o comboBox:dropDown() \"Abre\" o comboBox. Exibe a lista de sele\u00e7\u00e3o na interface.","title":"M\u00e9todos"},{"location":"TagcomboBox/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do comboBox \u00e9 alterada. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"TagcomboBox/#exemplos","text":"","title":"Exemplos"},{"location":"TagcomboBox/#exemplo-1-combobox-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<comboBox left=\"20\" top=\"20\" items=\"{'Lan\u00e7a', 'Espada', 'Adaga'}\" /> \\</form>","title":"Exemplo 1 - comboBox simples"},{"location":"TagcomboBox/#exemplo-2-combobox-usando-a-propriedade-values-para-escolha-do-item-padrao","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<comboBox left=\"20\" top=\"20\" items=\"{'Lan\u00e7a', 'Espada', 'Adaga'}\" values=\"{'L', 'E', 'A'}\" value=\"E\" /> \\</form> Neste exemplo, devido as propriedades \"items\" e \"values\", houve a associa\u00e7\u00e3o dos seguintes valores e itens: L = Lan\u00e7a E = Espada A = Adaga Created with the Personal Edition of HelpNDoc: Elevate your documentation to new heights with HelpNDoc's built-in SEO","title":"Exemplo 2 - comboBox usando a propriedade \"values\" para escolha do item padr\u00e3o."},{"location":"TagdataLink/","text":"Tag dataLink Tag dataLink A tag dataLink representa um componente n\u00e3o visual (n\u00e3o \u00e9 exibido na interface) que monitora mudan\u00e7as em um NodeDatabase. Veja tamb\u00e9m: NodeDatabase Lua Form e NodeDatabase Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<string vazio> Define um nome para a componente. O nome deve ser \u00fanico, isto \u00e9, dentro de um form , n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o dataLink passa a monitorar mudan\u00e7as no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fields Arranjo de String {} // \\<arranjo vazio> Idem \u00e0 propriedade \"field\", por\u00e9m permite monitorar mudan\u00e7as em mais de um campo com um \u00fanico dataLink. Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel utilizar as propriedades \"fields\" e \"field\" ao mesmo tempo, elas s\u00e3o mutualmente exclusivas. defaultValue String \\<String Vazio> Quando definido, se o campo identificado pelo atributo \"field\" estiver vazio, ele ser\u00e1 inicializado com este valor informado. defaultValues Arranjo de String {} // \\<arranjo vazio> Idem \u00e0 propriedade \"defaultValue\", por\u00e9m permite definir valores padr\u00f5es para cada um dos campos informado na propriedade \"fields\" Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel utilizar as propriedades \"defaultValue\" e \"defaultValues\" ao mesmo tempo pois elas s\u00e3o mutualmente exclusivas. Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\" Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor do campo newValue - Novo valor do campo Observa\u00e7\u00f5es: Este evento pode ser invocado em qualquer uma destas ocasi\u00f5es: Os dados do nodedatabase da ficha/form acabaram de ser carregados O usu\u00e1rio local alterou o valor de algum campo monitorado pelo dataLink Algum outro usu\u00e1rio remoto alterou algum dos campos monitrados pelo dataLink. onPersistedChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\" no servidor . Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor conhecido do campo no servidor. newValue - Novo valor do campo no servidor. Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onUserChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\" porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua. Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor do campo newValue - Novo valor do campo. Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos monitorados pelo dataLink. onChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado dentro do field que est\u00e1 sendo monitorado (se o campo for um nodo). Par\u00e2metros: node - O objeto nodo filho que foi criado. onChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 removido de dentro do field que est\u00e1 sendo monitorado (se o campo for um nodo). Par\u00e2metros: node - O objeto nodo filho que foi removido. Veja Tratando eventos do Lua Form Exemplos: Exemplo 1 - Calculando um modificador de atributo de D\\&D \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> ** \\<form name=\"frmFichaTeste\" > \\<!-- Layout da interface --> \\<layout left=\"20\" top=\"20\" height=\"25\" width=\"125\" > \\<label align=\"left\" text=\"For\u00e7a: \" autoSize=\"true\" /> \\<edit align=\"client\" horzTextAlign=\"center\" field=\"atributoForca\" /> \\<!-- Modificador --> \\<label align=\"right\" width=\"30\" field=\"modificadorForca\" horzTextAlign=\"center\" /> \\</layout> \\<!-- C\u00e1lculo de campos / uso de dataLink --> \\<dataLink field=\"atributoForca\" > \\<event name=\"onChange\" > local valorForca = tonumber(sheet.atributoForca); if (valorForca ~= nil) then sheet.modificadorForca = math.floor(valorForca / 2) - 5; if sheet.modificadorForca > 0 then sheet.modificadorForca = \"+\" .. sheet.modificadorForca; end ; else sheet.modificadorForca = nil; end \\</event> \\</dataLink> \\</form>** Neste exemplo, ligamos um edit ao campo \"atributoForca\" e um label ao campo \"modificadorForca\"... Usamos um dataLink para monitorar mudan\u00e7as em \"atributoForca\" para calcularmos e salvamos o modificador no campo \"modificadorForca\" (para que o label possa exibir o valor). Veja tamb\u00e9m: Tratando eventos do Lua Form Lua Form e NodeDatabase Exemplo 2 - Somando dois campos na interface \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<!-- Layout da interface --> \\<layout left=\"20\" top=\"20\" height=\"25\" width=\"200\" > \\<edit field=\"parcela1\" align=\"left\" horzTextAlign=\"center\" width=\"50\" /> \\<label align=\"left\" text=\" + \" autoSize=\"true\" /> \\<edit field=\"parcela2\" align=\"left\" horzTextAlign=\"center\" width=\"50\" /> \\<label align=\"left\" text=\" = \" autoSize=\"true\" /> \\<!-- Resultado --> \\<label align=\"client\" field=\"resultadoSoma\" horzTextAlign=\"center\" /> \\</layout> \\<!-- C\u00e1lculo de campos / uso de dataLink --> \\<dataLink fields=\"{'parcela1', 'parcela2'}\" > \\<event name=\"onChange\" > sheet.resultadoSoma = (tonumber(sheet.parcela1) or 0) + (tonumber(sheet.parcela2) or 0); \\</event> \\</dataLink> \\</form> Neste exemplo, usamos o dataLink para monitorar dois campos ao mesmo tempo: \"parcela1\" e \"parcela2\" Veja tamb\u00e9m: Tratando eventos do Lua Form Lua Form e NodeDatabase Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities","title":"Tag dataLink"},{"location":"TagdataLink/#tag-datalink","text":"","title":"Tag dataLink"},{"location":"TagdataLink/#tag-datalink_1","text":"A tag dataLink representa um componente n\u00e3o visual (n\u00e3o \u00e9 exibido na interface) que monitora mudan\u00e7as em um NodeDatabase. Veja tamb\u00e9m: NodeDatabase Lua Form e NodeDatabase","title":"Tag dataLink"},{"location":"TagdataLink/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"TagdataLink/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<string vazio> Define um nome para a componente. O nome deve ser \u00fanico, isto \u00e9, dentro de um form , n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o dataLink passa a monitorar mudan\u00e7as no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fields Arranjo de String {} // \\<arranjo vazio> Idem \u00e0 propriedade \"field\", por\u00e9m permite monitorar mudan\u00e7as em mais de um campo com um \u00fanico dataLink. Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel utilizar as propriedades \"fields\" e \"field\" ao mesmo tempo, elas s\u00e3o mutualmente exclusivas. defaultValue String \\<String Vazio> Quando definido, se o campo identificado pelo atributo \"field\" estiver vazio, ele ser\u00e1 inicializado com este valor informado. defaultValues Arranjo de String {} // \\<arranjo vazio> Idem \u00e0 propriedade \"defaultValue\", por\u00e9m permite definir valores padr\u00f5es para cada um dos campos informado na propriedade \"fields\" Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel utilizar as propriedades \"defaultValue\" e \"defaultValues\" ao mesmo tempo pois elas s\u00e3o mutualmente exclusivas.","title":"Propriedades e atributos"},{"location":"TagdataLink/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\" Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor do campo newValue - Novo valor do campo Observa\u00e7\u00f5es: Este evento pode ser invocado em qualquer uma destas ocasi\u00f5es: Os dados do nodedatabase da ficha/form acabaram de ser carregados O usu\u00e1rio local alterou o valor de algum campo monitorado pelo dataLink Algum outro usu\u00e1rio remoto alterou algum dos campos monitrados pelo dataLink. onPersistedChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\" no servidor . Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor conhecido do campo no servidor. newValue - Novo valor do campo no servidor. Observa\u00e7\u00f5es: Devido a exist\u00eancia de transa\u00e7\u00f5es no NodeDatabase e tamb\u00e9m devido \u00e0 caracter\u00edstica ass\u00edncrona do NodeDatabase, o valor dos atributos do NodeDatabases podem, temporariamente, n\u00e3o refletir ao valor salvo no servidor e nem ao valor que os outros usu\u00e1rios remotos tem acesso. Este evento \u00e9 chamado quando alguma altera\u00e7\u00e3o \u00e9 confirmada no lado do Servidor, persistida e disponibilizada para todos os outros usu\u00e1rios remotos. O valor persistido pode ser obtido atrav\u00e9s da fun\u00e7\u00e3o NDB.getPersistedAttributeValue() onUserChange Este evento \u00e9 invocado quando ocorre uma mudan\u00e7a de valor no campo definido pela propriedade \"field\" ou quando ocorrer mudan\u00e7a de valor em algum dos campos definidos pela propriedade \"fields\" porque o usu\u00e1rio local alterou o conte\u00fado do do campo, seja editando ele visualmente ou atrav\u00e9s de c\u00f3digo Lua. Par\u00e2metros/Informa\u00e7\u00f5es: field - string informando qual campo mudou oldValue - Antigo valor do campo newValue - Novo valor do campo. Observa\u00e7\u00f5es: Lembre-se, este evento ser\u00e1 disparado apenas quando o usu\u00e1rio local alterar o valor de algum dos campos monitorados pelo dataLink. onChildAdded Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 criado dentro do field que est\u00e1 sendo monitorado (se o campo for um nodo). Par\u00e2metros: node - O objeto nodo filho que foi criado. onChildRemoved Este evento \u00e9 invocado quando um objeto nodo filho \u00e9 removido de dentro do field que est\u00e1 sendo monitorado (se o campo for um nodo). Par\u00e2metros: node - O objeto nodo filho que foi removido. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"TagdataLink/#exemplos","text":"","title":"Exemplos:"},{"location":"TagdataLink/#exemplo-1-calculando-um-modificador-de-atributo-de-dd","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> ** \\<form name=\"frmFichaTeste\" > \\<!-- Layout da interface --> \\<layout left=\"20\" top=\"20\" height=\"25\" width=\"125\" > \\<label align=\"left\" text=\"For\u00e7a: \" autoSize=\"true\" /> \\<edit align=\"client\" horzTextAlign=\"center\" field=\"atributoForca\" /> \\<!-- Modificador --> \\<label align=\"right\" width=\"30\" field=\"modificadorForca\" horzTextAlign=\"center\" /> \\</layout> \\<!-- C\u00e1lculo de campos / uso de dataLink --> \\<dataLink field=\"atributoForca\" > \\<event name=\"onChange\" > local valorForca = tonumber(sheet.atributoForca); if (valorForca ~= nil) then sheet.modificadorForca = math.floor(valorForca / 2) - 5; if sheet.modificadorForca > 0 then sheet.modificadorForca = \"+\" .. sheet.modificadorForca; end ; else sheet.modificadorForca = nil; end \\</event> \\</dataLink> \\</form>** Neste exemplo, ligamos um edit ao campo \"atributoForca\" e um label ao campo \"modificadorForca\"... Usamos um dataLink para monitorar mudan\u00e7as em \"atributoForca\" para calcularmos e salvamos o modificador no campo \"modificadorForca\" (para que o label possa exibir o valor). Veja tamb\u00e9m: Tratando eventos do Lua Form Lua Form e NodeDatabase","title":"Exemplo 1 - Calculando um modificador de atributo de D\\&amp;D"},{"location":"TagdataLink/#exemplo-2-somando-dois-campos-na-interface","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<!-- Layout da interface --> \\<layout left=\"20\" top=\"20\" height=\"25\" width=\"200\" > \\<edit field=\"parcela1\" align=\"left\" horzTextAlign=\"center\" width=\"50\" /> \\<label align=\"left\" text=\" + \" autoSize=\"true\" /> \\<edit field=\"parcela2\" align=\"left\" horzTextAlign=\"center\" width=\"50\" /> \\<label align=\"left\" text=\" = \" autoSize=\"true\" /> \\<!-- Resultado --> \\<label align=\"client\" field=\"resultadoSoma\" horzTextAlign=\"center\" /> \\</layout> \\<!-- C\u00e1lculo de campos / uso de dataLink --> \\<dataLink fields=\"{'parcela1', 'parcela2'}\" > \\<event name=\"onChange\" > sheet.resultadoSoma = (tonumber(sheet.parcela1) or 0) + (tonumber(sheet.parcela2) or 0); \\</event> \\</dataLink> \\</form> Neste exemplo, usamos o dataLink para monitorar dois campos ao mesmo tempo: \"parcela1\" e \"parcela2\" Veja tamb\u00e9m: Tratando eventos do Lua Form Lua Form e NodeDatabase Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities","title":"Exemplo 2 - Somando dois campos na interface"},{"location":"TagdataScopeBox/","text":"Tag dataScopeBox Tag dataScopeBox A tag/componente dataScopeBox funciona como a tag layout , por\u00e9m permite definir em qual objeto Nodo seus controles salvar\u00e3o/ler\u00e3o os dados (NodeDatabase); Ap\u00f3s definir o nodo escopo, todos os componentes visuais que est\u00e3o dentro desta tag passar\u00e3o a ler e salvar os dados neste nodo. Saiba mais sobre escopo de dados do NodeDatabase em Lua Form e NodeDatabase. Aten\u00e7\u00e3o : A tag popup n\u00e3o \u00e9 capturada pelo escopo de dados definido pelo dataScopeBox. Heran\u00e7a O dataScopeBox possui todas as caracter\u00edsticas de uma tag layout . Veja: Tag layout Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o dataScopeBox possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o scopeNode, nodeObject ou ** node** Objeto Nodo nil Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste dataScopeBox devem salvar os dados. Observa\u00e7\u00f5es: Se for nil , os controles dentro desta tag que salvam/carregam dados no NodeDatabase ficam desabilitados. S\u00f3 \u00e9 poss\u00edvel alterar esta propriedade utilizando c\u00f3digo Lua. Veja tamb\u00e9m: NodeDatabase Escopo de Dados M\u00e9todos \u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA. M\u00e9todo Descri\u00e7\u00e3o dataScopeBox:setNodeObject(nodeObject) M\u00e9todo alternativo para alterar a propriedade \" scopeNode \" dataScopeBox:getNodeObject(); M\u00e9todo alternativo que retorna o valor da propriedade \" scopeNode \" Eventos da tag dataScopeBox Nome do evento Descri\u00e7\u00e3o onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este dataScopeBox est\u00e1 pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do dataScopeBox est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo . O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente. onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este dataScopeBox deixa de estar pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do dataScopeBox n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo. onNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este dataScopeBox. Ver NodeDatabase Veja tamb\u00e9m Tratando eventos do Lua Form. Exemplos: Exemplo 1 - Lista com Painel de Detalhes Veja o tutorial Criar uma lista din\u00e2mica + painel de detalhes para ver o exemplo completo . Created with the Personal Edition of HelpNDoc: Full-featured Kindle eBooks generator","title":"Tag dataScopeBox"},{"location":"TagdataScopeBox/#tag-datascopebox","text":"","title":"Tag dataScopeBox"},{"location":"TagdataScopeBox/#tag-datascopebox_1","text":"A tag/componente dataScopeBox funciona como a tag layout , por\u00e9m permite definir em qual objeto Nodo seus controles salvar\u00e3o/ler\u00e3o os dados (NodeDatabase); Ap\u00f3s definir o nodo escopo, todos os componentes visuais que est\u00e3o dentro desta tag passar\u00e3o a ler e salvar os dados neste nodo. Saiba mais sobre escopo de dados do NodeDatabase em Lua Form e NodeDatabase. Aten\u00e7\u00e3o : A tag popup n\u00e3o \u00e9 capturada pelo escopo de dados definido pelo dataScopeBox.","title":"Tag dataScopeBox"},{"location":"TagdataScopeBox/#heranca","text":"O dataScopeBox possui todas as caracter\u00edsticas de uma tag layout . Veja: Tag layout Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TagdataScopeBox/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o dataScopeBox possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagdataScopeBox/#propriedades","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o scopeNode, nodeObject ou ** node** Objeto Nodo nil Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste dataScopeBox devem salvar os dados. Observa\u00e7\u00f5es: Se for nil , os controles dentro desta tag que salvam/carregam dados no NodeDatabase ficam desabilitados. S\u00f3 \u00e9 poss\u00edvel alterar esta propriedade utilizando c\u00f3digo Lua. Veja tamb\u00e9m: NodeDatabase Escopo de Dados","title":"Propriedades"},{"location":"TagdataScopeBox/#metodos","text":"\u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA. M\u00e9todo Descri\u00e7\u00e3o dataScopeBox:setNodeObject(nodeObject) M\u00e9todo alternativo para alterar a propriedade \" scopeNode \" dataScopeBox:getNodeObject(); M\u00e9todo alternativo que retorna o valor da propriedade \" scopeNode \"","title":"M\u00e9todos"},{"location":"TagdataScopeBox/#eventos-da-tag-datascopebox","text":"Nome do evento Descri\u00e7\u00e3o onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este dataScopeBox est\u00e1 pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do dataScopeBox est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo . O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente. onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este dataScopeBox deixa de estar pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do dataScopeBox n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo. onNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este dataScopeBox. Ver NodeDatabase Veja tamb\u00e9m Tratando eventos do Lua Form.","title":"Eventos da tag dataScopeBox"},{"location":"TagdataScopeBox/#_1","text":"","title":"&nbsp;"},{"location":"TagdataScopeBox/#exemplos","text":"","title":"Exemplos:"},{"location":"TagdataScopeBox/#exemplo-1-lista-com-painel-de-detalhes","text":"Veja o tutorial Criar uma lista din\u00e2mica + painel de detalhes para ver o exemplo completo . Created with the Personal Edition of HelpNDoc: Full-featured Kindle eBooks generator","title":"Exemplo 1 - Lista com Painel de Detalhes"},{"location":"Tagedit/","text":"Tag edit Tag EDIT A tag/componente edit representa uma caixa de texto na interface. Um \u00f3timo controle para permitir a entrada de dados! Heran\u00e7a O edit possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag EDIT tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o textPrompt String \\<string vazio> Um texto que \u00e9 exibido quando o edit est\u00e1 vazio. Normalmente \u00e9 usado para orientar o usu\u00e1rio qual informa\u00e7\u00e3o ele deve preencher. Exemplo: \"Preencha com seu nome\" transparent Boolean false Quando True, as bordas e o fundo do edit n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado e o cursor de digita\u00e7\u00e3o. isPasswordEdit Boolean false Quando true, o edit conter\u00e1 uma senha e os caracteres do texto ser\u00e3o exibidos como um caractere coringa. readOnly Boolean false Quando true, o edit n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado (somente leitura). type Enumerado: \"text\" \"number\" \"float\" \"text\" Define que tipo de dados o usu\u00e1rio pode digitar neste edit. \"text\" - N\u00e3o h\u00e1 restri\u00e7\u00f5es e o usu\u00e1rio pode digitar qualquer coisa. \"number\" - O usu\u00e1rio pode digitar um valor num\u00e9rico inteiro. Veja tamb\u00e9m as propriedades min e max do edit. A propriedade \"keyboardType\" \u00e9 automaticamente alterada para \"numberPad\" se ela estiver como \"default\" ou \"alphabet\". \"float\" - O usu\u00e1rio pode digitar um valor num\u00e9rico de ponto flutuante (n\u00fameros reais, \"com v\u00edrgula\") min Double -2147483648 Quando o atributo \"type\" for igual a \"number\" ou \"float\", define qual o menor valor num\u00e9rico que este Edit deve aceitar. max Double 2147483647 Quando o atributo \"type\" for igual a \"number\" ou \"float\", define qual o maior valor num\u00e9rico que este Edit deve aceitar. decimalPlaces Integer 2 Quando o atributo \"type\" for igual a \"float\", define quantas casas decimais pode ter o n\u00famero digitado pelo usu\u00e1rio. keyboardType Enumerado: \"default\" \"numbersAndPunctuation\" \"numberPad\" \"phonePad\" \"alphabet\" \"url\" \"email\" \"default\" Quando um teclado virtual for exibido (como aquele nos smartphones e tablets), qual \u00e9 o layout preferencial de teclado para este conte\u00fado? \"default\" e \"alphabet\": Um teclado alfanum\u00e9rico padr\u00e3o. \"numbersAndPunctuation\": Um teclado para entrada de n\u00fameros de s\u00edmbolos de pontua\u00e7\u00e3o. \"numberPad\": Um teclado com apenas n\u00fameros. \"phonePad\": Um teclado para entrada de n\u00famero telef\u00f4nico. \"url\": Um teclado para preencher uma URL da internet. \"email\": Um teclado para preencher endere\u00e7os de e-mail. enterKeyType Enumerado: \"default\" \"done\" \"go\" \"next\" \"search\" \"send\" \"default\" Quando um teclado virtual for exibido (como aqueles nos smartphones e tablets), este atributo define o \u00edcone que aparece na tecla enter. \"default\" - sem tratamento especial. Observa\u00e7\u00e3o importante: Esta propriedade apenas muda a apar\u00eancia do bot\u00e3o ENTER. Caso queira dar uma funcionalidade ao enter, trate o evento onKeyDown verificando se event.keyCode == 13 field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o edit passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\<string vazio> Considerando que o componente/tag pai possui um frame (ver Frames ), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome. Veja Frames e Regi\u00f5es asNumber Double 0.0 Cont\u00e9m o texto do edit como um n\u00famero de ponto flutuante (n\u00famero real). Se o texto do edit n\u00e3o for um n\u00famero real v\u00e1lido, a propriedade cont\u00e9m 0. Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o conte\u00fado do edit \u00e9 alterado. onUserChange Este evento \u00e9 disparado quando o valor do campo do objeto Nodo associado (ver atributo \"field\") for alterado porque o usu\u00e1rio alterou o conte\u00fado do edit. Importante: Este evento \u00e9 disparado APENAS se o atributo \"field\" estiver preenchido corretamente e se a altera\u00e7\u00e3o de valor ocorrer neste edit mediante a\u00e7\u00e3o do usu\u00e1rio. Veja Tratando eventos do Lua Form Exemplos: Exemplo 1 - Edit simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit left=\"10\" top=\"10\" /> \\</form> Exemplo 2 - Edit transparente \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit left=\"10\" top=\"10\" transparent=\"true\" /> \\</form> Exemplo 3 - Edit que l\u00ea e salva dados no NodeDatabase \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit left=\"10\" top=\"10\" field=\"Destreza\" width=\"250\" /> \\</form> Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase Exemplo 4 - (Avan\u00e7ado) Uma mini ficha, usando edits, labels, layouts e styles para evitar retrabalho. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> layout.LayoutCampo { width: 64; align: left; margins: {left=2, right=2}; } layout.LayoutCampo edit { height:30; horzTextAlign: center; fontSize: 20; align: top; } layout.LayoutCampo label { align: top; horzTextAlign: center; vertTextAlign: leading; autoSize: true; } \\</style> \\<layout left=\"10\" top=\"10\" width=\"200\" height=\"64\" > \\<layout class=\"LayoutCampo\" > \\<edit field=\"combate.armadura\" /> \\<label text=\"Armadura\" /> \\</layout> \\<layout class=\"LayoutCampo\" > \\<edit field=\"saude.pontosDeVida\" /> \\<label text=\"Pontos de Vida\" /> \\</layout> \\<layout class=\"LayoutCampo\" > \\<edit field=\"equipamentos.carga\" /> \\<label text=\"Carga (kg)\" /> \\</layout> \\</layout> \\</form> Neste exemplo, os atributos dos edits, labels e layouts foram definidos por Estilo em Cascata pela tag style . Foram definidos 3 blocos de estilos em cascata: Um com seletor \"layout.LayoutCampo\" (aplicado a todas as tags layout de class \" LayoutCampo \") Um com seletor \"layout.LayoutCampo edit\" (aplicado a todas as tags edit que est\u00e3o dentro de uma tag layout de class \" LayoutCampo \") Um com seletor \"layout.LayoutCampo label\" (aplicado a todas as tags label que est\u00e3o dentro de uma tag layout de class \" LayoutCampo \") Veja tamb\u00e9m: Tag STYLE Tag LABEL Tag LAYOUT Exemplo 5 - (Avan\u00e7ado) O mesmo do exemplo 4, por\u00e9m feito com tags TEMPLATES \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"LayoutUmCampo\" > \\<layout width=\"64\" align=\"left\" margins=\"{left=2, right=2}\" > \\<edit field=\"$(campo)\" height=\"30\" horzTextAlign=\"center\" fontSize=\"20\" align=\"top\" /> \\<label text=\"$(titulo)\" align=\"top\" horzTextAlign=\"center\" vertTextAlign=\"leading\" autoSize=\"true\" /> \\</layout> \\</template> \\<layout left=\"10\" top=\"10\" width=\"200\" height=\"64\" > \\<LayoutUmCampo campo=\"combate.armadura\" titulo=\"Armadura\" /> \\<LayoutUmCampo campo=\"saude.pontosDeVida\" titulo=\"Pontos de Vida\" /> \\<LayoutUmCampo campo=\"equipamentos.carga\" titulo=\"Carga (kg)\" /> \\</layout> \\</form> Veja tamb\u00e9m: Tag TEMPLATE Tag LABEL Tag LAYOUT Created with the Personal Edition of HelpNDoc: Make Documentation Review a Breeze with HelpNDoc's Advanced Project Analyzer","title":"Tag edit"},{"location":"Tagedit/#tag-edit","text":"","title":"Tag edit"},{"location":"Tagedit/#tag-edit_1","text":"A tag/componente edit representa uma caixa de texto na interface. Um \u00f3timo controle para permitir a entrada de dados!","title":"Tag EDIT"},{"location":"Tagedit/#heranca","text":"O edit possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"Tagedit/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag EDIT tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Tagedit/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o textPrompt String \\<string vazio> Um texto que \u00e9 exibido quando o edit est\u00e1 vazio. Normalmente \u00e9 usado para orientar o usu\u00e1rio qual informa\u00e7\u00e3o ele deve preencher. Exemplo: \"Preencha com seu nome\" transparent Boolean false Quando True, as bordas e o fundo do edit n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado e o cursor de digita\u00e7\u00e3o. isPasswordEdit Boolean false Quando true, o edit conter\u00e1 uma senha e os caracteres do texto ser\u00e3o exibidos como um caractere coringa. readOnly Boolean false Quando true, o edit n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado (somente leitura). type Enumerado: \"text\" \"number\" \"float\" \"text\" Define que tipo de dados o usu\u00e1rio pode digitar neste edit. \"text\" - N\u00e3o h\u00e1 restri\u00e7\u00f5es e o usu\u00e1rio pode digitar qualquer coisa. \"number\" - O usu\u00e1rio pode digitar um valor num\u00e9rico inteiro. Veja tamb\u00e9m as propriedades min e max do edit. A propriedade \"keyboardType\" \u00e9 automaticamente alterada para \"numberPad\" se ela estiver como \"default\" ou \"alphabet\". \"float\" - O usu\u00e1rio pode digitar um valor num\u00e9rico de ponto flutuante (n\u00fameros reais, \"com v\u00edrgula\") min Double -2147483648 Quando o atributo \"type\" for igual a \"number\" ou \"float\", define qual o menor valor num\u00e9rico que este Edit deve aceitar. max Double 2147483647 Quando o atributo \"type\" for igual a \"number\" ou \"float\", define qual o maior valor num\u00e9rico que este Edit deve aceitar. decimalPlaces Integer 2 Quando o atributo \"type\" for igual a \"float\", define quantas casas decimais pode ter o n\u00famero digitado pelo usu\u00e1rio. keyboardType Enumerado: \"default\" \"numbersAndPunctuation\" \"numberPad\" \"phonePad\" \"alphabet\" \"url\" \"email\" \"default\" Quando um teclado virtual for exibido (como aquele nos smartphones e tablets), qual \u00e9 o layout preferencial de teclado para este conte\u00fado? \"default\" e \"alphabet\": Um teclado alfanum\u00e9rico padr\u00e3o. \"numbersAndPunctuation\": Um teclado para entrada de n\u00fameros de s\u00edmbolos de pontua\u00e7\u00e3o. \"numberPad\": Um teclado com apenas n\u00fameros. \"phonePad\": Um teclado para entrada de n\u00famero telef\u00f4nico. \"url\": Um teclado para preencher uma URL da internet. \"email\": Um teclado para preencher endere\u00e7os de e-mail. enterKeyType Enumerado: \"default\" \"done\" \"go\" \"next\" \"search\" \"send\" \"default\" Quando um teclado virtual for exibido (como aqueles nos smartphones e tablets), este atributo define o \u00edcone que aparece na tecla enter. \"default\" - sem tratamento especial. Observa\u00e7\u00e3o importante: Esta propriedade apenas muda a apar\u00eancia do bot\u00e3o ENTER. Caso queira dar uma funcionalidade ao enter, trate o evento onKeyDown verificando se event.keyCode == 13 field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o edit passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase frameRegion String \\<string vazio> Considerando que o componente/tag pai possui um frame (ver Frames ), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome. Veja Frames e Regi\u00f5es asNumber Double 0.0 Cont\u00e9m o texto do edit como um n\u00famero de ponto flutuante (n\u00famero real). Se o texto do edit n\u00e3o for um n\u00famero real v\u00e1lido, a propriedade cont\u00e9m 0.","title":"Propriedades e atributos"},{"location":"Tagedit/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o conte\u00fado do edit \u00e9 alterado. onUserChange Este evento \u00e9 disparado quando o valor do campo do objeto Nodo associado (ver atributo \"field\") for alterado porque o usu\u00e1rio alterou o conte\u00fado do edit. Importante: Este evento \u00e9 disparado APENAS se o atributo \"field\" estiver preenchido corretamente e se a altera\u00e7\u00e3o de valor ocorrer neste edit mediante a\u00e7\u00e3o do usu\u00e1rio. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"Tagedit/#exemplos","text":"","title":"Exemplos:"},{"location":"Tagedit/#exemplo-1-edit-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit left=\"10\" top=\"10\" /> \\</form>","title":"Exemplo 1 - Edit simples"},{"location":"Tagedit/#exemplo-2-edit-transparente","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit left=\"10\" top=\"10\" transparent=\"true\" /> \\</form>","title":"Exemplo 2 - Edit transparente"},{"location":"Tagedit/#exemplo-3-edit-que-le-e-salva-dados-no-nodedatabase","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<edit left=\"10\" top=\"10\" field=\"Destreza\" width=\"250\" /> \\</form> Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase","title":"Exemplo 3 - Edit que l\u00ea e salva dados no NodeDatabase"},{"location":"Tagedit/#exemplo-4-avancado-uma-mini-ficha-usando-edits-labels-layouts-e-styles-para-evitar-retrabalho","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> layout.LayoutCampo { width: 64; align: left; margins: {left=2, right=2}; } layout.LayoutCampo edit { height:30; horzTextAlign: center; fontSize: 20; align: top; } layout.LayoutCampo label { align: top; horzTextAlign: center; vertTextAlign: leading; autoSize: true; } \\</style> \\<layout left=\"10\" top=\"10\" width=\"200\" height=\"64\" > \\<layout class=\"LayoutCampo\" > \\<edit field=\"combate.armadura\" /> \\<label text=\"Armadura\" /> \\</layout> \\<layout class=\"LayoutCampo\" > \\<edit field=\"saude.pontosDeVida\" /> \\<label text=\"Pontos de Vida\" /> \\</layout> \\<layout class=\"LayoutCampo\" > \\<edit field=\"equipamentos.carga\" /> \\<label text=\"Carga (kg)\" /> \\</layout> \\</layout> \\</form> Neste exemplo, os atributos dos edits, labels e layouts foram definidos por Estilo em Cascata pela tag style . Foram definidos 3 blocos de estilos em cascata: Um com seletor \"layout.LayoutCampo\" (aplicado a todas as tags layout de class \" LayoutCampo \") Um com seletor \"layout.LayoutCampo edit\" (aplicado a todas as tags edit que est\u00e3o dentro de uma tag layout de class \" LayoutCampo \") Um com seletor \"layout.LayoutCampo label\" (aplicado a todas as tags label que est\u00e3o dentro de uma tag layout de class \" LayoutCampo \") Veja tamb\u00e9m: Tag STYLE Tag LABEL Tag LAYOUT","title":"Exemplo 4 - (Avan\u00e7ado) Uma mini ficha, usando edits, labels, layouts e styles para evitar retrabalho."},{"location":"Tagedit/#exemplo-5-avancado-o-mesmo-do-exemplo-4-porem-feito-com-tags-templates","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"LayoutUmCampo\" > \\<layout width=\"64\" align=\"left\" margins=\"{left=2, right=2}\" > \\<edit field=\"$(campo)\" height=\"30\" horzTextAlign=\"center\" fontSize=\"20\" align=\"top\" /> \\<label text=\"$(titulo)\" align=\"top\" horzTextAlign=\"center\" vertTextAlign=\"leading\" autoSize=\"true\" /> \\</layout> \\</template> \\<layout left=\"10\" top=\"10\" width=\"200\" height=\"64\" > \\<LayoutUmCampo campo=\"combate.armadura\" titulo=\"Armadura\" /> \\<LayoutUmCampo campo=\"saude.pontosDeVida\" titulo=\"Pontos de Vida\" /> \\<LayoutUmCampo campo=\"equipamentos.carga\" titulo=\"Carga (kg)\" /> \\</layout> \\</form> Veja tamb\u00e9m: Tag TEMPLATE Tag LABEL Tag LAYOUT Created with the Personal Edition of HelpNDoc: Make Documentation Review a Breeze with HelpNDoc's Advanced Project Analyzer","title":"Exemplo 5 - (Avan\u00e7ado) O mesmo do exemplo 4, por\u00e9m feito com tags TEMPLATES"},{"location":"Tagevent/","text":"Tag event Tag event Esta tag especial serve para tratar um evento de uma tag/controle usando a linguagem de programa\u00e7\u00e3o LUA (veja A linguagem de programa\u00e7\u00e3o LUA ). Observa\u00e7\u00f5es: O corpo da tag cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o LUA Esta tag n\u00e3o cria nenhum controle. Voc\u00ea deve colocar a tag event dentro da tag que deseja tratar o evento. Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<N\u00e3o h\u00e1 valor padr\u00e3o> Identifica o nome do evento que deseja manipular. Cada tag/controle possui seu pr\u00f3prio conjunto de eventos que podem ser tratados. Consulte a documenta\u00e7\u00e3o! O preenchimento desta propriedade \u00e9 obrigat\u00f3rio. Exemplos Exemplo 1 - Ol\u00e1 mundo com um bot\u00e3o. A tag event est\u00e1 dentro da tag button , portanto, a tag est\u00e1 manipulando o evento \"onClick\" do button \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button left=\"20\" top=\"20\" text=\"clique\" > \\<event name=\"onClick\" > showMessage(\"Ol\u00e1 mundo!\"); \\</event> \\</button> \\</form> \\ Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Exemplo 2 - Centralizando um controle na interface visual A tag event est\u00e1 dentro da tag form , portanto ela est\u00e1 manipulando o evento \"onResize\" do form . \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<event name=\"onResize\" > self.btnMeuBotao.left = self.width / 2 - self.btnMeuBotao.width / 2; self.btnMeuBotao.top = self.height / 2 - self.btnMeuBotao.height / 2; \\</event> \\<button name=\"btnMeuBotao\" text=\"Meu bot\u00e3o!\" /> \\</form> Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Exemplo 3 - Definindo fun\u00e7\u00f5es e as chamando em eventos \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> \\<![CDATA[ local function rotacionarUmPouco(controle) local angulo = controle.rotationAngle; angulo = angulo + 30; while angulo >= 360 do angulo = angulo - 360; end; controle.rotationAngle = angulo; end; ]]> \\</script> \\<button name=\"btnMeuBotao\" left=\"20\" top=\"30\" text=\"Bot\u00e3o 1\" > \\<event name=\"onClick\" > rotacionarUmPouco(self.btnMeuBotao); \\</event> \\</button> \\<button name=\"btnMeuBotao2\" left=\"20\" top=\"100\" text=\"Bot\u00e3o 2\" > \\<event name=\"onClick\" > rotacionarUmPouco(self.btnMeuBotao2); \\</event> \\</button> \\</form> ---> Neste exemplo foi usada a Tag script para definir uma fun\u00e7\u00e3o e foi usado um bloco CDATA para lidar com caracteres reservados do XML. Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Created with the Personal Edition of HelpNDoc: Experience the Power and Ease of Use of a Help Authoring Tool","title":"Tag event"},{"location":"Tagevent/#tag-event","text":"","title":"Tag event"},{"location":"Tagevent/#tag-event_1","text":"Esta tag especial serve para tratar um evento de uma tag/controle usando a linguagem de programa\u00e7\u00e3o LUA (veja A linguagem de programa\u00e7\u00e3o LUA ). Observa\u00e7\u00f5es: O corpo da tag cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o LUA Esta tag n\u00e3o cria nenhum controle. Voc\u00ea deve colocar a tag event dentro da tag que deseja tratar o evento. Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form","title":"Tag event"},{"location":"Tagevent/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"Tagevent/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<N\u00e3o h\u00e1 valor padr\u00e3o> Identifica o nome do evento que deseja manipular. Cada tag/controle possui seu pr\u00f3prio conjunto de eventos que podem ser tratados. Consulte a documenta\u00e7\u00e3o! O preenchimento desta propriedade \u00e9 obrigat\u00f3rio.","title":"Propriedades e atributos"},{"location":"Tagevent/#exemplos","text":"","title":"Exemplos"},{"location":"Tagevent/#exemplo-1-ola-mundo-com-um-botao","text":"A tag event est\u00e1 dentro da tag button , portanto, a tag est\u00e1 manipulando o evento \"onClick\" do button \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button left=\"20\" top=\"20\" text=\"clique\" > \\<event name=\"onClick\" > showMessage(\"Ol\u00e1 mundo!\"); \\</event> \\</button> \\</form> \\ Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form","title":"Exemplo 1 - Ol\u00e1 mundo com um bot\u00e3o."},{"location":"Tagevent/#exemplo-2-centralizando-um-controle-na-interface-visual","text":"A tag event est\u00e1 dentro da tag form , portanto ela est\u00e1 manipulando o evento \"onResize\" do form . \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<event name=\"onResize\" > self.btnMeuBotao.left = self.width / 2 - self.btnMeuBotao.width / 2; self.btnMeuBotao.top = self.height / 2 - self.btnMeuBotao.height / 2; \\</event> \\<button name=\"btnMeuBotao\" text=\"Meu bot\u00e3o!\" /> \\</form> Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form","title":"Exemplo 2 - Centralizando um controle na interface visual"},{"location":"Tagevent/#exemplo-3-definindo-funcoes-e-as-chamando-em-eventos","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> \\<![CDATA[ local function rotacionarUmPouco(controle) local angulo = controle.rotationAngle; angulo = angulo + 30; while angulo >= 360 do angulo = angulo - 360; end; controle.rotationAngle = angulo; end; ]]> \\</script> \\<button name=\"btnMeuBotao\" left=\"20\" top=\"30\" text=\"Bot\u00e3o 1\" > \\<event name=\"onClick\" > rotacionarUmPouco(self.btnMeuBotao); \\</event> \\</button> \\<button name=\"btnMeuBotao2\" left=\"20\" top=\"100\" text=\"Bot\u00e3o 2\" > \\<event name=\"onClick\" > rotacionarUmPouco(self.btnMeuBotao2); \\</event> \\</button> \\</form> ---> Neste exemplo foi usada a Tag script para definir uma fun\u00e7\u00e3o e foi usado um bloco CDATA para lidar com caracteres reservados do XML. Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Created with the Personal Edition of HelpNDoc: Experience the Power and Ease of Use of a Help Authoring Tool","title":"Exemplo 3&nbsp; - Definindo fun\u00e7\u00f5es e as chamando em eventos"},{"location":"TagflowLayout/","text":"Tag flowLayout Tag flowLayout A tag/componente flowLayout organiza controles na interface de forma din\u00e2mica. Excelente para criar interfaces que se adaptam a diferentes tamanhos de tela. Os componentes que est\u00e3o dentro de um flowLayout s\u00e3o automaticamente posicionados de forma sequencial e arranjados em linhas quando n\u00e3o houver espa\u00e7o na horizontal. Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel usar a propriedade \"align\" nos controles filhos desta tag. Heran\u00e7a O flowLayout possui todas as caracter\u00edsticas da tag flowPart. Veja: Tag flowPart Tag layout Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o flowLayout possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoHeight Boolean false Quando true, o layout automaticamente se expande/contra\u00ed na vertical para caber seu conte\u00fado . horzAlign Enumerado: \"leading\" \"center\" \"trailing\" \"justify\" \"leading\" Define como os controles ser\u00e3o alinhados horizontalmente no layout din\u00e2mico. \"leading\": Alinhados \u00e0 esquerda \"center\": Alinhados ao centro \"trailing\": Alinhados \u00e0 direita \"justify\": Alinhados de forma justificada maxControlsPerLine Integer 0 Quando definido definido (valor maior que zero), o layout din\u00e2mico automaticamente realiza quebra de linhas quando a quantidade m\u00e1xima de controles por linha for atingido. orientation Enumerado: \"horizontal\" \"vertical\" \"horizontal\" Define a orienta\u00e7\u00e3o do layout. \"horizontal\": Os controles s\u00e3o dispostos em linhas. \"vertical\": Os controles s\u00e3o dispostos em colunas maxColumns Integer 0 Quando definido (valor maior que zero) e quando \"orientation\" for vertical, este valor define a quantidade m\u00e1xima de colunas que o layout din\u00e2mico deve ter. lineSpacing Float 0.0 Define o espa\u00e7amento entre as linhas do layout din\u00e2mico. contentWidth Double N/D (Somente Leitura) Ap\u00f3s o c\u00e1lculo do layout, cont\u00e9m a largura do conte\u00fado do layout. Note que a largura do conte\u00fado pode ser diferente da largura do flowLayout. contentHeight Double N/D (Somente Leitura) Ap\u00f3s o c\u00e1lculo do layout, cont\u00e9m a altura do conte\u00fado do layout. Note que a altura do conte\u00fado pode ser diferente da altura do flowLayout. Eventos Nome do evento Descri\u00e7\u00e3o onBeforeLayoutCalc Este evento \u00e9 invocado antes do layout din\u00e2mico ser calculado. onAfterLayoutCalc Este evento \u00e9 invocado ap\u00f3s o layout din\u00e2mico ser calculado. M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o flowLayout:needRealign() Informa ao flowLayout que ele deve realinhar seu conte\u00fado. Veja Tratando eventos do Lua Form Exemplos Exemplo 1 - Layout Din\u00e2mico de v\u00e1rios bot\u00f5es \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<flowLayout left=\"20\" top=\"20\" width=\"250\" autoHeight=\"true\" orientation=\"horizontal\" > \\<button text=\"Bot\u00e3o 1\" /> \\<button text=\"Bot\u00e3o 2\" /> \\<button text=\"Bot\u00e3o 3\" /> \\<button text=\"Bot\u00e3o 4\" /> \\<button text=\"Bot\u00e3o 5\" /> \\<button text=\"Bot\u00e3o 6\" /> \\<button text=\"Bot\u00e3o 7\" /> \\</flowLayout> \\</form> orientation=\"horizontal\" orientation=\"vertical\" Exemplo 2 - Layout Din\u00e2mico usando flowPart para se ajustar a v\u00e1rios tamanhos de interfaces \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> flowPart { margins: {left=5, right=5, top=5, bottom=5}; } label { width: 75; horzTextAlign: trailing; margins: {right=5}; } \\</style> \\<flowLayout align=\"client\" orientation=\"horizontal\" horzAlign=\"justify\" margins=\"{left=20, top=20, bottom=20, right=20}\" > \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"For\u00e7a: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Destreza: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Constitui\u00e7\u00e3o: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Intelig\u00eancia: \" /> \\<edit align=\"client\" /> \\</flowPart> \\</flowLayout> \\</form> \\ \\ Neste exemplo foi utilizada a Tag style para aplicar algumas propriedades a v\u00e1rios controles de uma s\u00f3 vez. Cada Tag flowPart usada pode assumir largura entre 130 e 200. Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Tag flowLayout"},{"location":"TagflowLayout/#tag-flowlayout","text":"","title":"Tag flowLayout"},{"location":"TagflowLayout/#tag-flowlayout_1","text":"A tag/componente flowLayout organiza controles na interface de forma din\u00e2mica. Excelente para criar interfaces que se adaptam a diferentes tamanhos de tela. Os componentes que est\u00e3o dentro de um flowLayout s\u00e3o automaticamente posicionados de forma sequencial e arranjados em linhas quando n\u00e3o houver espa\u00e7o na horizontal. Observa\u00e7\u00e3o: N\u00e3o \u00e9 poss\u00edvel usar a propriedade \"align\" nos controles filhos desta tag.","title":"Tag flowLayout"},{"location":"TagflowLayout/#heranca","text":"O flowLayout possui todas as caracter\u00edsticas da tag flowPart. Veja: Tag flowPart Tag layout Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TagflowLayout/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o flowLayout possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagflowLayout/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoHeight Boolean false Quando true, o layout automaticamente se expande/contra\u00ed na vertical para caber seu conte\u00fado . horzAlign Enumerado: \"leading\" \"center\" \"trailing\" \"justify\" \"leading\" Define como os controles ser\u00e3o alinhados horizontalmente no layout din\u00e2mico. \"leading\": Alinhados \u00e0 esquerda \"center\": Alinhados ao centro \"trailing\": Alinhados \u00e0 direita \"justify\": Alinhados de forma justificada maxControlsPerLine Integer 0 Quando definido definido (valor maior que zero), o layout din\u00e2mico automaticamente realiza quebra de linhas quando a quantidade m\u00e1xima de controles por linha for atingido. orientation Enumerado: \"horizontal\" \"vertical\" \"horizontal\" Define a orienta\u00e7\u00e3o do layout. \"horizontal\": Os controles s\u00e3o dispostos em linhas. \"vertical\": Os controles s\u00e3o dispostos em colunas maxColumns Integer 0 Quando definido (valor maior que zero) e quando \"orientation\" for vertical, este valor define a quantidade m\u00e1xima de colunas que o layout din\u00e2mico deve ter. lineSpacing Float 0.0 Define o espa\u00e7amento entre as linhas do layout din\u00e2mico. contentWidth Double N/D (Somente Leitura) Ap\u00f3s o c\u00e1lculo do layout, cont\u00e9m a largura do conte\u00fado do layout. Note que a largura do conte\u00fado pode ser diferente da largura do flowLayout. contentHeight Double N/D (Somente Leitura) Ap\u00f3s o c\u00e1lculo do layout, cont\u00e9m a altura do conte\u00fado do layout. Note que a altura do conte\u00fado pode ser diferente da altura do flowLayout.","title":"Propriedades e atributos"},{"location":"TagflowLayout/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onBeforeLayoutCalc Este evento \u00e9 invocado antes do layout din\u00e2mico ser calculado. onAfterLayoutCalc Este evento \u00e9 invocado ap\u00f3s o layout din\u00e2mico ser calculado.","title":"Eventos"},{"location":"TagflowLayout/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o flowLayout:needRealign() Informa ao flowLayout que ele deve realinhar seu conte\u00fado. Veja Tratando eventos do Lua Form","title":"M\u00e9todos"},{"location":"TagflowLayout/#exemplos","text":"","title":"Exemplos"},{"location":"TagflowLayout/#exemplo-1-layout-dinamico-de-varios-botoes","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<flowLayout left=\"20\" top=\"20\" width=\"250\" autoHeight=\"true\" orientation=\"horizontal\" > \\<button text=\"Bot\u00e3o 1\" /> \\<button text=\"Bot\u00e3o 2\" /> \\<button text=\"Bot\u00e3o 3\" /> \\<button text=\"Bot\u00e3o 4\" /> \\<button text=\"Bot\u00e3o 5\" /> \\<button text=\"Bot\u00e3o 6\" /> \\<button text=\"Bot\u00e3o 7\" /> \\</flowLayout> \\</form> orientation=\"horizontal\" orientation=\"vertical\"","title":"Exemplo 1 - Layout Din\u00e2mico de v\u00e1rios bot\u00f5es"},{"location":"TagflowLayout/#exemplo-2-layout-dinamico-usando-flowpart-para-se-ajustar-a-varios-tamanhos-de-interfaces","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> flowPart { margins: {left=5, right=5, top=5, bottom=5}; } label { width: 75; horzTextAlign: trailing; margins: {right=5}; } \\</style> \\<flowLayout align=\"client\" orientation=\"horizontal\" horzAlign=\"justify\" margins=\"{left=20, top=20, bottom=20, right=20}\" > \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"For\u00e7a: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Destreza: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Constitui\u00e7\u00e3o: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Intelig\u00eancia: \" /> \\<edit align=\"client\" /> \\</flowPart> \\</flowLayout> \\</form> \\ \\ Neste exemplo foi utilizada a Tag style para aplicar algumas propriedades a v\u00e1rios controles de uma s\u00f3 vez. Cada Tag flowPart usada pode assumir largura entre 130 e 200. Created with the Personal Edition of HelpNDoc: Effortlessly Create Encrypted, Password-Protected PDFs","title":"Exemplo 2 - Layout Din\u00e2mico usando flowPart para se ajustar a v\u00e1rios tamanhos de interfaces"},{"location":"TagflowLineBreak/","text":"Tag flowLineBreak Tag flowLineBreak A tag/componente flowLineBreak \u00e9 um componente invis\u00edvel e serve apenas para quebrar linha em um layout din\u00e2mico (Ver Tag flowLayout ). Observa\u00e7\u00f5es: Deve ser usado junto com a Tag flowLayout. Se a orienta\u00e7\u00e3o do flowLayout for \"vertical\", esta tag cria uma nova coluna no layout. Heran\u00e7a O flowLineBreak possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o flowLineBreak possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o horzAlign Enumerado: \"leading\" \"center\" \"trailing\" \"justify\" \\<n\u00e3o definido> Se definido, altera as novas linhas do layout din\u00e2mico ser\u00e3o alinhadas horizontalmente: \"leading\": Alinhados \u00e0 esquerda \"center\": Alinhados ao centro \"trailing\": Alinhados \u00e0 direita \"justify\": Alinhados de forma justificada lineSpacing Float \\<n\u00e3o definido> Se definido, altera o espa\u00e7amento entre as novas linhas do layout din\u00e2mico. Exemplos Exemplo 1 - Quebra de linha \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<flowLayout left=\"20\" top=\"20\" width=\"250\" autoHeight=\"true\" > \\<button text=\"Bot\u00e3o 1\" /> \\<button text=\"Bot\u00e3o 2\" /> \\<flowLineBreak/> \\<button text=\"Bot\u00e3o 3\" /> \\<flowLineBreak/> \\<button text=\"Bot\u00e3o 4\" /> \\<button text=\"Bot\u00e3o 5\" /> \\<button text=\"Bot\u00e3o 6\" /> \\<button text=\"Bot\u00e3o 7\" /> \\</flowLayout> \\</form> Created with the Personal Edition of HelpNDoc: Make the switch to CHM with HelpNDoc's hassle-free WinHelp HLP to CHM conversion tool","title":"Tag flowLineBreak"},{"location":"TagflowLineBreak/#tag-flowlinebreak","text":"","title":"Tag flowLineBreak"},{"location":"TagflowLineBreak/#tag-flowlinebreak_1","text":"A tag/componente flowLineBreak \u00e9 um componente invis\u00edvel e serve apenas para quebrar linha em um layout din\u00e2mico (Ver Tag flowLayout ). Observa\u00e7\u00f5es: Deve ser usado junto com a Tag flowLayout. Se a orienta\u00e7\u00e3o do flowLayout for \"vertical\", esta tag cria uma nova coluna no layout.","title":"Tag flowLineBreak"},{"location":"TagflowLineBreak/#heranca","text":"O flowLineBreak possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TagflowLineBreak/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o flowLineBreak possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagflowLineBreak/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o horzAlign Enumerado: \"leading\" \"center\" \"trailing\" \"justify\" \\<n\u00e3o definido> Se definido, altera as novas linhas do layout din\u00e2mico ser\u00e3o alinhadas horizontalmente: \"leading\": Alinhados \u00e0 esquerda \"center\": Alinhados ao centro \"trailing\": Alinhados \u00e0 direita \"justify\": Alinhados de forma justificada lineSpacing Float \\<n\u00e3o definido> Se definido, altera o espa\u00e7amento entre as novas linhas do layout din\u00e2mico.","title":"Propriedades e atributos"},{"location":"TagflowLineBreak/#exemplos","text":"","title":"Exemplos"},{"location":"TagflowLineBreak/#exemplo-1-quebra-de-linha","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<flowLayout left=\"20\" top=\"20\" width=\"250\" autoHeight=\"true\" > \\<button text=\"Bot\u00e3o 1\" /> \\<button text=\"Bot\u00e3o 2\" /> \\<flowLineBreak/> \\<button text=\"Bot\u00e3o 3\" /> \\<flowLineBreak/> \\<button text=\"Bot\u00e3o 4\" /> \\<button text=\"Bot\u00e3o 5\" /> \\<button text=\"Bot\u00e3o 6\" /> \\<button text=\"Bot\u00e3o 7\" /> \\</flowLayout> \\</form> Created with the Personal Edition of HelpNDoc: Make the switch to CHM with HelpNDoc's hassle-free WinHelp HLP to CHM conversion tool","title":"Exemplo 1 - Quebra de linha"},{"location":"TagflowPart/","text":"Tag flowPart Tag flowPart A tag/componente flowPart representa uma parte din\u00e2mica de um layout din\u00e2mico (Ver Tag flowLayout ). \u00c9 um controle similar \u00e0 uma tag layout, mas com a possibilidade de definir uma largura din\u00e2mica, isto \u00e9, um layout que muda sua largura de acordo com a necessidade. Observa\u00e7\u00e3o: Deve ser usado junto com a Tag flowLayout. Heran\u00e7a O flowPart possui todas as caracter\u00edsticas da tag layout. Veja: Tag layout Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o flowPart possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o minWidth Float \\<o mesmo que width> Define a largura m\u00ednima que esta parte din\u00e2mica pode assumir. Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, a parte n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica. maxWidth Float \\<o mesmo que width> Define a largura m\u00e1xima que esta parte din\u00e2mica pode assumir. Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, a parte n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica. minScaledWidth Float \\<o mesmo que minWidth> Este valor deve ser menor ou igual \u00e0 propriedade \"minWidth\". Quando definido, o layout din\u00e2mico poder\u00e1 utilizar, para este controle, uma largura menor que \"minWidth\", por\u00e9m escalando o conte\u00fado de forma proporcional at\u00e9 uma largura m\u00ednima de \"minScaledWidth\" maxScaledWidth Float \\<o mesmo que maxWidth> Este valor deve ser maior ou igual \u00e0 propriedade \"maxWidth\". Quando definido, o layout din\u00e2mico poder\u00e1 utilizar, para este controle, uma largura maior que \"maxWidth\", por\u00e9m escalando o conte\u00fado de forma proporcional at\u00e9 uma largura m\u00e1xima de \"maxScaledWidth\" avoidScale Boolean false Quando true e quando alguma das propriedades \"minScaledWidth\" e \"maxScaledWidth\" estiverem definidas, o layout din\u00e2mico assumir\u00e1 uma largura menor que \"minWidth\" ou maior que \"maxWidth\" apenas em \u00faltimo caso (Por exemplo: Quando um controle por si s\u00f3 n\u00e3o caber numa \u00fanica linha). vertAlign Enumerado: \"leading\" \"center\" \"trailing\" \"leading\" Na linha do layout din\u00e2mico que este controle foi alocado, qual ser\u00e1 seu alinhamento vertical? \"leading\" - Este controle estar\u00e1 alinhado no topo de sua linha \"center\" - Este controle estar\u00e1 alinhado no centro de sua linha \"trailing\" - Este controle estar\u00e1 alinhado no rodap\u00e9 de sua linha. stepSizes Arranjo de Float {} Por padr\u00e3o, este controle poder\u00e1 ter qualquer largura entre \"minWidth\" e \"maxWidth\" (uma faixa de n\u00fameros reais). Ao usar \"stepSizes\", este controle assumir\u00e1 apenas alguma das larguras que est\u00e3o no arranjo. Exemplos: {100, 200, 300} - O controle poder\u00e1 assumir larguras 100, 200 ou 300.. N\u00e3o poder\u00e1 assumir, por exemplo, a largura 150. {200, 450} - o controle poder\u00e1 assumir ou a largura de 200 ou de 450. Observa\u00e7\u00e3o: Ao usar esta propriedade, o controle passa a desconsiderar as propriedades \"minWidth\" e \"maxWidth\" (por\u00e9m minScaledWidth e maxScaledWidth continuam sendo respeitados) adjustHeightToLine Boolean false Quando true, este controle pode se redimensionar a fim de ocupar todo o espa\u00e7o vertical da linha em que foi alocado. Exemplos Exemplo 1 - Layout Din\u00e2mico usando flowPart para se ajustar a v\u00e1rios tamanhos de interfaces \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> flowPart { margins: {left=5, right=5, top=5, bottom=5}; } label { width: 75; horzTextAlign: trailing; margins: {right=5}; } \\</style> \\<flowLayout align=\"client\" orientation=\"horizontal\" horzAlign=\"justify\" margins=\"{left=20, top=20, bottom=20, right=20}\" > \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"For\u00e7a: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Destreza: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Constitui\u00e7\u00e3o: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Intelig\u00eancia: \" /> \\<edit align=\"client\" /> \\</flowPart> \\</flowLayout> \\</form> \\ \\ Neste exemplo foi utilizada a Tag style para aplicar algumas propriedades a v\u00e1rios controles de uma s\u00f3 vez. Cada tag flowPart usada pode assumir largura entre 130 e 200. Created with the Personal Edition of HelpNDoc: Transform Your Word Doc into a Professional-Quality eBook with HelpNDoc","title":"Tag flowPart"},{"location":"TagflowPart/#tag-flowpart","text":"","title":"Tag flowPart"},{"location":"TagflowPart/#tag-flowpart_1","text":"A tag/componente flowPart representa uma parte din\u00e2mica de um layout din\u00e2mico (Ver Tag flowLayout ). \u00c9 um controle similar \u00e0 uma tag layout, mas com a possibilidade de definir uma largura din\u00e2mica, isto \u00e9, um layout que muda sua largura de acordo com a necessidade. Observa\u00e7\u00e3o: Deve ser usado junto com a Tag flowLayout.","title":"Tag flowPart"},{"location":"TagflowPart/#heranca","text":"O flowPart possui todas as caracter\u00edsticas da tag layout. Veja: Tag layout Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TagflowPart/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o flowPart possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagflowPart/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o minWidth Float \\<o mesmo que width> Define a largura m\u00ednima que esta parte din\u00e2mica pode assumir. Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, a parte n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica. maxWidth Float \\<o mesmo que width> Define a largura m\u00e1xima que esta parte din\u00e2mica pode assumir. Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, a parte n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica. minScaledWidth Float \\<o mesmo que minWidth> Este valor deve ser menor ou igual \u00e0 propriedade \"minWidth\". Quando definido, o layout din\u00e2mico poder\u00e1 utilizar, para este controle, uma largura menor que \"minWidth\", por\u00e9m escalando o conte\u00fado de forma proporcional at\u00e9 uma largura m\u00ednima de \"minScaledWidth\" maxScaledWidth Float \\<o mesmo que maxWidth> Este valor deve ser maior ou igual \u00e0 propriedade \"maxWidth\". Quando definido, o layout din\u00e2mico poder\u00e1 utilizar, para este controle, uma largura maior que \"maxWidth\", por\u00e9m escalando o conte\u00fado de forma proporcional at\u00e9 uma largura m\u00e1xima de \"maxScaledWidth\" avoidScale Boolean false Quando true e quando alguma das propriedades \"minScaledWidth\" e \"maxScaledWidth\" estiverem definidas, o layout din\u00e2mico assumir\u00e1 uma largura menor que \"minWidth\" ou maior que \"maxWidth\" apenas em \u00faltimo caso (Por exemplo: Quando um controle por si s\u00f3 n\u00e3o caber numa \u00fanica linha). vertAlign Enumerado: \"leading\" \"center\" \"trailing\" \"leading\" Na linha do layout din\u00e2mico que este controle foi alocado, qual ser\u00e1 seu alinhamento vertical? \"leading\" - Este controle estar\u00e1 alinhado no topo de sua linha \"center\" - Este controle estar\u00e1 alinhado no centro de sua linha \"trailing\" - Este controle estar\u00e1 alinhado no rodap\u00e9 de sua linha. stepSizes Arranjo de Float {} Por padr\u00e3o, este controle poder\u00e1 ter qualquer largura entre \"minWidth\" e \"maxWidth\" (uma faixa de n\u00fameros reais). Ao usar \"stepSizes\", este controle assumir\u00e1 apenas alguma das larguras que est\u00e3o no arranjo. Exemplos: {100, 200, 300} - O controle poder\u00e1 assumir larguras 100, 200 ou 300.. N\u00e3o poder\u00e1 assumir, por exemplo, a largura 150. {200, 450} - o controle poder\u00e1 assumir ou a largura de 200 ou de 450. Observa\u00e7\u00e3o: Ao usar esta propriedade, o controle passa a desconsiderar as propriedades \"minWidth\" e \"maxWidth\" (por\u00e9m minScaledWidth e maxScaledWidth continuam sendo respeitados) adjustHeightToLine Boolean false Quando true, este controle pode se redimensionar a fim de ocupar todo o espa\u00e7o vertical da linha em que foi alocado.","title":"Propriedades e atributos"},{"location":"TagflowPart/#exemplos","text":"","title":"Exemplos"},{"location":"TagflowPart/#exemplo-1-layout-dinamico-usando-flowpart-para-se-ajustar-a-varios-tamanhos-de-interfaces","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> flowPart { margins: {left=5, right=5, top=5, bottom=5}; } label { width: 75; horzTextAlign: trailing; margins: {right=5}; } \\</style> \\<flowLayout align=\"client\" orientation=\"horizontal\" horzAlign=\"justify\" margins=\"{left=20, top=20, bottom=20, right=20}\" > \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"For\u00e7a: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Destreza: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Constitui\u00e7\u00e3o: \" /> \\<edit align=\"client\" /> \\</flowPart> \\<flowPart minWidth=\"130\" maxWidth=\"200\" height=\"25\" > \\<label align=\"left\" text=\"Intelig\u00eancia: \" /> \\<edit align=\"client\" /> \\</flowPart> \\</flowLayout> \\</form> \\ \\ Neste exemplo foi utilizada a Tag style para aplicar algumas propriedades a v\u00e1rios controles de uma s\u00f3 vez. Cada tag flowPart usada pode assumir largura entre 130 e 200. Created with the Personal Edition of HelpNDoc: Transform Your Word Doc into a Professional-Quality eBook with HelpNDoc","title":"Exemplo 1 - Layout Din\u00e2mico usando flowPart para se ajustar a v\u00e1rios tamanhos de interfaces"},{"location":"Tagform/","text":"Tag form Tag form A tag/componente form representa uma ficha, um formul\u00e1rio ou uma janela do plug-in. As principais caracter\u00edsticas do form s\u00e3o: Para que alguma interface visual seja apresentada na tela do usu\u00e1rio, \u00e9 necess\u00e1rio existir ao menos 1 form . Sem form , n\u00e3o h\u00e1 apresenta\u00e7\u00e3o da interface. Apenas os componentes que est\u00e3o dentro de um form s\u00e3o apresentados na tela. \u00c9 poss\u00edvel existir um form dentro de outro form. \u00c9 poss\u00edvel definir um tema para um form e todos os componentes que est\u00e3o dentro dele. Exemplo: Voc\u00ea quer que o form (e demais componentes) tenha apar\u00eancia escura ou clara? \u00c9 poss\u00edvel associar um Nodo de um NodeDatabase (Ver NodeDatabase ) a um form. Quando voc\u00ea faz isso, todos os componentes de edi\u00e7\u00e3o (que est\u00e3o dentro do form) passam a salvar os dados neste nodo. Os modelos de ficha fazem isso! Mas voc\u00ea n\u00e3o precisa se preocupar com isso, pois o SDK 3 faz isso automaticamente para voc\u00ea ;) . Heran\u00e7a O form possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o form possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos da tag FORM Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o title String \\<string vazio> Define o t\u00edtulo do formul\u00e1rio. Este t\u00edtulo pode ser apresentado em v\u00e1rios lugares, como identifica\u00e7\u00e3o da ficha (se for um modelo de ficha) ou como t\u00edtulo de janela. description String \\<string vazio> Define um texto descritivo do formul\u00e1rio. Se for um modelo de ficha, este valor pode ser apresentado ao usu\u00e1rio durante a cria\u00e7\u00e3o do personagem. dataType String \\<string vazio> Define um tipo de dados que este formul\u00e1rio \u00e9 capaz de editar. Se voc\u00ea est\u00e1 criando uma ficha nova, voc\u00ea deve inventar este texto. A partir de ent\u00e3o, este ser\u00e1 o identificador da sua ficha! Este campo deve ser preenchido se voc\u00ea estiver criando uma janela acopl\u00e1vel de mesa que salve dados em um NodeDatabase armazenado no servidor RRPG. Neste caso, o dataType serve para identificar qual NodeDatabase da mesa dever\u00e1 ser aberto para salvamento de dados. O valor deve possuir ao menos 5 caracteres alfanum\u00e9ricos, \"_\" ou \".\" e n\u00e3o deve come\u00e7ar com um d\u00edgito. Exemplos: \u201cRRPG.MeuNome.DnD5\u201d \u201cbr.com.Meusite.VampiroAMascara\u201d \"br.com.MeuSite.MeuTablesDock\" formType Enumerado: \u201cundefined\u201d \u201csheetTemplate\u201d \"tablesDock\" \u201cundefined\u201d Define a finalidade deste formul\u00e1rio. \u201csheetTemplate\u201d \u2013 Este formul\u00e1rio \u00e9 um modelo de ficha. \"tablesDock\" - Este formul\u00e1rio \u00e9 uma janela acopl\u00e1vel de mesa. Importante : Se voc\u00ea quiser que sua janela acopl\u00e1vel de mesa salve dados em um NodeDatabase armazenado no servidor RRPG, preencha tamb\u00e9m a propriedade \"dataType\". Janelas acopl\u00e1veis s\u00e3o vis\u00edveis apenas para assinantes Gold e/ou em mesas onde seu criador for Gold Plus. \u201cundefined\u201d \u2013 Este formul\u00e1rio n\u00e3o tem uma finalidade bem definida e pode ser usado para v\u00e1rias finalidades diferentes. O RRPG n\u00e3o far\u00e1 nenhum tratamento especial. theme Enumerado: \u201cdefault\u201d \u201clight\u201d \u201cdark\u201d \u201cdefault\u201d Define o tema de cores que os componentes visuais ter\u00e3o neste formul\u00e1rio. \u201cdefault\u201d: Tema padr\u00e3o (cores escuras). \u201clight\u201d: Tema de cores claras. \u201cdark\u201d: Tema de cores escuras. Observa\u00e7\u00e3o: Mesmo que outros temas sejam adicionados futuramente, \"default\" sempre usar\u00e1 cores escuras. lockWhileNodeIsLoading Boolean true Quando true, o form apresenta o texto \u201ccarregando\u201d e trava a interface enquanto o NodeDatabase associado estiver baixando dados. minWidth Float \\<o mesmo que width> Quando dentro de uma tag flowLayout ou quando for um item de uma tag recordList layout \"horizontalTiles\" ou \"verticalTiles\", define a largura m\u00ednima que este form pode assumir, o tornando adapt\u00e1vel ao \"tamanho da tela\". Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, o form n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica. maxWidth Float \\<o mesmo que width> Quando dentro de uma tag flowLayout ou quando for um item de uma tag recordList layout \"horizontalTiles\" ou \"verticalTiles\", define a largura m\u00e1xima que este form pode assumir, o tornando adapt\u00e1vel ao \"tamanho da tela\". Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, o form n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica. isShowing Boolean False (Somente Leitura) Esta propriedade cont\u00e9m True se o form est\u00e1 sendo exibido na interface do usu\u00e1rio ou false se o form n\u00e3o est\u00e1 vis\u00edvel. M\u00e9todos da tag FORM M\u00e9todo Descri\u00e7\u00e3o form:setNodeObject(nodeObject) Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste formul\u00e1rio devem salvar os dados. Par\u00e2metros: nodeObject \u2013 Um objeto Nodo (de um NodeDatabase) ou nil . Ver: NodeDatabase Escopo de Dados form:getNodeObject(); Retorna o objeto nodo (de um NodeDatabase) no qual os controles de edi\u00e7\u00e3o deste formul\u00e1rio devem salvar os dados. nil \u00e9 retornado quando n\u00e3o h\u00e1 nodo associado. Ver: NodeDatabase Escopo de Dados form:lockWithActivity([msg]) Desabilita a intera\u00e7\u00e3o do usu\u00e1rio com o formul\u00e1rio exibindo um indicador de atividade e, opcionalmente, uma mensagem. Ideal quando voc\u00ea quer fazer o usu\u00e1rio aguardar a conclus\u00e3o de algum processo qualquer antes de voltar a interagir com a interface. Par\u00e2metros: (OPCIONAL) msg - uma cadeia de caracteres contendo a mensagem que ser\u00e1 exibida na interface. Observa\u00e7\u00f5es: Este m\u00e9todo segue uma ideia de pilha: Voc\u00ea pode invocar este m\u00e9todo mais de uma vez. Para cada chamada a este m\u00e9todo, deve haver uma chamada do m\u00e9todo unlockWithActivity para destravar a interface. A mensagem exibida ser\u00e1 sempre a da \u00faltima chamada ao m\u00e9todo. form:unlockWithActivity() Volta a habilitar a intera\u00e7\u00e3o entre o usu\u00e1rio e a interface que foi previamente travada pelo m\u00e9todo form:lockWithActivity Retorna true se o form foi realmente liberado, ou false se precisar de mais chamadas de unlockWithActivity para isso. Eventos da tag Form Nome do evento Descri\u00e7\u00e3o onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este formul\u00e1rio est\u00e1 pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a vari\u00e1vel \"sheet\" do LuaForm est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo . O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente. onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este formul\u00e1rio deixa de estar pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a vari\u00e1vel \"sheet\" do LuaForm n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo. onNodeChanged ou onScopeNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este formul\u00e1rio. Ver NodeDatabase onShow Este evento \u00e9 invocado quando o formul\u00e1rio for ficar vis\u00edvel na interface. onHide Este evento \u00e9 invocado quando o formul\u00e1rio for ser escondido/fechado. Veja tamb\u00e9m Tratando eventos do Lua Form. Created with the Personal Edition of HelpNDoc: Make your documentation accessible on any device with HelpNDoc","title":"Tag form"},{"location":"Tagform/#tag-form","text":"","title":"Tag form"},{"location":"Tagform/#tag-form_1","text":"A tag/componente form representa uma ficha, um formul\u00e1rio ou uma janela do plug-in. As principais caracter\u00edsticas do form s\u00e3o: Para que alguma interface visual seja apresentada na tela do usu\u00e1rio, \u00e9 necess\u00e1rio existir ao menos 1 form . Sem form , n\u00e3o h\u00e1 apresenta\u00e7\u00e3o da interface. Apenas os componentes que est\u00e3o dentro de um form s\u00e3o apresentados na tela. \u00c9 poss\u00edvel existir um form dentro de outro form. \u00c9 poss\u00edvel definir um tema para um form e todos os componentes que est\u00e3o dentro dele. Exemplo: Voc\u00ea quer que o form (e demais componentes) tenha apar\u00eancia escura ou clara? \u00c9 poss\u00edvel associar um Nodo de um NodeDatabase (Ver NodeDatabase ) a um form. Quando voc\u00ea faz isso, todos os componentes de edi\u00e7\u00e3o (que est\u00e3o dentro do form) passam a salvar os dados neste nodo. Os modelos de ficha fazem isso! Mas voc\u00ea n\u00e3o precisa se preocupar com isso, pois o SDK 3 faz isso automaticamente para voc\u00ea ;) .","title":"Tag form"},{"location":"Tagform/#heranca","text":"O form possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"Tagform/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o form possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Tagform/#propriedades-e-atributos-da-tag-form","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o title String \\<string vazio> Define o t\u00edtulo do formul\u00e1rio. Este t\u00edtulo pode ser apresentado em v\u00e1rios lugares, como identifica\u00e7\u00e3o da ficha (se for um modelo de ficha) ou como t\u00edtulo de janela. description String \\<string vazio> Define um texto descritivo do formul\u00e1rio. Se for um modelo de ficha, este valor pode ser apresentado ao usu\u00e1rio durante a cria\u00e7\u00e3o do personagem. dataType String \\<string vazio> Define um tipo de dados que este formul\u00e1rio \u00e9 capaz de editar. Se voc\u00ea est\u00e1 criando uma ficha nova, voc\u00ea deve inventar este texto. A partir de ent\u00e3o, este ser\u00e1 o identificador da sua ficha! Este campo deve ser preenchido se voc\u00ea estiver criando uma janela acopl\u00e1vel de mesa que salve dados em um NodeDatabase armazenado no servidor RRPG. Neste caso, o dataType serve para identificar qual NodeDatabase da mesa dever\u00e1 ser aberto para salvamento de dados. O valor deve possuir ao menos 5 caracteres alfanum\u00e9ricos, \"_\" ou \".\" e n\u00e3o deve come\u00e7ar com um d\u00edgito. Exemplos: \u201cRRPG.MeuNome.DnD5\u201d \u201cbr.com.Meusite.VampiroAMascara\u201d \"br.com.MeuSite.MeuTablesDock\" formType Enumerado: \u201cundefined\u201d \u201csheetTemplate\u201d \"tablesDock\" \u201cundefined\u201d Define a finalidade deste formul\u00e1rio. \u201csheetTemplate\u201d \u2013 Este formul\u00e1rio \u00e9 um modelo de ficha. \"tablesDock\" - Este formul\u00e1rio \u00e9 uma janela acopl\u00e1vel de mesa. Importante : Se voc\u00ea quiser que sua janela acopl\u00e1vel de mesa salve dados em um NodeDatabase armazenado no servidor RRPG, preencha tamb\u00e9m a propriedade \"dataType\". Janelas acopl\u00e1veis s\u00e3o vis\u00edveis apenas para assinantes Gold e/ou em mesas onde seu criador for Gold Plus. \u201cundefined\u201d \u2013 Este formul\u00e1rio n\u00e3o tem uma finalidade bem definida e pode ser usado para v\u00e1rias finalidades diferentes. O RRPG n\u00e3o far\u00e1 nenhum tratamento especial. theme Enumerado: \u201cdefault\u201d \u201clight\u201d \u201cdark\u201d \u201cdefault\u201d Define o tema de cores que os componentes visuais ter\u00e3o neste formul\u00e1rio. \u201cdefault\u201d: Tema padr\u00e3o (cores escuras). \u201clight\u201d: Tema de cores claras. \u201cdark\u201d: Tema de cores escuras. Observa\u00e7\u00e3o: Mesmo que outros temas sejam adicionados futuramente, \"default\" sempre usar\u00e1 cores escuras. lockWhileNodeIsLoading Boolean true Quando true, o form apresenta o texto \u201ccarregando\u201d e trava a interface enquanto o NodeDatabase associado estiver baixando dados. minWidth Float \\<o mesmo que width> Quando dentro de uma tag flowLayout ou quando for um item de uma tag recordList layout \"horizontalTiles\" ou \"verticalTiles\", define a largura m\u00ednima que este form pode assumir, o tornando adapt\u00e1vel ao \"tamanho da tela\". Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, o form n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica. maxWidth Float \\<o mesmo que width> Quando dentro de uma tag flowLayout ou quando for um item de uma tag recordList layout \"horizontalTiles\" ou \"verticalTiles\", define a largura m\u00e1xima que este form pode assumir, o tornando adapt\u00e1vel ao \"tamanho da tela\". Quando n\u00e3o definido, o valor \"width\" ser\u00e1 usado e, portanto, o form n\u00e3o mudar\u00e1 sua largura de forma din\u00e2mica. isShowing Boolean False (Somente Leitura) Esta propriedade cont\u00e9m True se o form est\u00e1 sendo exibido na interface do usu\u00e1rio ou false se o form n\u00e3o est\u00e1 vis\u00edvel.","title":"Propriedades e atributos da tag FORM"},{"location":"Tagform/#metodos-da-tag-form","text":"M\u00e9todo Descri\u00e7\u00e3o form:setNodeObject(nodeObject) Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste formul\u00e1rio devem salvar os dados. Par\u00e2metros: nodeObject \u2013 Um objeto Nodo (de um NodeDatabase) ou nil . Ver: NodeDatabase Escopo de Dados form:getNodeObject(); Retorna o objeto nodo (de um NodeDatabase) no qual os controles de edi\u00e7\u00e3o deste formul\u00e1rio devem salvar os dados. nil \u00e9 retornado quando n\u00e3o h\u00e1 nodo associado. Ver: NodeDatabase Escopo de Dados form:lockWithActivity([msg]) Desabilita a intera\u00e7\u00e3o do usu\u00e1rio com o formul\u00e1rio exibindo um indicador de atividade e, opcionalmente, uma mensagem. Ideal quando voc\u00ea quer fazer o usu\u00e1rio aguardar a conclus\u00e3o de algum processo qualquer antes de voltar a interagir com a interface. Par\u00e2metros: (OPCIONAL) msg - uma cadeia de caracteres contendo a mensagem que ser\u00e1 exibida na interface. Observa\u00e7\u00f5es: Este m\u00e9todo segue uma ideia de pilha: Voc\u00ea pode invocar este m\u00e9todo mais de uma vez. Para cada chamada a este m\u00e9todo, deve haver uma chamada do m\u00e9todo unlockWithActivity para destravar a interface. A mensagem exibida ser\u00e1 sempre a da \u00faltima chamada ao m\u00e9todo. form:unlockWithActivity() Volta a habilitar a intera\u00e7\u00e3o entre o usu\u00e1rio e a interface que foi previamente travada pelo m\u00e9todo form:lockWithActivity Retorna true se o form foi realmente liberado, ou false se precisar de mais chamadas de unlockWithActivity para isso.","title":"M\u00e9todos da tag FORM"},{"location":"Tagform/#eventos-da-tag-form","text":"Nome do evento Descri\u00e7\u00e3o onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este formul\u00e1rio est\u00e1 pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a vari\u00e1vel \"sheet\" do LuaForm est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo . O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente. onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este formul\u00e1rio deixa de estar pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a vari\u00e1vel \"sheet\" do LuaForm n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo. onNodeChanged ou onScopeNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este formul\u00e1rio. Ver NodeDatabase onShow Este evento \u00e9 invocado quando o formul\u00e1rio for ficar vis\u00edvel na interface. onHide Este evento \u00e9 invocado quando o formul\u00e1rio for ser escondido/fechado. Veja tamb\u00e9m Tratando eventos do Lua Form. Created with the Personal Edition of HelpNDoc: Make your documentation accessible on any device with HelpNDoc","title":"Eventos da tag Form"},{"location":"Taggroup/","text":"Tag group Tag group Com a tag group , o programador pode agrupar outras tags. Esta tag n\u00e3o faz nada al\u00e9m disso, n\u00e3o afeta a interface visual e nem a interpreta\u00e7\u00e3o do Lua Form. N\u00e3o h\u00e1 propriedades e nem atributos. \u00c9 especialmente \u00fatil para usar com a tag import . Honestamente, sua \u00fanica utilidade \u00e9 essa hehehe =) Exemplos Exemplo 1 - Importa\u00e7\u00e3o de v\u00e1rias tags usando a Tag group Usando a Tag import conseguimos importar um grupo de tags que est\u00e1 em outro documento XML. Arquivo \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<import file=\"OutroArquivo.xml\" /> \\<MinhaTag titulo=\"Meu Bot\u00e3o\" /> \\</form> Arquivo \u201cOutroArquivo.xml\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<group> \\<style> label { fontColor: lime; } \\</style> \\<template name=\"MinhaTag\" > \\<button left=\"20\" top=\"120\" text=\"$(titulo)\" /> \\</template> \\<layout width=\"100\" height=\"100\" top=\"20\" left=\"20\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Estou em outro documento\" /> \\</layout> \\</group> Created with the Personal Edition of HelpNDoc: Modernize your help files with HelpNDoc's WinHelp HLP to CHM conversion tool","title":"Tag group"},{"location":"Taggroup/#tag-group","text":"","title":"Tag group"},{"location":"Taggroup/#tag-group_1","text":"Com a tag group , o programador pode agrupar outras tags. Esta tag n\u00e3o faz nada al\u00e9m disso, n\u00e3o afeta a interface visual e nem a interpreta\u00e7\u00e3o do Lua Form. N\u00e3o h\u00e1 propriedades e nem atributos. \u00c9 especialmente \u00fatil para usar com a tag import . Honestamente, sua \u00fanica utilidade \u00e9 essa hehehe =)","title":"Tag group"},{"location":"Taggroup/#exemplos","text":"","title":"Exemplos"},{"location":"Taggroup/#exemplo-1-importacao-de-varias-tags-usando-a-tag-group","text":"Usando a Tag import conseguimos importar um grupo de tags que est\u00e1 em outro documento XML. Arquivo \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<import file=\"OutroArquivo.xml\" /> \\<MinhaTag titulo=\"Meu Bot\u00e3o\" /> \\</form> Arquivo \u201cOutroArquivo.xml\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<group> \\<style> label { fontColor: lime; } \\</style> \\<template name=\"MinhaTag\" > \\<button left=\"20\" top=\"120\" text=\"$(titulo)\" /> \\</template> \\<layout width=\"100\" height=\"100\" top=\"20\" left=\"20\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Estou em outro documento\" /> \\</layout> \\</group> Created with the Personal Edition of HelpNDoc: Modernize your help files with HelpNDoc's WinHelp HLP to CHM conversion tool","title":"Exemplo 1 - Importa\u00e7\u00e3o de v\u00e1rias tags usando a Tag group"},{"location":"TaghorzLine/","text":"Tag horzLine Tag horzLine A tag/componente horzLine representa uma linha na horizontal com cores e espessura personalizada. Heran\u00e7a O horzLine possui todas as caracter\u00edsticas de um controle shape/forma. Veja Caracter\u00edsticas de tags shapes Caracter\u00edsticas de todas as tags visuais . Exemplos Exemplo 1 - Uma linha simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<horzLine left=\"10\" top=\"20\" width=\"200\" strokeColor=\"red\" /> \\</form> Exemplo 2 - Uma linha mais espessa \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<horzLine left=\"10\" top=\"20\" width=\"200\" strokeColor=\"red\" strokeSize=\"7\" /> \\</form> Created with the Personal Edition of HelpNDoc: Easily convert your WinHelp HLP help files to CHM with HelpNDoc's step-by-step guide","title":"Tag horzLine"},{"location":"TaghorzLine/#tag-horzline","text":"","title":"Tag horzLine"},{"location":"TaghorzLine/#tag-horzline_1","text":"A tag/componente horzLine representa uma linha na horizontal com cores e espessura personalizada.","title":"Tag horzLine"},{"location":"TaghorzLine/#heranca","text":"O horzLine possui todas as caracter\u00edsticas de um controle shape/forma. Veja Caracter\u00edsticas de tags shapes Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TaghorzLine/#exemplos","text":"","title":"Exemplos"},{"location":"TaghorzLine/#exemplo-1-uma-linha-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<horzLine left=\"10\" top=\"20\" width=\"200\" strokeColor=\"red\" /> \\</form>","title":"Exemplo 1 - Uma linha simples"},{"location":"TaghorzLine/#exemplo-2-uma-linha-mais-espessa","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<horzLine left=\"10\" top=\"20\" width=\"200\" strokeColor=\"red\" strokeSize=\"7\" /> \\</form> Created with the Personal Edition of HelpNDoc: Easily convert your WinHelp HLP help files to CHM with HelpNDoc's step-by-step guide","title":"Exemplo 2 - Uma linha mais espessa"},{"location":"Tagimage/","text":"Tag image Tag IMAGE A tag/componente image representa uma imagem na interface visual. Heran\u00e7a O image possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o image tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e Atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o animate Boolean false Define se deve executar a anima\u00e7\u00e3o de imagens que s\u00e3o animadas (exemplo: GIF, GIFV) quando suportadas. url, src ou imageURL String \\<string vazio> Define a URL/caminho de onde se encontra a imagem! Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. style ou showStyle Enumerado: \u201cproportional\u201d \u201cautoFit\u201d \u201coriginalSize\u201d \u201cstretch\u201d \u201cproportional\u201d Define como a imagem ser\u00e1 apresentada na interface: \u201cproportional\u201d: A imagem ser\u00e1 redimensionada, proporcionalmente, para o tamanho do controle, n\u00e3o necessariamente ocupando todo o espa\u00e7o dispon\u00edvel. \u201cautoFit\u201d: A imagem ser\u00e1 exibida de forma que SEMPRE ocupe TODO o espa\u00e7o do controle da forma mais adequada, isto \u00e9, aumentando/diminuindo a imagem, centralizando-a e cortando excessos. \u201coriginalSize\u201d: A imagem ser\u00e1 apresentada no tamanho original, sem redimensionamento. \u201cstretch\u201d: A imagem ser\u00e1 redimensionada de forma que ocupe todo o espa\u00e7o dispon\u00edvel no controle, podendo achatar ou alongar a imagem. center Boolean true Quando true, a imagem ser\u00e1 exibida de forma centralizada no controle. Esta propriedade \u00e9 v\u00e1lida apenas quando a propriedade \u201cshowStyle\u201d for \u201cproportional\u201d ou \u201coriginalSize\u201d optimizeQuality ou ** optimize** Boolean false Quando true, o SDK salvar\u00e1 uma c\u00f3pia da imagem j\u00e1 redimensionada de acordo com a propriedade \u201cstyle\u201d. Utilize este atributo apenas em controles image que n\u00e3o sofrem constante mudan\u00e7a de tamanho. showProgress Boolean true Quando true, o controle exibe uma barra de carregamento para informar que a imagem est\u00e1 sendo baixada. Quando false, a imagem definida pela propriedade \u201cURLWhileLoading\u201d \u00e9 exibida enquanto o download \u00e9 feito. URLWhileLoading String \\<string vazio> Define a URL/caminho da imagem que \u00e9 exibida APENAS enquanto a imagem principal (definida na propriedade \u201curl\u201d) \u00e9 carregada. Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no projeto do plugin Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, a imagem passa a apresentar a imagem de URL contida no campo do NodeDatabase informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase editable Boolean false Quando True, a tag permite o usu\u00e1rio alterar a URL da imagem. Se o atributo \"field\" estiver preenchido, a URL escolhida pelo usu\u00e1rio \u00e9 salva no campo do NodeDatabase. naturalAnimated Boolean false (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a informa\u00e7\u00e3o se ela suporta anima\u00e7\u00e3o. naturalWidth Double 0 (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a largura original da imagem em pixels. naturalHeight Double 0 (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a altura original da imagem em pixels. Eventos Nome do evento Descri\u00e7\u00e3o onLoad Este evento \u00e9 invocado quando a imagem tiver sido carregada. onPictureLoadedChange Este evento \u00e9 invocado quando a imagem que ser\u00e1 exibida mudou. Este evento \u00e9 chamado quando a imagem \u00e9 carregada 100% ou quando uma imagem \u00e9 descarregada. Veja Tratando eventos do Lua Form Exemplos Exemplo 1 - Imagem dentro do projeto de plug-in Neste exemplo, existe uma pasta chamada \"imagens\" dentro da pasta projeto do plug-in, e dentro desta pasta existe a imagem \"fenix.png\". \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<image left=\"20\" top=\"20\" width=\"200\" height=\"200\" src=\"/imagens/fenix.png\" /> \\</form> Exemplo 2 - Imagem baixada por URL e diversos styles \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<image left=\"20\" top=\"20\" width=\"400\" height=\"200\" style=\"autoFit\" src=\"http://fc03.deviantart.net/fs70/i/2011/234/5/4/dragon_aspects_by_rattlesnakedefender-d47ii5y.jpg\" /> \\</form> style=\"proportional\" style=\"autoFit\" style=\"originalSize\" style=\"stretch\" Created with the Personal Edition of HelpNDoc: Free EPub and documentation generator","title":"Tag image"},{"location":"Tagimage/#tag-image","text":"","title":"Tag image"},{"location":"Tagimage/#tag-image_1","text":"A tag/componente image representa uma imagem na interface visual.","title":"Tag IMAGE"},{"location":"Tagimage/#heranca","text":"O image possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"Tagimage/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o image tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Tagimage/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o animate Boolean false Define se deve executar a anima\u00e7\u00e3o de imagens que s\u00e3o animadas (exemplo: GIF, GIFV) quando suportadas. url, src ou imageURL String \\<string vazio> Define a URL/caminho de onde se encontra a imagem! Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin. Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. style ou showStyle Enumerado: \u201cproportional\u201d \u201cautoFit\u201d \u201coriginalSize\u201d \u201cstretch\u201d \u201cproportional\u201d Define como a imagem ser\u00e1 apresentada na interface: \u201cproportional\u201d: A imagem ser\u00e1 redimensionada, proporcionalmente, para o tamanho do controle, n\u00e3o necessariamente ocupando todo o espa\u00e7o dispon\u00edvel. \u201cautoFit\u201d: A imagem ser\u00e1 exibida de forma que SEMPRE ocupe TODO o espa\u00e7o do controle da forma mais adequada, isto \u00e9, aumentando/diminuindo a imagem, centralizando-a e cortando excessos. \u201coriginalSize\u201d: A imagem ser\u00e1 apresentada no tamanho original, sem redimensionamento. \u201cstretch\u201d: A imagem ser\u00e1 redimensionada de forma que ocupe todo o espa\u00e7o dispon\u00edvel no controle, podendo achatar ou alongar a imagem. center Boolean true Quando true, a imagem ser\u00e1 exibida de forma centralizada no controle. Esta propriedade \u00e9 v\u00e1lida apenas quando a propriedade \u201cshowStyle\u201d for \u201cproportional\u201d ou \u201coriginalSize\u201d optimizeQuality ou ** optimize** Boolean false Quando true, o SDK salvar\u00e1 uma c\u00f3pia da imagem j\u00e1 redimensionada de acordo com a propriedade \u201cstyle\u201d. Utilize este atributo apenas em controles image que n\u00e3o sofrem constante mudan\u00e7a de tamanho. showProgress Boolean true Quando true, o controle exibe uma barra de carregamento para informar que a imagem est\u00e1 sendo baixada. Quando false, a imagem definida pela propriedade \u201cURLWhileLoading\u201d \u00e9 exibida enquanto o download \u00e9 feito. URLWhileLoading String \\<string vazio> Define a URL/caminho da imagem que \u00e9 exibida APENAS enquanto a imagem principal (definida na propriedade \u201curl\u201d) \u00e9 carregada. Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no projeto do plugin Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, a imagem passa a apresentar a imagem de URL contida no campo do NodeDatabase informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase editable Boolean false Quando True, a tag permite o usu\u00e1rio alterar a URL da imagem. Se o atributo \"field\" estiver preenchido, a URL escolhida pelo usu\u00e1rio \u00e9 salva no campo do NodeDatabase. naturalAnimated Boolean false (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a informa\u00e7\u00e3o se ela suporta anima\u00e7\u00e3o. naturalWidth Double 0 (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a largura original da imagem em pixels. naturalHeight Double 0 (Somente Leitura) Quando a imagem tiver sido carregada, cont\u00e9m a altura original da imagem em pixels.","title":"Propriedades e Atributos"},{"location":"Tagimage/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onLoad Este evento \u00e9 invocado quando a imagem tiver sido carregada. onPictureLoadedChange Este evento \u00e9 invocado quando a imagem que ser\u00e1 exibida mudou. Este evento \u00e9 chamado quando a imagem \u00e9 carregada 100% ou quando uma imagem \u00e9 descarregada. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"Tagimage/#exemplos","text":"","title":"Exemplos"},{"location":"Tagimage/#exemplo-1-imagem-dentro-do-projeto-de-plug-in","text":"Neste exemplo, existe uma pasta chamada \"imagens\" dentro da pasta projeto do plug-in, e dentro desta pasta existe a imagem \"fenix.png\". \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<image left=\"20\" top=\"20\" width=\"200\" height=\"200\" src=\"/imagens/fenix.png\" /> \\</form>","title":"Exemplo 1 - Imagem dentro do projeto de plug-in"},{"location":"Tagimage/#exemplo-2-imagem-baixada-por-url-e-diversos-styles","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<image left=\"20\" top=\"20\" width=\"400\" height=\"200\" style=\"autoFit\" src=\"http://fc03.deviantart.net/fs70/i/2011/234/5/4/dragon_aspects_by_rattlesnakedefender-d47ii5y.jpg\" /> \\</form> style=\"proportional\" style=\"autoFit\" style=\"originalSize\" style=\"stretch\" Created with the Personal Edition of HelpNDoc: Free EPub and documentation generator","title":"Exemplo 2 - Imagem baixada por URL e diversos styles"},{"location":"TagimageCheckBox/","text":"Tag imageCheckBox Tag imageCheckBox A tag/componente imageCheckBox representa uma caixa de marca\u00e7\u00e3o na interface no qual \u00e9 poss\u00edvel personalizar a imagem apresentada quando a caixa est\u00e1 marcada e quando est\u00e1 desmarcada. Heran\u00e7a O imageCheckBox possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag imageCheckBox tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false) field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o imageCheckBox passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase checkedImage ou imageChecked String \\<string vazio> Define a URL/caminho de onde se encontra a imagem que ser\u00e1 exibida quando a caixa de marca\u00e7\u00e3o estiver marcada . Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. uncheckedImage ou imageUnchecked String \\<string vazio> Similar \u00e0 propriedade \"checkedImage\", por\u00e9m cont\u00e9m o endere\u00e7o da imagem que ser\u00e1 exibida quando a caixa de marca\u00e7\u00e3o estiver desmarcada . optimize Boolean false Quando true, o SDK salvar\u00e1 uma c\u00f3pia das imagens de exibi\u00e7\u00e3o j\u00e1 redimensionadas para o melhor tamanho. Utilize este atributo apenas em controles image que n\u00e3o sofrem constante mudan\u00e7a de tamanho. autoChange Boolean true Define se o imageCheckBox ir\u00e1 alternar a propriedade checked automaticamente quando o usu\u00e1rio clicar nele. False significa que voc\u00ea tratar\u00e1 isso por conta pr\u00f3pria e alterar\u00e1 a propriedade checked quando for mais prop\u00edcio. Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do imageCheckBox sofre altera\u00e7\u00e3o. Exemplos: Exemplo 1 - Usando \u00edcones de po\u00e7\u00e3o no imageCheckBox \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout left=\"10\" top=\"20\" width=\"200\" height=\"32\" > \\<imageCheckBox width=\"32\" align=\"left\" checkedImage=\"/imagens/potion.png\" uncheckedImage=\"/imagens/potion_off.png\" /> \\<label align=\"client\" text=\"Po\u00e7\u00e3o de Vida\" vertTextAlign=\"center\" margins=\"{left=5}\" /> \\</layout> \\</form> Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?","title":"Tag imageCheckBox"},{"location":"TagimageCheckBox/#tag-imagecheckbox","text":"","title":"Tag imageCheckBox"},{"location":"TagimageCheckBox/#tag-imagecheckbox_1","text":"A tag/componente imageCheckBox representa uma caixa de marca\u00e7\u00e3o na interface no qual \u00e9 poss\u00edvel personalizar a imagem apresentada quando a caixa est\u00e1 marcada e quando est\u00e1 desmarcada.","title":"Tag imageCheckBox"},{"location":"TagimageCheckBox/#heranca","text":"O imageCheckBox possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagimageCheckBox/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag imageCheckBox tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagimageCheckBox/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false) field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o imageCheckBox passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase checkedImage ou imageChecked String \\<string vazio> Define a URL/caminho de onde se encontra a imagem que ser\u00e1 exibida quando a caixa de marca\u00e7\u00e3o estiver marcada . Este valor: Pode ser um endere\u00e7o de internet (exemplo: \u201c http://xxxx.com.br/a.png \u201d) Pode ser o caminho de um arquivo contido no pacote do plugin Pode ser um arquivo que se encontra no HD Virtual do plugin instalado. uncheckedImage ou imageUnchecked String \\<string vazio> Similar \u00e0 propriedade \"checkedImage\", por\u00e9m cont\u00e9m o endere\u00e7o da imagem que ser\u00e1 exibida quando a caixa de marca\u00e7\u00e3o estiver desmarcada . optimize Boolean false Quando true, o SDK salvar\u00e1 uma c\u00f3pia das imagens de exibi\u00e7\u00e3o j\u00e1 redimensionadas para o melhor tamanho. Utilize este atributo apenas em controles image que n\u00e3o sofrem constante mudan\u00e7a de tamanho. autoChange Boolean true Define se o imageCheckBox ir\u00e1 alternar a propriedade checked automaticamente quando o usu\u00e1rio clicar nele. False significa que voc\u00ea tratar\u00e1 isso por conta pr\u00f3pria e alterar\u00e1 a propriedade checked quando for mais prop\u00edcio.","title":"Propriedades e atributos"},{"location":"TagimageCheckBox/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do imageCheckBox sofre altera\u00e7\u00e3o.","title":"Eventos"},{"location":"TagimageCheckBox/#exemplos","text":"","title":"Exemplos:"},{"location":"TagimageCheckBox/#exemplo-1-usando-icones-de-pocao-no-imagecheckbox","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout left=\"10\" top=\"20\" width=\"200\" height=\"32\" > \\<imageCheckBox width=\"32\" align=\"left\" checkedImage=\"/imagens/potion.png\" uncheckedImage=\"/imagens/potion_off.png\" /> \\<label align=\"client\" text=\"Po\u00e7\u00e3o de Vida\" vertTextAlign=\"center\" margins=\"{left=5}\" /> \\</layout> \\</form> Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?","title":"Exemplo 1 - Usando \u00edcones de po\u00e7\u00e3o no imageCheckBox"},{"location":"Tagimport/","text":"Tag import Tag import Com a tag import , o programador pode importar/incluir um outro documento XML ao Lua Form, acarretando na substitui\u00e7\u00e3o da tag pelo conte\u00fado do arquivo especificado. \u00c9 especialmente \u00fatil para: Organizar o documento Lua form. Exemplo: Quando o arquivo \".lfm\" ficar grande, \u00e9 interessante dividir ele em partes menores, cada parte em seu documento XML separado. Reaproveitar c\u00f3digo. Exemplo: Se voc\u00ea tiver templates ou styles que queira reaproveitar em outros Lua Forms, voc\u00ea pode criar um documento XML que contenha apenas o que queira reaproveitar e o importar nos Lua Forms. Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o file String \\<N\u00e3o h\u00e1 valor padr\u00e3o> Endere\u00e7o de um arquivo XML. Este endere\u00e7o \u00e9 relativo \u00e0 localiza\u00e7\u00e3o do documento atual. Portanto, se o outro arquivo XML estiver na mesma pasta, voc\u00ea s\u00f3 precisa informar o nome dele. Exemplo: \"MeuDocumento.xml\" Exemplos Exemplo 1 - Importa\u00e7\u00e3o simples Arquivo \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<import file=\"OutroArquivo.xml\" /> \\</form> Arquivo \u201cOutroArquivo.xml\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<layout width=\"100\" height=\"100\" top=\"20\" left=\"20\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Estou em outro documento\" /> \\</layout> Exemplo 2 - Importa\u00e7\u00e3o de v\u00e1rias tags usando a Tag group Usando a Tag group conseguimos importar um grupo de tags que est\u00e1 em outro documento XML. Arquivo \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<import file=\"OutroArquivo.xml\" /> \\<MinhaTag titulo=\"Meu Bot\u00e3o\" /> \\</form> Arquivo \u201cOutroArquivo.xml\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<group> \\<style> label { fontColor: lime; } \\</style> \\<template name=\"MinhaTag\" > \\<button left=\"20\" top=\"120\" text=\"$(titulo)\" /> \\</template> \\<layout width=\"100\" height=\"100\" top=\"20\" left=\"20\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Estou em outro documento\" /> \\</layout> \\</group> Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook","title":"Tag import"},{"location":"Tagimport/#tag-import","text":"","title":"Tag import"},{"location":"Tagimport/#tag-import_1","text":"Com a tag import , o programador pode importar/incluir um outro documento XML ao Lua Form, acarretando na substitui\u00e7\u00e3o da tag pelo conte\u00fado do arquivo especificado. \u00c9 especialmente \u00fatil para: Organizar o documento Lua form. Exemplo: Quando o arquivo \".lfm\" ficar grande, \u00e9 interessante dividir ele em partes menores, cada parte em seu documento XML separado. Reaproveitar c\u00f3digo. Exemplo: Se voc\u00ea tiver templates ou styles que queira reaproveitar em outros Lua Forms, voc\u00ea pode criar um documento XML que contenha apenas o que queira reaproveitar e o importar nos Lua Forms.","title":"Tag import"},{"location":"Tagimport/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"Tagimport/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o file String \\<N\u00e3o h\u00e1 valor padr\u00e3o> Endere\u00e7o de um arquivo XML. Este endere\u00e7o \u00e9 relativo \u00e0 localiza\u00e7\u00e3o do documento atual. Portanto, se o outro arquivo XML estiver na mesma pasta, voc\u00ea s\u00f3 precisa informar o nome dele. Exemplo: \"MeuDocumento.xml\"","title":"Propriedades e atributos"},{"location":"Tagimport/#exemplos","text":"","title":"Exemplos"},{"location":"Tagimport/#exemplo-1-importacao-simples","text":"Arquivo \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<import file=\"OutroArquivo.xml\" /> \\</form> Arquivo \u201cOutroArquivo.xml\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<layout width=\"100\" height=\"100\" top=\"20\" left=\"20\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Estou em outro documento\" /> \\</layout>","title":"Exemplo 1 - Importa\u00e7\u00e3o simples"},{"location":"Tagimport/#exemplo-2-importacao-de-varias-tags-usando-a-tag-group","text":"Usando a Tag group conseguimos importar um grupo de tags que est\u00e1 em outro documento XML. Arquivo \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<import file=\"OutroArquivo.xml\" /> \\<MinhaTag titulo=\"Meu Bot\u00e3o\" /> \\</form> Arquivo \u201cOutroArquivo.xml\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<group> \\<style> label { fontColor: lime; } \\</style> \\<template name=\"MinhaTag\" > \\<button left=\"20\" top=\"120\" text=\"$(titulo)\" /> \\</template> \\<layout width=\"100\" height=\"100\" top=\"20\" left=\"20\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Estou em outro documento\" /> \\</layout> \\</group> Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook","title":"Exemplo 2 - Importa\u00e7\u00e3o de v\u00e1rias tags usando a Tag group"},{"location":"Taglabel/","text":"Tag label Tag LABEL A tag/componente label representa um texto n\u00e3o edit\u00e1vel na interface. Excelente para mostrar informa\u00e7\u00f5es. Heran\u00e7a O label possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag label tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoSize Boolean false Se for true, o label automaticamente ajusta seu tamanho (crescendo ou encolhendo) para melhor exibir o seu conte\u00fado. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o label passa a apresentar o conte\u00fado do campo na interface. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase format String \\<string vazio> Define uma formata\u00e7\u00e3o autom\u00e1tica para o texto do label. Esta propriedade aceita formata\u00e7\u00f5es estilo printf da linguagem C ou Format da linguagem Pascal. Exemplos: --- --- %f N\u00famero float/\"com v\u00edrgula\" %3.3f N\u00famero float apresentando 3 casas decimais %s Texto %.2f kg N\u00famero com duas casas decimais seguidas do texto \"kg\" Carga em %1.1f %% Apresenta um texto como: Carga em 25,3 % Para documenta\u00e7\u00e3o completa, favor procurar a documenta\u00e7\u00e3o da fun\u00e7\u00e3o Format do Delphi. Observa\u00e7\u00f5es: Se a propriedade formatFloat estiver preenchida, a propriedade format \u00e9 ignorada. Apenas 1 par\u00e2metro \u00e9 suportado em format. formatFloat String \\<string vazio> Define uma formata\u00e7\u00e3o autom\u00e1tica para n\u00fameros no label. Esta permite um controle maior do que a propriedade format. Esta propriedade aceita formata\u00e7\u00f5es da fun\u00e7\u00e3o FormatFloat do Delphi. Exemplos: --- --- ,0.00 N\u00famero com 2 casas decimais e separador de milhares 0.0# N\u00famero com 1 ou 2 casas decimais, dependendo do valor. 0.### litros N\u00famero com 0 a 3 casas decimais, dependendo do valor e, no final, a palavra \"litros\" 0.00### kg N\u00famero com 2 a 5 casas decimais, dependendo do valor e, no final, a palavra \"kg\" Total: ,0.00 Palavra \"Total: \" seguida de n\u00famero com 2 casas decimais e separador de milhares. Receita de 0.00;Preju\u00edzo de 0.00 O caracter ; separa se\u00e7\u00f5es para valores positivos, negativos e zero. Se positivo ou maior que zero, usa a formata\u00e7\u00e3o \"Receita de 0.00\", se negativo, utiliza a formatacao \"Preju\u00edzo de 0.00\" +0.00;(0.00);vazio O caracter ; separa se\u00e7\u00f5es para valores positivos, negativos e zero. Se positivo: +0.00 Se negativo: (0.00) Se zero: vazio Para documenta\u00e7\u00e3o completa, favor procurar a documenta\u00e7\u00e3o da fun\u00e7\u00e3o FormatFloat do Delphi. Observa\u00e7\u00f5es: Se a propriedade formatFloat estiver preenchida, a propriedade format \u00e9 ignorada. Exemplos: Exemplo 1 - Ol\u00e1 Mundo \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<label left=\"20\" top=\"20\" text=\"Ol\u00e1 Mundo\" /> \\</form> Exemplo 2 - Cores \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<label left=\"20\" top=\"20\" text=\"Label de cor verde com quebra de linha\" fontColor=\"lime\" autoSize=\"true\" /> \\</form> Veja tamb\u00e9m String de cores no Lua Form Exemplo 3 - Usando Field para integrar com o NodeDatabase \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<label left=\"20\" top=\"20\" field=\"campoForca\" autoSize=\"true\" wordWrap=\"false\" /> \\<button left=\"20\" top=\"40\" width=\"150\" text=\"Aumentar For\u00e7a\" onClick=\"sheet.campoForca = (sheet.campoForca or 0) + 1;\" /> \\</form> Neste exemplo, um bot\u00e3o que incrementa o valor do field \"campoForca\" enquanto o label, conectado ao mesmo campo, exibe seus valores. -> -> Veja tamb\u00e9m: Tratando eventos do Lua Form Lua Form e NodeDatabase Created with the Personal Edition of HelpNDoc: Write eBooks for the Kindle","title":"Tag label"},{"location":"Taglabel/#tag-label","text":"","title":"Tag label"},{"location":"Taglabel/#tag-label_1","text":"A tag/componente label representa um texto n\u00e3o edit\u00e1vel na interface. Excelente para mostrar informa\u00e7\u00f5es.","title":"Tag LABEL"},{"location":"Taglabel/#heranca","text":"O label possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"Taglabel/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag label tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Taglabel/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoSize Boolean false Se for true, o label automaticamente ajusta seu tamanho (crescendo ou encolhendo) para melhor exibir o seu conte\u00fado. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o label passa a apresentar o conte\u00fado do campo na interface. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase format String \\<string vazio> Define uma formata\u00e7\u00e3o autom\u00e1tica para o texto do label. Esta propriedade aceita formata\u00e7\u00f5es estilo printf da linguagem C ou Format da linguagem Pascal. Exemplos: --- --- %f N\u00famero float/\"com v\u00edrgula\" %3.3f N\u00famero float apresentando 3 casas decimais %s Texto %.2f kg N\u00famero com duas casas decimais seguidas do texto \"kg\" Carga em %1.1f %% Apresenta um texto como: Carga em 25,3 % Para documenta\u00e7\u00e3o completa, favor procurar a documenta\u00e7\u00e3o da fun\u00e7\u00e3o Format do Delphi. Observa\u00e7\u00f5es: Se a propriedade formatFloat estiver preenchida, a propriedade format \u00e9 ignorada. Apenas 1 par\u00e2metro \u00e9 suportado em format. formatFloat String \\<string vazio> Define uma formata\u00e7\u00e3o autom\u00e1tica para n\u00fameros no label. Esta permite um controle maior do que a propriedade format. Esta propriedade aceita formata\u00e7\u00f5es da fun\u00e7\u00e3o FormatFloat do Delphi. Exemplos: --- --- ,0.00 N\u00famero com 2 casas decimais e separador de milhares 0.0# N\u00famero com 1 ou 2 casas decimais, dependendo do valor. 0.### litros N\u00famero com 0 a 3 casas decimais, dependendo do valor e, no final, a palavra \"litros\" 0.00### kg N\u00famero com 2 a 5 casas decimais, dependendo do valor e, no final, a palavra \"kg\" Total: ,0.00 Palavra \"Total: \" seguida de n\u00famero com 2 casas decimais e separador de milhares. Receita de 0.00;Preju\u00edzo de 0.00 O caracter ; separa se\u00e7\u00f5es para valores positivos, negativos e zero. Se positivo ou maior que zero, usa a formata\u00e7\u00e3o \"Receita de 0.00\", se negativo, utiliza a formatacao \"Preju\u00edzo de 0.00\" +0.00;(0.00);vazio O caracter ; separa se\u00e7\u00f5es para valores positivos, negativos e zero. Se positivo: +0.00 Se negativo: (0.00) Se zero: vazio Para documenta\u00e7\u00e3o completa, favor procurar a documenta\u00e7\u00e3o da fun\u00e7\u00e3o FormatFloat do Delphi. Observa\u00e7\u00f5es: Se a propriedade formatFloat estiver preenchida, a propriedade format \u00e9 ignorada.","title":"Propriedades e atributos"},{"location":"Taglabel/#exemplos","text":"","title":"Exemplos:"},{"location":"Taglabel/#exemplo-1-ola-mundo","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<label left=\"20\" top=\"20\" text=\"Ol\u00e1 Mundo\" /> \\</form>","title":"Exemplo 1 - Ol\u00e1 Mundo"},{"location":"Taglabel/#exemplo-2-cores","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<label left=\"20\" top=\"20\" text=\"Label de cor verde com quebra de linha\" fontColor=\"lime\" autoSize=\"true\" /> \\</form> Veja tamb\u00e9m String de cores no Lua Form","title":"Exemplo 2 - Cores"},{"location":"Taglabel/#exemplo-3-usando-field-para-integrar-com-o-nodedatabase","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<label left=\"20\" top=\"20\" field=\"campoForca\" autoSize=\"true\" wordWrap=\"false\" /> \\<button left=\"20\" top=\"40\" width=\"150\" text=\"Aumentar For\u00e7a\" onClick=\"sheet.campoForca = (sheet.campoForca or 0) + 1;\" /> \\</form> Neste exemplo, um bot\u00e3o que incrementa o valor do field \"campoForca\" enquanto o label, conectado ao mesmo campo, exibe seus valores. -> -> Veja tamb\u00e9m: Tratando eventos do Lua Form Lua Form e NodeDatabase Created with the Personal Edition of HelpNDoc: Write eBooks for the Kindle","title":"Exemplo 3 - Usando Field para integrar com o NodeDatabase"},{"location":"Taglayout/","text":"Tag layout Tag LAYOUT A tag/componente layout representa um componente visual \u201cinvis\u00edvel\u201d. Ele n\u00e3o apresenta nada na tela e \u00e9 usado apenas para organizar outros componentes visuais. As principais caracter\u00edsticas do layout s\u00e3o: N\u00e3o apresentam nada na tela, s\u00e3o transparentes. S\u00e3o \u00f3timos para organizar e/ou agrupar outros componentes visuais. Exemplo: Voc\u00ea pode adicionar 10 outros componentes dentro de um layout e alterar a posi\u00e7\u00e3o de todos, ao mesmo tempo, alterando a apenas posi\u00e7\u00e3o do layout. As tags/controles que est\u00e3o dentro de layout mas visualmente fora de seus limites (largura e altura do layout) n\u00e3o s\u00e3o desenhadas na tela. Heran\u00e7a O layout possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o layout possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos da tag LAYOUT Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o frameStyle String \\<string vazio> Aplica um frame a este layout. A string \u00e9 o caminho de um arquivo frame. Veja Frames frameRegion String \\<string vazio> Considerando que o componente/tag pai possui um frame (ver Frames ), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome. Veja Frames e Regi\u00f5es Exemplos Exemplo 1 - Uso simples de Layout \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout left=\"60\" top=\"50\" width=\"300\" height=\"300\" > \\<button left=\"0\" top=\"0\" text=\"Bot\u00e3o 1\" /> \\<button left=\"0\" top=\"32\" text=\"Bot\u00e3o 2\" /> \\</layout> \\</form> O layout \u00e9 um componente invis\u00edvel, mas sua geometria neste exemplo \u00e9: Exemplo 2 - Uso de layouts aninhados e alinhamento de controles \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout left=\"60\" top=\"50\" width=\"250\" height=\"300\" > \\<layout align=\"left\" width=\"125\" > \\<edit align=\"top\" /> \\<edit align=\"top\" /> \\<edit align=\"top\" /> \\</layout> \\<layout align=\"right\" width=\"125\" > \\<edit align=\"top\" /> \\<edit align=\"top\" /> \\<edit align=\"top\" /> \\</layout> \\</layout> \\</form> O layout \u00e9 um componente invis\u00edvel, mas sua geometria neste exemplo \u00e9: Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities","title":"Tag layout"},{"location":"Taglayout/#tag-layout","text":"","title":"Tag layout"},{"location":"Taglayout/#tag-layout_1","text":"A tag/componente layout representa um componente visual \u201cinvis\u00edvel\u201d. Ele n\u00e3o apresenta nada na tela e \u00e9 usado apenas para organizar outros componentes visuais. As principais caracter\u00edsticas do layout s\u00e3o: N\u00e3o apresentam nada na tela, s\u00e3o transparentes. S\u00e3o \u00f3timos para organizar e/ou agrupar outros componentes visuais. Exemplo: Voc\u00ea pode adicionar 10 outros componentes dentro de um layout e alterar a posi\u00e7\u00e3o de todos, ao mesmo tempo, alterando a apenas posi\u00e7\u00e3o do layout. As tags/controles que est\u00e3o dentro de layout mas visualmente fora de seus limites (largura e altura do layout) n\u00e3o s\u00e3o desenhadas na tela.","title":"Tag LAYOUT"},{"location":"Taglayout/#heranca","text":"O layout possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"Taglayout/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o layout possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Taglayout/#propriedades-e-atributos-da-tag-layout","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o frameStyle String \\<string vazio> Aplica um frame a este layout. A string \u00e9 o caminho de um arquivo frame. Veja Frames frameRegion String \\<string vazio> Considerando que o componente/tag pai possui um frame (ver Frames ), ao definir o valor desta propriedade, a posi\u00e7\u00e3o e tamanho deste controle \u00e9 automaticamente calculada para se encaixar na Regi\u00e3o do Frame de mesmo nome. Veja Frames e Regi\u00f5es","title":"Propriedades e atributos da tag LAYOUT"},{"location":"Taglayout/#exemplos","text":"","title":"Exemplos"},{"location":"Taglayout/#exemplo-1-uso-simples-de-layout","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout left=\"60\" top=\"50\" width=\"300\" height=\"300\" > \\<button left=\"0\" top=\"0\" text=\"Bot\u00e3o 1\" /> \\<button left=\"0\" top=\"32\" text=\"Bot\u00e3o 2\" /> \\</layout> \\</form> O layout \u00e9 um componente invis\u00edvel, mas sua geometria neste exemplo \u00e9:","title":"Exemplo 1 - Uso simples de Layout"},{"location":"Taglayout/#exemplo-2-uso-de-layouts-aninhados-e-alinhamento-de-controles","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<layout left=\"60\" top=\"50\" width=\"250\" height=\"300\" > \\<layout align=\"left\" width=\"125\" > \\<edit align=\"top\" /> \\<edit align=\"top\" /> \\<edit align=\"top\" /> \\</layout> \\<layout align=\"right\" width=\"125\" > \\<edit align=\"top\" /> \\<edit align=\"top\" /> \\<edit align=\"top\" /> \\</layout> \\</layout> \\</form> O layout \u00e9 um componente invis\u00edvel, mas sua geometria neste exemplo \u00e9: Created with the Personal Edition of HelpNDoc: Revolutionize your documentation process with HelpNDoc's online capabilities","title":"Exemplo 2 - Uso de layouts aninhados e alinhamento de controles"},{"location":"Tagpath/","text":"Tag path Tag PATH A tag/componente path representa uma forma geom\u00e9trica/shape totalmente personalizada e vetorial. Todas as formas geom\u00e9tricas b\u00e1sicas podem ser criadas usando esta tag. Heran\u00e7a O path possui todas as caracter\u00edsticas de um controle shape/forma. Veja Caracter\u00edsticas de tags shapes Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o rectangle possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o data ou pathData String \\<String Vazio> Define a forma vetorial do path. Este texto deve estar no mesmo padr\u00e3o do path do SVG e do XAML. mode ou wrapMode Enumerado: \"fit\" \"original\" \"stretch\" \"tile\" \"fit\" Define como a forma ser\u00e1 desenhada na interface. \"fit\" - a forma vai ser redimensionada proporcionalmente para ocupar o tamanho da tag path. \"original\" - a forma ser\u00e1 desenhada sem nenhum tratamento de tamanho e posi\u00e7\u00e3o. \"stretch\" - a forma vai ser esticada para ocupar todo o tamanho da tag path. \"tile\" - a forma ser\u00e1 desenhada v\u00e1rias vezes para ocupar o tamanho da tag path. roundToPixel Boolean false Quando true, as posi\u00e7\u00f5es do shape ser\u00e3o arredondadas para ocuparem pelo menos 1 pixel da tela. Esta op\u00e7\u00e3o pode melhorar o aspecto de alguns paths e pode piorar o aspecto de outros. Teste antes! Exemplos Exemplo 1 - Um tri\u00e2ngulo laranja \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<path align=\"client\" margins=\"{left=10, right=10, bottom=10, top=10}\" color=\"orange\" data=\"M 100 100 L 300 100 L 200 300 z\" /> \\</form> Exemplo 2 - Outra forma com v\u00e1rios modos diferentes \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<path align=\"client\" margins=\"{left=10, right=10, bottom=10, top=10}\" mode=\"fit\" color=\"red\" data=\"M133,31.8c-0.6,4.3,0.3,9.7,0.3,9.7c0,0,-3.1,-2.3,-6.5,-4.3c-2,-1.1,-3.8,-3.6,-4.8,-5.5c-0.8,-1.3,-1.2,-2.3,-1.2,-2.3c-4.8,5.1,-1.7,11.1,-1.7,11.1c-7.4,-1.6,-12,0.3,-12,0.3c14,9.2,6.6,9.9,-1.5,13.8c-8.1,3.8,-8.7,8.6,-8.7,8.6c9.6,-3.2,13.5,0.9,13.5,0.9c-5.2,4.9,-0.6,12.7,-0.6,12.7c5.1,9.7,17.6,13.8,28.8,15.5c11.1,1.7,21,1,21,1l-25.6,8l-22.9,5.8c0,0,-22.8,-2.5,-31.2,-21.7C71.6,66.1,86.2,50.9,84.7,49.9c-1.4,-1,-3.2,1.1,-3.3,1.4c6.3,-18.2,25.5,-18,26.2,-19.9c0.8,-2,-3.8,-2.1,-3.8,-2.1c19.4,-6.4,29.2,2.5,29.2,2.5Z\" /> \\</form> mode=\"fit\" mode=\"original\" mode=\"stretch\" mode=\"tile\" Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports","title":"Tag path"},{"location":"Tagpath/#tag-path","text":"","title":"Tag path"},{"location":"Tagpath/#tag-path_1","text":"A tag/componente path representa uma forma geom\u00e9trica/shape totalmente personalizada e vetorial. Todas as formas geom\u00e9tricas b\u00e1sicas podem ser criadas usando esta tag.","title":"Tag PATH"},{"location":"Tagpath/#heranca","text":"O path possui todas as caracter\u00edsticas de um controle shape/forma. Veja Caracter\u00edsticas de tags shapes Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"Tagpath/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o rectangle possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Tagpath/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o data ou pathData String \\<String Vazio> Define a forma vetorial do path. Este texto deve estar no mesmo padr\u00e3o do path do SVG e do XAML. mode ou wrapMode Enumerado: \"fit\" \"original\" \"stretch\" \"tile\" \"fit\" Define como a forma ser\u00e1 desenhada na interface. \"fit\" - a forma vai ser redimensionada proporcionalmente para ocupar o tamanho da tag path. \"original\" - a forma ser\u00e1 desenhada sem nenhum tratamento de tamanho e posi\u00e7\u00e3o. \"stretch\" - a forma vai ser esticada para ocupar todo o tamanho da tag path. \"tile\" - a forma ser\u00e1 desenhada v\u00e1rias vezes para ocupar o tamanho da tag path. roundToPixel Boolean false Quando true, as posi\u00e7\u00f5es do shape ser\u00e3o arredondadas para ocuparem pelo menos 1 pixel da tela. Esta op\u00e7\u00e3o pode melhorar o aspecto de alguns paths e pode piorar o aspecto de outros. Teste antes!","title":"Propriedades e atributos"},{"location":"Tagpath/#exemplos","text":"","title":"Exemplos"},{"location":"Tagpath/#exemplo-1-um-triangulo-laranja","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<path align=\"client\" margins=\"{left=10, right=10, bottom=10, top=10}\" color=\"orange\" data=\"M 100 100 L 300 100 L 200 300 z\" /> \\</form>","title":"Exemplo 1 - Um tri\u00e2ngulo laranja"},{"location":"Tagpath/#exemplo-2-outra-forma-com-varios-modos-diferentes","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<path align=\"client\" margins=\"{left=10, right=10, bottom=10, top=10}\" mode=\"fit\" color=\"red\" data=\"M133,31.8c-0.6,4.3,0.3,9.7,0.3,9.7c0,0,-3.1,-2.3,-6.5,-4.3c-2,-1.1,-3.8,-3.6,-4.8,-5.5c-0.8,-1.3,-1.2,-2.3,-1.2,-2.3c-4.8,5.1,-1.7,11.1,-1.7,11.1c-7.4,-1.6,-12,0.3,-12,0.3c14,9.2,6.6,9.9,-1.5,13.8c-8.1,3.8,-8.7,8.6,-8.7,8.6c9.6,-3.2,13.5,0.9,13.5,0.9c-5.2,4.9,-0.6,12.7,-0.6,12.7c5.1,9.7,17.6,13.8,28.8,15.5c11.1,1.7,21,1,21,1l-25.6,8l-22.9,5.8c0,0,-22.8,-2.5,-31.2,-21.7C71.6,66.1,86.2,50.9,84.7,49.9c-1.4,-1,-3.2,1.1,-3.3,1.4c6.3,-18.2,25.5,-18,26.2,-19.9c0.8,-2,-3.8,-2.1,-3.8,-2.1c19.4,-6.4,29.2,2.5,29.2,2.5Z\" /> \\</form> mode=\"fit\" mode=\"original\" mode=\"stretch\" mode=\"tile\" Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports","title":"Exemplo 2 - Outra forma com v\u00e1rios modos diferentes"},{"location":"Tagpopup/","text":"Tag popup Tag popup A tag/componente popup representa um componente visual que fica escondido na interface e \u00e9 posteriormente apresentado, tomando a aten\u00e7\u00e3o para si, na forma de um popup. Heran\u00e7a O popup possui todas as caracter\u00edsticas da tag layout. Veja: Tag layout Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o popup possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoScopeNode Boolean true Define o comportamento dos campos de edi\u00e7\u00e3o que est\u00e3o dentro deste popup quando a propriedade \"scopeNode\" for nil . true - se scopeNode for nil, os componentes de edi\u00e7\u00e3o usar\u00e3o o scopeNode do formul\u00e1rio. false - se scopeNode for nil, os componentes de edi\u00e7\u00e3o n\u00e3o funcionar\u00e3o, pois n\u00e3o haver\u00e1 um scopeNode. Observa\u00e7\u00e3o: O valor padr\u00e3o destee atributo para plugins que forem compilados com o SDK 3.4 ou inferior \u00e9 false. cancelable Boolean true Indica se o popup pode ser cancelado pelo usu\u00e1rio. Quando false, a \u00fanica maneira de fechar o popup \u00e9 via programa\u00e7\u00e3o ao invocar o m\u00e9todo \"close\" com o par\u00e2metro \"forcar\" igual a true. backOpacity Float 0.85 Indica a opacidade do fundo ao exibir este popup. Um valor entre 0.0 e 1.0, onde 0.0 = Fundo totalmente transparente e 1.0 = Fundo totalmente opaco. Esta opacidade se refere ao fundo que \u00e9 aplicado a fim de tirar a aten\u00e7\u00e3o da interface e chamar a aten\u00e7\u00e3o para o popup. drawContainer Boolean true Define se o popup vai automaticamente desenhar uma borda que delimita o conte\u00fado do popup. scopeNode, nodeObject ou ** node** Objeto Nodo nil Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste popup devem salvar os dados. Observa\u00e7\u00f5es: S\u00f3 \u00e9 poss\u00edvel alterar esta propriedade utilizando c\u00f3digo Lua. Se nil , o nodeObject do form ser\u00e1 utilizado para salvar dados se a propriedade autoScopeNode for true. Esta propriedade \u00e9 um \"atalho\" para os m\u00e9todos \"setNodeObject\" e \"getNodeObject\" desta tag. Veja tamb\u00e9m: NodeDatabase Escopo de Dados Eventos Nome do evento Descri\u00e7\u00e3o onClose Este evento \u00e9 invocado quando o popup for fechado. Par\u00e2metros: canceled - Boolean indicando se o popup foi cancelado ou se foi fechado normalmente. onCanClose Este evento \u00e9 invocado quando o popup estiver prestes a ser fechado. Retorne false para impedir o popup de ser fechado ou true para autorizar o fechamento do popup. Par\u00e2metros: canceled - Boolean indicando se o popup ser\u00e1 cancelado ou se ser\u00e1 fechado normalmente. onCalculateSize Se voc\u00ea quiser definir a largura e altura do popup de forma din\u00e2mica, trate este evento. Par\u00e2metros: dueToResize - Booleano indicando se a interface mudou de tamanho e por isso \u00e9 necess\u00e1rio recalcular o tamanho do popup. width - Largura padr\u00e3o height - Altura padr\u00e3o Retorne 2 n\u00fameros, o primeiro contendo a largura e o segundo contendo a altura (Exemplo: return 100, 200;) onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este popup est\u00e1 pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do poup est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo . O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente. onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este popup deixa de estar pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do popup n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo. onNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este popup. Ver NodeDatabase Veja Tratando eventos do Lua Form M\u00e9todos \u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA. M\u00e9todo Descri\u00e7\u00e3o popup:show(); ou popup:showPopup(); Exibe o popup na interface. O popup ser\u00e1 exibido no centro a interface. popup:close(); ou popup:closePopup(); Fecha o popup. popup:show(placement, control); ou popup:showPopup(placement, control); ou popup:showPopupEx(placement, control); Exibe o popup na interface permitindo o programador definir onde ela ser\u00e1 exibida. Par\u00e2metros: placement - String que define onde o popup ser\u00e1 exibido em rela\u00e7\u00e3o ao \"control\". Pode ser um destes valores: \"bottom\" - abaixo de control \"top\" - acima de control \"left\" - \u00e0 esquerda de control \"right\" - \u00e0 direita de control \"center\" - no centro de control \"bottomCenter\" - abaixo de control e centralizado horizontalmente \"topCenter\" - acima de control e centralizado horizontalmente \"leftCenter\" - \u00e0 esquerda de control e centralizado verticalmente \"rightCenter\" - \u00e0 direita de control e centralizado verticalmente \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. control - Um controle/tag lua \u00e0 qual o par\u00e2metro \"placement\" se refere. Se nil, o form ser\u00e1 utilizado. popup:close(cancelar, forcar); ou popup:closePopup(cancelar, forcar); Fecha o popup. Par\u00e2metros: cancelar - Booleano indicando se o popup ser\u00e1 cancelado ou se ser\u00e1 fechado normalmente. Caso este par\u00e2metro seja omitido, o valor padr\u00e3o \"false\" ser\u00e1 adotado. forcar - Booleano indicando se \u00e9 para for\u00e7ar o fechamento do popup mesmo se ele tiver atributo \"cancelable\" com true. Caso este par\u00e2metro seja omitido, o valor padr\u00e3o \"false\" ser\u00e1 adotado. popup:setNodeObject(nodeObject) Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste popup devem salvar os dados. Par\u00e2metros: nodeObject \u2013 Um objeto nodo (de um NodeDatabase) ou nil . Observa\u00e7\u00e3o: Se nil , o nodeObject do form ser\u00e1 utilizado para salvar dados. Veja tamb\u00e9m: NodeDatabase Escopo de Dados popup:getNodeObject(); Retorna o objeto nodo (de um NodeDatabase) no qual os controles de edi\u00e7\u00e3o deste popup devem salvar os dados. nil \u00e9 retornado quando n\u00e3o h\u00e1 nodo associado. Observa\u00e7\u00e3o: Se nil , o nodeObject do form ser\u00e1 utilizado para salvar dados. Veja tamb\u00e9m: NodeDatabase Escopo de Dados Exemplos Exemplo 1 - Uma imagem pequena que pode ser ampliada atrav\u00e9s do uso do popup \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<!-- Popup --> \\<popup name=\"popMeuPopup\" width=\"400\" height=\"400\" backOpacity=\"0.5\" > \\<label align=\"top\" text=\"Veja s\u00f3 a imagem maior!\" autoSize=\"true\" /> \\<image align=\"client\" src=\"/imagens/fenix.png\" /> \\</popup> \\<!-- Invocador do Popup --> \\<image src=\"/imagens/fenix.png\" left=\"20\" top=\"20\" width=\"80\" height=\"80\" /> \\<button text=\"Ampliar\" width=\"70\" left=\"25\" top=\"102\" onClick=\"self.popMeuPopup:show();\" /> \\</form> Neste exemplo foram usadas tamb\u00e9m: Tag image Tag label Tag button Exemplo 2 - Mostrando o popup abaixo de um componente na interface \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<!-- Popup --> \\<popup name=\"popMeuPopup\" width=\"100\" height=\"100\" backOpacity=\"0.5\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Adaga + 1, de tal caracter\u00edstica e outro atributo.\" /> \\</popup> \\<!-- Invocador do Popup --> \\<label name=\"labNome\" left=\"20\" top=\"20\" width=\"80\" text=\"Adaga + 1\" horzTextAlign=\"trailing\" height=\"20\" /> \\<button text=\"i\" width=\"20\" left=\"105\" top=\"20\" height=\"20\" onClick=\"self.popMeuPopup:show('bottom', self.labNome);\" /> \\</form> Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?","title":"Tag popup"},{"location":"Tagpopup/#tag-popup","text":"","title":"Tag popup"},{"location":"Tagpopup/#tag-popup_1","text":"A tag/componente popup representa um componente visual que fica escondido na interface e \u00e9 posteriormente apresentado, tomando a aten\u00e7\u00e3o para si, na forma de um popup.","title":"Tag popup"},{"location":"Tagpopup/#heranca","text":"O popup possui todas as caracter\u00edsticas da tag layout. Veja: Tag layout Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"Tagpopup/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o popup possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Tagpopup/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o autoScopeNode Boolean true Define o comportamento dos campos de edi\u00e7\u00e3o que est\u00e3o dentro deste popup quando a propriedade \"scopeNode\" for nil . true - se scopeNode for nil, os componentes de edi\u00e7\u00e3o usar\u00e3o o scopeNode do formul\u00e1rio. false - se scopeNode for nil, os componentes de edi\u00e7\u00e3o n\u00e3o funcionar\u00e3o, pois n\u00e3o haver\u00e1 um scopeNode. Observa\u00e7\u00e3o: O valor padr\u00e3o destee atributo para plugins que forem compilados com o SDK 3.4 ou inferior \u00e9 false. cancelable Boolean true Indica se o popup pode ser cancelado pelo usu\u00e1rio. Quando false, a \u00fanica maneira de fechar o popup \u00e9 via programa\u00e7\u00e3o ao invocar o m\u00e9todo \"close\" com o par\u00e2metro \"forcar\" igual a true. backOpacity Float 0.85 Indica a opacidade do fundo ao exibir este popup. Um valor entre 0.0 e 1.0, onde 0.0 = Fundo totalmente transparente e 1.0 = Fundo totalmente opaco. Esta opacidade se refere ao fundo que \u00e9 aplicado a fim de tirar a aten\u00e7\u00e3o da interface e chamar a aten\u00e7\u00e3o para o popup. drawContainer Boolean true Define se o popup vai automaticamente desenhar uma borda que delimita o conte\u00fado do popup. scopeNode, nodeObject ou ** node** Objeto Nodo nil Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste popup devem salvar os dados. Observa\u00e7\u00f5es: S\u00f3 \u00e9 poss\u00edvel alterar esta propriedade utilizando c\u00f3digo Lua. Se nil , o nodeObject do form ser\u00e1 utilizado para salvar dados se a propriedade autoScopeNode for true. Esta propriedade \u00e9 um \"atalho\" para os m\u00e9todos \"setNodeObject\" e \"getNodeObject\" desta tag. Veja tamb\u00e9m: NodeDatabase Escopo de Dados","title":"Propriedades e atributos"},{"location":"Tagpopup/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onClose Este evento \u00e9 invocado quando o popup for fechado. Par\u00e2metros: canceled - Boolean indicando se o popup foi cancelado ou se foi fechado normalmente. onCanClose Este evento \u00e9 invocado quando o popup estiver prestes a ser fechado. Retorne false para impedir o popup de ser fechado ou true para autorizar o fechamento do popup. Par\u00e2metros: canceled - Boolean indicando se o popup ser\u00e1 cancelado ou se ser\u00e1 fechado normalmente. onCalculateSize Se voc\u00ea quiser definir a largura e altura do popup de forma din\u00e2mica, trate este evento. Par\u00e2metros: dueToResize - Booleano indicando se a interface mudou de tamanho e por isso \u00e9 necess\u00e1rio recalcular o tamanho do popup. width - Largura padr\u00e3o height - Altura padr\u00e3o Retorne 2 n\u00fameros, o primeiro contendo a largura e o segundo contendo a altura (Exemplo: return 100, 200;) onNodeReady Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este popup est\u00e1 pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do poup est\u00e1 diferente de nil e possui uma refer\u00eancia v\u00e1lida para um objeto nodo . O processo de carregamento do nodeDatabase associado j\u00e1 chegou ao fim. Voc\u00ea j\u00e1 consegue acessar os dados armazenados nele normalmente. onNodeUnready Este evento \u00e9 invocado quando o objeto nodo de um NodeDatabase associado a este popup deixa de estar pronto para ser usado. Quando este evento \u00e9 chamado, voc\u00ea pode assumir: a propriedade \"node\" do popup n\u00e3o cont\u00e9m mais uma refer\u00eancia v\u00e1lida para um objeto nodo. onNodeChanged Este evento \u00e9 invocado um objeto nodo de um NodeDatabase \u00e9 associado ou desassociado a este popup. Ver NodeDatabase Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"Tagpopup/#metodos","text":"\u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA. M\u00e9todo Descri\u00e7\u00e3o popup:show(); ou popup:showPopup(); Exibe o popup na interface. O popup ser\u00e1 exibido no centro a interface. popup:close(); ou popup:closePopup(); Fecha o popup. popup:show(placement, control); ou popup:showPopup(placement, control); ou popup:showPopupEx(placement, control); Exibe o popup na interface permitindo o programador definir onde ela ser\u00e1 exibida. Par\u00e2metros: placement - String que define onde o popup ser\u00e1 exibido em rela\u00e7\u00e3o ao \"control\". Pode ser um destes valores: \"bottom\" - abaixo de control \"top\" - acima de control \"left\" - \u00e0 esquerda de control \"right\" - \u00e0 direita de control \"center\" - no centro de control \"bottomCenter\" - abaixo de control e centralizado horizontalmente \"topCenter\" - acima de control e centralizado horizontalmente \"leftCenter\" - \u00e0 esquerda de control e centralizado verticalmente \"rightCenter\" - \u00e0 direita de control e centralizado verticalmente \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. control - Um controle/tag lua \u00e0 qual o par\u00e2metro \"placement\" se refere. Se nil, o form ser\u00e1 utilizado. popup:close(cancelar, forcar); ou popup:closePopup(cancelar, forcar); Fecha o popup. Par\u00e2metros: cancelar - Booleano indicando se o popup ser\u00e1 cancelado ou se ser\u00e1 fechado normalmente. Caso este par\u00e2metro seja omitido, o valor padr\u00e3o \"false\" ser\u00e1 adotado. forcar - Booleano indicando se \u00e9 para for\u00e7ar o fechamento do popup mesmo se ele tiver atributo \"cancelable\" com true. Caso este par\u00e2metro seja omitido, o valor padr\u00e3o \"false\" ser\u00e1 adotado. popup:setNodeObject(nodeObject) Define em qual objeto nodo de um NodeDatabase os controles de edi\u00e7\u00e3o deste popup devem salvar os dados. Par\u00e2metros: nodeObject \u2013 Um objeto nodo (de um NodeDatabase) ou nil . Observa\u00e7\u00e3o: Se nil , o nodeObject do form ser\u00e1 utilizado para salvar dados. Veja tamb\u00e9m: NodeDatabase Escopo de Dados popup:getNodeObject(); Retorna o objeto nodo (de um NodeDatabase) no qual os controles de edi\u00e7\u00e3o deste popup devem salvar os dados. nil \u00e9 retornado quando n\u00e3o h\u00e1 nodo associado. Observa\u00e7\u00e3o: Se nil , o nodeObject do form ser\u00e1 utilizado para salvar dados. Veja tamb\u00e9m: NodeDatabase Escopo de Dados","title":"M\u00e9todos"},{"location":"Tagpopup/#exemplos","text":"","title":"Exemplos"},{"location":"Tagpopup/#exemplo-1-uma-imagem-pequena-que-pode-ser-ampliada-atraves-do-uso-do-popup","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<!-- Popup --> \\<popup name=\"popMeuPopup\" width=\"400\" height=\"400\" backOpacity=\"0.5\" > \\<label align=\"top\" text=\"Veja s\u00f3 a imagem maior!\" autoSize=\"true\" /> \\<image align=\"client\" src=\"/imagens/fenix.png\" /> \\</popup> \\<!-- Invocador do Popup --> \\<image src=\"/imagens/fenix.png\" left=\"20\" top=\"20\" width=\"80\" height=\"80\" /> \\<button text=\"Ampliar\" width=\"70\" left=\"25\" top=\"102\" onClick=\"self.popMeuPopup:show();\" /> \\</form> Neste exemplo foram usadas tamb\u00e9m: Tag image Tag label Tag button","title":"Exemplo 1 - Uma imagem pequena que pode ser ampliada atrav\u00e9s do uso do popup"},{"location":"Tagpopup/#exemplo-2-mostrando-o-popup-abaixo-de-um-componente-na-interface","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<!-- Popup --> \\<popup name=\"popMeuPopup\" width=\"100\" height=\"100\" backOpacity=\"0.5\" > \\<label align=\"client\" horzTextAlign=\"center\" text=\"Adaga + 1, de tal caracter\u00edstica e outro atributo.\" /> \\</popup> \\<!-- Invocador do Popup --> \\<label name=\"labNome\" left=\"20\" top=\"20\" width=\"80\" text=\"Adaga + 1\" horzTextAlign=\"trailing\" height=\"20\" /> \\<button text=\"i\" width=\"20\" left=\"105\" top=\"20\" height=\"20\" onClick=\"self.popMeuPopup:show('bottom', self.labNome);\" /> \\</form> Created with the Personal Edition of HelpNDoc: What is a Help Authoring tool?","title":"Exemplo 2 -&nbsp; Mostrando o popup abaixo de um componente na interface"},{"location":"TagpopupForm/","text":"Tag popupForm Tag popupForm A tag/componente popupForm \u00e9 uma especializa\u00e7\u00e3o da tag form que cont\u00e9m propriedades pr\u00f3prias para exibir uma janela popup na interface do usu\u00e1rio . Voc\u00ea pode usar esta tag como tag raiz de um arquivo LFM. Heran\u00e7a O popupForm possui todas as caracter\u00edsticas da Tag form. Veja: Tag form Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o popupForm possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos da tag popupForm Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o drawContainer Boolean true Define se o popupForm deve desenhar uma borda que delimita seu conte\u00fado. cancelable Boolean true Define se o popupForm pode ser cancelado pelo usu\u00e1rio. Quando true, o popupForm fecha automaticamente quando o usu\u00e1rio fizer uma a\u00e7\u00e3o de cancelamento de popup (tecla ESC, clique no bot\u00e3o X da janela em desktop, tecla voltar em celulares/tablets, click fora do Popup em dispositivos m\u00f3veis, etc..). Quando false, o popupForm n\u00e3o fecha automaticamente quando o usu\u00e1rio fizer uma a\u00e7\u00e3o padr\u00e3o de cancelamento do popup. Assim, a \u00fanica maneira de fechar o popupForm \u00e9 invocar o m\u00e9todo \"close\" ou \" gui.closePopup \" via programa\u00e7\u00e3o. O evento \"onCancelRequest\" \u00e9 disparado apenas quando \"cancelable\" for false. placement String enumerado: \"center\" \"bottom\" \"top\" \"left\" \"right\" \"topLeft\" \"topRight\" \"bottomLeft\" \"bottomRight\" \"mouse\" \"mouseCenter\" \"center\" Define onde o popupForm deve ser exibido. \"center\" - no centro da tela \"bottom\" - na parte de baixo da tela \"top\" - na parte de cima da tela \"left\" - \u00e0 esquerda na tela \"right\" - \u00e0 direita na tela \"topLeft\" - no canto superior esquerdo da tela \"topRight - no canto superior direito da tela \"bottomLeft\" - no canto inferior esquerdo da tela \"bottomRight\" - no canto inferior direito da tela \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. resizable Boolean false Define se o usu\u00e1rio pode redimensionar o popup form manualmente. Funciona somente se a propriedade \"drawContainer\" for true. Observa\u00e7\u00f5es: Por enquanto, esta propriedade n\u00e3o possui efeito no Firecast Mobile. M\u00e9todos da tag popupForm M\u00e9todo Descri\u00e7\u00e3o popupForm:show(); Exibe o popup na interface do usu\u00e1rio Retorna true se o popupForm n\u00e3o estava vis\u00edvel e passou a ficar vis\u00edvel na interface. popupForm:close(); Fecha o popup da interface do usu\u00e1rio. Retorna true o popupForm estava vis\u00edvel na interface e passou a n\u00e3o ficar vis\u00edvel. Eventos da tag popupForm Nome do evento Descri\u00e7\u00e3o onCancelRequest Se o atributo \"cancelable\" for false, este evento \u00e9 invocado quando o usu\u00e1rio fizer uma a\u00e7\u00e3o sinalizando que deseja fechar o popup. Voc\u00ea pode realizar a\u00e7\u00f5es \"bacanas\" aqui, como, por exemplo: Invocar o m\u00e9todo \"close\" apenas se o usu\u00e1rio n\u00e3o tiver preenchido nenhum campo da interface Perguntar ao usu\u00e1rio se ele realmente deseja cancelar (usando dialogs.confirmYesNo ) e s\u00f3 depois ent\u00e3o fechar o popup invocando o m\u00e9todo \"close\". Veja tamb\u00e9m Tratando eventos do Lua Form. Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Tag popupForm"},{"location":"TagpopupForm/#tag-popupform","text":"","title":"Tag popupForm"},{"location":"TagpopupForm/#tag-popupform_1","text":"A tag/componente popupForm \u00e9 uma especializa\u00e7\u00e3o da tag form que cont\u00e9m propriedades pr\u00f3prias para exibir uma janela popup na interface do usu\u00e1rio . Voc\u00ea pode usar esta tag como tag raiz de um arquivo LFM.","title":"Tag popupForm"},{"location":"TagpopupForm/#heranca","text":"O popupForm possui todas as caracter\u00edsticas da Tag form. Veja: Tag form Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TagpopupForm/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o popupForm possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagpopupForm/#propriedades-e-atributos-da-tag-popupform","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o drawContainer Boolean true Define se o popupForm deve desenhar uma borda que delimita seu conte\u00fado. cancelable Boolean true Define se o popupForm pode ser cancelado pelo usu\u00e1rio. Quando true, o popupForm fecha automaticamente quando o usu\u00e1rio fizer uma a\u00e7\u00e3o de cancelamento de popup (tecla ESC, clique no bot\u00e3o X da janela em desktop, tecla voltar em celulares/tablets, click fora do Popup em dispositivos m\u00f3veis, etc..). Quando false, o popupForm n\u00e3o fecha automaticamente quando o usu\u00e1rio fizer uma a\u00e7\u00e3o padr\u00e3o de cancelamento do popup. Assim, a \u00fanica maneira de fechar o popupForm \u00e9 invocar o m\u00e9todo \"close\" ou \" gui.closePopup \" via programa\u00e7\u00e3o. O evento \"onCancelRequest\" \u00e9 disparado apenas quando \"cancelable\" for false. placement String enumerado: \"center\" \"bottom\" \"top\" \"left\" \"right\" \"topLeft\" \"topRight\" \"bottomLeft\" \"bottomRight\" \"mouse\" \"mouseCenter\" \"center\" Define onde o popupForm deve ser exibido. \"center\" - no centro da tela \"bottom\" - na parte de baixo da tela \"top\" - na parte de cima da tela \"left\" - \u00e0 esquerda na tela \"right\" - \u00e0 direita na tela \"topLeft\" - no canto superior esquerdo da tela \"topRight - no canto superior direito da tela \"bottomLeft\" - no canto inferior esquerdo da tela \"bottomRight\" - no canto inferior direito da tela \"mouse\" - onde o mouse est\u00e1 atualmente \"mouseCenter\" - centralizado onde o mouse est\u00e1 atualmente. resizable Boolean false Define se o usu\u00e1rio pode redimensionar o popup form manualmente. Funciona somente se a propriedade \"drawContainer\" for true. Observa\u00e7\u00f5es: Por enquanto, esta propriedade n\u00e3o possui efeito no Firecast Mobile.","title":"Propriedades e atributos da tag popupForm"},{"location":"TagpopupForm/#metodos-da-tag-popupform","text":"M\u00e9todo Descri\u00e7\u00e3o popupForm:show(); Exibe o popup na interface do usu\u00e1rio Retorna true se o popupForm n\u00e3o estava vis\u00edvel e passou a ficar vis\u00edvel na interface. popupForm:close(); Fecha o popup da interface do usu\u00e1rio. Retorna true o popupForm estava vis\u00edvel na interface e passou a n\u00e3o ficar vis\u00edvel.","title":"M\u00e9todos da tag popupForm"},{"location":"TagpopupForm/#eventos-da-tag-popupform","text":"Nome do evento Descri\u00e7\u00e3o onCancelRequest Se o atributo \"cancelable\" for false, este evento \u00e9 invocado quando o usu\u00e1rio fizer uma a\u00e7\u00e3o sinalizando que deseja fechar o popup. Voc\u00ea pode realizar a\u00e7\u00f5es \"bacanas\" aqui, como, por exemplo: Invocar o m\u00e9todo \"close\" apenas se o usu\u00e1rio n\u00e3o tiver preenchido nenhum campo da interface Perguntar ao usu\u00e1rio se ele realmente deseja cancelar (usando dialogs.confirmYesNo ) e s\u00f3 depois ent\u00e3o fechar o popup invocando o m\u00e9todo \"close\". Veja tamb\u00e9m Tratando eventos do Lua Form. Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Eventos da tag popupForm"},{"location":"TagprogressBar/","text":"Tag progressBar Tag progressBar A tag/componente progressBar representa uma barra de progresso/estado, \u00f3timo para dar no\u00e7\u00e3o ao usu\u00e1rio do progresso de algo em um formato visual. Heran\u00e7a O progressBar possui todas as caracter\u00edsticas das tags visuais. Veja: Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o progressBar possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color Cor \"green\" Define a cor da barra de progresso. Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. position ** ou ** value Float 0.0 Define a posi\u00e7\u00e3o atual da barra de progresso. min Float 0.0 Define o valor m\u00ednimo da posi\u00e7\u00e3o da barra de progresso. max Float 100.0 Define o valor m\u00e1ximo da posi\u00e7\u00e3o da barra de progresso. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o progressBar passa a ler seu \"position/value\" a partir deste campo. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldMin String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o progressBar passa a ler seu \"min\" a partir deste campo. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldMax String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o progressBar passa a ler seu \"max\" a partir deste campo. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase mouseGlow Boolean true Define se a barra deve brilhar quando o usu\u00e1rio passar o mouse em cima. OBS: Este atributo s\u00f3 tem efeito se o valor do atributo hitTest for \"true\" colorMode Enumerado: \"default\" \"hl\" \"default\" Define como o progressBar desenhar\u00e1 sua cor na interface. \"default\" - Modo padr\u00e3o, efeito degrad\u00ea sobre a cor escolhida. \"hl\" - Half Lightness/meia iluminosidade. Aplica efeito degrad\u00ea em cima do tom da cor escolhida com ilumonisade em 50%. As barrinhas de HP/MP/ETC do RRPG utilizam este modo de colora\u00e7\u00e3o. Por fixar a iluminosidade em 50%, cores com diferentes brilhos ser\u00e3o apresentadas da mesma forma (Exemplo: azul claro e azul escuro) Exemplos Exemplo 1 - Exemplos de ProgressBars de v\u00e1rias cores \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<progressBar width=\"150\" color=\"green\" top=\"25\" left=\"20\" value=\"50\" max=\"100\" /> \\</form> color=\"green\" color=\"red\" color=\"black\" color=\"darkorchid\" Created with the Personal Edition of HelpNDoc: Converting Word Documents to eBooks: A Step-by-Step Guide with HelpNDoc","title":"Tag progressBar"},{"location":"TagprogressBar/#tag-progressbar","text":"","title":"Tag progressBar"},{"location":"TagprogressBar/#tag-progressbar_1","text":"A tag/componente progressBar representa uma barra de progresso/estado, \u00f3timo para dar no\u00e7\u00e3o ao usu\u00e1rio do progresso de algo em um formato visual.","title":"Tag progressBar"},{"location":"TagprogressBar/#heranca","text":"O progressBar possui todas as caracter\u00edsticas das tags visuais. Veja: Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TagprogressBar/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o progressBar possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagprogressBar/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o color Cor \"green\" Define a cor da barra de progresso. Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. position ** ou ** value Float 0.0 Define a posi\u00e7\u00e3o atual da barra de progresso. min Float 0.0 Define o valor m\u00ednimo da posi\u00e7\u00e3o da barra de progresso. max Float 100.0 Define o valor m\u00e1ximo da posi\u00e7\u00e3o da barra de progresso. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o progressBar passa a ler seu \"position/value\" a partir deste campo. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldMin String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o progressBar passa a ler seu \"min\" a partir deste campo. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldMax String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o progressBar passa a ler seu \"max\" a partir deste campo. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase mouseGlow Boolean true Define se a barra deve brilhar quando o usu\u00e1rio passar o mouse em cima. OBS: Este atributo s\u00f3 tem efeito se o valor do atributo hitTest for \"true\" colorMode Enumerado: \"default\" \"hl\" \"default\" Define como o progressBar desenhar\u00e1 sua cor na interface. \"default\" - Modo padr\u00e3o, efeito degrad\u00ea sobre a cor escolhida. \"hl\" - Half Lightness/meia iluminosidade. Aplica efeito degrad\u00ea em cima do tom da cor escolhida com ilumonisade em 50%. As barrinhas de HP/MP/ETC do RRPG utilizam este modo de colora\u00e7\u00e3o. Por fixar a iluminosidade em 50%, cores com diferentes brilhos ser\u00e3o apresentadas da mesma forma (Exemplo: azul claro e azul escuro)","title":"Propriedades e atributos"},{"location":"TagprogressBar/#exemplos","text":"","title":"Exemplos"},{"location":"TagprogressBar/#exemplo-1-exemplos-de-progressbars-de-varias-cores","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<progressBar width=\"150\" color=\"green\" top=\"25\" left=\"20\" value=\"50\" max=\"100\" /> \\</form> color=\"green\" color=\"red\" color=\"black\" color=\"darkorchid\" Created with the Personal Edition of HelpNDoc: Converting Word Documents to eBooks: A Step-by-Step Guide with HelpNDoc","title":"Exemplo 1 - Exemplos de ProgressBars de v\u00e1rias cores"},{"location":"TagradioButton/","text":"Tag radioButton Tag radioButton A tag/componente radioButton representa uma caixa de marca\u00e7\u00e3o na interface que, quando usada em grupo, permite apenas uma esteja marcada por vez. Heran\u00e7a O radioButton possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag radioButton tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false) groupName String \\<string vazio> Um texto qualquer usado pelo programador programador para especificar grupos de radioButton. Quando um radioButton \u00e9 marcado, todos os outros radioButtons que possu\u00edrem o mesmo valor de groupName s\u00e3o desmarcados. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o radioButton passa a apresentar e salvar o conte\u00fado no campo informado. Ao preencher este campo, \u00e9 recomendado que voc\u00ea tamb\u00e9m preencha o atributo \"fieldValue\" abaixo. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldValue String \\<string contendo o mesmo name do controle/tag> Quando usado com o NodeDatabase atrav\u00e9s do \"field\", este atributo cont\u00e9m o valor que \u00e9 salvo no campo do NodeDatabase quando o radioButton estiver selecionado. Na pr\u00e1tica, existir\u00e3o v\u00e1rios radioButtons ligados ao mesmo field, por\u00e9m cada um com um \"fieldValue\" diferente. Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do radioButton sofre altera\u00e7\u00e3o. Veja Tratando eventos do Lua Form Exemplos: Exemplo 1 - RadioButtons simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<radioButton text=\"For\u00e7a\" groupName=\"grupoDeRadios1\" field=\"atributoBasico\" fieldValue=\"for\" top=\"10\" left=\"20\" /> \\<radioButton text=\"Destreza\" groupName=\"grupoDeRadios1\" field=\"atributoBasico\" fieldValue=\"des\" top=\"32\" left=\"20\" /> \\<radioButton text=\"Intelig\u00eancia\" groupName=\"grupoDeRadios1\" field=\"atributoBasico\" fieldValue=\"int\" top=\"54\" left=\"20\" /> \\</form> Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook","title":"Tag radioButton"},{"location":"TagradioButton/#tag-radiobutton","text":"","title":"Tag radioButton"},{"location":"TagradioButton/#tag-radiobutton_1","text":"A tag/componente radioButton representa uma caixa de marca\u00e7\u00e3o na interface que, quando usada em grupo, permite apenas uma esteja marcada por vez.","title":"Tag radioButton"},{"location":"TagradioButton/#heranca","text":"O radioButton possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagradioButton/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag radioButton tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagradioButton/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o checked Boolean false Indica se a caixa de marca\u00e7\u00e3o est\u00e1 marcada (true) ou desmarcada (false) groupName String \\<string vazio> Um texto qualquer usado pelo programador programador para especificar grupos de radioButton. Quando um radioButton \u00e9 marcado, todos os outros radioButtons que possu\u00edrem o mesmo valor de groupName s\u00e3o desmarcados. field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o radioButton passa a apresentar e salvar o conte\u00fado no campo informado. Ao preencher este campo, \u00e9 recomendado que voc\u00ea tamb\u00e9m preencha o atributo \"fieldValue\" abaixo. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase fieldValue String \\<string contendo o mesmo name do controle/tag> Quando usado com o NodeDatabase atrav\u00e9s do \"field\", este atributo cont\u00e9m o valor que \u00e9 salvo no campo do NodeDatabase quando o radioButton estiver selecionado. Na pr\u00e1tica, existir\u00e3o v\u00e1rios radioButtons ligados ao mesmo field, por\u00e9m cada um com um \"fieldValue\" diferente.","title":"Propriedades e atributos"},{"location":"TagradioButton/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando a marca\u00e7\u00e3o do radioButton sofre altera\u00e7\u00e3o. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"TagradioButton/#exemplos","text":"","title":"Exemplos:"},{"location":"TagradioButton/#exemplo-1-radiobuttons-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFTeste\" > \\<radioButton text=\"For\u00e7a\" groupName=\"grupoDeRadios1\" field=\"atributoBasico\" fieldValue=\"for\" top=\"10\" left=\"20\" /> \\<radioButton text=\"Destreza\" groupName=\"grupoDeRadios1\" field=\"atributoBasico\" fieldValue=\"des\" top=\"32\" left=\"20\" /> \\<radioButton text=\"Intelig\u00eancia\" groupName=\"grupoDeRadios1\" field=\"atributoBasico\" fieldValue=\"int\" top=\"54\" left=\"20\" /> \\</form> Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook","title":"Exemplo 1 - RadioButtons simples"},{"location":"TagrecordList/","text":"Tag recordList Tag recordList A tag/componente recordList \u00e9 uma lista de registros na interface. Usada em conjunto com um NodeDatabase , o controle apresenta um painel na interface para cada item/nodo filho de um campo. Observa\u00e7\u00f5es: O painel dos itens \u00e9 customizado pelo programador. O painel dos itens deve ser um form (ver Tag form ) e \u00e9 chamado de Template Form. Voc\u00ea vai precisar de ao menos dois arquivos de extens\u00e3o \".lfm\": Um onde se encontra o recordList, e outro representando o painel item. Cada item possui seu pr\u00f3prio objeto nodo , e cada painel de item \u00e9 automaticamente ligado a seu escopo de dados . Heran\u00e7a O recordList possui todas as caracter\u00edsticas da tag layout. Veja: Tag layout Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o recordList possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o recordList passa a usar este campo para salvar e apresentar os itens desta lista. Observa\u00e7\u00f5es: Deve ser preenchido para o recordList funcionar. O campo informado se tornar\u00e1 um nodo no NodeDatabase Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase templateForm String \\<string vazio> Identifica qual \u00e9 o template form do record list, isto \u00e9, o painel que ser\u00e1 exibido para cada item. Deve ser igual ao atributo \"name\" de um form contido em algum arquivo \".lfm\" do projeto do plugin. Sim, voc\u00ea precisar\u00e1 de outro arquivo \".lfm\" para definir fazer esta tag funcionar. itemHeight Float 64.0 Altura padr\u00e3o de cada item do recordList. Este valor \u00e9 usado quando a propriedade \"height\" do Template Form n\u00e3o for definida. minQt Integer 0 Define qual \u00e9 a quantidade m\u00ednima de itens que este recordList deve apresentar na interface. Experimente colocar o valor 1 nesta propriedade. As vezes isto ajuda o usu\u00e1rio =) autoHeight Boolean False Quando true, o recordList automaticamente se expande/contrai na vertical para melhor visualiza\u00e7\u00e3o de seus itens. Quando false, o recordList apresenta barras de rolagens quando o conte\u00fado for maior que sua altura. layout Enumerado: \"vertical\" \"horizontal\" \"horizontalTiles\" \"verticalTiles\" \"vertical\" Define como s\u00e3o organizados visualmente os itens do recordList. \"vertical' - Os itens s\u00e3o empilhados de forma vertical, 1 item por linha. A altura de cada painel \u00e9 definido pela propriedade \"height\" do templateForm e a largura \u00e9 ajustada para equivaler \u00e0 largura do recordList. \"horizontal\" - Os Itens s\u00e3o empilhados lado a lado, de forma horizontal em apenas 1 linha. A largura de cada painel \u00e9 definido pelo atributo \"width\" do templateForm e a altura \u00e9 ajustada para equivaler \u00e0 altura do recordList. A propriedade autoHeight \u00e9 desativada ao usar este layout. \"horizontalTiles\" - Os itens s\u00e3o dispostos na horizontal (lado a lado), podendo quebrar de linha quando for preciso mais espa\u00e7o. Tanto a altura quanto a largura de cada painel s\u00e3o definidos pelas propriedades \"width\" e \"height\" do templateForm. \"verticalTiles\" - Os itens s\u00e3o dispostos na vertical, podendo ocupar mais de 1 coluna quando houver espa\u00e7o para isso. Tanto a altura quanto a largura de cada painel s\u00e3o definidos pelas propriedades \"width\" e \"height\" do templateForm. selectable Boolean False Indica se o recordList deve funcionar visualmente como uma lista de itens selecion\u00e1veis. selectedNode Objeto Nodo \\<\\< N\u00e3o h\u00e1 >> Cont\u00e9m o Objeto Nodo do item atualmente focado/selecionado no recordList. Caso n\u00e3o haja sele\u00e7\u00e3o, cont\u00e9m nil . Ao atribuir um valor, o recordList procura qual de seus itens est\u00e1 associado ao nodo e o seleciona. Caso n\u00e3o encontre, a sele\u00e7\u00e3o ser\u00e1 desfeita e selectedNode passar\u00e1 a ser nil . selectedForm Objeto Form \\<\\< N\u00e3o h\u00e1 >> (Somente Leitura) Cont\u00e9m o Objeto Form do item atualmente focado/selecionado no recordList. Caso n\u00e3o haja sele\u00e7\u00e3o, cont\u00e9m nil . M\u00e9todos M\u00e9todo Descri\u00e7\u00e3o recordList:append(); Insere um novo item ao recordList. Retorno: Caso consiga inserir um novo item, retorna o novo objeto Nodo do item inserido, sen\u00e3o retorna nil . recordList:sort(); For\u00e7a o recordList a executar uma reordena\u00e7\u00e3o de seus itens. Observa\u00e7\u00e3o: Voc\u00ea deve manipular o evento onCompare para definir como os itens ser\u00e3o ordenados. recordList:scrollToNode(node) Se a propriedade \"autoHeight\" for false, este m\u00e9todo movimenta as barras de rolagem do recordList para que o painel do nodo fique vis\u00edvel na tela do usu\u00e1rio. Par\u00e2metros: node - um objeto Nodo identificando o nodo do item que deseja tornar vis\u00edvel na tela do usu\u00e1rio. Eventos Nome do evento Descri\u00e7\u00e3o onSelect Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do recordList muda, isto \u00e9, quando um item for selecionado ou quando nenhum item estiver selecionado. Observa\u00e7\u00f5es: Para descobrir qual item foi selecionado, utilize as propriedades selectedNode e selectedForm Este evento \u00e9 disparado mesmo quando a propriedade \"selectable\" for false. onBeginEnumeration Este evento \u00e9 invocado quando o recordList come\u00e7ar a enumerar as mudan\u00e7as de itens, disparando, logo a seguir, 0 ou mais eventos onItemAdded e/ou onItemRemoved. onItemAdded Evento disparado quando um item for carregado/adicionado visualmente no recordList Par\u00e2metros: node - Objeto Nodo do item adicionado. form - Objeto Form do item adicionado. Observa\u00e7\u00f5es: Este evento representa um item que foi enumerado visualmente na lista e n\u00e3o necessariamente que um novo item foi inserido nos dados salvos. Durante o carregamento dos dados, este evento \u00e9 disparado para cada item carregado. onItemRemoved Evento disparado quando um item for descarregado/removido visualmente do recordList Par\u00e2metros: node - Objeto Nodo do item removido. form - Objeto Form do item removido. Observa\u00e7\u00f5es: Este evento representa um item que deixou de ser enumerado visualmente da lista e n\u00e3o necessariamente que um item foi deletado dos dados salvos. onEndEnumeration Este evento \u00e9 invocado quando o recordList terminar de enumerar as mudan\u00e7as de itens e n\u00e3o houver outro evento onItemAdded e/ou oItemRemoved para disparar a seguir. onCompare Este evento \u00e9 invocado em momentos chaves para garantir a ordena\u00e7\u00e3o dos itens que s\u00e3o mostrados na interface. Quando invocado, o evento traz 2 nodos para que o programador retorne, entre os dois, qual deve aparecer antes. Par\u00e2metros: nodeA - Objeto Nodo contendo um nodo que deve ser comparado. nodeB - Objeto Nodo contendo o outro nodo que deve ser comparado. Retorno: Retorne um n\u00famero menor que 0 se \"nodeA\" deve ser exibido antes de \"nodeB\" Retorne um n\u00famero maior que 0 se \"nodeA\" deve ser exibido depois de \"nodeB\" Retorne 0 se os dois s\u00e3o equivalentes na quest\u00e3o da ordem. Observa\u00e7\u00e3o: Veja o exemplo 2 para entender melhor como este evento funciona. Veja Tratando eventos do Lua Form Exemplos Exemplo 1 - Lista simples de edits Arquivo \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button left=\"20\" top=\"20\" height=\"25\" text=\"Nova Magia\" width=\"80\" onClick=\"self.rclMagias:append();\" /> \\<recordList name=\"rclMagias\" field=\"magias\" templateForm=\"frmItemDeMagia\" left=\"20\" top=\"60\" width=\"300\" autoHeight=\"true\" /> \\</form> Arquivo \u201citemDeMagia.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItemDeMagia\" height=\"30\" margins=\"{top=2,bottom=2}\" > \\<edit align=\"client\" field=\"nome\" margins=\"{right=2}\" /> \\<button align=\"right\" text=\"Apagar\" width=\"80\" onClick=\"ndb.deleteNode(sheet);\" /> \\</form> A tag recordList do arquivo \"ficha.lfm\" utiliza o form do arquivo\"itemDeMagia.lfm\" quando \u00e9 definido sua propriedade \"templateForm\". Note que existe uma inst\u00e2ncia de \"frmItemDeMagia\" para cada item existente. Observa\u00e7\u00e3o: No bot\u00e3o apagar foi utilizada a biblioteca \"ndb \" para apagar um item. Leia mais sobre em: NodeDatabase Lua Form e NodeDatabase Detalhes que valem prestar a aten\u00e7\u00e3o: Na tag form do arquivo \"itemDeMagia.lfm\", a propriedade \"height\" foi definida. Esta \u00e9 a altura do painel que se repete para cada item. Provavelmente voc\u00ea precisar\u00e1 definir um valor \"height\" apropriado para seu caso =). A vari\u00e1vel \"sheet\" que foi referenciada no arquivo \"itemDeMagia.lfm\" representa o objeto nodo do item ligado ao painel e n\u00e3o da ficha. Exemplo 2 - Adicionando uma ordena\u00e7\u00e3o ao Exemplo 1 Manipulando o evento OnCompare parar ordenar de forma crescente pelo atributo \"nome\" dos itens. ..... ..... \\<recordList name=\"rclMagias\" field=\"magias\" templateForm=\"frmItemDeMagia\" left=\"20\" top=\"60\" width=\"300\" autoHeight=\"true\" > \\<event name=\"onCompare\" > return utils.compareStringPtBr(nodeA.nome, nodeB.nome); \\</event> \\</recordList> ... ... Ordenando pelo \\<custo, nome>. Isto \u00e9, ordenar pelo custo e considerar o nome em caso de empate. \\<recordList name=\"rclMagias\" field=\"magias\" templateForm=\"frmItemDeMagia\" left=\"20\" top=\"60\" width=\"300\" autoHeight=\"true\" > \\<event name=\"onCompare\" > \\<![CDATA[ if (nodeA.custo or 0) \\< (nodeB.custo or 0) then return -1; elseif (nodeA.custo or 0) > (nodeB.custo or 0) then return 1; else return utils.compareStringPtBr(nodeA.nome, nodeB.nome); end; ]]> \\</event> \\</recordList> Created with the Personal Edition of HelpNDoc: Maximize Your PDF Protection with These Simple Steps","title":"Tag recordList"},{"location":"TagrecordList/#tag-recordlist","text":"","title":"Tag recordList"},{"location":"TagrecordList/#tag-recordlist_1","text":"A tag/componente recordList \u00e9 uma lista de registros na interface. Usada em conjunto com um NodeDatabase , o controle apresenta um painel na interface para cada item/nodo filho de um campo. Observa\u00e7\u00f5es: O painel dos itens \u00e9 customizado pelo programador. O painel dos itens deve ser um form (ver Tag form ) e \u00e9 chamado de Template Form. Voc\u00ea vai precisar de ao menos dois arquivos de extens\u00e3o \".lfm\": Um onde se encontra o recordList, e outro representando o painel item. Cada item possui seu pr\u00f3prio objeto nodo , e cada painel de item \u00e9 automaticamente ligado a seu escopo de dados .","title":"Tag recordList"},{"location":"TagrecordList/#heranca","text":"O recordList possui todas as caracter\u00edsticas da tag layout. Veja: Tag layout Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TagrecordList/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o recordList possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagrecordList/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o recordList passa a usar este campo para salvar e apresentar os itens desta lista. Observa\u00e7\u00f5es: Deve ser preenchido para o recordList funcionar. O campo informado se tornar\u00e1 um nodo no NodeDatabase Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase templateForm String \\<string vazio> Identifica qual \u00e9 o template form do record list, isto \u00e9, o painel que ser\u00e1 exibido para cada item. Deve ser igual ao atributo \"name\" de um form contido em algum arquivo \".lfm\" do projeto do plugin. Sim, voc\u00ea precisar\u00e1 de outro arquivo \".lfm\" para definir fazer esta tag funcionar. itemHeight Float 64.0 Altura padr\u00e3o de cada item do recordList. Este valor \u00e9 usado quando a propriedade \"height\" do Template Form n\u00e3o for definida. minQt Integer 0 Define qual \u00e9 a quantidade m\u00ednima de itens que este recordList deve apresentar na interface. Experimente colocar o valor 1 nesta propriedade. As vezes isto ajuda o usu\u00e1rio =) autoHeight Boolean False Quando true, o recordList automaticamente se expande/contrai na vertical para melhor visualiza\u00e7\u00e3o de seus itens. Quando false, o recordList apresenta barras de rolagens quando o conte\u00fado for maior que sua altura. layout Enumerado: \"vertical\" \"horizontal\" \"horizontalTiles\" \"verticalTiles\" \"vertical\" Define como s\u00e3o organizados visualmente os itens do recordList. \"vertical' - Os itens s\u00e3o empilhados de forma vertical, 1 item por linha. A altura de cada painel \u00e9 definido pela propriedade \"height\" do templateForm e a largura \u00e9 ajustada para equivaler \u00e0 largura do recordList. \"horizontal\" - Os Itens s\u00e3o empilhados lado a lado, de forma horizontal em apenas 1 linha. A largura de cada painel \u00e9 definido pelo atributo \"width\" do templateForm e a altura \u00e9 ajustada para equivaler \u00e0 altura do recordList. A propriedade autoHeight \u00e9 desativada ao usar este layout. \"horizontalTiles\" - Os itens s\u00e3o dispostos na horizontal (lado a lado), podendo quebrar de linha quando for preciso mais espa\u00e7o. Tanto a altura quanto a largura de cada painel s\u00e3o definidos pelas propriedades \"width\" e \"height\" do templateForm. \"verticalTiles\" - Os itens s\u00e3o dispostos na vertical, podendo ocupar mais de 1 coluna quando houver espa\u00e7o para isso. Tanto a altura quanto a largura de cada painel s\u00e3o definidos pelas propriedades \"width\" e \"height\" do templateForm. selectable Boolean False Indica se o recordList deve funcionar visualmente como uma lista de itens selecion\u00e1veis. selectedNode Objeto Nodo \\<\\< N\u00e3o h\u00e1 >> Cont\u00e9m o Objeto Nodo do item atualmente focado/selecionado no recordList. Caso n\u00e3o haja sele\u00e7\u00e3o, cont\u00e9m nil . Ao atribuir um valor, o recordList procura qual de seus itens est\u00e1 associado ao nodo e o seleciona. Caso n\u00e3o encontre, a sele\u00e7\u00e3o ser\u00e1 desfeita e selectedNode passar\u00e1 a ser nil . selectedForm Objeto Form \\<\\< N\u00e3o h\u00e1 >> (Somente Leitura) Cont\u00e9m o Objeto Form do item atualmente focado/selecionado no recordList. Caso n\u00e3o haja sele\u00e7\u00e3o, cont\u00e9m nil .","title":"Propriedades e atributos"},{"location":"TagrecordList/#metodos","text":"M\u00e9todo Descri\u00e7\u00e3o recordList:append(); Insere um novo item ao recordList. Retorno: Caso consiga inserir um novo item, retorna o novo objeto Nodo do item inserido, sen\u00e3o retorna nil . recordList:sort(); For\u00e7a o recordList a executar uma reordena\u00e7\u00e3o de seus itens. Observa\u00e7\u00e3o: Voc\u00ea deve manipular o evento onCompare para definir como os itens ser\u00e3o ordenados. recordList:scrollToNode(node) Se a propriedade \"autoHeight\" for false, este m\u00e9todo movimenta as barras de rolagem do recordList para que o painel do nodo fique vis\u00edvel na tela do usu\u00e1rio. Par\u00e2metros: node - um objeto Nodo identificando o nodo do item que deseja tornar vis\u00edvel na tela do usu\u00e1rio.","title":"M\u00e9todos"},{"location":"TagrecordList/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onSelect Este evento \u00e9 invocado quando a sele\u00e7\u00e3o do recordList muda, isto \u00e9, quando um item for selecionado ou quando nenhum item estiver selecionado. Observa\u00e7\u00f5es: Para descobrir qual item foi selecionado, utilize as propriedades selectedNode e selectedForm Este evento \u00e9 disparado mesmo quando a propriedade \"selectable\" for false. onBeginEnumeration Este evento \u00e9 invocado quando o recordList come\u00e7ar a enumerar as mudan\u00e7as de itens, disparando, logo a seguir, 0 ou mais eventos onItemAdded e/ou onItemRemoved. onItemAdded Evento disparado quando um item for carregado/adicionado visualmente no recordList Par\u00e2metros: node - Objeto Nodo do item adicionado. form - Objeto Form do item adicionado. Observa\u00e7\u00f5es: Este evento representa um item que foi enumerado visualmente na lista e n\u00e3o necessariamente que um novo item foi inserido nos dados salvos. Durante o carregamento dos dados, este evento \u00e9 disparado para cada item carregado. onItemRemoved Evento disparado quando um item for descarregado/removido visualmente do recordList Par\u00e2metros: node - Objeto Nodo do item removido. form - Objeto Form do item removido. Observa\u00e7\u00f5es: Este evento representa um item que deixou de ser enumerado visualmente da lista e n\u00e3o necessariamente que um item foi deletado dos dados salvos. onEndEnumeration Este evento \u00e9 invocado quando o recordList terminar de enumerar as mudan\u00e7as de itens e n\u00e3o houver outro evento onItemAdded e/ou oItemRemoved para disparar a seguir. onCompare Este evento \u00e9 invocado em momentos chaves para garantir a ordena\u00e7\u00e3o dos itens que s\u00e3o mostrados na interface. Quando invocado, o evento traz 2 nodos para que o programador retorne, entre os dois, qual deve aparecer antes. Par\u00e2metros: nodeA - Objeto Nodo contendo um nodo que deve ser comparado. nodeB - Objeto Nodo contendo o outro nodo que deve ser comparado. Retorno: Retorne um n\u00famero menor que 0 se \"nodeA\" deve ser exibido antes de \"nodeB\" Retorne um n\u00famero maior que 0 se \"nodeA\" deve ser exibido depois de \"nodeB\" Retorne 0 se os dois s\u00e3o equivalentes na quest\u00e3o da ordem. Observa\u00e7\u00e3o: Veja o exemplo 2 para entender melhor como este evento funciona. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"TagrecordList/#exemplos","text":"","title":"Exemplos"},{"location":"TagrecordList/#exemplo-1-lista-simples-de-edits","text":"Arquivo \u201cficha.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button left=\"20\" top=\"20\" height=\"25\" text=\"Nova Magia\" width=\"80\" onClick=\"self.rclMagias:append();\" /> \\<recordList name=\"rclMagias\" field=\"magias\" templateForm=\"frmItemDeMagia\" left=\"20\" top=\"60\" width=\"300\" autoHeight=\"true\" /> \\</form> Arquivo \u201citemDeMagia.lfm\u201d \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmItemDeMagia\" height=\"30\" margins=\"{top=2,bottom=2}\" > \\<edit align=\"client\" field=\"nome\" margins=\"{right=2}\" /> \\<button align=\"right\" text=\"Apagar\" width=\"80\" onClick=\"ndb.deleteNode(sheet);\" /> \\</form> A tag recordList do arquivo \"ficha.lfm\" utiliza o form do arquivo\"itemDeMagia.lfm\" quando \u00e9 definido sua propriedade \"templateForm\". Note que existe uma inst\u00e2ncia de \"frmItemDeMagia\" para cada item existente. Observa\u00e7\u00e3o: No bot\u00e3o apagar foi utilizada a biblioteca \"ndb \" para apagar um item. Leia mais sobre em: NodeDatabase Lua Form e NodeDatabase Detalhes que valem prestar a aten\u00e7\u00e3o: Na tag form do arquivo \"itemDeMagia.lfm\", a propriedade \"height\" foi definida. Esta \u00e9 a altura do painel que se repete para cada item. Provavelmente voc\u00ea precisar\u00e1 definir um valor \"height\" apropriado para seu caso =). A vari\u00e1vel \"sheet\" que foi referenciada no arquivo \"itemDeMagia.lfm\" representa o objeto nodo do item ligado ao painel e n\u00e3o da ficha.","title":"Exemplo 1 - Lista simples de edits"},{"location":"TagrecordList/#exemplo-2-adicionando-uma-ordenacao-ao-exemplo-1","text":"Manipulando o evento OnCompare parar ordenar de forma crescente pelo atributo \"nome\" dos itens. ..... ..... \\<recordList name=\"rclMagias\" field=\"magias\" templateForm=\"frmItemDeMagia\" left=\"20\" top=\"60\" width=\"300\" autoHeight=\"true\" > \\<event name=\"onCompare\" > return utils.compareStringPtBr(nodeA.nome, nodeB.nome); \\</event> \\</recordList> ... ... Ordenando pelo \\<custo, nome>. Isto \u00e9, ordenar pelo custo e considerar o nome em caso de empate. \\<recordList name=\"rclMagias\" field=\"magias\" templateForm=\"frmItemDeMagia\" left=\"20\" top=\"60\" width=\"300\" autoHeight=\"true\" > \\<event name=\"onCompare\" > \\<![CDATA[ if (nodeA.custo or 0) \\< (nodeB.custo or 0) then return -1; elseif (nodeA.custo or 0) > (nodeB.custo or 0) then return 1; else return utils.compareStringPtBr(nodeA.nome, nodeB.nome); end; ]]> \\</event> \\</recordList> Created with the Personal Edition of HelpNDoc: Maximize Your PDF Protection with These Simple Steps","title":"Exemplo 2 - Adicionando uma ordena\u00e7\u00e3o ao Exemplo 1"},{"location":"Tagrectangle/","text":"Tag rectangle Tag RECTANGLE A tag/componente rectangle representa um ret\u00e2ngulo na interface o qual voc\u00ea pode personalizar cores, bordas e outros aspectos da forma. Heran\u00e7a O rectangle possui todas as caracter\u00edsticas de um controle shape/forma. Veja Caracter\u00edsticas de tags shapes Caracter\u00edsticas de todas as tags visuais . Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, o rectangle possui tamb\u00e9m as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o corners Conjunto de: \"topLeft\" \"topRight\" \"bottomLeft\" \"bottomRight\" \"topLeft topRight bottomLeft bottomRight\" Identifica quais quinas do controle ser\u00e3o customizadas pela propriedade \"cornerType\" Exemplos: Apenas as duas quinas superiores: \"topLeft topRight\" Apenas as duas quinas da esquerda: \"topLeft bottomLeft\" Todas as quinas: \"topLeft topRight bottomLeft bottomRight\" Nenhuma quina: \"\" cornerType Enumerado: \"round\" \"bevel\" \"innerRound\" \"innerLine\" \"round\" Especifica o tipo de formato que as quinas deste ret\u00e2ngulo ter\u00e3o. Voc\u00ea deve especificar valores das propriedades \"xradius\" e \"yradius\" para o formato das quinas serem vis\u00edveis. Veja o Exemplo 3 para mais detalhes. sides Conjunto de: \"top\" \"left\" \"bottom\" \"right\" \"top left bottom right\" Define quais bordas ser\u00e3o desenhadas na interface. Exemplos: Apenas a borda superior: \"top\" Apenas as bordas laterais: \"left right\" Todas as bordas: \"top left bottom right\" Nenhuma borda: \"\" xradius Float 0.0 Define a \"largura\" do efeito das quinas (propriedade \"cornerType\"\" Veja o Exemplo 3 para mais detalhes. yradius Float 0.0 Define a \"altura\" do efeito das quinas (propriedade \"cornerType\"\" Veja o Exemplo 3 para mais detalhes. Exemplos Exemplo 1 - Ret\u00e2ngulo simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"20\" width=\"200\" height=\"200\" color=\"yellow\" /> \\</form> Exemplo 2 - Ret\u00e2ngulo com bordas simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"20\" width=\"200\" height=\"200\" color=\"black\" strokeColor=\"red\" strokeSize=\"5\" /> \\</form> Exemplo 3 - Ret\u00e2ngulo com quinas variadas \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"20\" width=\"200\" height=\"200\" color=\"yellow\" strokeColor=\"red\" strokeSize=\"5\" xradius=\"25\" yradius=\"25\" cornerType=\"round\" /> \\</form> cornerType=\"round\" cornerType=\"bevel\" cornerType=\"innerRound\" cornerType=\"innerLine\" Exemplo 4 - Ret\u00e2ngulo com quinas variadas e sem bordas \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"20\" width=\"200\" height=\"200\" color=\"yellow\" xradius=\"25\" yradius=\"25\" cornerType=\"round\" /> \\</form> cornerType=\"round\" cornerType=\"bevel\" cornerType=\"innerRound\" cornerType=\"innerLine\" Created with the Personal Edition of HelpNDoc: Create HTML Help, DOC, PDF and print manuals from 1 single source","title":"Tag rectangle"},{"location":"Tagrectangle/#tag-rectangle","text":"","title":"Tag rectangle"},{"location":"Tagrectangle/#tag-rectangle_1","text":"A tag/componente rectangle representa um ret\u00e2ngulo na interface o qual voc\u00ea pode personalizar cores, bordas e outros aspectos da forma.","title":"Tag RECTANGLE"},{"location":"Tagrectangle/#heranca","text":"O rectangle possui todas as caracter\u00edsticas de um controle shape/forma. Veja Caracter\u00edsticas de tags shapes Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"Tagrectangle/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, o rectangle possui tamb\u00e9m as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Tagrectangle/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o corners Conjunto de: \"topLeft\" \"topRight\" \"bottomLeft\" \"bottomRight\" \"topLeft topRight bottomLeft bottomRight\" Identifica quais quinas do controle ser\u00e3o customizadas pela propriedade \"cornerType\" Exemplos: Apenas as duas quinas superiores: \"topLeft topRight\" Apenas as duas quinas da esquerda: \"topLeft bottomLeft\" Todas as quinas: \"topLeft topRight bottomLeft bottomRight\" Nenhuma quina: \"\" cornerType Enumerado: \"round\" \"bevel\" \"innerRound\" \"innerLine\" \"round\" Especifica o tipo de formato que as quinas deste ret\u00e2ngulo ter\u00e3o. Voc\u00ea deve especificar valores das propriedades \"xradius\" e \"yradius\" para o formato das quinas serem vis\u00edveis. Veja o Exemplo 3 para mais detalhes. sides Conjunto de: \"top\" \"left\" \"bottom\" \"right\" \"top left bottom right\" Define quais bordas ser\u00e3o desenhadas na interface. Exemplos: Apenas a borda superior: \"top\" Apenas as bordas laterais: \"left right\" Todas as bordas: \"top left bottom right\" Nenhuma borda: \"\" xradius Float 0.0 Define a \"largura\" do efeito das quinas (propriedade \"cornerType\"\" Veja o Exemplo 3 para mais detalhes. yradius Float 0.0 Define a \"altura\" do efeito das quinas (propriedade \"cornerType\"\" Veja o Exemplo 3 para mais detalhes.","title":"Propriedades e atributos"},{"location":"Tagrectangle/#exemplos","text":"","title":"Exemplos"},{"location":"Tagrectangle/#exemplo-1-retangulo-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"20\" width=\"200\" height=\"200\" color=\"yellow\" /> \\</form>","title":"Exemplo 1 - Ret\u00e2ngulo simples"},{"location":"Tagrectangle/#exemplo-2-retangulo-com-bordas-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"20\" width=\"200\" height=\"200\" color=\"black\" strokeColor=\"red\" strokeSize=\"5\" /> \\</form>","title":"Exemplo 2 - Ret\u00e2ngulo com bordas simples"},{"location":"Tagrectangle/#exemplo-3-retangulo-com-quinas-variadas","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"20\" width=\"200\" height=\"200\" color=\"yellow\" strokeColor=\"red\" strokeSize=\"5\" xradius=\"25\" yradius=\"25\" cornerType=\"round\" /> \\</form> cornerType=\"round\" cornerType=\"bevel\" cornerType=\"innerRound\" cornerType=\"innerLine\"","title":"Exemplo 3 - Ret\u00e2ngulo com quinas variadas"},{"location":"Tagrectangle/#exemplo-4-retangulo-com-quinas-variadas-e-sem-bordas","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<rectangle left=\"20\" top=\"20\" width=\"200\" height=\"200\" color=\"yellow\" xradius=\"25\" yradius=\"25\" cornerType=\"round\" /> \\</form> cornerType=\"round\" cornerType=\"bevel\" cornerType=\"innerRound\" cornerType=\"innerLine\" Created with the Personal Edition of HelpNDoc: Create HTML Help, DOC, PDF and print manuals from 1 single source","title":"Exemplo 4 - Ret\u00e2ngulo com quinas variadas e sem bordas"},{"location":"TagrichEdit/","text":"Tag richEdit Tag richEdit A tag/componente richEdit representa uma caixa de texto de m\u00faltiplas linhas com possibilidade de adicionar formata\u00e7\u00e3o, cores, alinhamentos, imagens, etc... Um \u00f3timo controle para permitir a entrada de dados \"texto ricos\". Heran\u00e7a O richEdit possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag richEdit tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o animateImages Boolean false Define se o RichEdit deve executar a anima\u00e7\u00e3o de imagens que s\u00e3o animadas (exemplo: GIF, GIFV) quando suportadas. **readOnly ** Boolean false Quando true, o richEdit n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o richEdit passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase backgroundColor String de Cor \"White\" Define a cor de fundo do RichEdit. Exemplos: Black White #FDFDFD Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. defaultFontColor String de Cor \"Black\" Define a cor padr\u00e3o para os textos do richEdit Exemplos: Black White #FDFDFD Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso defaultFontSize Float 15 Define o tamanho de fonte padr\u00e3o para os textos do richEdit showToolbar Boolean true Define se o richEdit deve apresentar uma baixa de ferramentas para auxiliar o usu\u00e1rio a formatar seu texto. hideSelection Boolean true Define se a sele\u00e7\u00e3o que o usu\u00e1rio fizer (com o mouse ou teclado) ser\u00e1 apresentada quando ele estiver focado em outro controle. True - A sele\u00e7\u00e3o continuar\u00e1 existindo, por\u00e9m n\u00e3o ser\u00e1 exibida visualmente se o usu\u00e1rio estiver focado em outro controle False - A sele\u00e7\u00e3o continuar\u00e1 existindo e ser\u00e1 exibida visualmente mesmo se o usu\u00e1rio estiver focado em outro controle. Eventos Nome do evento Descri\u00e7\u00e3o Veja Tratando eventos do Lua Form Exemplos: Exemplo 1 - Um richEdit simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form ......> \\<richEdit align=\"client\" backgroundColor=\"black\" defaultFontColor=\"white\" field=\"txt\" /> \\</form> Created with the Personal Edition of HelpNDoc: From Word to ePub or Kindle eBook: A Comprehensive Guide","title":"Tag richEdit"},{"location":"TagrichEdit/#tag-richedit","text":"","title":"Tag richEdit"},{"location":"TagrichEdit/#tag-richedit_1","text":"A tag/componente richEdit representa uma caixa de texto de m\u00faltiplas linhas com possibilidade de adicionar formata\u00e7\u00e3o, cores, alinhamentos, imagens, etc... Um \u00f3timo controle para permitir a entrada de dados \"texto ricos\".","title":"Tag richEdit"},{"location":"TagrichEdit/#heranca","text":"O richEdit possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagrichEdit/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag richEdit tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagrichEdit/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o animateImages Boolean false Define se o RichEdit deve executar a anima\u00e7\u00e3o de imagens que s\u00e3o animadas (exemplo: GIF, GIFV) quando suportadas. **readOnly ** Boolean false Quando true, o richEdit n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o richEdit passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase backgroundColor String de Cor \"White\" Define a cor de fundo do RichEdit. Exemplos: Black White #FDFDFD Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso. defaultFontColor String de Cor \"Black\" Define a cor padr\u00e3o para os textos do richEdit Exemplos: Black White #FDFDFD Veja String de cores no Lua Form para obter a completa de cores e outras formas de uso defaultFontSize Float 15 Define o tamanho de fonte padr\u00e3o para os textos do richEdit showToolbar Boolean true Define se o richEdit deve apresentar uma baixa de ferramentas para auxiliar o usu\u00e1rio a formatar seu texto. hideSelection Boolean true Define se a sele\u00e7\u00e3o que o usu\u00e1rio fizer (com o mouse ou teclado) ser\u00e1 apresentada quando ele estiver focado em outro controle. True - A sele\u00e7\u00e3o continuar\u00e1 existindo, por\u00e9m n\u00e3o ser\u00e1 exibida visualmente se o usu\u00e1rio estiver focado em outro controle False - A sele\u00e7\u00e3o continuar\u00e1 existindo e ser\u00e1 exibida visualmente mesmo se o usu\u00e1rio estiver focado em outro controle.","title":"Propriedades e atributos"},{"location":"TagrichEdit/#eventos","text":"Nome do evento Descri\u00e7\u00e3o Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"TagrichEdit/#exemplos","text":"","title":"Exemplos:"},{"location":"TagrichEdit/#exemplo-1-um-richedit-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form ......> \\<richEdit align=\"client\" backgroundColor=\"black\" defaultFontColor=\"white\" field=\"txt\" /> \\</form> Created with the Personal Edition of HelpNDoc: From Word to ePub or Kindle eBook: A Comprehensive Guide","title":"Exemplo 1 - Um richEdit simples"},{"location":"Tagscript/","text":"Tag script Tag script Esta tag especial serve para definir um bloco de c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA ) que ser\u00e1 executado quando uma nova inst\u00e2ncia do Lua Form for criada. Observa\u00e7\u00f5es: O corpo da tag cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o LUA Esta tag n\u00e3o cria nenhum controle. A ordem que a tag script foi definida no documento Lua Form importa ! O c\u00f3digo ser\u00e1 executado logo ap\u00f3s a cria\u00e7\u00e3o da tag/controle que est\u00e1 acima, por\u00e9m antes da cria\u00e7\u00e3o da tag/controle que est\u00e1 abaixo. No momento exato em que o script \u00e9 executado, a vari\u00e1vel \"sheet\" conter\u00e1 valor nil e ser\u00e1 preenchido num momento posterior#8202; . Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Caracter\u00edsticas Propriedades e atributos Esta tag n\u00e3o possui propriedades e atributos. Exemplos Exemplo 1 - Exibindo um \"ol\u00e1 mundo\" na hora da cria\u00e7\u00e3o de uma inst\u00e2ncia do Lua Form \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> showMessage(\"Ol\u00e1 mundo\"); \\</script> \\</form> Ao criar a interface: Exemplo 2 - Definindo fun\u00e7\u00f5es para serem invocadas depois \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> local function exibirMensagem() local msg = \"\"; for i = 1, 5, 1 do msg = msg .. \"Linha \" .. i .. \"\\n\"; end; showMessage(msg); end; \\</script> \\<button text=\"Meu Bot\u00e3o\" left=\"20\" top=\"20\" onClick=\"exibirMensagem();\" /> \\</form> Veja tamb\u00e9m: Tratando eventos do Lua Form Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Tag script"},{"location":"Tagscript/#tag-script","text":"","title":"Tag script"},{"location":"Tagscript/#tag-script_1","text":"Esta tag especial serve para definir um bloco de c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA ) que ser\u00e1 executado quando uma nova inst\u00e2ncia do Lua Form for criada. Observa\u00e7\u00f5es: O corpo da tag cont\u00e9m c\u00f3digo de programa\u00e7\u00e3o LUA Esta tag n\u00e3o cria nenhum controle. A ordem que a tag script foi definida no documento Lua Form importa ! O c\u00f3digo ser\u00e1 executado logo ap\u00f3s a cria\u00e7\u00e3o da tag/controle que est\u00e1 acima, por\u00e9m antes da cria\u00e7\u00e3o da tag/controle que est\u00e1 abaixo. No momento exato em que o script \u00e9 executado, a vari\u00e1vel \"sheet\" conter\u00e1 valor nil e ser\u00e1 preenchido num momento posterior#8202; . Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form","title":"Tag script"},{"location":"Tagscript/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"Tagscript/#propriedades-e-atributos","text":"Esta tag n\u00e3o possui propriedades e atributos.","title":"Propriedades e atributos"},{"location":"Tagscript/#exemplos","text":"","title":"Exemplos"},{"location":"Tagscript/#exemplo-1-exibindo-um-ola-mundo-na-hora-da-criacao-de-uma-instancia-do-lua-form","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> showMessage(\"Ol\u00e1 mundo\"); \\</script> \\</form> Ao criar a interface:","title":"Exemplo 1 - Exibindo um \"ol\u00e1 mundo\" na hora da cria\u00e7\u00e3o de uma inst\u00e2ncia do Lua Form"},{"location":"Tagscript/#exemplo-2-definindo-funcoes-para-serem-invocadas-depois","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> local function exibirMensagem() local msg = \"\"; for i = 1, 5, 1 do msg = msg .. \"Linha \" .. i .. \"\\n\"; end; showMessage(msg); end; \\</script> \\<button text=\"Meu Bot\u00e3o\" left=\"20\" top=\"20\" onClick=\"exibirMensagem();\" /> \\</form> Veja tamb\u00e9m: Tratando eventos do Lua Form Created with the Personal Edition of HelpNDoc: Effortlessly upgrade your WinHelp HLP help files to CHM with HelpNDoc","title":"Exemplo 2 - Definindo fun\u00e7\u00f5es para serem invocadas depois"},{"location":"TagscrollBox/","text":"Tag scrollBox Tag scrollBox A tag/componente scrollBox \u00e9 um controle que adiciona barras de rolagem ao seu conte\u00fado, permitindo realizar \u201cscroll\u201d nos componentes que est\u00e3o dentro da caixa. Em dispositivos que possuem touch screen, permite tamb\u00e9m o gesto de \u201cpin\u00e7a\u201d para efetuar zoom do conte\u00fado. . Observa\u00e7\u00e3o: As barras de rolagem aparecem apenas for necess\u00e1rio, isto \u00e9, as dimens\u00f5es do conte\u00fado for maior que as dimens\u00f5es da tag scrollBox Heran\u00e7a O scrollBox possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais . Exemplos Exemplo 1 \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<scrollBox left=\"10\" top=\"10\" width=\"150\" height=\"150\" > \\<edit top=\"0\" text=\"edit 1\" /> \\<edit top=\"50\" text=\"edit 2\" /> \\<edit top=\"100\" text=\"edit 3\" /> \\<edit top=\"150\" text=\"edit 4\" /> \\<edit top=\"200\" text=\"edit 5\" /> \\<edit top=\"250\" text=\"edit 6\" /> \\</scrollBox> \\</form> Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with a Help Authoring Tool","title":"Tag scrollBox"},{"location":"TagscrollBox/#tag-scrollbox","text":"","title":"Tag scrollBox"},{"location":"TagscrollBox/#tag-scrollbox_1","text":"A tag/componente scrollBox \u00e9 um controle que adiciona barras de rolagem ao seu conte\u00fado, permitindo realizar \u201cscroll\u201d nos componentes que est\u00e3o dentro da caixa. Em dispositivos que possuem touch screen, permite tamb\u00e9m o gesto de \u201cpin\u00e7a\u201d para efetuar zoom do conte\u00fado. . Observa\u00e7\u00e3o: As barras de rolagem aparecem apenas for necess\u00e1rio, isto \u00e9, as dimens\u00f5es do conte\u00fado for maior que as dimens\u00f5es da tag scrollBox","title":"Tag scrollBox"},{"location":"TagscrollBox/#heranca","text":"O scrollBox possui todas as caracter\u00edsticas de um controle qualquer. Veja Caracter\u00edsticas de todas as tags visuais .","title":"Heran\u00e7a"},{"location":"TagscrollBox/#exemplos","text":"","title":"Exemplos"},{"location":"TagscrollBox/#exemplo-1","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<scrollBox left=\"10\" top=\"10\" width=\"150\" height=\"150\" > \\<edit top=\"0\" text=\"edit 1\" /> \\<edit top=\"50\" text=\"edit 2\" /> \\<edit top=\"100\" text=\"edit 3\" /> \\<edit top=\"150\" text=\"edit 4\" /> \\<edit top=\"200\" text=\"edit 5\" /> \\<edit top=\"250\" text=\"edit 6\" /> \\</scrollBox> \\</form> Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Output with a Help Authoring Tool","title":"Exemplo 1"},{"location":"TagssuportadaspeloLuaForm/","text":"Tags suportadas pelo Lua Form Tags suportadas pelo Lua Form Tags de componentes Tag Descri\u00e7\u00e3o form Representa um formul\u00e1rio/uma janela gen\u00e9rica. A tag raiz do arquivo LFM deve ser \u201cform\u201d ou \"popupForm\". Pode haver mais de um form no arquivo LFM. Leia mais em: Tag form. popupForm Representa um formul\u00e1rio/uma janela cuja finalidade \u00e9 ser exibida na interface como um popup. Leia mais em: Tag popupForm . layout Componente visual invis\u00edvel . Excelente para agrupar ou organizar um conjunto de outros componentes visuais. Leia mais em: Tag layout button Um bot\u00e3o. Excelente para executar uma tarefa quando o usu\u00e1rio optar por ela! Leia mais em: Tag button label Um componente texto n\u00e3o edit\u00e1vel. Usado apenas para mostrar informa\u00e7\u00f5es. Leia mais em Tag label image Uma imagem. Leia mais em Tag image edit Uma caixa de texto. Componente que permite a edi\u00e7\u00e3o de texto ou n\u00fameros. Leia mais em Tag edit textEditor Uma caixa de texto que permite v\u00e1rias linhas. Leia mais em Tag textEditor tabControl Um componente que permite adicionar abas \u00e0 interface. Deve ser usado em conjunto com \u201ctab\u201d Leia mais em Tag tabControl tab Uma aba. Deve ser usado em conjunto com \u201ctabControl\u201d Leia mais em Tag tab scrollBox Controle que adiciona barras de rolagem, permitindo realizar \u201cscroll\u201d nos componentes que est\u00e3o dentro da caixa. Em dispositivos que possuem touch screen, permite tamb\u00e9m o gesto de \u201cpin\u00e7a\u201d para efetuar zoom do conte\u00fado. Leia mais em Tag scrollBox rectangle Controle para desenhar um ret\u00e2ngulo de cor personalizada na interface. Leia mais em tag rectangle. richEdit Caixa de texto de m\u00faltiplas linhas com possibilidade de adicionar formata\u00e7\u00e3o, cores, alinhamentos, imagens, etc Leia mais em tag richEdit horzLine Uma linha horizontal. Leia mais em Tag horzLine path Uma forma geom\u00e9trica/shape personalizada. Leia mais em Tag path . checkBox Uma caixa de marca\u00e7\u00e3o. Leia mais em Tag checkBox imageCheckBox Uma caixa de marca\u00e7\u00e3o onde \u00e9 poss\u00edvel personalizar a imagem apresentada quando est\u00e1 selecionada e quando n\u00e3o est\u00e1 selecionada. Leia mais em Tag imageCheckBox radioButton Uma caixa de marca\u00e7\u00e3o que, quando usada em grupo, permite apenas uma esteja marcada por vez. Leia mais em Tag radioButton comboBox Uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar um item entre v\u00e1rios. Leia mais em Tag comboBox colorComboBox Uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio escolher uma cor qualquer. Leia mais em Tag colorComboBox popup Controle que permite exibir popups na interface. Leia mais em Tag popup dataLink Controle invis\u00edvel que monitora mudan\u00e7as de valores nos campos do NodeDatabase Leia mais em Tag dataLink flowLayout Controle que organiza controles na interface de forma din\u00e2mica. Excelente para criar interfaces que se adaptam para diferentes tamanhos de tela. Leia mais em Tag flowLayout flowPart Usado em conjunto com \u201cflowLayout\u201d, define uma parte din\u00e2mica do layout din\u00e2mico. Leia mais em Tag flowPart flowLineBreak Usado em conjunto com \u201cflowLayout\u201d, realiza uma quebra de linha no layout din\u00e2mico. Leia mais em Tag flowLineBreak recordList Um controle que permite adicionar uma lista de registros \u00e0 interface. Leia mais em Tag recordList dataScopeBox Um controle que permite definir em qual objeto Nodo seus controles salvar\u00e3o e ler\u00e3o os dados (NodeDatabase). Leia mais em tag dataScopeBox timer Controle invis\u00edvel que executa determinado c\u00f3digo LUA de tempo em tempo. Leia mais em Tag timer activityIndicator Controle que exibe uma anima\u00e7\u00e3o na interface para indicar ao usu\u00e1rio que alguma atividade est\u00e1 sendo feita, como um carregamento ou uma espera. Leia mais em Tag activityIndicator progressBar Controle que exibe uma barra de progresso/estado na interface. Leia mais em Tag progressBar Tags especiais Tag Descri\u00e7\u00e3o event Tag que associa um c\u00f3digo lua a um evento de algum componente/tag. Leia mais em Tag event style Tag que permite a entrada de c\u00f3digo de estilo em cascata, muito similar ao CSS em HTML. Estude um pouco esta tag! Ir\u00e1 ajudar muito ! Leia mais em Tag style template Tag avan\u00e7ada que permite a cria\u00e7\u00e3o de novas tags para serem usadas no arquivo LFM! Estude um pouco esta tag! Ir\u00e1 ajudar muito ! Leia mais em Tag template import Importa um arquivo XML. Leia mais em Tag import group Tag simples cujo \u00fanico prop\u00f3sito \u00e9 organizar o XML do arquivo Lua Form. Leia mais em Tag group script Define um script/bloco de c\u00f3digo em Lua. Leia mais em Tag script Created with the Personal Edition of HelpNDoc: News and information about help authoring tools and software","title":"Tags suportadas pelo Lua Form"},{"location":"TagssuportadaspeloLuaForm/#tags-suportadas-pelo-lua-form","text":"","title":"Tags suportadas pelo Lua Form"},{"location":"TagssuportadaspeloLuaForm/#tags-suportadas-pelo-lua-form_1","text":"","title":"Tags suportadas pelo Lua Form"},{"location":"TagssuportadaspeloLuaForm/#tags-de-componentes","text":"Tag Descri\u00e7\u00e3o form Representa um formul\u00e1rio/uma janela gen\u00e9rica. A tag raiz do arquivo LFM deve ser \u201cform\u201d ou \"popupForm\". Pode haver mais de um form no arquivo LFM. Leia mais em: Tag form. popupForm Representa um formul\u00e1rio/uma janela cuja finalidade \u00e9 ser exibida na interface como um popup. Leia mais em: Tag popupForm . layout Componente visual invis\u00edvel . Excelente para agrupar ou organizar um conjunto de outros componentes visuais. Leia mais em: Tag layout button Um bot\u00e3o. Excelente para executar uma tarefa quando o usu\u00e1rio optar por ela! Leia mais em: Tag button label Um componente texto n\u00e3o edit\u00e1vel. Usado apenas para mostrar informa\u00e7\u00f5es. Leia mais em Tag label image Uma imagem. Leia mais em Tag image edit Uma caixa de texto. Componente que permite a edi\u00e7\u00e3o de texto ou n\u00fameros. Leia mais em Tag edit textEditor Uma caixa de texto que permite v\u00e1rias linhas. Leia mais em Tag textEditor tabControl Um componente que permite adicionar abas \u00e0 interface. Deve ser usado em conjunto com \u201ctab\u201d Leia mais em Tag tabControl tab Uma aba. Deve ser usado em conjunto com \u201ctabControl\u201d Leia mais em Tag tab scrollBox Controle que adiciona barras de rolagem, permitindo realizar \u201cscroll\u201d nos componentes que est\u00e3o dentro da caixa. Em dispositivos que possuem touch screen, permite tamb\u00e9m o gesto de \u201cpin\u00e7a\u201d para efetuar zoom do conte\u00fado. Leia mais em Tag scrollBox rectangle Controle para desenhar um ret\u00e2ngulo de cor personalizada na interface. Leia mais em tag rectangle. richEdit Caixa de texto de m\u00faltiplas linhas com possibilidade de adicionar formata\u00e7\u00e3o, cores, alinhamentos, imagens, etc Leia mais em tag richEdit horzLine Uma linha horizontal. Leia mais em Tag horzLine path Uma forma geom\u00e9trica/shape personalizada. Leia mais em Tag path . checkBox Uma caixa de marca\u00e7\u00e3o. Leia mais em Tag checkBox imageCheckBox Uma caixa de marca\u00e7\u00e3o onde \u00e9 poss\u00edvel personalizar a imagem apresentada quando est\u00e1 selecionada e quando n\u00e3o est\u00e1 selecionada. Leia mais em Tag imageCheckBox radioButton Uma caixa de marca\u00e7\u00e3o que, quando usada em grupo, permite apenas uma esteja marcada por vez. Leia mais em Tag radioButton comboBox Uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio selecionar um item entre v\u00e1rios. Leia mais em Tag comboBox colorComboBox Uma caixa de sele\u00e7\u00e3o que permite o usu\u00e1rio escolher uma cor qualquer. Leia mais em Tag colorComboBox popup Controle que permite exibir popups na interface. Leia mais em Tag popup dataLink Controle invis\u00edvel que monitora mudan\u00e7as de valores nos campos do NodeDatabase Leia mais em Tag dataLink flowLayout Controle que organiza controles na interface de forma din\u00e2mica. Excelente para criar interfaces que se adaptam para diferentes tamanhos de tela. Leia mais em Tag flowLayout flowPart Usado em conjunto com \u201cflowLayout\u201d, define uma parte din\u00e2mica do layout din\u00e2mico. Leia mais em Tag flowPart flowLineBreak Usado em conjunto com \u201cflowLayout\u201d, realiza uma quebra de linha no layout din\u00e2mico. Leia mais em Tag flowLineBreak recordList Um controle que permite adicionar uma lista de registros \u00e0 interface. Leia mais em Tag recordList dataScopeBox Um controle que permite definir em qual objeto Nodo seus controles salvar\u00e3o e ler\u00e3o os dados (NodeDatabase). Leia mais em tag dataScopeBox timer Controle invis\u00edvel que executa determinado c\u00f3digo LUA de tempo em tempo. Leia mais em Tag timer activityIndicator Controle que exibe uma anima\u00e7\u00e3o na interface para indicar ao usu\u00e1rio que alguma atividade est\u00e1 sendo feita, como um carregamento ou uma espera. Leia mais em Tag activityIndicator progressBar Controle que exibe uma barra de progresso/estado na interface. Leia mais em Tag progressBar","title":"Tags de componentes"},{"location":"TagssuportadaspeloLuaForm/#tags-especiais","text":"Tag Descri\u00e7\u00e3o event Tag que associa um c\u00f3digo lua a um evento de algum componente/tag. Leia mais em Tag event style Tag que permite a entrada de c\u00f3digo de estilo em cascata, muito similar ao CSS em HTML. Estude um pouco esta tag! Ir\u00e1 ajudar muito ! Leia mais em Tag style template Tag avan\u00e7ada que permite a cria\u00e7\u00e3o de novas tags para serem usadas no arquivo LFM! Estude um pouco esta tag! Ir\u00e1 ajudar muito ! Leia mais em Tag template import Importa um arquivo XML. Leia mais em Tag import group Tag simples cujo \u00fanico prop\u00f3sito \u00e9 organizar o XML do arquivo Lua Form. Leia mais em Tag group script Define um script/bloco de c\u00f3digo em Lua. Leia mais em Tag script Created with the Personal Edition of HelpNDoc: News and information about help authoring tools and software","title":"Tags especiais"},{"location":"Tagstyle/","text":"Tag style Tag style Esta tag especial serve para definir um estilo em cascata, muito semelhante ao CSS no HTML. Um estilo em cascata \u00e9 um bloco de c\u00f3digos especiais que aplica valores \u00e0 propriedades de 1 ou mais controles de uma vez s\u00f3, em cascata. \u00c9 especialmente \u00fatil para evitar retrabalho e para separar o formato do conte\u00fado principal do Lua Form. Importante : A sintaxe do estilo em cascata \u00e9 muito semelhante ao do CSS, por\u00e9m as propriedades dispon\u00edveis s\u00e3o diferentes.. Caracter\u00edsticas A tag style n\u00e3o possui nenhum atributo/propriedade e seu corpo cont\u00e9m o c\u00f3digo do estilo em cascata. Sintaxe A tag style possui uma sintaxe muito parecida com o CSS e seu conte\u00fado consiste de uma lista de regras. Cada regra ou conjunto de regras consiste de um ou mais seletores e um bloco de declara\u00e7\u00e3o. Uma declara\u00e7\u00e3o de bloco \u00e9 composta por uma lista de declara\u00e7\u00f5es entre chaves. Cada declara\u00e7\u00e3o em si \u00e9 uma propriedade, dois pontos (:), um valor, ent\u00e3o um ponto e v\u00edrgula (;). Exemplo que resume as regras acima: seletor1 [, seletor2, ...] { propriedade1: valor; [propriedade2: valor2; ...] } Seletores Um seletor \u00e9 uma regra gen\u00e9rica que define \u00e0 quais tags/componentes o estilo ser\u00e1 aplicado, e ele pode as seguintes apar\u00eancias: Seletor Exemplo Descri\u00e7\u00e3o .class .TituloAtributo O estilo ser\u00e1 aplicado a todas as tags que possuam atributo \"class\" equivalente a \"TituloAtributo\". Exemplo de tag que receberia o estilo em cascata: \\<label text=\"Ol\u00e1 Mundo\" class=\"TituloAtributo\"/> #nome #edtNome O estilo ser\u00e1 aplicado \u00e0 tag cujo atributo \"name\" seja igual a \"edtNome\" Exemplo de tag que receberia o estilo em cascata: \\<edit name=\"edtNome\" text=\"Campo de text\"/> * * O estilo ser\u00e1 aplicado a todas as tags. tagName label O estilo \u00e9 aplicado a todas as tags \"tagName\", neste exemplo, todos os labels. Exemplo de tag que receberia este estilo em cascata: \\<label text=\"Ol\u00e1 mundo\"/> tagName.class layout.PainelAtributo O estilo \u00e9 aplicado a todas as tags \"layou\" cujo atributo \"class\" seja \"PainelAtributo\" Al\u00e9m disso, atrav\u00e9s da combina\u00e7\u00e3o dos seletores acima, \u00e9 poss\u00edvel definir um seletor composto que analisa onde a tag est\u00e1. Exemplos: Seletor Exemplo Descri\u00e7\u00e3o .class tagName .PainelAtributo label O estilo ser\u00e1 aplicado a todos as \"label\" que est\u00e3o dentro de alguma tag que contenha o atributo \"class\" equivalente a \"PainelAtributo\" Exemplo: \\<layout class=\"PainelAtributo\"> \\<label text=\"Label de dentro\"/> \\</layout> \\<label text=\"Label de fora\"/> Neste caso, o label de dentro receber\u00e1 o estilo, por\u00e9m o label de fora n\u00e3o. tagName tagName layout label O estilo ser\u00e1 aplicada a todos \"labels\" que est\u00e3o dentro de algum \"layout\" .class .class .PainelAtributo .TituloAtributo O estilo ser\u00e1 aplicado a todas as tags que possuam atributo \"class\" igual a \"TituloAtributo\" que est\u00e3o dentro de alguma tag que possuam \"class\" igual a \"PainelAtributo\"; tagName tagName tagName layout layout label O estilo ser\u00e1 aplicado a todos \"labels\" que est\u00e3o dentro de um \"layout\" que por sua vez est\u00e3o dentro de outro \"layout\". etc.... \u00c9 poss\u00edvel definir m\u00faltiplos seletores a um \u00fanico bloco de estilo utilizando v\u00edrgula, exemplo: .TituloAtributo, .TituloPericia, .TituloEquipamento { fontSize: 18; width : 200; } \"fontSize: 18\" e \"width: 200\" ser\u00e3o aplicados a todas as tags cuja propriedade \"class\" seja \"TituloAtributo\", \"TituloPericia\" e \"TituloEquipamento\". Propriedades As propriedades dispon\u00edveis s\u00e3o aquelas que a tag disponibiliza. Confira a documenta\u00e7\u00e3o da TAG. Importante: O conjunto de propriedades \u00e9 diferente daquelas que voc\u00ea pode usar em CSS do HTML. Exemplos Exemplo 1 - Aplicando uma cor de fonte e alinhamento \u00e0 todos labels de um lua form. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> label { fontColor: lime; horzTextAlign: center; vertTextAlign: center; } \\</style> \\<layout left=\"20\" top=\"20\" width=\"100\" height=\"100\" > \\<label align=\"top\" text=\"Label 1\" /> \\<label align=\"top\" text=\"Label 4\" /> \\<label align=\"top\" text=\"Label 5\" /> \\<label align=\"top\" text=\"Label 6\" /> \\<label align=\"top\" text=\"Label 7\" /> \\</layout> \\</form> Exemplo 2 - Aplicando uma cor e negrito \u00e0 tags de uma determinada class \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> .Titulo { fontColor: lime; fontStyle: bold; } \\</style> \\<layout left=\"20\" top=\"20\" width=\"100\" height=\"100\" > \\<label class=\"Titulo\" align=\"top\" text=\"Label 1\" /> \\<label align=\"top\" text=\"Label 4\" /> \\<label class=\"Titulo\" align=\"top\" text=\"Label 5\" /> \\<label align=\"top\" text=\"Label 6\" /> \\<label class=\"Titulo\" align=\"top\" text=\"Label 7\" /> \\<label align=\"top\" text=\"Label 8\" /> \\</layout> \\</form> Exemplo 3 - (Avan\u00e7ado) Uma mini ficha, usando edits, labels, layouts e styles. \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> layout.LayoutCampo { width: 64; align: left; margins: {left=2, right=2}; } layout.LayoutCampo edit { height:30; horzTextAlign: center; fontSize: 20; align: top; } layout.LayoutCampo label { align: top; horzTextAlign: center; vertTextAlign: leading; autoSize: true; } \\</style> \\<layout left=\"10\" top=\"10\" width=\"200\" height=\"64\" > \\<layout class=\"LayoutCampo\" > \\<edit field=\"combate.armadura\" /> \\<label text=\"Armadura\" /> \\</layout> \\<layout class=\"LayoutCampo\" > \\<edit field=\"saude.pontosDeVida\" /> \\<label text=\"Pontos de Vida\" /> \\</layout> \\<layout class=\"LayoutCampo\" > \\<edit field=\"equipamentos.carga\" /> \\<label text=\"Carga (kg)\" /> \\</layout> \\</layout> \\</form> Neste exemplo, os atributos dos edits, labels e layouts foram definidos por Estilo em Cascata pela tag style . Foram definidos 3 blocos de estilos em cascata: Um com seletor \"layout.LayoutCampo\" (aplicado a todas as tags layout de class \" LayoutCampo \") Um com seletor \"layout.LayoutCampo edit\" (aplicado a todas as tags edit que est\u00e3o dentro de uma tag layout de class \" LayoutCampo \") Um com seletor \"layout.LayoutCampo label\" (aplicado a todas as tags label que est\u00e3o dentro de uma tag layout de class \" LayoutCampo \") Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports","title":"Tag style"},{"location":"Tagstyle/#tag-style","text":"","title":"Tag style"},{"location":"Tagstyle/#tag-style_1","text":"Esta tag especial serve para definir um estilo em cascata, muito semelhante ao CSS no HTML. Um estilo em cascata \u00e9 um bloco de c\u00f3digos especiais que aplica valores \u00e0 propriedades de 1 ou mais controles de uma vez s\u00f3, em cascata. \u00c9 especialmente \u00fatil para evitar retrabalho e para separar o formato do conte\u00fado principal do Lua Form. Importante : A sintaxe do estilo em cascata \u00e9 muito semelhante ao do CSS, por\u00e9m as propriedades dispon\u00edveis s\u00e3o diferentes..","title":"Tag style"},{"location":"Tagstyle/#caracteristicas","text":"A tag style n\u00e3o possui nenhum atributo/propriedade e seu corpo cont\u00e9m o c\u00f3digo do estilo em cascata.","title":"Caracter\u00edsticas"},{"location":"Tagstyle/#sintaxe","text":"A tag style possui uma sintaxe muito parecida com o CSS e seu conte\u00fado consiste de uma lista de regras. Cada regra ou conjunto de regras consiste de um ou mais seletores e um bloco de declara\u00e7\u00e3o. Uma declara\u00e7\u00e3o de bloco \u00e9 composta por uma lista de declara\u00e7\u00f5es entre chaves. Cada declara\u00e7\u00e3o em si \u00e9 uma propriedade, dois pontos (:), um valor, ent\u00e3o um ponto e v\u00edrgula (;). Exemplo que resume as regras acima: seletor1 [, seletor2, ...] { propriedade1: valor; [propriedade2: valor2; ...] }","title":"Sintaxe"},{"location":"Tagstyle/#seletores","text":"Um seletor \u00e9 uma regra gen\u00e9rica que define \u00e0 quais tags/componentes o estilo ser\u00e1 aplicado, e ele pode as seguintes apar\u00eancias: Seletor Exemplo Descri\u00e7\u00e3o .class .TituloAtributo O estilo ser\u00e1 aplicado a todas as tags que possuam atributo \"class\" equivalente a \"TituloAtributo\". Exemplo de tag que receberia o estilo em cascata: \\<label text=\"Ol\u00e1 Mundo\" class=\"TituloAtributo\"/> #nome #edtNome O estilo ser\u00e1 aplicado \u00e0 tag cujo atributo \"name\" seja igual a \"edtNome\" Exemplo de tag que receberia o estilo em cascata: \\<edit name=\"edtNome\" text=\"Campo de text\"/> * * O estilo ser\u00e1 aplicado a todas as tags. tagName label O estilo \u00e9 aplicado a todas as tags \"tagName\", neste exemplo, todos os labels. Exemplo de tag que receberia este estilo em cascata: \\<label text=\"Ol\u00e1 mundo\"/> tagName.class layout.PainelAtributo O estilo \u00e9 aplicado a todas as tags \"layou\" cujo atributo \"class\" seja \"PainelAtributo\" Al\u00e9m disso, atrav\u00e9s da combina\u00e7\u00e3o dos seletores acima, \u00e9 poss\u00edvel definir um seletor composto que analisa onde a tag est\u00e1. Exemplos: Seletor Exemplo Descri\u00e7\u00e3o .class tagName .PainelAtributo label O estilo ser\u00e1 aplicado a todos as \"label\" que est\u00e3o dentro de alguma tag que contenha o atributo \"class\" equivalente a \"PainelAtributo\" Exemplo: \\<layout class=\"PainelAtributo\"> \\<label text=\"Label de dentro\"/> \\</layout> \\<label text=\"Label de fora\"/> Neste caso, o label de dentro receber\u00e1 o estilo, por\u00e9m o label de fora n\u00e3o. tagName tagName layout label O estilo ser\u00e1 aplicada a todos \"labels\" que est\u00e3o dentro de algum \"layout\" .class .class .PainelAtributo .TituloAtributo O estilo ser\u00e1 aplicado a todas as tags que possuam atributo \"class\" igual a \"TituloAtributo\" que est\u00e3o dentro de alguma tag que possuam \"class\" igual a \"PainelAtributo\"; tagName tagName tagName layout layout label O estilo ser\u00e1 aplicado a todos \"labels\" que est\u00e3o dentro de um \"layout\" que por sua vez est\u00e3o dentro de outro \"layout\". etc.... \u00c9 poss\u00edvel definir m\u00faltiplos seletores a um \u00fanico bloco de estilo utilizando v\u00edrgula, exemplo: .TituloAtributo, .TituloPericia, .TituloEquipamento { fontSize: 18; width : 200; } \"fontSize: 18\" e \"width: 200\" ser\u00e3o aplicados a todas as tags cuja propriedade \"class\" seja \"TituloAtributo\", \"TituloPericia\" e \"TituloEquipamento\".","title":"Seletores"},{"location":"Tagstyle/#propriedades","text":"As propriedades dispon\u00edveis s\u00e3o aquelas que a tag disponibiliza. Confira a documenta\u00e7\u00e3o da TAG. Importante: O conjunto de propriedades \u00e9 diferente daquelas que voc\u00ea pode usar em CSS do HTML.","title":"Propriedades"},{"location":"Tagstyle/#exemplos","text":"","title":"Exemplos"},{"location":"Tagstyle/#exemplo-1-aplicando-uma-cor-de-fonte-e-alinhamento-a-todos-labels-de-um-lua-form","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> label { fontColor: lime; horzTextAlign: center; vertTextAlign: center; } \\</style> \\<layout left=\"20\" top=\"20\" width=\"100\" height=\"100\" > \\<label align=\"top\" text=\"Label 1\" /> \\<label align=\"top\" text=\"Label 4\" /> \\<label align=\"top\" text=\"Label 5\" /> \\<label align=\"top\" text=\"Label 6\" /> \\<label align=\"top\" text=\"Label 7\" /> \\</layout> \\</form>","title":"Exemplo 1 - Aplicando uma cor de fonte e alinhamento \u00e0 todos labels de um lua form."},{"location":"Tagstyle/#exemplo-2-aplicando-uma-cor-e-negrito-a-tags-de-uma-determinada-class","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> .Titulo { fontColor: lime; fontStyle: bold; } \\</style> \\<layout left=\"20\" top=\"20\" width=\"100\" height=\"100\" > \\<label class=\"Titulo\" align=\"top\" text=\"Label 1\" /> \\<label align=\"top\" text=\"Label 4\" /> \\<label class=\"Titulo\" align=\"top\" text=\"Label 5\" /> \\<label align=\"top\" text=\"Label 6\" /> \\<label class=\"Titulo\" align=\"top\" text=\"Label 7\" /> \\<label align=\"top\" text=\"Label 8\" /> \\</layout> \\</form>","title":"Exemplo 2 - Aplicando uma cor e negrito \u00e0 tags de uma determinada class"},{"location":"Tagstyle/#exemplo-3-avancado-uma-mini-ficha-usando-edits-labels-layouts-e-styles","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<style> layout.LayoutCampo { width: 64; align: left; margins: {left=2, right=2}; } layout.LayoutCampo edit { height:30; horzTextAlign: center; fontSize: 20; align: top; } layout.LayoutCampo label { align: top; horzTextAlign: center; vertTextAlign: leading; autoSize: true; } \\</style> \\<layout left=\"10\" top=\"10\" width=\"200\" height=\"64\" > \\<layout class=\"LayoutCampo\" > \\<edit field=\"combate.armadura\" /> \\<label text=\"Armadura\" /> \\</layout> \\<layout class=\"LayoutCampo\" > \\<edit field=\"saude.pontosDeVida\" /> \\<label text=\"Pontos de Vida\" /> \\</layout> \\<layout class=\"LayoutCampo\" > \\<edit field=\"equipamentos.carga\" /> \\<label text=\"Carga (kg)\" /> \\</layout> \\</layout> \\</form> Neste exemplo, os atributos dos edits, labels e layouts foram definidos por Estilo em Cascata pela tag style . Foram definidos 3 blocos de estilos em cascata: Um com seletor \"layout.LayoutCampo\" (aplicado a todas as tags layout de class \" LayoutCampo \") Um com seletor \"layout.LayoutCampo edit\" (aplicado a todas as tags edit que est\u00e3o dentro de uma tag layout de class \" LayoutCampo \") Um com seletor \"layout.LayoutCampo label\" (aplicado a todas as tags label que est\u00e3o dentro de uma tag layout de class \" LayoutCampo \") Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports","title":"Exemplo 3 - (Avan\u00e7ado) Uma mini ficha, usando edits, labels, layouts e styles."},{"location":"Tagtab/","text":"Tag tab Tag TAB A tag/componente tab representa uma aba dentro de um grupo de abas (Ver Tag tabControl ). Excelente para dividir controles em duas ou mais abas. IMPORTANTE : Para usar abas, voc\u00ea deve usar uma Tag tabControl. Heran\u00e7a O tab possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag tab tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text ou title string \\<string vazio> Representa o t\u00edtulo da aba. M\u00e9todos \u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA. M\u00e9todo Descri\u00e7\u00e3o tab:activate() Ativa a aba no tabControl. Exemplos Exemplo 1 - Uma aba simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<tabControl left=\"20\" top=\"20\" > \\<tab title=\"Minha aba\" > \\</tab> \\</tabControl> \\</form> Exemplo 2 - Duas abas com conte\u00fados distintos \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<tabControl left=\"20\" top=\"20\" width=\"250\" > \\<tab title=\"Primeira Aba\" > \\<label text=\"Ol\u00e1 Mundo, texto na primeira aba\" align=\"client\" vertTextAlign=\"center\" horzTextAlign=\"center\" /> \\</tab> \\<tab title=\"Segunda Aba\" > \\<edit text=\"Edit na segunda aba\" width=\"200\" left=\"25\" top=\"10\" /> \\</tab> \\</tabControl> \\</form> Observa\u00e7\u00e3o: Foram usadas neste exemplo a Tag label e a Tag edit Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide","title":"Tag tab"},{"location":"Tagtab/#tag-tab","text":"","title":"Tag tab"},{"location":"Tagtab/#tag-tab_1","text":"A tag/componente tab representa uma aba dentro de um grupo de abas (Ver Tag tabControl ). Excelente para dividir controles em duas ou mais abas. IMPORTANTE : Para usar abas, voc\u00ea deve usar uma Tag tabControl.","title":"Tag TAB"},{"location":"Tagtab/#heranca","text":"O tab possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"Tagtab/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag tab tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"Tagtab/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o text ou title string \\<string vazio> Representa o t\u00edtulo da aba.","title":"Propriedades e atributos"},{"location":"Tagtab/#metodos","text":"\u00c9 poss\u00edvel invocar m\u00e9todos dos controles usando c\u00f3digo LUA. M\u00e9todo Descri\u00e7\u00e3o tab:activate() Ativa a aba no tabControl.","title":"M\u00e9todos"},{"location":"Tagtab/#exemplos","text":"","title":"Exemplos"},{"location":"Tagtab/#exemplo-1-uma-aba-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<tabControl left=\"20\" top=\"20\" > \\<tab title=\"Minha aba\" > \\</tab> \\</tabControl> \\</form>","title":"Exemplo 1 - Uma aba simples"},{"location":"Tagtab/#exemplo-2-duas-abas-com-conteudos-distintos","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<tabControl left=\"20\" top=\"20\" width=\"250\" > \\<tab title=\"Primeira Aba\" > \\<label text=\"Ol\u00e1 Mundo, texto na primeira aba\" align=\"client\" vertTextAlign=\"center\" horzTextAlign=\"center\" /> \\</tab> \\<tab title=\"Segunda Aba\" > \\<edit text=\"Edit na segunda aba\" width=\"200\" left=\"25\" top=\"10\" /> \\</tab> \\</tabControl> \\</form> Observa\u00e7\u00e3o: Foram usadas neste exemplo a Tag label e a Tag edit Created with the Personal Edition of HelpNDoc: Effortlessly Convert Your Word Doc to an eBook: A Step-by-Step Guide","title":"Exemplo 2 - Duas abas com conte\u00fados distintos"},{"location":"TagtabControl/","text":"Tag tabControl Tag TABCONTROL A tag/componente tabControl representa um controle que agrupa tabs/abas (Ver Tag tab ). Excelente para dividir controles em duas ou mais abas. Heran\u00e7a O tabControl possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag tabControl tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o tabIndex Integer 0 Indica qual o \u00edndice da aba ativa no momento. Este \u00edndice come\u00e7a do 0 e vai at\u00e9 (Quantidade_de_Abas - 1) Exemplos Veja exemplos no t\u00f3pico Tag tab Created with the Personal Edition of HelpNDoc: Easily Add Encryption and Password Protection to Your PDFs","title":"Tag tabControl"},{"location":"TagtabControl/#tag-tabcontrol","text":"","title":"Tag tabControl"},{"location":"TagtabControl/#tag-tabcontrol_1","text":"A tag/componente tabControl representa um controle que agrupa tabs/abas (Ver Tag tab ). Excelente para dividir controles em duas ou mais abas.","title":"Tag TABCONTROL"},{"location":"TagtabControl/#heranca","text":"O tabControl possui todas as caracter\u00edsticas de uma tag visual. Veja: Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagtabControl/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag tabControl tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagtabControl/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o tabIndex Integer 0 Indica qual o \u00edndice da aba ativa no momento. Este \u00edndice come\u00e7a do 0 e vai at\u00e9 (Quantidade_de_Abas - 1)","title":"Propriedades e atributos"},{"location":"TagtabControl/#exemplos","text":"Veja exemplos no t\u00f3pico Tag tab Created with the Personal Edition of HelpNDoc: Easily Add Encryption and Password Protection to Your PDFs","title":"Exemplos"},{"location":"Tagtemplate/","text":"Tag template Tag template Com esta tag, o programador pode criar seu pr\u00f3prio conjunto de tags do Lua Form que sempre que forem usada, ser\u00e3o substitu\u00eddas pelo conte\u00fado do template . Observa\u00e7\u00e3o: Esta tag n\u00e3o representa um componente do lua form e todas as tags que est\u00e3o dentro do template s\u00f3 existir\u00e3o de fato quando o modelo for invocado. Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<N\u00e3o h\u00e1 valor padr\u00e3o> Nome do template. \u00c9 atrav\u00e9s deste campo que o programador consegue invocar o modelo posteriormente, usando uma tag de mesmo nome. O preenchimento deste campo \u00e9 obrigat\u00f3rio. Definindo e invocando templates \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"MinhaTag\" > \\<label text=\"Label da Minha Tag\" align=\"top\" horzTextAlign=\"center\" /> \\</template> \\</form> \\ Neste exemplo, usando template, n\u00f3s definimos um modelo chamado MinhaTag.... Mas s\u00f3 a defini\u00e7\u00e3o do template n\u00e3o acarreta em nada! Veja como o exemplo acima fica: \u00c9 preciso invocar o modelo.... \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"MinhaTag\" > \\<label text=\"Label da Minha Tag\" align=\"top\" horzTextAlign=\"center\" /> \\</template> \\<MinhaTag/> \\<MinhaTag/> \\<MinhaTag/> \\<MinhaTag/> \\</form> Agora invocamos \"MinhaTag\" 4 vezes... Toda vez que usamos a tag \"MinhaTag\" no exemplo, ela foi substitu\u00edda por uma c\u00f3pia do conte\u00fado de template. Se adicionarmos um edit ao template , o resultado mudaria para: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"MinhaTag\" > \\<label text=\"Label da Minha Tag\" align=\"top\" horzTextAlign=\"center\" /> \\<edit align=\"top\" /> \\</template> \\<MinhaTag/> \\<MinhaTag/> \\<MinhaTag/> \\<MinhaTag/> \\</form> Passando par\u00e2metros para o template \u00c9 poss\u00edvel passar par\u00e2metros para o template na hora da substitui\u00e7\u00e3o! Para passar um par\u00e2metro, basta definir um atributo ao invocar o modelo e para usar o par\u00e2metro no modelo, o programador deve usar $(nomeDoAtributo) para a substitui\u00e7\u00e3o parametrizada. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"MinhaTag\" > \\<label text=\"Atributo $(titulo)\" align=\"top\" horzTextAlign=\"center\" /> \\<edit text=\"$(conteudo)\" align=\"top\" horzTextAlign=\"center\" /> \\</template> \\<MinhaTag titulo=\"For\u00e7a\" conteudo=\"10\" /> \\<MinhaTag titulo=\"Destreza\" conteudo=\"14\" /> \\<MinhaTag titulo=\"Intelig\u00eancia\" conteudo=\"17\" /> \\</form> Observa\u00e7\u00e3o: Quando a tag template \u00e9 invocada com um corpo texto (Exemplo: \\<minhaTag>Corpo Texto\\</minhaTag>), um par\u00e2metro chamado \"body\" \u00e9 criado com este conte\u00fado. Templates avan\u00e7ados usando LUA na hora da substitui\u00e7\u00e3o. \u00c9 poss\u00edvel criar templates avan\u00e7ados usando A linguagem de programa\u00e7\u00e3o LUA na hora da substitui\u00e7\u00e3o. Todo coment\u00e1rio de XML dentro de templates s\u00e3o tratados como c\u00f3digos lua que devem ser executado no momento da substitui\u00e7\u00e3o! Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"Municao\" > \\<layout width=\"$(largura)\" height=\"20\" align=\"top\" > \\<label text=\"$(titulo) :\" align=\"left\" horzTextAlign=\"center\" width=\"60\" /> \\<!-- for i = 1, quantidade, 1 do --> \\<checkBox align=\"left\" width=\"20\" /> \\<!-- end; --> \\</layout> \\</template> \\<Municao largura=\"300\" titulo=\"Flechas\" quantidade=\"20\" /> \\<Municao largura=\"300\" titulo=\"Bombas\" quantidade=\"4\" /> \\<Municao largura=\"300\" titulo=\"Dardos\" quantidade=\"10\" /> \\</form> Neste exemplo, o par\u00e2metro \"quantidade\" \u00e9 utilizado em um c\u00f3digo LUA para emitir v\u00e1rias vezes a tag \\<checkBox> durante o tempo de substitui\u00e7\u00e3o. V\u00e1rios checkBox foram emitidos com pouco esfor\u00e7o. Exemplos Exemplo 1 - Uma pequena ficha usando templates \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"LayoutUmCampo\" > \\<layout width=\"64\" align=\"left\" margins=\"{left=2, right=2}\" > \\<edit field=\"$(campo)\" height=\"30\" horzTextAlign=\"center\" fontSize=\"20\" align=\"top\" /> \\<label text=\"$(titulo)\" align=\"top\" horzTextAlign=\"center\" vertTextAlign=\"leading\" autoSize=\"true\" /> \\</layout> \\</template> \\<layout left=\"10\" top=\"10\" width=\"200\" height=\"64\" > \\<LayoutUmCampo campo=\"combate.armadura\" titulo=\"Armadura\" /> \\<LayoutUmCampo campo=\"saude.pontosDeVida\" titulo=\"Pontos de Vida\" /> \\<LayoutUmCampo campo=\"equipamentos.carga\" titulo=\"Carga (kg)\" /> \\</layout> \\</form> Exemplo 2 - Lista de per\u00edcias de D\\&D 3.5 usando templates \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"CampoEmUmLayoutDeCampos\" > \\<layout align=\"top\" height=\"17\" margins=\"{bottom=2}\" > \\<checkBox width=\"17\" align=\"left\" margins=\"{right=5}\" /> \\<label align=\"left\" width=\"120\" text=\"$(titulo):\" horzTextAlign=\"trailing\" margins=\"{right=5}\" /> \\<edit align=\"left\" horzTextAlign=\"center\" fontSize=\"16\" width=\"64\" /> \\</layout> \\</template> \\<template name=\"LayoutDeCampos\" > \\<layout left=\"20\" top=\"20\" width=\"250\" height=\"800\" > \\<!-- listaDeCampos = totable(body); for k, v in pairs(listaDeCampos) do CampoParaGerar = v; * --> \\<CampoEmUmLayoutDeCampos titulo=\"$(CampoParaGerar)\" /> \\<!-- * end; --> \\</layout> \\</template> \\<LayoutDeCampos> {\"Abrir Fechaduras\", \"Acrobacia\", \"Adestrar Animais\", \"Arte da Fuga\", \"Atua\u00e7\u00e3o\", \"Avalia\u00e7\u00e3o\", \"Blefar\", \"Cavalgar\", \"Concentra\u00e7\u00e3o\", \"Conhecimento\", \"Cura\", \"Decifrar Escrita\", \"Diplomacia\", \"Disfarce\", \"Equil\u00edbrio\", \"Escalar\", \"Esconder-se\", \"Falsifica\u00e7\u00e3o\", \"Furtividade\", \"Identificar Magia\", \"Intimidar\", \"Nata\u00e7\u00e3o\", \"Observar\", \"Obter Informa\u00e7\u00e3o\", \"Of\u00edcios\", \"Operar Mecanismo\", \"Ouvir\", \"Procurar\", \"Profiss\u00e3o\", \"Prestidigita\u00e7\u00e3o\", \"Saltar\", \"Sentir Motiva\u00e7\u00e3o\", \"Sobreviv\u00eancia\"} \\</LayoutDeCampos> \\</form> Created with the Personal Edition of HelpNDoc: Easily create Qt Help files","title":"Tag template"},{"location":"Tagtemplate/#tag-template","text":"","title":"Tag template"},{"location":"Tagtemplate/#tag-template_1","text":"Com esta tag, o programador pode criar seu pr\u00f3prio conjunto de tags do Lua Form que sempre que forem usada, ser\u00e3o substitu\u00eddas pelo conte\u00fado do template . Observa\u00e7\u00e3o: Esta tag n\u00e3o representa um componente do lua form e todas as tags que est\u00e3o dentro do template s\u00f3 existir\u00e3o de fato quando o modelo for invocado.","title":"Tag template"},{"location":"Tagtemplate/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"Tagtemplate/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<N\u00e3o h\u00e1 valor padr\u00e3o> Nome do template. \u00c9 atrav\u00e9s deste campo que o programador consegue invocar o modelo posteriormente, usando uma tag de mesmo nome. O preenchimento deste campo \u00e9 obrigat\u00f3rio.","title":"Propriedades e atributos"},{"location":"Tagtemplate/#definindo-e-invocando-templates","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"MinhaTag\" > \\<label text=\"Label da Minha Tag\" align=\"top\" horzTextAlign=\"center\" /> \\</template> \\</form> \\ Neste exemplo, usando template, n\u00f3s definimos um modelo chamado MinhaTag.... Mas s\u00f3 a defini\u00e7\u00e3o do template n\u00e3o acarreta em nada! Veja como o exemplo acima fica: \u00c9 preciso invocar o modelo.... \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"MinhaTag\" > \\<label text=\"Label da Minha Tag\" align=\"top\" horzTextAlign=\"center\" /> \\</template> \\<MinhaTag/> \\<MinhaTag/> \\<MinhaTag/> \\<MinhaTag/> \\</form> Agora invocamos \"MinhaTag\" 4 vezes... Toda vez que usamos a tag \"MinhaTag\" no exemplo, ela foi substitu\u00edda por uma c\u00f3pia do conte\u00fado de template. Se adicionarmos um edit ao template , o resultado mudaria para: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"MinhaTag\" > \\<label text=\"Label da Minha Tag\" align=\"top\" horzTextAlign=\"center\" /> \\<edit align=\"top\" /> \\</template> \\<MinhaTag/> \\<MinhaTag/> \\<MinhaTag/> \\<MinhaTag/> \\</form>","title":"Definindo e invocando templates"},{"location":"Tagtemplate/#passando-parametros-para-o-template","text":"\u00c9 poss\u00edvel passar par\u00e2metros para o template na hora da substitui\u00e7\u00e3o! Para passar um par\u00e2metro, basta definir um atributo ao invocar o modelo e para usar o par\u00e2metro no modelo, o programador deve usar $(nomeDoAtributo) para a substitui\u00e7\u00e3o parametrizada. Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"MinhaTag\" > \\<label text=\"Atributo $(titulo)\" align=\"top\" horzTextAlign=\"center\" /> \\<edit text=\"$(conteudo)\" align=\"top\" horzTextAlign=\"center\" /> \\</template> \\<MinhaTag titulo=\"For\u00e7a\" conteudo=\"10\" /> \\<MinhaTag titulo=\"Destreza\" conteudo=\"14\" /> \\<MinhaTag titulo=\"Intelig\u00eancia\" conteudo=\"17\" /> \\</form> Observa\u00e7\u00e3o: Quando a tag template \u00e9 invocada com um corpo texto (Exemplo: \\<minhaTag>Corpo Texto\\</minhaTag>), um par\u00e2metro chamado \"body\" \u00e9 criado com este conte\u00fado.","title":"Passando par\u00e2metros para o template"},{"location":"Tagtemplate/#templates-avancados-usando-lua-na-hora-da-substituicao","text":"\u00c9 poss\u00edvel criar templates avan\u00e7ados usando A linguagem de programa\u00e7\u00e3o LUA na hora da substitui\u00e7\u00e3o. Todo coment\u00e1rio de XML dentro de templates s\u00e3o tratados como c\u00f3digos lua que devem ser executado no momento da substitui\u00e7\u00e3o! Exemplo: \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"Municao\" > \\<layout width=\"$(largura)\" height=\"20\" align=\"top\" > \\<label text=\"$(titulo) :\" align=\"left\" horzTextAlign=\"center\" width=\"60\" /> \\<!-- for i = 1, quantidade, 1 do --> \\<checkBox align=\"left\" width=\"20\" /> \\<!-- end; --> \\</layout> \\</template> \\<Municao largura=\"300\" titulo=\"Flechas\" quantidade=\"20\" /> \\<Municao largura=\"300\" titulo=\"Bombas\" quantidade=\"4\" /> \\<Municao largura=\"300\" titulo=\"Dardos\" quantidade=\"10\" /> \\</form> Neste exemplo, o par\u00e2metro \"quantidade\" \u00e9 utilizado em um c\u00f3digo LUA para emitir v\u00e1rias vezes a tag \\<checkBox> durante o tempo de substitui\u00e7\u00e3o. V\u00e1rios checkBox foram emitidos com pouco esfor\u00e7o.","title":"Templates avan\u00e7ados usando LUA na hora da substitui\u00e7\u00e3o."},{"location":"Tagtemplate/#exemplos","text":"","title":"Exemplos"},{"location":"Tagtemplate/#exemplo-1-uma-pequena-ficha-usando-templates","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"LayoutUmCampo\" > \\<layout width=\"64\" align=\"left\" margins=\"{left=2, right=2}\" > \\<edit field=\"$(campo)\" height=\"30\" horzTextAlign=\"center\" fontSize=\"20\" align=\"top\" /> \\<label text=\"$(titulo)\" align=\"top\" horzTextAlign=\"center\" vertTextAlign=\"leading\" autoSize=\"true\" /> \\</layout> \\</template> \\<layout left=\"10\" top=\"10\" width=\"200\" height=\"64\" > \\<LayoutUmCampo campo=\"combate.armadura\" titulo=\"Armadura\" /> \\<LayoutUmCampo campo=\"saude.pontosDeVida\" titulo=\"Pontos de Vida\" /> \\<LayoutUmCampo campo=\"equipamentos.carga\" titulo=\"Carga (kg)\" /> \\</layout> \\</form>","title":"Exemplo 1 - Uma pequena ficha usando templates"},{"location":"Tagtemplate/#exemplo-2-lista-de-pericias-de-dd-35-usando-templates","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<template name=\"CampoEmUmLayoutDeCampos\" > \\<layout align=\"top\" height=\"17\" margins=\"{bottom=2}\" > \\<checkBox width=\"17\" align=\"left\" margins=\"{right=5}\" /> \\<label align=\"left\" width=\"120\" text=\"$(titulo):\" horzTextAlign=\"trailing\" margins=\"{right=5}\" /> \\<edit align=\"left\" horzTextAlign=\"center\" fontSize=\"16\" width=\"64\" /> \\</layout> \\</template> \\<template name=\"LayoutDeCampos\" > \\<layout left=\"20\" top=\"20\" width=\"250\" height=\"800\" > \\<!-- listaDeCampos = totable(body); for k, v in pairs(listaDeCampos) do CampoParaGerar = v; * --> \\<CampoEmUmLayoutDeCampos titulo=\"$(CampoParaGerar)\" /> \\<!-- * end; --> \\</layout> \\</template> \\<LayoutDeCampos> {\"Abrir Fechaduras\", \"Acrobacia\", \"Adestrar Animais\", \"Arte da Fuga\", \"Atua\u00e7\u00e3o\", \"Avalia\u00e7\u00e3o\", \"Blefar\", \"Cavalgar\", \"Concentra\u00e7\u00e3o\", \"Conhecimento\", \"Cura\", \"Decifrar Escrita\", \"Diplomacia\", \"Disfarce\", \"Equil\u00edbrio\", \"Escalar\", \"Esconder-se\", \"Falsifica\u00e7\u00e3o\", \"Furtividade\", \"Identificar Magia\", \"Intimidar\", \"Nata\u00e7\u00e3o\", \"Observar\", \"Obter Informa\u00e7\u00e3o\", \"Of\u00edcios\", \"Operar Mecanismo\", \"Ouvir\", \"Procurar\", \"Profiss\u00e3o\", \"Prestidigita\u00e7\u00e3o\", \"Saltar\", \"Sentir Motiva\u00e7\u00e3o\", \"Sobreviv\u00eancia\"} \\</LayoutDeCampos> \\</form> Created with the Personal Edition of HelpNDoc: Easily create Qt Help files","title":"Exemplo 2 - Lista de per\u00edcias de D\\&amp;D 3.5 usando templates"},{"location":"TagtextEditor/","text":"Tag textEditor Tag textEditor A tag/componente textEditor representa uma caixa de texto de m\u00faltiplas linhas. Um \u00f3timo controle para permitir a entrada de dados texto com quebra de linhas. Heran\u00e7a O textEditor possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais Caracter\u00edsticas Al\u00e9m das caracter\u00edsticas herdadas, a tag textEditor tamb\u00e9m possui as seguintes caracter\u00edsticas: Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o readOnly Boolean false Quando true, o textEditor n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado (somente leitura). field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o textEditor passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase transparent Boolean false Quando True, as bordas e o fundo do textEditor n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado e o cursor de digita\u00e7\u00e3o. Eventos Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o conte\u00fado do textEditor \u00e9 alterado. Veja Tratando eventos do Lua Form Exemplos: Exemplo 1 - Um textEditor simples \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<textEditor left=\"10\" top=\"10\" width=\"150\" height=\"250\" text=\"Este \u00e9 um textEditor\\n\\ncom multiplas linhas\" /> \\</form> Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant","title":"Tag textEditor"},{"location":"TagtextEditor/#tag-texteditor","text":"","title":"Tag textEditor"},{"location":"TagtextEditor/#tag-texteditor_1","text":"A tag/componente textEditor representa uma caixa de texto de m\u00faltiplas linhas. Um \u00f3timo controle para permitir a entrada de dados texto com quebra de linhas.","title":"Tag textEditor"},{"location":"TagtextEditor/#heranca","text":"O textEditor possui todas as caracter\u00edsticas de uma tag de texto. Veja: Caracter\u00edsticas de todas as tags de textos Caracter\u00edsticas de todas as tags visuais","title":"Heran\u00e7a"},{"location":"TagtextEditor/#caracteristicas","text":"Al\u00e9m das caracter\u00edsticas herdadas, a tag textEditor tamb\u00e9m possui as seguintes caracter\u00edsticas:","title":"Caracter\u00edsticas"},{"location":"TagtextEditor/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o readOnly Boolean false Quando true, o textEditor n\u00e3o permite o usu\u00e1rio alterar seu conte\u00fado (somente leitura). field String \\<string vazio> Caminho de um campo no NodeDatabase. Quando associado, o textEditor passa a apresentar e salvar o conte\u00fado no campo informado. Veja tamb\u00e9m: Lua Form e NodeDatabase NodeDatabase transparent Boolean false Quando True, as bordas e o fundo do textEditor n\u00e3o ser\u00e3o exibidas, mostrando apenas o texto conte\u00fado e o cursor de digita\u00e7\u00e3o.","title":"Propriedades e atributos"},{"location":"TagtextEditor/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onChange Este evento \u00e9 invocado quando o conte\u00fado do textEditor \u00e9 alterado. Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"TagtextEditor/#exemplos","text":"","title":"Exemplos:"},{"location":"TagtextEditor/#exemplo-1-um-texteditor-simples","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<textEditor left=\"10\" top=\"10\" width=\"150\" height=\"250\" text=\"Este \u00e9 um textEditor\\n\\ncom multiplas linhas\" /> \\</form> Created with the Personal Edition of HelpNDoc: HelpNDoc's Project Analyzer: Incredible documentation assistant","title":"Exemplo 1 - Um textEditor simples"},{"location":"Tagtimer/","text":"Tag timer Tag timer A tag timer representa um componente n\u00e3o visual (n\u00e3o \u00e9 exibido na interface) que executa determinado c\u00f3digo LUA de tempo em tempo. Caracter\u00edsticas Propriedades e atributos Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<string vazio> Define um nome para a componente. O nome deve ser \u00fanico, isto \u00e9, dentro de um form , n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA. interval Integer 1000 Intervalo, medido em milisegundos, de quando em quando o evento onTimer ser\u00e1 disparado. 1000 = 1 segundo 500 = 0,5s 10000 = 10 segundos enabled Boolean true Quando true, o evento onTimer ser\u00e1 disparado de acordo com o atributo interval. Quando false, o evento onTimer n\u00e3o ser\u00e1 disparado. Eventos Nome do evento Descri\u00e7\u00e3o onTimer Este evento \u00e9 invocado de tempos em tempos, de acordo com o valor da propriedade \"interval\". Veja Tratando eventos do Lua Form Exemplos Exemplo 1 - Um label \"piscando\" \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<timer interval=\"500\" onTimer=\"self.labMeuLabel.visible = not self.labMeuLabel.visible;\" /> \\<label name=\"labMeuLabel\" align=\"client\" horzTextAlign=\"center\" text=\"Ol\u00e1!\" /> \\</form> Veja Tratando eventos do Lua Form \\ Created with the Personal Edition of HelpNDoc: Full-featured multi-format Help generator","title":"Tag timer"},{"location":"Tagtimer/#tag-timer","text":"","title":"Tag timer"},{"location":"Tagtimer/#tag-timer_1","text":"A tag timer representa um componente n\u00e3o visual (n\u00e3o \u00e9 exibido na interface) que executa determinado c\u00f3digo LUA de tempo em tempo.","title":"Tag timer"},{"location":"Tagtimer/#caracteristicas","text":"","title":"Caracter\u00edsticas"},{"location":"Tagtimer/#propriedades-e-atributos","text":"Propriedade Tipo Valor Padr\u00e3o Descri\u00e7\u00e3o name String \\<string vazio> Define um nome para a componente. O nome deve ser \u00fanico, isto \u00e9, dentro de um form , n\u00e3o \u00e9 poss\u00edvel existir 2 controles com o mesmo nome. Se n\u00e3o for definido um nome para o controle no arquivo LFM, um nome \u00fanico ser\u00e1 gerado para ele em tempo de compila\u00e7\u00e3o. Nomear controles \u00e9 especialmente \u00fatil quando se quer trabalhar com c\u00f3digos LUA. interval Integer 1000 Intervalo, medido em milisegundos, de quando em quando o evento onTimer ser\u00e1 disparado. 1000 = 1 segundo 500 = 0,5s 10000 = 10 segundos enabled Boolean true Quando true, o evento onTimer ser\u00e1 disparado de acordo com o atributo interval. Quando false, o evento onTimer n\u00e3o ser\u00e1 disparado.","title":"Propriedades e atributos"},{"location":"Tagtimer/#eventos","text":"Nome do evento Descri\u00e7\u00e3o onTimer Este evento \u00e9 invocado de tempos em tempos, de acordo com o valor da propriedade \"interval\". Veja Tratando eventos do Lua Form","title":"Eventos"},{"location":"Tagtimer/#exemplos","text":"","title":"Exemplos"},{"location":"Tagtimer/#exemplo-1-um-label-piscando","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<timer interval=\"500\" onTimer=\"self.labMeuLabel.visible = not self.labMeuLabel.visible;\" /> \\<label name=\"labMeuLabel\" align=\"client\" horzTextAlign=\"center\" text=\"Ol\u00e1!\" /> \\</form> Veja Tratando eventos do Lua Form \\ Created with the Personal Edition of HelpNDoc: Full-featured multi-format Help generator","title":"Exemplo 1 - Um label \"piscando\""},{"location":"Testandooprojetodeplugin/","text":"Testando o projeto de plug-in Testando o projeto de plug-in Para testar seu projeto de plug-in, ele deve ser compilado e instalado no RRPG. Siga estes passos: Abra o prompt de comando. Navegue pelo prompt at\u00e9 a pasta do projeto de plug-in. Execute o comando \u201crdk i\u201d, sem as aspas, dentro da pasta para compilar e instalar o projeto de plug-in. Teste seu plug-in no RRPG Firecast. Observa\u00e7\u00f5es: O comando \u201crdk i\u201d n\u00e3o instala o plug-in caso encontre algum erro no projeto. Se o RRPG Firecast estiver em execu\u00e7\u00e3o, o comando \u201crdk i\u201d automaticamente descarrega o plug-in, instala a nova vers\u00e3o e recarrega o plug-in. Se o RRPG Firecast estiver fechado, o comando \u201crdk i\u201d realiza uma instala\u00e7\u00e3o \u201coff-line\u201d e a nova vers\u00e3o ser\u00e1 carregada quando o RRPG Firecast executar. Exemplo passo a passo: Abrindo o prompt de comando:\\ \\ \\ Navegando pelo prompt at\u00e9 a pasta do projeto de plug-in:\\ \\ \\ Executando o comando \"rdk i\" \\ Veja tamb\u00e9m Comando \u201crdk i\u201d . Created with the Personal Edition of HelpNDoc: Experience the power of a responsive website for your documentation","title":"Testando o projeto de plug-in"},{"location":"Testandooprojetodeplugin/#testando-o-projeto-de-plug-in","text":"","title":"Testando o projeto de plug-in"},{"location":"Testandooprojetodeplugin/#testando-o-projeto-de-plug-in_1","text":"Para testar seu projeto de plug-in, ele deve ser compilado e instalado no RRPG. Siga estes passos: Abra o prompt de comando. Navegue pelo prompt at\u00e9 a pasta do projeto de plug-in. Execute o comando \u201crdk i\u201d, sem as aspas, dentro da pasta para compilar e instalar o projeto de plug-in. Teste seu plug-in no RRPG Firecast. Observa\u00e7\u00f5es: O comando \u201crdk i\u201d n\u00e3o instala o plug-in caso encontre algum erro no projeto. Se o RRPG Firecast estiver em execu\u00e7\u00e3o, o comando \u201crdk i\u201d automaticamente descarrega o plug-in, instala a nova vers\u00e3o e recarrega o plug-in. Se o RRPG Firecast estiver fechado, o comando \u201crdk i\u201d realiza uma instala\u00e7\u00e3o \u201coff-line\u201d e a nova vers\u00e3o ser\u00e1 carregada quando o RRPG Firecast executar.","title":"Testando o projeto de plug-in"},{"location":"Testandooprojetodeplugin/#exemplo-passo-a-passo","text":"Abrindo o prompt de comando:\\ \\ \\ Navegando pelo prompt at\u00e9 a pasta do projeto de plug-in:\\ \\ \\ Executando o comando \"rdk i\" \\","title":"Exemplo passo a passo:"},{"location":"Testandooprojetodeplugin/#veja-tambem","text":"Comando \u201crdk i\u201d . Created with the Personal Edition of HelpNDoc: Experience the power of a responsive website for your documentation","title":"Veja tamb\u00e9m"},{"location":"TratandoeventosdoLuaForm/","text":"Tratando eventos do Lua Form Eventos do Lua Form Um evento \u00e9 um acontecimento espec\u00edfico de alguma tag. \u00c9 poss\u00edvel definir c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA ) que ser\u00e3o executados toda vez que determinado evento ocorrer em uma tag! A maioria das tags/controles do Lua Form disparam eventos, mas cada uma possui seu pr\u00f3prio conjunto de eventos. Voc\u00ea deve consultar a documenta\u00e7\u00e3o! Manipulando eventos Existem duas maneiras de manipular eventos do Lua Form: Associando uma \u00fanica linha de c\u00f3digo ao evento; Usando a tag event para associar v\u00e1rias linhas de c\u00f3digos ao evento. Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form Modo 1 - Associando uma \u00fanica linha de c\u00f3digo ao evento. Esta \u00e9 a forma mais simples de manipular eventos, por\u00e9m n\u00e3o \u00e9 poss\u00edvel associar um c\u00f3digo de mais de 1 linha aos eventos por este modo. Dado um evento de nome NOME_EVENTO de uma tag de nome NOME_TAG, voc\u00ea pode associar um c\u00f3digo Lua assim: \\<NOME_TAG NOME_EVENTO=\"\\<CODIGO_LUA_DE_UMA_LINHA>\"/> Modo 1, Exemplo 1 - OnClick de button A tag button possui o evento \"onClick\". \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\"\"> \\<button text=\"Meu Bot\u00e3o\" onClick=\"showMessage('Cliquei no bot\u00e3o');\" /> \\</form> Modo 1, Exemplo 2 - OnMouseEnter e OnMouseLeave de button \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button name=\"btnMeuBotao\" text=\"Meu Bot\u00e3o\" left=\"20\" top=\"20\" width=\"200\" onMouseEnter=\"self.btnMeuBotao.text = 'Mouse dentro do bot\u00e3o'\" onMouseLeave=\"self.btnMeuBotao.text = 'Meu Bot\u00e3o'\" /> \\</form> ----> ----> Modo 1, Exemplo 3 - Definindo fun\u00e7\u00e3o e a chamando no evento OnClick de button \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> local function exibirMensagem() local texto = \"\"; for i = 1, 5, 1 do texto = texto .. \"Linha \" .. i .. \"\\n\"; end; showMessage(texto); end; \\</script> \\<button name=\"btnMeuBotao\" text=\"Meu Bot\u00e3o\" onClick=\"exibirMensagem()\" /> \\</form> Foi usada a Tag script neste exemplo. Modo 2 - Usando a tag event para manipular eventos. Saiba como usar a tag event e exemplos em: Tag event. Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework","title":"Tratando eventos do Lua Form"},{"location":"TratandoeventosdoLuaForm/#tratando-eventos-do-lua-form","text":"","title":"Tratando eventos do Lua Form"},{"location":"TratandoeventosdoLuaForm/#eventos-do-lua-form","text":"Um evento \u00e9 um acontecimento espec\u00edfico de alguma tag. \u00c9 poss\u00edvel definir c\u00f3digos LUA (veja A linguagem de programa\u00e7\u00e3o LUA ) que ser\u00e3o executados toda vez que determinado evento ocorrer em uma tag! A maioria das tags/controles do Lua Form disparam eventos, mas cada uma possui seu pr\u00f3prio conjunto de eventos. Voc\u00ea deve consultar a documenta\u00e7\u00e3o!","title":"Eventos do Lua Form"},{"location":"TratandoeventosdoLuaForm/#manipulando-eventos","text":"Existem duas maneiras de manipular eventos do Lua Form: Associando uma \u00fanica linha de c\u00f3digo ao evento; Usando a tag event para associar v\u00e1rias linhas de c\u00f3digos ao evento. Importante : N\u00e3o deixe de ler as Orienta\u00e7\u00f5es ao usar c\u00f3digo LUA em um Lua Form","title":"Manipulando eventos"},{"location":"TratandoeventosdoLuaForm/#modo-1-associando-uma-unica-linha-de-codigo-ao-evento","text":"Esta \u00e9 a forma mais simples de manipular eventos, por\u00e9m n\u00e3o \u00e9 poss\u00edvel associar um c\u00f3digo de mais de 1 linha aos eventos por este modo. Dado um evento de nome NOME_EVENTO de uma tag de nome NOME_TAG, voc\u00ea pode associar um c\u00f3digo Lua assim: \\<NOME_TAG NOME_EVENTO=\"\\<CODIGO_LUA_DE_UMA_LINHA>\"/>","title":"Modo 1 - Associando uma \u00fanica linha de c\u00f3digo ao evento."},{"location":"TratandoeventosdoLuaForm/#modo-1-exemplo-1-onclick-de-button","text":"A tag button possui o evento \"onClick\". \\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\"\"> \\<button text=\"Meu Bot\u00e3o\" onClick=\"showMessage('Cliquei no bot\u00e3o');\" /> \\</form>","title":"Modo 1, Exemplo 1 - OnClick de button"},{"location":"TratandoeventosdoLuaForm/#modo-1-exemplo-2-onmouseenter-e-onmouseleave-de-button","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<button name=\"btnMeuBotao\" text=\"Meu Bot\u00e3o\" left=\"20\" top=\"20\" width=\"200\" onMouseEnter=\"self.btnMeuBotao.text = 'Mouse dentro do bot\u00e3o'\" onMouseLeave=\"self.btnMeuBotao.text = 'Meu Bot\u00e3o'\" /> \\</form> ----> ---->","title":"Modo 1, Exemplo 2 - OnMouseEnter e OnMouseLeave de button"},{"location":"TratandoeventosdoLuaForm/#modo-1-exemplo-3-definindo-funcao-e-a-chamando-no-evento-onclick-de-button","text":"\\<?xml version=\"1.0\" encoding=\"UTF-8\" ?> \\<form name=\"frmFichaTeste\" > \\<script> local function exibirMensagem() local texto = \"\"; for i = 1, 5, 1 do texto = texto .. \"Linha \" .. i .. \"\\n\"; end; showMessage(texto); end; \\</script> \\<button name=\"btnMeuBotao\" text=\"Meu Bot\u00e3o\" onClick=\"exibirMensagem()\" /> \\</form> Foi usada a Tag script neste exemplo.","title":"Modo 1, Exemplo 3 - Definindo fun\u00e7\u00e3o e a chamando no evento OnClick de button"},{"location":"TratandoeventosdoLuaForm/#modo-2-usando-a-tag-event-para-manipular-eventos","text":"Saiba como usar a tag event e exemplos em: Tag event. Created with the Personal Edition of HelpNDoc: Create help files for the Qt Help Framework","title":"Modo 2 - Usando a tag event para manipular eventos."},{"location":"Tutoriais/","text":"Tutoriais Tutoriais: Como criar um modelo de ficha \u00e0 partir de um PDF edit\u00e1vel. Criar campos calculados em fichas Criar abas para a ficha Permitir o usu\u00e1rio escolher uma imagem dentro da ficha Criar uma lista din\u00e2mica na ficha Fazer uma ficha enviar rolagens para a mesa Criar uma lista din\u00e2mica + painel de detalhes Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios Criar uma janela acopl\u00e1vel de mesa Criando um plug-in para v\u00e1rios idiomas Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook","title":"Tutoriais"},{"location":"Tutoriais/#tutoriais","text":"","title":"Tutoriais"},{"location":"Tutoriais/#tutoriais_1","text":"Como criar um modelo de ficha \u00e0 partir de um PDF edit\u00e1vel. Criar campos calculados em fichas Criar abas para a ficha Permitir o usu\u00e1rio escolher uma imagem dentro da ficha Criar uma lista din\u00e2mica na ficha Fazer uma ficha enviar rolagens para a mesa Criar uma lista din\u00e2mica + painel de detalhes Criar um bot\u00e3o que esconde itens de uma lista din\u00e2mica de alguns usu\u00e1rios Criar uma janela acopl\u00e1vel de mesa Criando um plug-in para v\u00e1rios idiomas Created with the Personal Edition of HelpNDoc: Maximize Your Reach: Convert Your Word Document to an ePub or Kindle eBook","title":"Tutoriais:"},{"location":"VisaogeraldaSceneLib/","text":"Vis\u00e3o geral da SceneLib \\< A Escrever .... > Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports","title":"Vis\u00e3o geral da SceneLib"},{"location":"VisaogeraldaSceneLib/#visao-geral-da-scenelib","text":"\\< A Escrever .... > Created with the Personal Edition of HelpNDoc: Ensure High-Quality Documentation with HelpNDoc's Hyperlink and Library Item Reports","title":"Vis\u00e3o geral da SceneLib"},{"location":"comandordkc/","text":"comando \"rdk c\" Este comando compila o diret\u00f3rio corrente e empacota todo o conte\u00fado em um \u00fanico arquivo de extens\u00e3o \u2018.rpk\u2019 em \u201c\\<DiretorioCorrente>\\output\\\\<NomeDoModulo>.rpk\u201d Observa\u00e7\u00f5es: O comando percorre todos os arquivos de extens\u00e3o \u201clfm\u201d e gera arquivos de extens\u00e3o \u201clua\u201d equivalentes. O comando realiza valida\u00e7\u00f5es antes de empacotar o conte\u00fado do diret\u00f3rio, como: O arquivo \u201cmodule.xml\u201d deve existir e estar preenchido corretamente ( O arquivo \u201cmodule.xml\u201d ) . Os arquivos de extens\u00e3o \u201clua\u201d devem estar sintaticamente corretos. Os arquivos de extens\u00e3o \u201clfm\u201d devem estar sintaticamente corretos, e possuir tags e atributos v\u00e1lidos. Os arquivos e subdiret\u00f3rios de nomes iniciados com dois underlines (\u201c__\u201d) e o diret\u00f3rio \u201coutput\u201d s\u00e3o ignorados por este comando. Created with the Personal Edition of HelpNDoc: Transform Your CHM Help File Creation Process with HelpNDoc","title":"comando \"rdk c\""},{"location":"comandordkc/#comando-rdk-c","text":"Este comando compila o diret\u00f3rio corrente e empacota todo o conte\u00fado em um \u00fanico arquivo de extens\u00e3o \u2018.rpk\u2019 em \u201c\\<DiretorioCorrente>\\output\\\\<NomeDoModulo>.rpk\u201d Observa\u00e7\u00f5es: O comando percorre todos os arquivos de extens\u00e3o \u201clfm\u201d e gera arquivos de extens\u00e3o \u201clua\u201d equivalentes. O comando realiza valida\u00e7\u00f5es antes de empacotar o conte\u00fado do diret\u00f3rio, como: O arquivo \u201cmodule.xml\u201d deve existir e estar preenchido corretamente ( O arquivo \u201cmodule.xml\u201d ) . Os arquivos de extens\u00e3o \u201clua\u201d devem estar sintaticamente corretos. Os arquivos de extens\u00e3o \u201clfm\u201d devem estar sintaticamente corretos, e possuir tags e atributos v\u00e1lidos. Os arquivos e subdiret\u00f3rios de nomes iniciados com dois underlines (\u201c__\u201d) e o diret\u00f3rio \u201coutput\u201d s\u00e3o ignorados por este comando. Created with the Personal Edition of HelpNDoc: Transform Your CHM Help File Creation Process with HelpNDoc","title":"comando \"rdk c\""},{"location":"comandordki/","text":"comando \"rdk i\" Este comando compila o diret\u00f3rio corrente (ver Comando \u201crdk c\u201d ) e instala o plugin gerado. Observa\u00e7\u00f5es: Se for encontrado algum erro de valida\u00e7\u00e3o durante a compila\u00e7\u00e3o, o plug-in n\u00e3o \u00e9 instalado. Se o RRPG Firecast estiver em execu\u00e7\u00e3o, o comando \u201crdk i\u201d automaticamente descarrega o plug-in, instala a nova vers\u00e3o e recarrega o plug-in no RRPG Firecast. Se o RRPG Firecast estiver fechado, o comando \u201crdk i\u201d realiza uma instala\u00e7\u00e3o \u201coff-line\u201d e a nova vers\u00e3o ser\u00e1 carregada quando o RRPG Firecast for executado Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI","title":"comando \"rdk i\""},{"location":"comandordki/#comando-rdk-i","text":"Este comando compila o diret\u00f3rio corrente (ver Comando \u201crdk c\u201d ) e instala o plugin gerado. Observa\u00e7\u00f5es: Se for encontrado algum erro de valida\u00e7\u00e3o durante a compila\u00e7\u00e3o, o plug-in n\u00e3o \u00e9 instalado. Se o RRPG Firecast estiver em execu\u00e7\u00e3o, o comando \u201crdk i\u201d automaticamente descarrega o plug-in, instala a nova vers\u00e3o e recarrega o plug-in no RRPG Firecast. Se o RRPG Firecast estiver fechado, o comando \u201crdk i\u201d realiza uma instala\u00e7\u00e3o \u201coff-line\u201d e a nova vers\u00e3o ser\u00e1 carregada quando o RRPG Firecast for executado Created with the Personal Edition of HelpNDoc: Effortlessly Create Professional Documentation with HelpNDoc's Clean UI","title":"comando \"rdk i\""},{"location":"comandordklfm/","text":"comando \"rdk lfm\" rdk lfm \\<arquivo> Converte o arquivo informado para um Lua Form . Formatos aceitos: Arquivos .svg Arquivos .zip que cont\u00e9m arquivos .svg Se voc\u00ea deseja converter um .PDF para Lua Form, utilize a ferramenta \"rdk pdf\" para extrair o conte\u00fado do PDF como SVG antes =) Leia mais em: Criar um modelo de ficha \u00e0 partir de um PDF Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Review with HelpNDoc's Project Analyzer","title":"comando \"rdk lfm\""},{"location":"comandordklfm/#comando-rdk-lfm","text":"rdk lfm \\<arquivo> Converte o arquivo informado para um Lua Form . Formatos aceitos: Arquivos .svg Arquivos .zip que cont\u00e9m arquivos .svg Se voc\u00ea deseja converter um .PDF para Lua Form, utilize a ferramenta \"rdk pdf\" para extrair o conte\u00fado do PDF como SVG antes =) Leia mais em: Criar um modelo de ficha \u00e0 partir de um PDF Created with the Personal Edition of HelpNDoc: Revolutionize Your Documentation Review with HelpNDoc's Project Analyzer","title":"comando \"rdk lfm\""},{"location":"comandordkp/","text":"comando \"rdk p\" Este comando prepara o diret\u00f3rio corrente para o uso da ferramenta \u201crdk\u201d mais nova. Observa\u00e7\u00f5es: Quando baixar uma nova vers\u00e3o do SDK 3, voc\u00ea deve executar este comando em cada um do seus projetos de plug-ins a fim de atualiz\u00e1-los. Voc\u00ea pode preparar um diret\u00f3rio mais de uma vez sem causar nenhum problema. Este comando cria/atualiza o arquivo \u201cmodule.xml\u201d ( O arquivo \u201cmodule.xml\u201d ) . Created with the Personal Edition of HelpNDoc: Effortlessly optimize your documentation website for search engines","title":"comando \"rdk p\""},{"location":"comandordkp/#comando-rdk-p","text":"Este comando prepara o diret\u00f3rio corrente para o uso da ferramenta \u201crdk\u201d mais nova. Observa\u00e7\u00f5es: Quando baixar uma nova vers\u00e3o do SDK 3, voc\u00ea deve executar este comando em cada um do seus projetos de plug-ins a fim de atualiz\u00e1-los. Voc\u00ea pode preparar um diret\u00f3rio mais de uma vez sem causar nenhum problema. Este comando cria/atualiza o arquivo \u201cmodule.xml\u201d ( O arquivo \u201cmodule.xml\u201d ) . Created with the Personal Edition of HelpNDoc: Effortlessly optimize your documentation website for search engines","title":"comando \"rdk p\""},{"location":"comandordkpdf/","text":"comando \"rdk pdf\" Este comando abre uma ferramenta que converte arquivos no formato .PDF para o formato .SVG. Esta ferramenta funciona no navegador de internet. Ap\u00f3s a convers\u00e3o, voc\u00ea poder\u00e1 utilizar o comando \" rdk lfm \" para converter o conte\u00fado do .pdf para um Lua Form Leia mais em: Criar um modelo de ficha \u00e0 partir de um PDF Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool","title":"comando \"rdk pdf\""},{"location":"comandordkpdf/#comando-rdk-pdf","text":"Este comando abre uma ferramenta que converte arquivos no formato .PDF para o formato .SVG. Esta ferramenta funciona no navegador de internet. Ap\u00f3s a convers\u00e3o, voc\u00ea poder\u00e1 utilizar o comando \" rdk lfm \" para converter o conte\u00fado do .pdf para um Lua Form Leia mais em: Criar um modelo de ficha \u00e0 partir de um PDF Created with the Personal Edition of HelpNDoc: Say Goodbye to Documentation Headaches with a Help Authoring Tool","title":"comando \"rdk pdf\""}]}