<!DOCTYPE html>
<html lang="en">
	<head>
		
		
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		
		
		<link rel="shortcut icon" href="../img/favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<title>Arrastando e Soltando Informações / Drag And Drop - Firecast Documentation</title>
		<link href="../bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/font-awesome-5.12.2-all.min.css" rel="stylesheet">
		<link href="../css/base.css" rel="stylesheet">
		<link rel="stylesheet" href="../css/highlight-github.css">
		<script src="../bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="../js/highlight.pack.js"></script>
		
		<script>
			var base_url = '..';
			var home_url = '../home';
			var is_outer_page = false;
			
			var pageToc = [
				{title: "Arrastando e Soltando Informa\u00e7\u00f5es / Drag And Drop", url: "#_top", children: [
				]},
				{title: "Arrastando e Soltando informa\u00e7\u00f5es / Drag and Drop", url: "#arrastando-e-soltando-informacoes-drag-and-drop_1", children: [
				]},
				{title: "Fluxo de acontecimento", url: "#fluxo-de-acontecimento", children: [
				]},
				{title: "Informa\u00e7\u00f5es e A\u00e7\u00f5es em uma opera\u00e7\u00e3o drag-and-drop", url: "#informacoes-e-acoes-em-uma-operacao-drag-and-drop", children: [
						
				{title: "DataTypes padr\u00f5es do Firecast", url: "#_top", children: [
				]},
				]},
				{title: "Exemplos", url: "#exemplos", children: [
						
				{title: "Exemplo 1 - Arrastando um texto de um Label", url: "#_top", children: [
				]},
				{title: "Exemplo 2 - Arrastando uma imagem e um texto de um Label", url: "#exemplo-2-arrastando-uma-imagem-e-um-texto-de-um-label", children: [
				]},
				{title: "Exemplo 3 - Um controle que captura arraste de imagens.", url: "#exemplo-3-um-controle-que-captura-arraste-de-imagens", children: [
				]},
				{title: "Exemplo 4 - Um controle que captura arraste de Jogadores.", url: "#exemplo-4-um-controle-que-captura-arraste-de-jogadores", children: [
				]},
				{title: "Exemplo 5 - Arrastando uma a\u00e7\u00e3o \u00e0 partir de um bot\u00e3o", url: "#exemplo-5-arrastando-uma-acao-a-partir-de-um-botao", children: [
				]},
				]},
			];

		</script>
		<script src="../js/base.js"></script> 
	</head>

	<body class="inner-page">
		

		<div class="container-fluid wm-page-content">
			<a name="_top" aria-hidden="true"></a>
			






<div class="row pt-2 pb-4">
	<div class="col-sm text-center text-sm-left">
		<a href="../NodeDatabase/" class="btn btn-sm btn-outline-dark">
			<i class="fa fa-chevron-left" aria-hidden="true"></i>
			Previous
		</a>
		<a href="../NodeDatabase/" class="btn btn-sm btn-link">
			NodeDatabase
		</a>
	</div>
	

	
	<div class="col-sm text-center text-sm-right">
		<a href="../PosicaoeTamanhodosControles/" class="btn btn-sm btn-link">
			Posição e Tamanho dos Controles
		</a>
		<a href="../PosicaoeTamanhodosControles/" class="btn btn-sm btn-outline-dark">
			Next
			<i class="fa fa-chevron-right" aria-hidden="true"></i>
		</a>
	</div>
	
</div>

			

			<h1 id="arrastando-e-soltando-informacoes-drag-and-drop">Arrastando e Soltando Informações / Drag And Drop</h1>
<h1 id="arrastando-e-soltando-informacoes-drag-and-drop_1">Arrastando e Soltando informações / Drag and Drop</h1>
<p>&nbsp;</p>
<p>Arrastar e Soltar, do inglês "Drag and Drop", é a ação de clicar em um objeto virtual e "arrastá-lo" a uma posição diferente ou sobre um outro objeto virtual. De maneira geral, ele pode ser usado para invocar diversos tipos de ações, ou criar vários tipos de associações entre dois objetos abstratos.</p>
<p>&nbsp;</p>
<p>A sequência básica de ações relacionadas ao drag-and-drop é:</p>
<ul>
<li>Clicar, e manter o botão do mouse apertado para "agarrar" o objeto,</li>
<li>"Arrastar" (drag) o objeto/cursor à posição ou localização desejada,</li>
<li>"Soltar" (drop) o objeto, soltando o botão pressionado.</li>
</ul>
<p>&nbsp;</p>
<h1 id="fluxo-de-acontecimento">Fluxo de acontecimento</h1>
<p>&nbsp;</p>
<p>No exemplo a seguir, o usuário iniciou o processo drag-and-drop agarrando o objeto preto (1 na figura), arrastando o mouse até o objeto vermelho (3 na figura) e soltando o botão.</p>
<p><img alt="Image" src="../lib/NewItem226.png" /></p>
<p>&nbsp;</p>
<p>O fluxo segue na seguinte ordem:</p>
<ul>
<li>O Usuário clica e mantêm o botão do mouse pressionado sobre o objeto 1 para iniciar um processo de drag-and-drop.</li>
<li>O Firecast, através do <a href="../Caracteristicasdetodasastagsvisu/#onStartDrag">evento onStartDrag</a> do objeto 1, pede para que o objeto 1 informe as informações que o usuário pode arrastar dele.</li>
<li>O Plugin SDK3, dentro da chamada do <a href="../Caracteristicasdetodasastagsvisu/#onStartDrag">evento onStartDrag</a>, informa ao Firecast o que o usuário pode arrastar do objeto 1. Os dados são adicionados a um <a href="../ObjetoDrag/">objeto Drag</a> (2 na figura) que o Firecast cria automaticamente para esta operação de drag-and-drop específica.</li>
<li>O Firecast interage com o usuário até que ele passe o mouse sobre uma área de Drop, isto é, de um objeto que aceite que operações drag-and-drop sejam "largadas" sobre ele. O objeto 3 possui uma área de drop.</li>
<li>O Firecast, através do <a href="../ObjetoDrop/">evento onStartDrop</a> do objeto 3, pede para que o objeto 3 informe o quais informações o usuário pode "largar" sobre ele.</li>
<li>O Plugin SDK3, dentro da chamada do <a href="../ObjetoDrop/">evento onStartDrop</a>, informa ao Firecast o que o usuário pode largar sobre o objeto 3. Os dados são adicionados a um <a href="../ObjetoDrop/">objeto Drop</a> que o Firecast cria automaticamente para receber estas informações.</li>
<li>O Firecast, com base nas informações do <a href="../ObjetoDrag/">objeto Drag</a> preenchidas pelo objeto 1 e nas informações do <a href="../ObjetoDrop/">objeto Drop</a> preenchidas pelo objeto 3, decide se a operação drag-and-drop pode acontecer. Se um não conseguir lidar com as informações do outro, a operação drag-and-drop não poderá ser concluída.</li>
<li>Caso a operação Drag-and-Drop puder ser finalizada, o Firecast chama a ação do objeto 3 ou objeto 1 que melhor puder lidar com esta operação.</li>
</ul>
<p>&nbsp;</p>
<h1 id="informacoes-e-acoes-em-uma-operacao-drag-and-drop">Informações e Ações em uma operação drag-and-drop</h1>
<p>&nbsp;</p>
<p>Para que uma operação Drag-And-Drop aconteça, é necessário haver ao menos uma informação e ao menos uma ação capaz de lidar com ela.&nbsp;</p>
<p>&nbsp;</p>
<p>Informações e ações podem existir tanto no <a href="../ObjetoDrag/">objeto Drag</a> quanto no <a href="../ObjetoDrop/">objeto Drop:</a>&nbsp;</p>
<ul>
<li>Informações existentes no <a href="../ObjetoDrag/">objeto Drag</a> são combinadas com ações existentes no <a href="../ObjetoDrop/">objeto Drop</a></li>
<li>Informações existentes no <a href="../ObjetoDrop/">objeto Drop</a> são combinadas com ações existentes no <a href="../ObjetoDrag/">objeto Drag</a></li>
</ul>
<p>&nbsp;</p>
<p>Informações e ações estão atreladas a um DataType, isto é, a uma cadeia de caracteres que define o tipo de dados que é arrastado.</p>
<p>&nbsp;</p>
<h2 id="datatypes-padroes-do-firecast">DataTypes padrões do Firecast</h2>
<p>O programador pode inventar qualquer DataType, porém existem os seguintes que são padrões do Firecast:</p>
<p>&nbsp;</p>
<table>
<thead>
<tr>
<th><strong>DataType padrão</strong></th>
<th><strong>Valor transportado</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>Uma cadeia de caracteres, um texto qualquer.&nbsp;</td>
</tr>
<tr>
<td>imageURL</td>
<td>Uma cadeia de caracteres que contém uma URL de uma imagem.&nbsp;</td>
</tr>
<tr>
<td>player</td>
<td>Um <a href="../ObjetoJogador/">objeto Jogador</a>&nbsp;</td>
</tr>
<tr>
<td>players</td>
<td>Array de <a href="../ObjetoJogador/">objeto Jogador</a>&nbsp;</td>
</tr>
<tr>
<td>character</td>
<td>Um <a href="../ObjetoPersonagem/">objeto Personagem</a>&nbsp;</td>
</tr>
<tr>
<td>characters</td>
<td>Array de <a href="../ObjetoPersonagem/">objeto Personagem</a>&nbsp;</td>
</tr>
<tr>
<td>libraryItem</td>
<td>Um <a href="../ObjetoBibliotecaItem/">objeto BibliotecaItem</a>&nbsp;</td>
</tr>
<tr>
<td>libraryItens</td>
<td>Array de <a href="../ObjetoBibliotecaItem/">objeto BibliotecaItem</a>&nbsp;</td>
</tr>
<tr>
<td>sceneUnitClass</td>
<td>Um <a href="../ObjetoSceneUnitClass/">objeto SceneUnitClass</a>&nbsp;</td>
</tr>
<tr>
<td>sceneUnitClasses</td>
<td>Array de <a href="../ObjetoSceneUnitClass/">objeto SceneUnitClass</a>&nbsp;</td>
</tr>
<tr>
<td>imageFile</td>
<td>A table containing the following attributes: name - String with the name of the file. mimeType - String with the MIME type of the image (examples: image/jpeg, image/png) stream - A read-only <a href="../ObjetoStream/">Stream object</a> containing the image file bytes.&nbsp;</td>
</tr>
<tr>
<td>imageFiles</td>
<td>An array of tables with the same structure as the "imageFile".</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>Observação: Ao utilizar os dataTypes padrões, o RRPG valida e exige que sejam transportados valores adequados conforme a tabela acima.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="exemplos">Exemplos</h1>
<p>&nbsp;</p>
<h2 id="exemplo-1-arrastando-um-texto-de-um-label">Exemplo 1 - Arrastando um texto de um Label</h2>
<p>Experimente arrastar o label para a caixa de digitação de mensagens e comandos do RRPG.</p>
<p>&nbsp;</p>
<table>
<thead>
<tr>
<th><strong>\&lt;label</strong> text="Me arraste!" top="150" hitTest="true"<strong>&gt;</strong>     <strong>\&lt;event</strong> name="OnStartDrag"<strong>&gt;</strong>         drag:addData("text", "Texto que será arrastado deste label!");     <strong>\&lt;/event&gt;</strong> <strong>\&lt;/label&gt;</strong>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 id="exemplo-2-arrastando-uma-imagem-e-um-texto-de-um-label">Exemplo 2 - Arrastando uma imagem e um texto de um Label</h2>
<p>Experimente arrastar o label para o log do chat do RRPG!</p>
<p>&nbsp;</p>
<table>
<thead>
<tr>
<th><strong>\&lt;label</strong> text="Me arraste!" top="150" hitTest="true"<strong>&gt;</strong>     <strong>\&lt;event</strong> name="OnStartDrag"<strong>&gt;</strong>         drag:addData("text", "Texto que será arrastado deste label!");         drag:addData("imageURL", "http://www.rrpg.com.br/wp-content/uploads/2013/05/cropped-Untitled-2.png");     <strong>\&lt;/event&gt;</strong> <strong>\&lt;/label&gt;</strong>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 id="exemplo-3-um-controle-que-captura-arraste-de-imagens">Exemplo 3 - Um controle que captura arraste de imagens.</h2>
<p>Arraste uma imagem do browser Chrome ou do jogador para este controle.</p>
<p>&nbsp;</p>
<table>
<thead>
<tr>
<th><strong>\&lt;rectangle</strong> left="150" top="150"            width="150" height="150"            strokeColor="yellow" strokeSize="1"            color="none"<strong>&gt;</strong>                 <strong>\&lt;image</strong> name="imgImagem" align="client" hitTest="true"<strong>&gt;</strong>         <strong>\&lt;event</strong> name="OnStartDrop"<strong>&gt;</strong>             drop:addAction("imageURL",                 function(value)                     self.imgImagem.src = value;                 end);         <strong>\&lt;/event&gt;</strong>     <strong>\&lt;/image&gt;</strong>     <strong>\&lt;/rectangle&gt;</strong>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 id="exemplo-4-um-controle-que-captura-arraste-de-jogadores">Exemplo 4 - Um controle que captura arraste de Jogadores.</h2>
<p>Arraste um jogador da mesa para este controle!</p>
<p>&nbsp;</p>
<table>
<thead>
<tr>
<th><strong>\&lt;rectangle</strong> left="150" top="150"            width="150" height="150"            strokeColor="yellow" strokeSize="1"            color="none"            hitTest="true"<strong>&gt;</strong>                 <strong>\&lt;event</strong> name="OnStartDrop"<strong>&gt;</strong>         drop:addAction("player",             function(value)                 showMessage("O login deste jogador é: " .. value.login);                   end);     <strong>\&lt;/event&gt;</strong>            <strong>\&lt;/rectangle&gt;</strong>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 id="exemplo-5-arrastando-uma-acao-a-partir-de-um-botao">Exemplo 5 - Arrastando uma ação à partir de um botão</h2>
<p>Arraste este botão para um jogador da mesa!</p>
<p>&nbsp;</p>
<table>
<thead>
<tr>
<th><strong>\&lt;button</strong> left="150" top="150" text="meArraste"<strong>&gt;</strong>     <strong>\&lt;event</strong> name="OnStartDrag"<strong>&gt;</strong>         drag:addAction("player",             function(destValue)                 showMessage("Você me arrastou para o jogador: " .. destValue.login);             end);     <strong>\&lt;/event&gt;</strong> <strong>\&lt;/button&gt;</strong>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<hr />
<p><em>Created with the Personal Edition of HelpNDoc: <a href="https://www.helpndoc.com/create-epub-ebooks">Generate EPub eBooks with ease</a></em></p>

			<br>
			






<div class="row pt-2 pb-4">
	<div class="col-sm text-center text-sm-left">
		<a href="../NodeDatabase/" class="btn btn-sm btn-outline-dark">
			<i class="fa fa-chevron-left" aria-hidden="true"></i>
			Previous
		</a>
		<a href="../NodeDatabase/" class="btn btn-sm btn-link">
			NodeDatabase
		</a>
	</div>
	

	
	<div class="col-sm text-center text-sm-right">
		<a href="../PosicaoeTamanhodosControles/" class="btn btn-sm btn-link">
			Posição e Tamanho dos Controles
		</a>
		<a href="../PosicaoeTamanhodosControles/" class="btn btn-sm btn-outline-dark">
			Next
			<i class="fa fa-chevron-right" aria-hidden="true"></i>
		</a>
	</div>
	
</div>

			<br>
		</div>

		<footer class="container-fluid wm-page-content text-center small">
			<p>
			<a href="https://github.com/Krampus-update/firecast-doc-test/edit/master/docs/ArrastandoeSoltandoInformacoesDr.md" target="_blank"><i class="fab fa-github"></i>
Edit on GitHub</a>
			</p>
			<details>
				<summary>
					Documentation built with <a href="http://www.mkdocs.org/" target="_blank">MkDocs</a> using  <a href="https://github.com/Siphalor/mkdocs-custommill" target="_blank">CustomMill</a>.
				</summary>
				<h6 class="mt-2">Additional Licenses</h6>
				<ul><li>
						CustomMill is based on the <a href="https://github.com/gristlabs/mkdocs-windmill" target="_blank">Windmill</a> theme by Grist Labs, licensed under the <a href="https://github.com/gristlabs/mkdocs-windmill/blob/master/LICENSE" target="_blank">MIT License</a>
					</li>
					<li>
						CustomMill includes <a href="https://getbootstrap.com" target="_blank">Bootstrap</a> version 5.1.3. This is available under the <a href="https://github.com/twbs/bootstrap/blob/master/LICENSE" target="_blank">MIT License</a>.
					</li>
					<li>
						Syntax highlighting is implemented via <a href="https://highlightjs.org" target="_blank">highlight.js</a> licensed under the BSD 3-Clause License and the included github styling made by Vasily Polovnyov.
					</li>
					<li>
						Icons on this site are from <a href="https://fontawesome.com/" target="_blank">Font Awesome</a> which is licensed under the <a href="https://fontawesome.com/license/free" target="_blank">Font Awesome Free License</a>.
					</li></ul>
				<p>Built at 2023-08-31 02:21:39 UTC</p>
			</details>
		</footer>

		
	</body>
</html>